(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{229:(gn,ht,O)=>{"use strict";O.d(ht,{BH:()=>et,DV:()=>zn,Dv:()=>Ci,G6:()=>oe,GJ:()=>Bt,L:()=>Ke,LL:()=>je,Pz:()=>qe,Sg:()=>Fe,UG:()=>we,UI:()=>lr,US:()=>re,Wj:()=>sr,Wl:()=>St,Yr:()=>Ze,ZB:()=>Qe,ZR:()=>Ve,aH:()=>De,b$:()=>nt,cI:()=>Ht,dS:()=>$r,eu:()=>K,g5:()=>J,gK:()=>Ir,gQ:()=>xn,h$:()=>We,hl:()=>Q,hu:()=>H,jU:()=>ye,lb:()=>br,m9:()=>Ui,ne:()=>ui,p$:()=>Te,pd:()=>cr,r3:()=>nn,ru:()=>ft,tV:()=>Ae,uI:()=>Re,ug:()=>ki,vZ:()=>In,w1:()=>rt,w9:()=>Nt,xO:()=>ci,xb:()=>Gn,z$:()=>me,zd:()=>Jn});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},H=function(at,pe){if(!at)throw J(pe)},J=function(at){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+at)},de=function(at){const pe=[];let se=0;for(let ke=0;ke<at.length;ke++){let le=at.charCodeAt(ke);le<128?pe[se++]=le:le<2048?(pe[se++]=le>>6|192,pe[se++]=63&le|128):55296==(64512&le)&&ke+1<at.length&&56320==(64512&at.charCodeAt(ke+1))?(le=65536+((1023&le)<<10)+(1023&at.charCodeAt(++ke)),pe[se++]=le>>18|240,pe[se++]=le>>12&63|128,pe[se++]=le>>6&63|128,pe[se++]=63&le|128):(pe[se++]=le>>12|224,pe[se++]=le>>6&63|128,pe[se++]=63&le|128)}return pe},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(at,pe){if(!Array.isArray(at))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,ke=[];for(let le=0;le<at.length;le+=3){const lt=at[le],xt=le+1<at.length,Yt=xt?at[le+1]:0,Wn=le+2<at.length,Xn=Wn?at[le+2]:0;let hr=(15&Yt)<<2|Xn>>6,wi=63&Xn;Wn||(wi=64,xt||(hr=64)),ke.push(se[lt>>2],se[(3&lt)<<4|Yt>>4],se[hr],se[wi])}return ke.join("")},encodeString(at,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(at):this.encodeByteArray(de(at),pe)},decodeString(at,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(at):function(at){const pe=[];let se=0,ke=0;for(;se<at.length;){const le=at[se++];if(le<128)pe[ke++]=String.fromCharCode(le);else if(le>191&&le<224){const lt=at[se++];pe[ke++]=String.fromCharCode((31&le)<<6|63&lt)}else if(le>239&&le<365){const Wn=((7&le)<<18|(63&at[se++])<<12|(63&at[se++])<<6|63&at[se++])-65536;pe[ke++]=String.fromCharCode(55296+(Wn>>10)),pe[ke++]=String.fromCharCode(56320+(1023&Wn))}else{const lt=at[se++],xt=at[se++];pe[ke++]=String.fromCharCode((15&le)<<12|(63&lt)<<6|63&xt)}}return pe.join("")}(this.decodeStringToByteArray(at,pe))},decodeStringToByteArray(at,pe){this.init_();const se=pe?this.charToByteMapWebSafe_:this.charToByteMap_,ke=[];for(let le=0;le<at.length;){const lt=se[at.charAt(le++)],Yt=le<at.length?se[at.charAt(le)]:0;++le;const Xn=le<at.length?se[at.charAt(le)]:64;++le;const kn=le<at.length?se[at.charAt(le)]:64;if(++le,null==lt||null==Yt||null==Xn||null==kn)throw new ge;ke.push(lt<<2|Yt>>4),64!==Xn&&(ke.push(Yt<<4&240|Xn>>2),64!==kn&&ke.push(Xn<<6&192|kn))}return ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let at=0;at<this.ENCODED_VALS.length;at++)this.byteToCharMap_[at]=this.ENCODED_VALS.charAt(at),this.charToByteMap_[this.byteToCharMap_[at]]=at,this.byteToCharMapWebSafe_[at]=this.ENCODED_VALS_WEBSAFE.charAt(at),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[at]]=at,at>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(at)]=at,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(at)]=at)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(at){const pe=de(at);return re.encodeByteArray(pe,!0)},Ke=function(at){return We(at).replace(/\./g,"")},Ae=function(at){try{return re.decodeString(at,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function Te(at){return Qe(void 0,at)}function Qe(at,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===at&&(at={});break;case Array:at=[];break;default:return pe}for(const se in pe)!pe.hasOwnProperty(se)||!ze(se)||(at[se]=Qe(at[se],pe[se]));return at}function ze(at){return"__proto__"!==at}const Je=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const at=process.env.__FIREBASE_DEFAULTS__;return at?JSON.parse(at):void 0})()||(()=>{if(typeof document>"u")return;let at;try{at=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=at&&Ae(at[1]);return pe&&JSON.parse(pe)})()}catch(at){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${at}`)}},De=()=>{var at;return null===(at=Je())||void 0===at?void 0:at.config},qe=at=>{var pe;return null===(pe=Je())||void 0===pe?void 0:pe[`_${at}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,se)=>{this.resolve=pe,this.reject=se})}wrapCallback(pe){return(se,ke)=>{se?this.reject(se):this.resolve(ke),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(se):pe(se,ke))}}}function Fe(at,pe){if(at.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ke=pe||"demo-project",le=at.iat||0,lt=at.sub||at.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const xt=Object.assign({iss:`https://securetoken.google.com/${ke}`,aud:ke,iat:le,exp:le+3600,auth_time:le,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},at);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(xt)),""].join(".")}function me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(me())}function we(){var at;const pe=null===(at=Je())||void 0===at?void 0:at.forceEnvironment;if("node"===pe)return!0;if("browser"===pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ye(){return"object"==typeof self&&self.self===self}function ft(){const at="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof at&&void 0!==at.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){const at=me();return at.indexOf("MSIE ")>=0||at.indexOf("Trident/")>=0}function Ze(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function oe(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function K(){return new Promise((at,pe)=>{try{let se=!0;const ke="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(ke);le.onsuccess=()=>{le.result.close(),se||self.indexedDB.deleteDatabase(ke),at(!0)},le.onupgradeneeded=()=>{se=!1},le.onerror=()=>{var lt;pe((null===(lt=le.error)||void 0===lt?void 0:lt.message)||"")}}catch(se){pe(se)}})}class Ve extends Error{constructor(pe,se,ke){super(se),this.code=pe,this.customData=ke,this.name="FirebaseError",Object.setPrototypeOf(this,Ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,je.prototype.create)}}class je{constructor(pe,se,ke){this.service=pe,this.serviceName=se,this.errors=ke}create(pe,...se){const ke=se[0]||{},le=`${this.service}/${pe}`,lt=this.errors[pe],xt=lt?function wt(at,pe){return at.replace(jt,(se,ke)=>{const le=pe[ke];return null!=le?String(le):`<${ke}?>`})}(lt,ke):"Error";return new Ve(le,`${this.serviceName}: ${xt} (${le}).`,ke)}}const jt=/\{\$([^}]+)}/g;function Ht(at){return JSON.parse(at)}function St(at){return JSON.stringify(at)}const mn=function(at){let pe={},se={},ke={},le="";try{const lt=at.split(".");pe=Ht(Ae(lt[0])||""),se=Ht(Ae(lt[1])||""),le=lt[2],ke=se.d||{},delete se.d}catch{}return{header:pe,claims:se,data:ke,signature:le}},Nt=function(at){const se=mn(at).claims;return!!se&&"object"==typeof se&&se.hasOwnProperty("iat")},Bt=function(at){const pe=mn(at).claims;return"object"==typeof pe&&!0===pe.admin};function nn(at,pe){return Object.prototype.hasOwnProperty.call(at,pe)}function zn(at,pe){if(Object.prototype.hasOwnProperty.call(at,pe))return at[pe]}function Gn(at){for(const pe in at)if(Object.prototype.hasOwnProperty.call(at,pe))return!1;return!0}function lr(at,pe,se){const ke={};for(const le in at)Object.prototype.hasOwnProperty.call(at,le)&&(ke[le]=pe.call(se,at[le],le,at));return ke}function In(at,pe){if(at===pe)return!0;const se=Object.keys(at),ke=Object.keys(pe);for(const le of se){if(!ke.includes(le))return!1;const lt=at[le],xt=pe[le];if(Qn(lt)&&Qn(xt)){if(!In(lt,xt))return!1}else if(lt!==xt)return!1}for(const le of ke)if(!se.includes(le))return!1;return!0}function Qn(at){return null!==at&&"object"==typeof at}function ci(at){const pe=[];for(const[se,ke]of Object.entries(at))Array.isArray(ke)?ke.forEach(le=>{pe.push(encodeURIComponent(se)+"="+encodeURIComponent(le))}):pe.push(encodeURIComponent(se)+"="+encodeURIComponent(ke));return pe.length?"&"+pe.join("&"):""}function Jn(at){const pe={};return at.replace(/^\?/,"").split("&").forEach(ke=>{if(ke){const[le,lt]=ke.split("=");pe[decodeURIComponent(le)]=decodeURIComponent(lt)}}),pe}function cr(at){const pe=at.indexOf("?");if(!pe)return"";const se=at.indexOf("#",pe);return at.substring(pe,se>0?se:void 0)}class xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let pe=1;pe<this.blockSize;++pe)this.pad_[pe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(pe,se){se||(se=0);const ke=this.W_;if("string"==typeof pe)for(let kn=0;kn<16;kn++)ke[kn]=pe.charCodeAt(se)<<24|pe.charCodeAt(se+1)<<16|pe.charCodeAt(se+2)<<8|pe.charCodeAt(se+3),se+=4;else for(let kn=0;kn<16;kn++)ke[kn]=pe[se]<<24|pe[se+1]<<16|pe[se+2]<<8|pe[se+3],se+=4;for(let kn=16;kn<80;kn++){const hr=ke[kn-3]^ke[kn-8]^ke[kn-14]^ke[kn-16];ke[kn]=4294967295&(hr<<1|hr>>>31)}let Xn,mr,le=this.chain_[0],lt=this.chain_[1],xt=this.chain_[2],Yt=this.chain_[3],Wn=this.chain_[4];for(let kn=0;kn<80;kn++){kn<40?kn<20?(Xn=Yt^lt&(xt^Yt),mr=1518500249):(Xn=lt^xt^Yt,mr=1859775393):kn<60?(Xn=lt&xt|Yt&(lt|xt),mr=2400959708):(Xn=lt^xt^Yt,mr=3395469782);const hr=(le<<5|le>>>27)+Xn+Wn+mr+ke[kn]&4294967295;Wn=Yt,Yt=xt,xt=4294967295&(lt<<30|lt>>>2),lt=le,le=hr}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+lt&4294967295,this.chain_[2]=this.chain_[2]+xt&4294967295,this.chain_[3]=this.chain_[3]+Yt&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295}update(pe,se){if(null==pe)return;void 0===se&&(se=pe.length);const ke=se-this.blockSize;let le=0;const lt=this.buf_;let xt=this.inbuf_;for(;le<se;){if(0===xt)for(;le<=ke;)this.compress_(pe,le),le+=this.blockSize;if("string"==typeof pe){for(;le<se;)if(lt[xt]=pe.charCodeAt(le),++xt,++le,xt===this.blockSize){this.compress_(lt),xt=0;break}}else for(;le<se;)if(lt[xt]=pe[le],++xt,++le,xt===this.blockSize){this.compress_(lt),xt=0;break}}this.inbuf_=xt,this.total_+=se}digest(){const pe=[];let se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&se,se/=256;this.compress_(this.buf_);let ke=0;for(let le=0;le<5;le++)for(let lt=24;lt>=0;lt-=8)pe[ke]=this.chain_[le]>>lt&255,++ke;return pe}}function ui(at,pe){const se=new qr(at,pe);return se.subscribe.bind(se)}class qr{constructor(pe,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{pe(this)}).catch(ke=>{this.error(ke)})}next(pe){this.forEachObserver(se=>{se.next(pe)})}error(pe){this.forEachObserver(se=>{se.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,se,ke){let le;if(void 0===pe&&void 0===se&&void 0===ke)throw new Error("Missing Observer.");le=function Xr(at,pe){if("object"!=typeof at||null===at)return!1;for(const se of pe)if(se in at&&"function"==typeof at[se])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:se,complete:ke},void 0===le.next&&(le.next=ir),void 0===le.error&&(le.error=ir),void 0===le.complete&&(le.complete=ir);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),lt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,pe)}sendOne(pe,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{se(this.observers[pe])}catch(ke){typeof console<"u"&&console.error&&console.error(ke)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}const Ci=function(at,pe,se,ke){let le;if(ke<pe?le="at least "+pe:ke>se&&(le=0===se?"none":"no more than "+se),le)throw new Error(at+" failed: Was called with "+ke+(1===ke?" argument.":" arguments.")+" Expects "+le+".")};function Ir(at,pe){return`${at} failed: ${pe} argument `}function sr(at,pe,se,ke){if((!ke||se)&&"function"!=typeof se)throw new Error(Ir(at,pe)+"must be a valid function.")}function br(at,pe,se,ke){if((!ke||se)&&("object"!=typeof se||null===se))throw new Error(Ir(at,pe)+"must be a valid context object.")}const $r=function(at){const pe=[];let se=0;for(let ke=0;ke<at.length;ke++){let le=at.charCodeAt(ke);if(le>=55296&&le<=56319){const lt=le-55296;ke++,H(ke<at.length,"Surrogate pair missing trail surrogate."),le=65536+(lt<<10)+(at.charCodeAt(ke)-56320)}le<128?pe[se++]=le:le<2048?(pe[se++]=le>>6|192,pe[se++]=63&le|128):le<65536?(pe[se++]=le>>12|224,pe[se++]=le>>6&63|128,pe[se++]=63&le|128):(pe[se++]=le>>18|240,pe[se++]=le>>12&63|128,pe[se++]=le>>6&63|128,pe[se++]=63&le|128)}return pe},ki=function(at){let pe=0;for(let se=0;se<at.length;se++){const ke=at.charCodeAt(se);ke<128?pe++:ke<2048?pe+=2:ke>=55296&&ke<=56319?(pe+=4,se++):pe+=3}return pe};function Ui(at){return at&&at._delegate?at._delegate:at}},7382:(gn,ht,O)=>{"use strict";O.d(ht,{X:()=>It});var d=O(7582),J=O(5592),de=O(2438),xe={error:"cordova_not_available"},re={error:"plugin_not_installed"};function ge(Ze){if(typeof window<"u"&&window.angular){var Q=window.document,K=window.angular.element(Q.querySelector("[ng-app]")||Q.body).injector();if(K)return K.get("$q")(function(he,Ve){Ze(he,Ve)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(he,Ve){Ze(he,Ve)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Qe(Ze,oe,Q){var K,ie;"string"==typeof Ze?K=Ze:(K=Ze.constructor.getPluginRef(),Q=Ze.constructor.getPluginName(),ie=Ze.constructor.getPluginInstallName());var he=Xe(K);return!(!he||oe&&typeof he[oe]>"u")||(typeof window>"u"||!window.cordova?(function Dt(Ze,oe){typeof process>"u"&&console.warn(oe?"Native: tried calling "+Ze+"."+oe+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Ze+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Q,oe),xe):(function ot(Ze,oe,Q){console.warn(Q?"Native: tried calling "+Ze+"."+Q+", but the "+Ze+" plugin is not installed.":"Native: tried accessing the "+Ze+" plugin but it's not installed."),oe&&console.warn("Install the "+Ze+" plugin: 'ionic cordova plugin add "+oe+"'")}(Q,ie,oe),re))}function Ge(Ze,oe,Q,K,ie,he){void 0===K&&(K={}),Q=function He(Ze,oe,Q,K){if(void 0===oe&&(oe={}),oe.sync)return Ze;if("reverse"===oe.callbackOrder)Ze.unshift(K),Ze.unshift(Q);else if("node"===oe.callbackStyle)Ze.push(function(je,wt){je?K(je):Q(wt)});else if("object"===oe.callbackStyle&&oe.successName&&oe.errorName){var ie={};ie[oe.successName]=Q,ie[oe.errorName]=K,Ze.push(ie)}else if(typeof oe.successIndex<"u"||typeof oe.errorIndex<"u"){var he=function(){oe.successIndex>Ze.length?Ze[oe.successIndex]=Q:Ze.splice(oe.successIndex,0,Q)},Ve=function(){oe.errorIndex>Ze.length?Ze[oe.errorIndex]=K:Ze.splice(oe.errorIndex,0,K)};oe.successIndex>oe.errorIndex?(Ve(),he()):(he(),Ve())}else Ze.push(Q),Ze.push(K);return Ze}(Q,K,ie,he);var Ve=Qe(Ze,oe);if(!0===Ve){var je=Xe(Ze.constructor.getPluginRef());return je[oe].apply(je,Q)}return Ve}function Xe(Ze){return typeof window<"u"?Je(window,Ze):null}function Je(Ze,oe){for(var Q=oe.split("."),K=Ze,ie=0;ie<Q.length;ie++){if(!K)return null;K=K[Q[ie]]}return K}var me=function(){function Ze(){}return Ze.installed=function(){return!0===Qe(this.pluginRef)},Ze.getPlugin=function(){return typeof window<"u"?function et(Ze,oe){for(var Q=oe.split("."),K=Ze,ie=0;ie<Q.length;ie++){if(!K)return null;K=K[Q[ie]]}return K}(window,this.pluginRef):null},Ze.getPluginName=function(){return this.pluginName},Ze.getPluginRef=function(){return this.pluginRef},Ze.getPluginInstallName=function(){return this.plugin},Ze.getSupportedPlatforms=function(){return this.platforms},Ze.pluginName="",Ze.pluginRef="",Ze.plugin="",Ze.repo="",Ze.platforms=[],Ze.install="",Ze}();function Re(Ze,oe,Q,K){return function(Ze,oe,Q){return void 0===Q&&(Q={}),function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];return Q.sync?Ge(Ze,oe,K,Q):Q.observable?function Ae(Ze,oe,Q,K){return void 0===K&&(K={}),new J.y(function(ie){var he;return he=K.destruct?Ge(Ze,oe,Q,K,function(){for(var Ve=[],je=0;je<arguments.length;je++)Ve[je]=arguments[je];return ie.next(Ve)},function(){for(var Ve=[],je=0;je<arguments.length;je++)Ve[je]=arguments[je];return ie.error(Ve)}):Ge(Ze,oe,Q,K,ie.next.bind(ie),ie.error.bind(ie)),he&&he.error&&(ie.error(he.error),ie.complete()),function(){try{if(K.clearFunction)return K.clearWithArgs?Ge(Ze,K.clearFunction,Q,K,ie.next.bind(ie),ie.error.bind(ie)):Ge(Ze,K.clearFunction,[])}catch(Ve){console.warn("Unable to clear the previous observable watch for",Ze.constructor.getPluginName(),oe),console.warn(Ve)}}})}(Ze,oe,K,Q):Q.eventObservable&&Q.event?function Te(Ze,oe){return oe=typeof window<"u"&&oe?Je(window,oe):oe||(typeof window<"u"?window:{}),(0,de.R)(oe,Ze)}(Q.event,Q.element):Q.otherPromise?function Ke(Ze,oe,Q,K){return void 0===K&&(K={}),ge(function(ie,he){var Ve=Ge(Ze,oe,Q,K);Ve?Ve.error?he(Ve.error):Ve.then&&Ve.then(ie).catch(he):he({error:"unexpected_error"})})}(Ze,oe,K,Q):function We(Ze,oe,Q,K){void 0===K&&(K={});var ie,he,Ve=ge(function(je,wt){ie=K.destruct?Ge(Ze,oe,Q,K,function(){for(var jt=[],Ht=0;Ht<arguments.length;Ht++)jt[Ht]=arguments[Ht];return je(jt)},function(){for(var jt=[],Ht=0;Ht<arguments.length;Ht++)jt[Ht]=arguments[Ht];return wt(jt)}):Ge(Ze,oe,Q,K,je,wt),he=wt});return ie&&ie.error&&(Ve.catch(function(){}),"function"==typeof he&&he(ie.error)),Ve}(Ze,oe,K,Q)}}(Ze,oe,Q).apply(this,K)}!function H(){if(typeof process>"u"){var Ze=typeof window<"u"?window:{},Q=Date.now(),K=!1;Ze.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Q)+" ms"),K=!0}),setTimeout(function(){!K&&Ze.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var rt=O(9212),It=function(Ze){function oe(){return null!==Ze&&Ze.apply(this,arguments)||this}return(0,d.ZT)(oe,Ze),oe.prototype.callNumber=function(Q,K){return Re(this,"callNumber",{callbackOrder:"reverse"},arguments)},oe.prototype.isCallSupported=function(){return Re(this,"isCallSupported",{},arguments)},oe.\u0275fac=(()=>{let Q;return function(ie){return(Q||(Q=rt.n5z(oe)))(ie||oe)}})(),oe.\u0275prov=rt.Yz7({token:oe,factory:oe.\u0275fac}),oe.pluginName="CallNumber",oe.plugin="call-number",oe.pluginRef="plugins.CallNumber",oe.repo="https://github.com/Rohfosho/CordovaCallNumberPlugin",oe.platforms=["Android","iOS"],oe=(0,d.gn)([],oe)}(me)},7863:(gn,ht,O)=>{"use strict";O.d(ht,{KY:()=>Fe,gR:()=>Te,DM:()=>me,e4:()=>ye,sM:()=>re,G5:()=>Qe});var H=O(5592),J=O(2438),de={error:"cordova_not_available"},xe={error:"plugin_not_installed"};function re(U){if(typeof window<"u"&&window.angular){var It=window.document,Ze=window.angular.element(It.querySelector("[ng-app]")||It.body).injector();if(Ze)return Ze.get("$q")(function(Q,K){U(Q,K)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(Q,K){U(Q,K)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Te(U,rt,It){var Ze,oe,Q;return"string"==typeof U?Ze=U:(Ze=U.constructor.getPluginRef(),It=U.constructor.getPluginName(),Q=U.constructor.getPluginInstallName()),!(!(oe=mt(Ze))||rt&&typeof oe[rt]>"u")||(typeof window>"u"||!window.cordova?(function ot(U,rt){typeof process>"u"&&console.warn(rt?"Native: tried calling "+U+"."+rt+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+U+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(It,rt),de):(function Je(U,rt,It){console.warn(It?"Native: tried calling "+U+"."+It+", but the "+U+" plugin is not installed.":"Native: tried accessing the "+U+" plugin but it's not installed."),rt&&console.warn("Install the "+U+" plugin: 'ionic cordova plugin add "+rt+"'")}(It,Q,rt),xe))}function Qe(U,rt){return U._objectInstance&&(!rt||typeof U._objectInstance[rt]<"u")}function ze(U,rt,It,Ze){if(void 0===rt&&(rt={}),rt.sync)return U;if("reverse"===rt.callbackOrder)U.unshift(Ze),U.unshift(It);else if("node"===rt.callbackStyle)U.push(function(ie,he){ie?Ze(ie):It(he)});else if("object"===rt.callbackStyle&&rt.successName&&rt.errorName){var oe={};oe[rt.successName]=It,oe[rt.errorName]=Ze,U.push(oe)}else if(typeof rt.successIndex<"u"||typeof rt.errorIndex<"u"){var Q=function(){rt.successIndex>U.length?U[rt.successIndex]=It:U.splice(rt.successIndex,0,It)},K=function(){rt.errorIndex>U.length?U[rt.errorIndex]=Ze:U.splice(rt.errorIndex,0,Ze)};rt.successIndex>rt.errorIndex?(K(),Q()):(Q(),K())}else U.push(It),U.push(Ze);return U}function He(U,rt,It,Ze,oe,Q){void 0===Ze&&(Ze={}),It=ze(It,Ze,oe,Q);var K=Te(U,rt);if(!0===K){var ie=mt(U.constructor.getPluginRef());return ie[rt].apply(ie,It)}return K}function Ge(U,rt,It,Ze,oe,Q){if(void 0===Ze&&(Ze={}),It=ze(It,Ze,oe,Q),Qe(U,rt))return U._objectInstance[rt].apply(U._objectInstance,It)}function mt(U){return typeof window<"u"?Xe(window,U):null}function Xe(U,rt){for(var It=rt.split("."),Ze=U,oe=0;oe<It.length;oe++){if(!Ze)return null;Ze=Ze[It[oe]]}return Ze}var Dt=function(U,rt,It){return void 0===It&&(It={}),function(){for(var Ze=[],oe=0;oe<arguments.length;oe++)Ze[oe]=arguments[oe];return It.sync?He(U,rt,Ze,It):It.observable?function Ke(U,rt,It,Ze){return void 0===Ze&&(Ze={}),new H.y(function(oe){var Q;return Q=Ze.destruct?He(U,rt,It,Ze,function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];return oe.next(K)},function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];return oe.error(K)}):He(U,rt,It,Ze,oe.next.bind(oe),oe.error.bind(oe)),Q&&Q.error&&(oe.error(Q.error),oe.complete()),function(){try{if(Ze.clearFunction)return Ze.clearWithArgs?He(U,Ze.clearFunction,It,Ze,oe.next.bind(oe),oe.error.bind(oe)):He(U,Ze.clearFunction,[])}catch(K){console.warn("Unable to clear the previous observable watch for",U.constructor.getPluginName(),rt),console.warn(K)}}})}(U,rt,Ze,It):It.eventObservable&&It.event?function Ae(U,rt){return rt=typeof window<"u"&&rt?Xe(window,rt):rt||(typeof window<"u"?window:{}),(0,J.R)(rt,U)}(It.event,It.element):It.otherPromise?function We(U,rt,It,Ze){return void 0===Ze&&(Ze={}),re(function(oe,Q){var K=He(U,rt,It,Ze);K?K.error?Q(K.error):K.then&&K.then(oe).catch(Q):Q({error:"unexpected_error"})})}(U,rt,Ze,It):function ge(U,rt,It,Ze){void 0===Ze&&(Ze={});var oe,Q,K=re(function(ie,he){oe=Ze.destruct?He(U,rt,It,Ze,function(){for(var Ve=[],je=0;je<arguments.length;je++)Ve[je]=arguments[je];return ie(Ve)},function(){for(var Ve=[],je=0;je<arguments.length;je++)Ve[je]=arguments[je];return he(Ve)}):He(U,rt,It,Ze,ie,he),Q=he});return oe&&oe.error&&(K.catch(function(){}),"function"==typeof Q&&Q(oe.error)),K}(U,rt,Ze,It)}},Fe=function(){function U(){}return U.installed=function(){return!0===Te(this.pluginRef)},U.getPlugin=function(){return typeof window<"u"?function qe(U,rt){for(var It=rt.split("."),Ze=U,oe=0;oe<It.length;oe++){if(!Ze)return null;Ze=Ze[It[oe]]}return Ze}(window,this.pluginRef):null},U.getPluginName=function(){return this.pluginName},U.getPluginRef=function(){return this.pluginRef},U.getPluginInstallName=function(){return this.plugin},U.getSupportedPlatforms=function(){return this.platforms},U.pluginName="",U.pluginRef="",U.plugin="",U.repo="",U.platforms=[],U.install="",U}();function me(U,rt,It,Ze){return Dt(U,rt,It).apply(this,Ze)}function ye(U,rt,It,Ze){return Ze=Array.from(Ze),function De(U,rt,It){return void 0===It&&(It={}),function(){for(var Ze=[],oe=0;oe<arguments.length;oe++)Ze[oe]=arguments[oe];if(It.sync)return Ge(U,rt,Ze,It);if(It.observable)return new H.y(function(he){var Ve;return Ve=It.destruct?Ge(U,rt,Ze,It,function(){for(var je=[],wt=0;wt<arguments.length;wt++)je[wt]=arguments[wt];return he.next(je)},function(){for(var je=[],wt=0;wt<arguments.length;wt++)je[wt]=arguments[wt];return he.error(je)}):Ge(U,rt,Ze,It,he.next.bind(he),he.error.bind(he)),Ve&&Ve.error&&he.error(Ve.error),function(){try{return It.clearWithArgs?Ge(U,It.clearFunction,Ze,It,he.next.bind(he),he.error.bind(he)):Ge(U,It.clearFunction,[])}catch(je){console.warn("Unable to clear the previous observable watch for",U.constructor.getPluginName(),rt),console.warn(je)}}});if(It.otherPromise)return re(function(he,Ve){var je;je=It.destruct?Ge(U,rt,Ze,It,function(){for(var wt=[],jt=0;jt<arguments.length;jt++)wt[jt]=arguments[jt];return he(wt)},function(){for(var wt=[],jt=0;jt<arguments.length;jt++)wt[jt]=arguments[jt];return Ve(wt)}):Ge(U,rt,Ze,It,he,Ve),je&&je.then?je.then(he,Ve):Ve()});var Q,K,ie=re(function(he,Ve){Q=It.destruct?Ge(U,rt,Ze,It,function(){for(var je=[],wt=0;wt<arguments.length;wt++)je[wt]=arguments[wt];return he(je)},function(){for(var je=[],wt=0;wt<arguments.length;wt++)je[wt]=arguments[wt];return Ve(je)}):Ge(U,rt,Ze,It,he,Ve),K=Ve});return Q&&Q.error&&(ie.catch(function(){}),"function"==typeof K&&K(Q.error)),ie}}(U,rt,It).apply(this,Ze)}!function d(){if(typeof process>"u"){var U=typeof window<"u"?window:{},It=Date.now(),Ze=!1;U.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-It)+" ms"),Ze=!0}),setTimeout(function(){!Ze&&U.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},7513:(gn,ht,O)=>{"use strict";O.d(ht,{w:()=>de});var d=O(7582),H=O(9212),J=O(7863),de=function(xe){function re(){return null!==xe&&xe.apply(this,arguments)||this}return(0,d.ZT)(re,xe),re.prototype.hasPermission=function(){return(0,J.DM)(this,"hasPermission",{successIndex:0,errorIndex:2},arguments)},re.prototype.requestPermission=function(){return(0,J.DM)(this,"requestPermission",{successIndex:0,errorIndex:2},arguments)},re.prototype.hasAccount=function(){var ge=this;return function(){if(!0===(0,J.gR)(ge))return(0,J.sM)(function(We){re.getPlugin().hasAccount(function(Ke){We(!!Ke)})})}()},re.prototype.hasClient=function(ge){var We=this;return function(){if(!0===(0,J.gR)(We))return(0,J.sM)(function(Ke){ge?re.getPlugin().hasClient(ge,function(Ae){Ke(!!Ae)}):re.getPlugin().getClients(function(Ae){Ke(Ae&&Ae.length>0)})})}()},re.prototype.getClients=function(){var ge=this;return function(){if(!0===(0,J.gR)(ge))return(0,J.sM)(function(We){re.getPlugin().getClients(function(Ke){"[object String]"===Object.prototype.toString.call(Ke)&&(Ke=[Ke]),We(Ke)})})}()},re.prototype.isAvailable=function(ge){var We=this;return function(){if(!0===(0,J.gR)(We))return(0,J.sM)(function(Ke){Promise.all([We.hasAccount,We.hasClient(ge)]).then(function(Ae){return Ke(2===Ae.length&&Ae[0]&&Ae[1])})})}()},re.prototype.open=function(ge,We){return(0,J.DM)(this,"open",{successIndex:1,errorIndex:3},arguments)},re.prototype.addAlias=function(ge,We){return(0,J.DM)(this,"addAlias",{},arguments)},re.pluginName="EmailComposer",re.plugin="cordova-plugin-email-composer",re.pluginRef="cordova.plugins.email",re.repo="https://github.com/katzer/cordova-plugin-email-composer",re.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows","macOS"],re.decorators=[{type:H.GSi}],re}(J.KY)},8662:(gn,ht,O)=>{"use strict";O.d(ht,{b:()=>xe});var d=O(7582),H=O(9212),J=O(7863),de=O(5592),xe=function(re){function ge(){return null!==re&&re.apply(this,arguments)||this}return(0,d.ZT)(ge,re),ge.prototype.getCurrentPosition=function(We){return(0,J.DM)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},ge.prototype.watchPosition=function(We){return new de.y(function(Ke){var Ae=navigator.geolocation.watchPosition(Ke.next.bind(Ke),Ke.next.bind(Ke),We);return function(){return navigator.geolocation.clearWatch(Ae)}})},ge.pluginName="Geolocation",ge.plugin="cordova-plugin-geolocation",ge.pluginRef="navigator.geolocation",ge.repo="https://github.com/apache/cordova-plugin-geolocation",ge.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',ge.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],ge.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],ge.decorators=[{type:H.GSi}],ge}(J.KY)},8285:(gn,ht,O)=>{"use strict";O.d(ht,{i:()=>re});var d=O(7582),H=O(9212),J=O(7863),de=O(5592),xe=function(){function ge(We,Ke,Ae){try{Ae&&"string"!=typeof Ae&&(Ae=Object.keys(Ae).map(function(Te){return Te+"="+Ae[Te]}).join(",")),this._objectInstance=cordova.InAppBrowser.open(We,Ke,Ae)}catch{typeof window<"u"&&window.open(We,Ke),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return ge.prototype._loadAfterBeforeload=function(We){return(0,J.e4)(this,"_loadAfterBeforeload",{sync:!0},arguments)},ge.prototype.show=function(){return(0,J.e4)(this,"show",{sync:!0},arguments)},ge.prototype.close=function(){return(0,J.e4)(this,"close",{sync:!0},arguments)},ge.prototype.hide=function(){return(0,J.e4)(this,"hide",{sync:!0},arguments)},ge.prototype.executeScript=function(We){return(0,J.e4)(this,"executeScript",{},arguments)},ge.prototype.insertCSS=function(We){return(0,J.e4)(this,"insertCSS",{},arguments)},ge.prototype.on=function(We){var Ke=this;return function(){if(!0===(0,J.G5)(Ke))return new de.y(function(Ae){return Ke._objectInstance.addEventListener(We,Ae.next.bind(Ae)),function(){return Ke._objectInstance.removeEventListener(We,Ae.next.bind(Ae))}})}()},ge.prototype.on=function(We){var Ke=this;return function(){if(!0===(0,J.G5)(Ke))return new de.y(function(Ae){return Ke._objectInstance.addEventListener(We,Ae.next.bind(Ae)),function(){return Ke._objectInstance.removeEventListener(We,Ae.next.bind(Ae))}})}()},ge}(),re=function(ge){function We(){return null!==ge&&ge.apply(this,arguments)||this}return(0,d.ZT)(We,ge),We.prototype.create=function(Ke,Ae,Te){return new xe(Ke,Ae,Te)},We.pluginName="InAppBrowser",We.plugin="cordova-plugin-inappbrowser",We.pluginRef="cordova.InAppBrowser",We.repo="https://github.com/apache/cordova-plugin-inappbrowser",We.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],We.decorators=[{type:H.GSi}],We}(J.KY)},7413:(gn,ht,O)=>{"use strict";O.d(ht,{d:()=>de});var d=O(7582),H=O(9212),J=O(7863),de=function(xe){function re(){return null!==xe&&xe.apply(this,arguments)||this}return(0,d.ZT)(re,xe),re.prototype.reverseGeocode=function(ge,We,Ke){return(0,J.DM)(this,"reverseGeocode",{callbackOrder:"reverse"},arguments)},re.prototype.forwardGeocode=function(ge,We){return(0,J.DM)(this,"forwardGeocode",{callbackOrder:"reverse"},arguments)},re.pluginName="NativeGeocoder",re.plugin="cordova-plugin-nativegeocoder",re.pluginRef="nativegeocoder",re.repo="https://github.com/sebastianbaar/cordova-plugin-nativegeocoder",re.platforms=["iOS","Android"],re.decorators=[{type:H.GSi}],re}(J.KY)},3630:(gn,ht,O)=>{"use strict";O.d(ht,{c:()=>J,r:()=>Te});const J=(me,Re)=>{me.componentOnReady?me.componentOnReady().then(we=>Re(we)):Te(()=>Re(me))},Te=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me)},191:(gn,ht,O)=>{"use strict";O.d(ht,{L:()=>d,a:()=>H,b:()=>J,c:()=>de,d:()=>xe,g:()=>me});const d="ionViewWillEnter",H="ionViewDidEnter",J="ionViewWillLeave",de="ionViewDidLeave",xe="ionViewWillUnload",me=Re=>Re.classList.contains("ion-page")?Re:Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Re},6410:(gn,ht,O)=>{"use strict";O.d(ht,{c:()=>mt});var d=O(6225),H=O(839);let J;const xe=Xe=>Xe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=Xe=>(void 0===J&&(J=void 0===Xe.style.animationName&&void 0!==Xe.style.webkitAnimationName?"-webkit-":""),J),ge=(Xe,Je,ot)=>{const Dt=Je.startsWith("animation")?re(Xe):"";Xe.style.setProperty(Dt+Je,ot)},We=(Xe,Je)=>{const ot=Je.startsWith("animation")?re(Xe):"";Xe.style.removeProperty(ot+Je)},Te=[],Ge=(Xe=[],Je)=>{if(void 0!==Je){const ot=Array.isArray(Je)?Je:[Je];return[...Xe,...ot]}return Xe},mt=Xe=>{let Je,ot,Dt,De,qe,et,ye,Q,K,ie,he,jt,Ht,Fe=[],me=[],Re=[],we=!1,ft={},nt=[],U=[],rt={},It=0,Ze=!1,oe=!1,Ve=!0,je=!1,wt=!0,St=!1;const mn=Xe,Kt=[],Pt=[],Nt=[],Bt=[],nn=[],zn=[],Gn=[],lr=[],In=[],Qn=[],bn=[],ci="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,Jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ci,xn=()=>bn,ir=(z,ne)=>{const $e=ne.findIndex(it=>it.c===z);$e>-1&&ne.splice($e,1)},Ir=(z,ne)=>((null!=ne&&ne.oneTimeCallback?Pt:Kt).push({c:z,o:ne}),Ht),sr=()=>{if(Jn)bn.forEach(z=>{z.cancel()}),bn.length=0;else{const z=Bt.slice();(0,H.r)(()=>{z.forEach(ne=>{We(ne,"animation-name"),We(ne,"animation-duration"),We(ne,"animation-timing-function"),We(ne,"animation-iteration-count"),We(ne,"animation-delay"),We(ne,"animation-play-state"),We(ne,"animation-fill-mode"),We(ne,"animation-direction")})})}},br=()=>{zn.forEach(z=>{null!=z&&z.parentNode&&z.parentNode.removeChild(z)}),zn.length=0},pe=()=>void 0!==qe?qe:ye?ye.getFill():"both",se=()=>void 0!==K?K:void 0!==et?et:ye?ye.getDirection():"normal",ke=()=>Ze?"linear":void 0!==Dt?Dt:ye?ye.getEasing():"linear",le=()=>oe?0:void 0!==ie?ie:void 0!==ot?ot:ye?ye.getDuration():0,lt=()=>void 0!==De?De:ye?ye.getIterations():1,xt=()=>void 0!==he?he:void 0!==Je?Je:ye?ye.getDelay():0,qn=()=>{0!==It&&(It--,0===It&&((()=>{Oe(),In.forEach(Mt=>Mt()),Qn.forEach(Mt=>Mt());const z=Ve?1:0,ne=nt,$e=U,it=rt;Bt.forEach(Mt=>{const vt=Mt.classList;ne.forEach(Zt=>vt.add(Zt)),$e.forEach(Zt=>vt.remove(Zt));for(const Zt in it)it.hasOwnProperty(Zt)&&ge(Mt,Zt,it[Zt])}),Kt.forEach(Mt=>Mt.c(z,Ht)),Pt.forEach(Mt=>Mt.c(z,Ht)),Pt.length=0,wt=!0,Ve&&(je=!0),Ve=!0})(),ye&&ye.animationFinish()))},Bn=(z=!0)=>{br();const ne=(Xe=>(Xe.forEach(Je=>{for(const ot in Je)if(Je.hasOwnProperty(ot)){const Dt=Je[ot];if("easing"===ot)Je["animation-timing-function"]=Dt,delete Je[ot];else{const De=xe(ot);De!==ot&&(Je[De]=Dt,delete Je[ot])}}}),Xe))(Fe);Bt.forEach($e=>{if(ne.length>0){const it=((Xe=[])=>Xe.map(Je=>{const ot=Je.offset,Dt=[];for(const De in Je)Je.hasOwnProperty(De)&&"offset"!==De&&Dt.push(`${De}: ${Je[De]};`);return`${100*ot}% { ${Dt.join(" ")} }`}).join(" "))(ne);jt=void 0!==Xe?Xe:(Xe=>{let Je=Te.indexOf(Xe);return Je<0&&(Je=Te.push(Xe)-1),`ion-animation-${Je}`})(it);const Mt=((Xe,Je,ot)=>{var Dt;const De=(Xe=>{const Je=void 0!==Xe.getRootNode?Xe.getRootNode():Xe;return Je.head||Je})(ot),qe=re(ot),et=De.querySelector("#"+Xe);if(et)return et;const Fe=(null!==(Dt=ot.ownerDocument)&&void 0!==Dt?Dt:document).createElement("style");return Fe.id=Xe,Fe.textContent=`@${qe}keyframes ${Xe} { ${Je} } @${qe}keyframes ${Xe}-alt { ${Je} }`,De.appendChild(Fe),Fe})(jt,it,$e);zn.push(Mt),ge($e,"animation-duration",`${le()}ms`),ge($e,"animation-timing-function",ke()),ge($e,"animation-delay",`${xt()}ms`),ge($e,"animation-fill-mode",pe()),ge($e,"animation-direction",se());const vt=lt()===1/0?"infinite":lt().toString();ge($e,"animation-iteration-count",vt),ge($e,"animation-play-state","paused"),z&&ge($e,"animation-name",`${Mt.id}-alt`),(0,H.r)(()=>{ge($e,"animation-name",Mt.id||null)})}})},dt=(z=!0)=>{(()=>{Gn.forEach(it=>it()),lr.forEach(it=>it());const z=me,ne=Re,$e=ft;Bt.forEach(it=>{const Mt=it.classList;z.forEach(vt=>Mt.add(vt)),ne.forEach(vt=>Mt.remove(vt));for(const vt in $e)$e.hasOwnProperty(vt)&&ge(it,vt,$e[vt])})})(),Fe.length>0&&(Jn?(Bt.forEach(z=>{const ne=z.animate(Fe,{id:mn,delay:xt(),duration:le(),easing:ke(),iterations:lt(),fill:pe(),direction:se()});ne.pause(),bn.push(ne)}),bn.length>0&&(bn[0].onfinish=()=>{qn()})):Bn(z)),we=!0},Ye=z=>{if(z=Math.min(Math.max(z,0),.9999),Jn)bn.forEach(ne=>{ne.currentTime=ne.effect.getComputedTiming().delay+le()*z,ne.pause()});else{const ne=`-${le()*z}ms`;Bt.forEach($e=>{Fe.length>0&&(ge($e,"animation-delay",ne),ge($e,"animation-play-state","paused"))})}},At=z=>{bn.forEach(ne=>{ne.effect.updateTiming({delay:xt(),duration:le(),easing:ke(),iterations:lt(),fill:pe(),direction:se()})}),void 0!==z&&Ye(z)},Et=(z=!0,ne)=>{(0,H.r)(()=>{Bt.forEach($e=>{ge($e,"animation-name",jt||null),ge($e,"animation-duration",`${le()}ms`),ge($e,"animation-timing-function",ke()),ge($e,"animation-delay",void 0!==ne?`-${ne*le()}ms`:`${xt()}ms`),ge($e,"animation-fill-mode",pe()||null),ge($e,"animation-direction",se()||null);const it=lt()===1/0?"infinite":lt().toString();ge($e,"animation-iteration-count",it),z&&ge($e,"animation-name",`${jt}-alt`),(0,H.r)(()=>{ge($e,"animation-name",jt||null)})})})},Ut=(z=!1,ne=!0,$e)=>(z&&nn.forEach(it=>{it.update(z,ne,$e)}),Jn?At($e):Et(ne,$e),Ht),On=()=>{we&&(Jn?bn.forEach(z=>{z.pause()}):Bt.forEach(z=>{ge(z,"animation-play-state","paused")}),St=!0)},_e=()=>{Q=void 0,qn()},Oe=()=>{Q&&clearTimeout(Q)},$t=z=>new Promise(ne=>{null!=z&&z.sync&&(oe=!0,Ir(()=>oe=!1,{oneTimeCallback:!0})),we||dt(),je&&(Jn?(Ye(0),At()):Et(),je=!1),wt&&(It=nn.length+1,wt=!1);const $e=()=>{ir(it,Pt),ne()},it=()=>{ir($e,Nt),ne()};Ir(it,{oneTimeCallback:!0}),((z,ne)=>{Nt.push({c:z,o:{oneTimeCallback:!0}})})($e),nn.forEach(Mt=>{Mt.play()}),Jn?(bn.forEach(z=>{z.play()}),(0===Fe.length||0===Bt.length)&&qn()):(()=>{if(Oe(),(0,H.r)(()=>{Bt.forEach(z=>{Fe.length>0&&ge(z,"animation-play-state","running")})}),0===Fe.length||0===Bt.length)qn();else{const z=xt()||0,ne=le()||0,$e=lt()||1;isFinite($e)&&(Q=setTimeout(_e,z+ne*$e+100)),((Xe,Je)=>{let ot;const Dt={passive:!0},qe=et=>{Xe===et.target&&(ot&&ot(),Oe(),(0,H.r)(()=>{Bt.forEach(z=>{We(z,"animation-duration"),We(z,"animation-delay"),We(z,"animation-play-state")}),(0,H.r)(qn)}))};Xe&&(Xe.addEventListener("webkitAnimationEnd",qe,Dt),Xe.addEventListener("animationend",qe,Dt),ot=()=>{Xe.removeEventListener("webkitAnimationEnd",qe,Dt),Xe.removeEventListener("animationend",qe,Dt)})})(Bt[0])}})(),St=!1}),Fn=(z,ne)=>{const $e=Fe[0];return void 0===$e||void 0!==$e.offset&&0!==$e.offset?Fe=[{offset:0,[z]:ne},...Fe]:$e[z]=ne,Ht};return Ht={parentAnimation:ye,elements:Bt,childAnimations:nn,id:mn,animationFinish:qn,from:Fn,to:(z,ne)=>{const $e=Fe[Fe.length-1];return void 0===$e||void 0!==$e.offset&&1!==$e.offset?Fe=[...Fe,{offset:1,[z]:ne}]:$e[z]=ne,Ht},fromTo:(z,ne,$e)=>Fn(z,ne).to(z,$e),parent:z=>(ye=z,Ht),play:$t,pause:()=>(nn.forEach(z=>{z.pause()}),On(),Ht),stop:()=>{nn.forEach(z=>{z.stop()}),we&&(sr(),we=!1),Ze=!1,oe=!1,wt=!0,K=void 0,ie=void 0,he=void 0,It=0,je=!1,Ve=!0,St=!1,Nt.forEach(z=>z.c(0,Ht)),Nt.length=0},destroy:z=>(nn.forEach(ne=>{ne.destroy(z)}),(z=>{sr(),z&&br()})(z),Bt.length=0,nn.length=0,Fe.length=0,Kt.length=0,Pt.length=0,we=!1,wt=!0,Ht),keyframes:z=>{const ne=Fe!==z;return Fe=z,ne&&(z=>{Jn?xn().forEach(ne=>{const $e=ne.effect;if($e.setKeyframes)$e.setKeyframes(z);else{const it=new KeyframeEffect($e.target,z,$e.getTiming());ne.effect=it}}):Bn()})(Fe),Ht},addAnimation:z=>{if(null!=z)if(Array.isArray(z))for(const ne of z)ne.parent(Ht),nn.push(ne);else z.parent(Ht),nn.push(z);return Ht},addElement:z=>{if(null!=z)if(1===z.nodeType)Bt.push(z);else if(z.length>=0)for(let ne=0;ne<z.length;ne++)Bt.push(z[ne]);else console.error("Invalid addElement value");return Ht},update:Ut,fill:z=>(qe=z,Ut(!0),Ht),direction:z=>(et=z,Ut(!0),Ht),iterations:z=>(De=z,Ut(!0),Ht),duration:z=>(!Jn&&0===z&&(z=1),ot=z,Ut(!0),Ht),easing:z=>(Dt=z,Ut(!0),Ht),delay:z=>(Je=z,Ut(!0),Ht),getWebAnimations:xn,getKeyframes:()=>Fe,getFill:pe,getDirection:se,getDelay:xt,getIterations:lt,getEasing:ke,getDuration:le,afterAddRead:z=>(In.push(z),Ht),afterAddWrite:z=>(Qn.push(z),Ht),afterClearStyles:(z=[])=>{for(const ne of z)rt[ne]="";return Ht},afterStyles:(z={})=>(rt=z,Ht),afterRemoveClass:z=>(U=Ge(U,z),Ht),afterAddClass:z=>(nt=Ge(nt,z),Ht),beforeAddRead:z=>(Gn.push(z),Ht),beforeAddWrite:z=>(lr.push(z),Ht),beforeClearStyles:(z=[])=>{for(const ne of z)ft[ne]="";return Ht},beforeStyles:(z={})=>(ft=z,Ht),beforeRemoveClass:z=>(Re=Ge(Re,z),Ht),beforeAddClass:z=>(me=Ge(me,z),Ht),onFinish:Ir,isRunning:()=>0!==It&&!St,progressStart:(z=!1,ne)=>(nn.forEach($e=>{$e.progressStart(z,ne)}),On(),Ze=z,we||dt(),Ut(!1,!0,ne),Ht),progressStep:z=>(nn.forEach(ne=>{ne.progressStep(z)}),Ye(z),Ht),progressEnd:(z,ne,$e)=>(Ze=!1,nn.forEach(it=>{it.progressEnd(z,ne,$e)}),void 0!==$e&&(ie=$e),je=!1,Ve=!0,0===z?(K="reverse"===se()?"normal":"reverse","reverse"===K&&(Ve=!1),Jn?(Ut(),Ye(1-ne)):(he=(1-ne)*le()*-1,Ut(!1,!1))):1===z&&(Jn?(Ut(),Ye(ne)):(he=ne*le()*-1,Ut(!1,!1))),void 0!==z&&(Ir(()=>{ie=void 0,K=void 0,he=void 0},{oneTimeCallback:!0}),ye||$t()),Ht)}}},3365:(gn,ht,O)=>{"use strict";O.d(ht,{E:()=>Ae,a:()=>d,s:()=>We});const d=Te=>{try{if(Te instanceof ge)return Te.value;if(!de()||"string"!=typeof Te||""===Te)return Te;if(Te.includes("onload="))return"";const Qe=document.createDocumentFragment(),ze=document.createElement("div");Qe.appendChild(ze),ze.innerHTML=Te,re.forEach(Xe=>{const Je=Qe.querySelectorAll(Xe);for(let ot=Je.length-1;ot>=0;ot--){const Dt=Je[ot];Dt.parentNode?Dt.parentNode.removeChild(Dt):Qe.removeChild(Dt);const De=J(Dt);for(let qe=0;qe<De.length;qe++)H(De[qe])}});const He=J(Qe);for(let Xe=0;Xe<He.length;Xe++)H(He[Xe]);const Ge=document.createElement("div");Ge.appendChild(Qe);const mt=Ge.querySelector("div");return null!==mt?mt.innerHTML:Ge.innerHTML}catch(Qe){return console.error(Qe),""}},H=Te=>{if(Te.nodeType&&1!==Te.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Te.attributes instanceof NamedNodeMap))return void Te.remove();for(let ze=Te.attributes.length-1;ze>=0;ze--){const He=Te.attributes.item(ze),Ge=He.name;if(!xe.includes(Ge.toLowerCase())){Te.removeAttribute(Ge);continue}const mt=He.value,Xe=Te[Ge];(null!=mt&&mt.toLowerCase().includes("javascript:")||null!=Xe&&Xe.toLowerCase().includes("javascript:"))&&Te.removeAttribute(Ge)}const Qe=J(Te);for(let ze=0;ze<Qe.length;ze++)H(Qe[ze])},J=Te=>null!=Te.children?Te.children:Te.childNodes,de=()=>{var Te;const Qe=window,ze=null===(Te=null==Qe?void 0:Qe.Ionic)||void 0===Te?void 0:Te.config;return!ze||(ze.get?ze.get("sanitizerEnabled",!0):!0===ze.sanitizerEnabled||void 0===ze.sanitizerEnabled)},xe=["class","id","href","src","name","slot"],re=["script","style","iframe","meta","link","object","embed"];class ge{constructor(Qe){this.value=Qe}}const We=Te=>{const Qe=window,ze=Qe.Ionic;if(!ze||!ze.config||"Object"===ze.config.constructor.name)return Qe.Ionic=Qe.Ionic||{},Qe.Ionic.config=Object.assign(Object.assign({},Qe.Ionic.config),Te),Qe.Ionic.config},Ae=!1},6559:(gn,ht,O)=>{"use strict";O.d(ht,{C:()=>xe,a:()=>J,d:()=>de});var d=O(5861),H=O(839);const J=function(){var re=(0,d.Z)(function*(ge,We,Ke,Ae,Te,Qe){var ze;if(ge)return ge.attachViewToDom(We,Ke,Te,Ae);if(!(Qe||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const He="string"==typeof Ke?null===(ze=We.ownerDocument)||void 0===ze?void 0:ze.createElement(Ke):Ke;return Ae&&Ae.forEach(Ge=>He.classList.add(Ge)),Te&&Object.assign(He,Te),We.appendChild(He),yield new Promise(Ge=>(0,H.c)(He,Ge)),He});return function(We,Ke,Ae,Te,Qe,ze){return re.apply(this,arguments)}}(),de=(re,ge)=>{if(ge){if(re)return re.removeViewFromDom(ge.parentElement,ge);ge.remove()}return Promise.resolve()},xe=()=>{let re,ge;return{attachViewToDom:function(){var Ae=(0,d.Z)(function*(Te,Qe,ze={},He=[]){var Ge,mt;let Xe;if(re=Te,Qe){const ot="string"==typeof Qe?null===(Ge=re.ownerDocument)||void 0===Ge?void 0:Ge.createElement(Qe):Qe;He.forEach(Dt=>ot.classList.add(Dt)),Object.assign(ot,ze),re.appendChild(ot),Xe=ot,yield new Promise(Dt=>(0,H.c)(ot,Dt))}else if(re.children.length>0&&("ION-MODAL"===re.tagName||"ION-POPOVER"===re.tagName)&&!(Xe=re.children[0]).classList.contains("ion-delegate-host")){const Dt=null===(mt=re.ownerDocument)||void 0===mt?void 0:mt.createElement("div");Dt.classList.add("ion-delegate-host"),He.forEach(De=>Dt.classList.add(De)),Dt.append(...re.children),re.appendChild(Dt),Xe=Dt}const Je=document.querySelector("ion-app")||document.body;return ge=document.createComment("ionic teleport"),re.parentNode.insertBefore(ge,re),Je.appendChild(re),null!=Xe?Xe:re});return function(Qe,ze){return Ae.apply(this,arguments)}}(),removeViewFromDom:()=>(re&&ge&&(ge.parentNode.insertBefore(re,ge),ge.remove()),Promise.resolve())}}},619:(gn,ht,O)=>{"use strict";O.d(ht,{G:()=>xe});class H{constructor(ge,We,Ke,Ae,Te){this.id=We,this.name=Ke,this.disableScroll=Te,this.priority=1e6*Ae+We,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class J{constructor(ge,We,Ke,Ae){this.id=We,this.disable=Ke,this.disableScroll=Ae,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",xe=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){var We;return new H(this,this.newID(),ge.name,null!==(We=ge.priority)&&void 0!==We?We:0,!!ge.disableScroll)}createBlocker(ge={}){return new J(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,We,Ke){return this.canStart(ge)?(this.requestedStart.set(We,Ke),!0):(this.requestedStart.delete(We),!1)}capture(ge,We,Ke){if(!this.start(ge,We,Ke))return!1;const Ae=this.requestedStart;let Te=-1e4;if(Ae.forEach(Qe=>{Te=Math.max(Te,Qe)}),Te===Ke){this.capturedId=We,Ae.clear();const Qe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(Qe),!0}return Ae.delete(We),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,We){let Ke=this.disabledGestures.get(ge);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(ge,Ke)),Ke.add(We)}enableGesture(ge,We){const Ke=this.disabledGestures.get(ge);void 0!==Ke&&Ke.delete(We)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const We=this.disabledGestures.get(ge);return!!(We&&We.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(gn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{MENU_BACK_BUTTON_PRIORITY:()=>xe,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>H,startHardwareBackButton:()=>J});var d=O(5861);const H=()=>{document.addEventListener("backbutton",()=>{})},J=()=>{const re=document;let ge=!1;re.addEventListener("backbutton",()=>{if(ge)return;let We=0,Ke=[];const Ae=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ze,He){Ke.push({priority:ze,handler:He,id:We++})}}});re.dispatchEvent(Ae);const Te=function(){var ze=(0,d.Z)(function*(He){try{if(null!=He&&He.handler){const Ge=He.handler(Qe);null!=Ge&&(yield Ge)}}catch(Ge){console.error(Ge)}});return function(Ge){return ze.apply(this,arguments)}}(),Qe=()=>{if(Ke.length>0){let ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ke.forEach(He=>{He.priority>=ze.priority&&(ze=He)}),ge=!0,Ke=Ke.filter(He=>He.id!==ze.id),Te(ze).then(()=>ge=!1)}};Qe()})},de=100,xe=99},839:(gn,ht,O)=>{"use strict";O.d(ht,{a:()=>We,b:()=>Ke,c:()=>J,d:()=>mt,e:()=>Ge,f:()=>He,g:()=>Ae,h:()=>ze,i:()=>ge,j:()=>qe,k:()=>xe,l:()=>Xe,m:()=>de,n:()=>Qe,o:()=>Je,p:()=>De,q:()=>et,r:()=>Te,s:()=>Fe,t:()=>d,u:()=>ot,v:()=>Dt});const d=(me,Re=0)=>new Promise(we=>{H(me,Re,we)}),H=(me,Re=0,we)=>{let ye,ft;const nt={passive:!0},rt=()=>{ye&&ye()},It=Ze=>{(void 0===Ze||me===Ze.target)&&(rt(),we(Ze))};return me&&(me.addEventListener("webkitTransitionEnd",It,nt),me.addEventListener("transitionend",It,nt),ft=setTimeout(It,Re+500),ye=()=>{ft&&(clearTimeout(ft),ft=void 0),me.removeEventListener("webkitTransitionEnd",It,nt),me.removeEventListener("transitionend",It,nt)}),rt},J=(me,Re)=>{me.componentOnReady?me.componentOnReady().then(we=>Re(we)):Te(()=>Re(me))},de=me=>void 0!==me.componentOnReady,xe=(me,Re=[])=>{const we={};return Re.forEach(ye=>{me.hasAttribute(ye)&&(null!==me.getAttribute(ye)&&(we[ye]=me.getAttribute(ye)),me.removeAttribute(ye))}),we},re=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ge=(me,Re)=>{let we=re;return Re&&Re.length>0&&(we=we.filter(ye=>!Re.includes(ye))),xe(me,we)},We=(me,Re,we,ye)=>{var ft;if(typeof window<"u"){const nt=window,U=null===(ft=null==nt?void 0:nt.Ionic)||void 0===ft?void 0:ft.config;if(U){const rt=U.get("_ael");if(rt)return rt(me,Re,we,ye);if(U._ael)return U._ael(me,Re,we,ye)}}return me.addEventListener(Re,we,ye)},Ke=(me,Re,we,ye)=>{var ft;if(typeof window<"u"){const nt=window,U=null===(ft=null==nt?void 0:nt.Ionic)||void 0===ft?void 0:ft.config;if(U){const rt=U.get("_rel");if(rt)return rt(me,Re,we,ye);if(U._rel)return U._rel(me,Re,we,ye)}}return me.removeEventListener(Re,we,ye)},Ae=(me,Re=me)=>me.shadowRoot||Re,Te=me=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(me):"function"==typeof requestAnimationFrame?requestAnimationFrame(me):setTimeout(me),Qe=me=>!!me.shadowRoot&&!!me.attachShadow,ze=me=>{const Re=me.closest("ion-item");return Re?Re.querySelector("ion-label"):null},He=me=>{if(me.focus(),me.classList.contains("ion-focusable")){const Re=me.closest("ion-app");Re&&Re.setFocus([me])}},Ge=(me,Re)=>{let we;const ye=me.getAttribute("aria-labelledby"),ft=me.id;let nt=null!==ye&&""!==ye.trim()?ye:Re+"-lbl",U=null!==ye&&""!==ye.trim()?document.getElementById(ye):ze(me);return U?(null===ye&&(U.id=nt),we=U.textContent,U.setAttribute("aria-hidden","true")):""!==ft.trim()&&(U=document.querySelector(`label[for="${ft}"]`),U&&(""!==U.id?nt=U.id:U.id=nt=`${ft}-lbl`,we=U.textContent)),{label:U,labelId:nt,labelText:we}},mt=(me,Re,we,ye,ft)=>{if(me||Qe(Re)){let nt=Re.querySelector("input.aux-input");nt||(nt=Re.ownerDocument.createElement("input"),nt.type="hidden",nt.classList.add("aux-input"),Re.appendChild(nt)),nt.disabled=ft,nt.name=we,nt.value=ye||""}},Xe=(me,Re,we)=>Math.max(me,Math.min(Re,we)),Je=(me,Re)=>{if(!me){const we="ASSERT: "+Re;throw console.error(we),new Error(we)}},ot=me=>me.timeStamp||Date.now(),Dt=me=>{if(me){const Re=me.changedTouches;if(Re&&Re.length>0){const we=Re[0];return{x:we.clientX,y:we.clientY}}if(void 0!==me.pageX)return{x:me.pageX,y:me.pageY}}return{x:0,y:0}},De=me=>{const Re="rtl"===document.dir;switch(me){case"start":return Re;case"end":return!Re;default:throw new Error(`"${me}" is not a valid value for [side]. Use "start" or "end" instead.`)}},qe=(me,Re)=>{const we=me._original||me;return{_original:me,emit:et(we.emit.bind(we),Re)}},et=(me,Re=0)=>{let we;return(...ye)=>{clearTimeout(we),we=setTimeout(me,Re,...ye)}},Fe=(me,Re)=>{if(null!=me||(me={}),null!=Re||(Re={}),me===Re)return!0;const we=Object.keys(me);if(we.length!==Object.keys(Re).length)return!1;for(const ye of we)if(!(ye in Re)||me[ye]!==Re[ye])return!1;return!0}},1783:(gn,ht,O)=>{"use strict";O.d(ht,{m:()=>Qe});var d=O(5861),H=O(6710),J=O(2124),de=O(839),xe=O(3882),re=O(6410);const ge=ze=>(0,re.c)().duration(ze?400:300),We=ze=>{let He,Ge;const mt=ze.width+8,Xe=(0,re.c)(),Je=(0,re.c)();ze.isEndSide?(He=mt+"px",Ge="0px"):(He=-mt+"px",Ge="0px"),Xe.addElement(ze.menuInnerEl).fromTo("transform",`translateX(${He})`,`translateX(${Ge})`);const Dt="ios"===(0,xe.b)(ze),De=Dt?.2:.25;return Je.addElement(ze.backdropEl).fromTo("opacity",.01,De),ge(Dt).addAnimation([Xe,Je])},Ke=ze=>{let He,Ge;const mt=(0,xe.b)(ze),Xe=ze.width;ze.isEndSide?(He=-Xe+"px",Ge=Xe+"px"):(He=Xe+"px",Ge=-Xe+"px");const Je=(0,re.c)().addElement(ze.menuInnerEl).fromTo("transform",`translateX(${Ge})`,"translateX(0px)"),ot=(0,re.c)().addElement(ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${He})`),Dt=(0,re.c)().addElement(ze.backdropEl).fromTo("opacity",.01,.32);return ge("ios"===mt).addAnimation([Je,ot,Dt])},Ae=ze=>{const He=(0,xe.b)(ze),Ge=ze.width*(ze.isEndSide?-1:1)+"px",mt=(0,re.c)().addElement(ze.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ge})`);return ge("ios"===He).addAnimation(mt)},Qe=(()=>{const ze=new Map,He=[],Ge=function(){var Q=(0,d.Z)(function*(K){const ie=yield qe(K,!0);return!!ie&&ie.open()});return function(ie){return Q.apply(this,arguments)}}(),mt=function(){var Q=(0,d.Z)(function*(K){const ie=yield void 0!==K?qe(K,!0):et();return void 0!==ie&&ie.close()});return function(ie){return Q.apply(this,arguments)}}(),Xe=function(){var Q=(0,d.Z)(function*(K){const ie=yield qe(K,!0);return!!ie&&ie.toggle()});return function(ie){return Q.apply(this,arguments)}}(),Je=function(){var Q=(0,d.Z)(function*(K,ie){const he=yield qe(ie);return he&&(he.disabled=!K),he});return function(ie,he){return Q.apply(this,arguments)}}(),ot=function(){var Q=(0,d.Z)(function*(K,ie){const he=yield qe(ie);return he&&(he.swipeGesture=K),he});return function(ie,he){return Q.apply(this,arguments)}}(),Dt=function(){var Q=(0,d.Z)(function*(K){if(null!=K){const ie=yield qe(K);return void 0!==ie&&ie.isOpen()}return void 0!==(yield et())});return function(ie){return Q.apply(this,arguments)}}(),De=function(){var Q=(0,d.Z)(function*(K){const ie=yield qe(K);return!!ie&&!ie.disabled});return function(ie){return Q.apply(this,arguments)}}(),qe=function(){var Q=(0,d.Z)(function*(K,ie=!1){if(yield oe(),"start"===K||"end"===K){const Ve=He.filter(wt=>wt.side===K&&!wt.disabled);if(Ve.length>=1)return Ve.length>1&&ie&&(0,H.p)(`menuController queried for a menu on the "${K}" side, but ${Ve.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ve.map(wt=>wt.el)),Ve[0].el;const je=He.filter(wt=>wt.side===K);if(je.length>=1)return je.length>1&&ie&&(0,H.p)(`menuController queried for a menu on the "${K}" side, but ${je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,je.map(wt=>wt.el)),je[0].el}else if(null!=K)return Ze(Ve=>Ve.menuId===K);return Ze(Ve=>!Ve.disabled)||(He.length>0?He[0].el:void 0)});return function(ie){return Q.apply(this,arguments)}}(),et=function(){var Q=(0,d.Z)(function*(){return yield oe(),U()});return function(){return Q.apply(this,arguments)}}(),Fe=function(){var Q=(0,d.Z)(function*(){return yield oe(),rt()});return function(){return Q.apply(this,arguments)}}(),me=function(){var Q=(0,d.Z)(function*(){return yield oe(),It()});return function(){return Q.apply(this,arguments)}}(),Re=(Q,K)=>{ze.set(Q,K)},ft=function(){var Q=(0,d.Z)(function*(K,ie,he){if(It())return!1;if(ie){const Ve=yield et();Ve&&K.el!==Ve&&(yield Ve.setOpen(!1,!1))}return K._setOpen(ie,he)});return function(ie,he,Ve){return Q.apply(this,arguments)}}(),U=()=>Ze(Q=>Q._isOpen),rt=()=>He.map(Q=>Q.el),It=()=>He.some(Q=>Q.isAnimating),Ze=Q=>{const K=He.find(Q);if(void 0!==K)return K.el},oe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Q=>new Promise(K=>(0,de.c)(Q,K))));return Re("reveal",Ae),Re("push",Ke),Re("overlay",We),typeof document<"u"&&document.addEventListener("ionBackButton",Q=>{const K=U();K&&Q.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>K.close())}),{registerAnimation:Re,get:qe,getMenus:Fe,getOpen:et,isEnabled:De,swipeGesture:ot,isAnimating:me,isOpen:Dt,enable:Je,toggle:Xe,close:mt,open:Ge,_getOpenSync:U,_createAnimation:(Q,K)=>{const ie=ze.get(Q);if(!ie)throw new Error("animation not registered");return ie(K)},_register:Q=>{He.indexOf(Q)<0&&He.push(Q)},_unregister:Q=>{const K=He.indexOf(Q);K>-1&&He.splice(K,1)},_setOpen:ft}})()},6710:(gn,ht,O)=>{"use strict";O.d(ht,{a:()=>H,b:()=>J,p:()=>d});const d=(de,...xe)=>console.warn(`[Ionic Warning]: ${de}`,...xe),H=(de,...xe)=>console.error(`[Ionic Error]: ${de}`,...xe),J=(de,...xe)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${xe.join(" or ")}.`)},448:(gn,ht,O)=>{"use strict";O.d(ht,{b:()=>re,c:()=>ge,d:()=>We,e:()=>me,g:()=>ye,l:()=>et,s:()=>Re,t:()=>Te,w:()=>Fe});var d=O(5861),H=O(5349),J=O(839);const re="ionViewWillLeave",ge="ionViewDidLeave",We="ionViewWillUnload",Te=ft=>new Promise((nt,U)=>{(0,H.w)(()=>{Qe(ft),ze(ft).then(rt=>{rt.animation&&rt.animation.destroy(),He(ft),nt(rt)},rt=>{He(ft),U(rt)})})}),Qe=ft=>{const nt=ft.enteringEl,U=ft.leavingEl;we(nt,U,ft.direction),ft.showGoBack?nt.classList.add("can-go-back"):nt.classList.remove("can-go-back"),Re(nt,!1),nt.style.setProperty("pointer-events","none"),U&&(Re(U,!1),U.style.setProperty("pointer-events","none"))},ze=function(){var ft=(0,d.Z)(function*(nt){const U=yield Ge(nt);return U&&H.B.isBrowser?mt(U,nt):Xe(nt)});return function(U){return ft.apply(this,arguments)}}(),He=ft=>{const nt=ft.enteringEl,U=ft.leavingEl;nt.classList.remove("ion-page-invisible"),nt.style.removeProperty("pointer-events"),void 0!==U&&(U.classList.remove("ion-page-invisible"),U.style.removeProperty("pointer-events"))},Ge=function(){var ft=(0,d.Z)(function*(nt){return nt.leavingEl&&nt.animated&&0!==nt.duration?nt.animationBuilder?nt.animationBuilder:"ios"===nt.mode?(yield Promise.resolve().then(O.bind(O,2619))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,9023))).mdTransitionAnimation:void 0});return function(U){return ft.apply(this,arguments)}}(),mt=function(){var ft=(0,d.Z)(function*(nt,U){yield Je(U,!0);const rt=nt(U.baseEl,U);De(U.enteringEl,U.leavingEl);const It=yield Dt(rt,U);return U.progressCallback&&U.progressCallback(void 0),It&&qe(U.enteringEl,U.leavingEl),{hasCompleted:It,animation:rt}});return function(U,rt){return ft.apply(this,arguments)}}(),Xe=function(){var ft=(0,d.Z)(function*(nt){const U=nt.enteringEl,rt=nt.leavingEl;return yield Je(nt,!1),De(U,rt),qe(U,rt),{hasCompleted:!0}});return function(U){return ft.apply(this,arguments)}}(),Je=function(){var ft=(0,d.Z)(function*(nt,U){(void 0!==nt.deepWait?nt.deepWait:U)&&(yield Promise.all([me(nt.enteringEl),me(nt.leavingEl)])),yield ot(nt.viewIsReady,nt.enteringEl)});return function(U,rt){return ft.apply(this,arguments)}}(),ot=function(){var ft=(0,d.Z)(function*(nt,U){nt&&(yield nt(U))});return function(U,rt){return ft.apply(this,arguments)}}(),Dt=(ft,nt)=>{const U=nt.progressCallback,rt=new Promise(It=>{ft.onFinish(Ze=>It(1===Ze))});return U?(ft.progressStart(!0),U(ft)):ft.play(),rt},De=(ft,nt)=>{et(nt,re),et(ft,"ionViewWillEnter")},qe=(ft,nt)=>{et(ft,"ionViewDidEnter"),et(nt,ge)},et=(ft,nt)=>{if(ft){const U=new CustomEvent(nt,{bubbles:!1,cancelable:!1});ft.dispatchEvent(U)}},Fe=()=>new Promise(ft=>(0,J.r)(()=>(0,J.r)(()=>ft()))),me=function(){var ft=(0,d.Z)(function*(nt){const U=nt;if(U){if(null!=U.componentOnReady){if(null!=(yield U.componentOnReady()))return}else if(null!=U.__registerHost)return void(yield new Promise(It=>(0,J.r)(It)));yield Promise.all(Array.from(U.children).map(me))}});return function(U){return ft.apply(this,arguments)}}(),Re=(ft,nt)=>{nt?(ft.setAttribute("aria-hidden","true"),ft.classList.add("ion-page-hidden")):(ft.hidden=!1,ft.removeAttribute("aria-hidden"),ft.classList.remove("ion-page-hidden"))},we=(ft,nt,U)=>{void 0!==ft&&(ft.style.zIndex="back"===U?"99":"101"),void 0!==nt&&(nt.style.zIndex="100")},ye=ft=>ft.classList.contains("ion-page")?ft:ft.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ft},6225:(gn,ht,O)=>{"use strict";O.d(ht,{d:()=>H,w:()=>d});const d=typeof window<"u"?window:void 0,H=typeof document<"u"?document:void 0},5349:(gn,ht,O)=>{"use strict";O.d(ht,{B:()=>Qe,H:()=>Ze,a:()=>En,b:()=>Pr,c:()=>jt,d:()=>Kt,e:()=>dn,f:()=>mn,g:()=>Ht,h:()=>rt,i:()=>pe,j:()=>ze,r:()=>Bn,w:()=>wr});var d=O(5861);let de,xe,re,ge=!1,We=!1,Ke=!1,Ae=!1,Te=!1;const Qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ze=z=>{const ne=new URL(z,On.$resourcesUrl$);return ne.origin!==Cn.location.origin?ne.href:ne.pathname},Dt="s-id",De="sty-id",Fe="slot-fb{display:contents}slot-fb[hidden]{display:none}",me="http://www.w3.org/1999/xlink",Re={},nt=z=>"object"==(z=typeof z)||"function"===z;function U(z){var ne,$e,it;return null!==(it=null===($e=null===(ne=z.head)||void 0===ne?void 0:ne.querySelector('meta[name="csp-nonce"]'))||void 0===$e?void 0:$e.getAttribute("content"))&&void 0!==it?it:void 0}const rt=(z,ne,...$e)=>{let it=null,Mt=null,vt=null,Zt=!1,ln=!1;const Xt=[],qt=Un=>{for(let pr=0;pr<Un.length;pr++)it=Un[pr],Array.isArray(it)?qt(it):null!=it&&"boolean"!=typeof it&&((Zt="function"!=typeof z&&!nt(it))&&(it=String(it)),Zt&&ln?Xt[Xt.length-1].$text$+=it:Xt.push(Zt?It(null,it):it),ln=Zt)};if(qt($e),ne){ne.key&&(Mt=ne.key),ne.name&&(vt=ne.name);{const Un=ne.className||ne.class;Un&&(ne.class="object"!=typeof Un?Un:Object.keys(Un).filter(pr=>Un[pr]).join(" "))}}if("function"==typeof z)return z(null===ne?{}:ne,Xt,Q);const vn=It(z,null);return vn.$attrs$=ne,Xt.length>0&&(vn.$children$=Xt),vn.$key$=Mt,vn.$name$=vt,vn},It=(z,ne)=>({$flags$:0,$tag$:z,$text$:ne,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ze={},Q={forEach:(z,ne)=>z.map(K).forEach(ne),map:(z,ne)=>z.map(K).map(ne).map(ie)},K=z=>({vattrs:z.$attrs$,vchildren:z.$children$,vkey:z.$key$,vname:z.$name$,vtag:z.$tag$,vtext:z.$text$}),ie=z=>{if("function"==typeof z.vtag){const $e=Object.assign({},z.vattrs);return z.vkey&&($e.key=z.vkey),z.vname&&($e.name=z.vname),rt(z.vtag,$e,...z.vchildren||[])}const ne=It(z.vtag,z.vtext);return ne.$attrs$=z.vattrs,ne.$children$=z.vchildren,ne.$key$=z.vkey,ne.$name$=z.vname,ne},Ve=(z,ne,$e,it,Mt,vt,Zt)=>{let ln,Xt,qt,vn;if(1===vt.nodeType){for(ln=vt.getAttribute("c-id"),ln&&(Xt=ln.split("."),(Xt[0]===Zt||"0"===Xt[0])&&(qt={$flags$:0,$hostId$:Xt[0],$nodeId$:Xt[1],$depth$:Xt[2],$index$:Xt[3],$tag$:vt.tagName.toLowerCase(),$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ne.push(qt),vt.removeAttribute("c-id"),z.$children$||(z.$children$=[]),z.$children$[qt.$index$]=qt,z=qt,it&&"0"===qt.$depth$&&(it[qt.$index$]=qt.$elm$))),vn=vt.childNodes.length-1;vn>=0;vn--)Ve(z,ne,$e,it,Mt,vt.childNodes[vn],Zt);if(vt.shadowRoot)for(vn=vt.shadowRoot.childNodes.length-1;vn>=0;vn--)Ve(z,ne,$e,it,Mt,vt.shadowRoot.childNodes[vn],Zt)}else if(8===vt.nodeType)Xt=vt.nodeValue.split("."),(Xt[1]===Zt||"0"===Xt[1])&&(ln=Xt[0],qt={$flags$:0,$hostId$:Xt[1],$nodeId$:Xt[2],$depth$:Xt[3],$index$:Xt[4],$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ln?(qt.$elm$=vt.nextSibling,qt.$elm$&&3===qt.$elm$.nodeType&&(qt.$text$=qt.$elm$.textContent,ne.push(qt),vt.remove(),z.$children$||(z.$children$=[]),z.$children$[qt.$index$]=qt,it&&"0"===qt.$depth$&&(it[qt.$index$]=qt.$elm$))):qt.$hostId$===Zt&&("s"===ln?(qt.$tag$="slot",vt["s-sn"]=Xt[5]?qt.$name$=Xt[5]:"",vt["s-sr"]=!0,it&&(qt.$elm$=yn.createElement(qt.$tag$),qt.$name$&&qt.$elm$.setAttribute("name",qt.$name$),vt.parentNode.insertBefore(qt.$elm$,vt),vt.remove(),"0"===qt.$depth$&&(it[qt.$index$]=qt.$elm$)),$e.push(qt),z.$children$||(z.$children$=[]),z.$children$[qt.$index$]=qt):"r"===ln&&(it?vt.remove():(Mt["s-cr"]=vt,vt["s-cn"]=!0))));else if(z&&"style"===z.$tag$){const Un=It(null,vt.textContent);Un.$elm$=vt,Un.$index$="0",z.$children$=[Un]}},je=(z,ne)=>{if(1===z.nodeType){let $e=0;for(;$e<z.childNodes.length;$e++)je(z.childNodes[$e],ne);if(z.shadowRoot)for($e=0;$e<z.shadowRoot.childNodes.length;$e++)je(z.shadowRoot.childNodes[$e],ne)}else if(8===z.nodeType){const $e=z.nodeValue.split(".");"o"===$e[0]&&(ne.set($e[1]+"."+$e[2],z),z.nodeValue="",z["s-en"]=$e[3])}},jt=z=>Wt.push(z),Ht=z=>qn(z).$modeName$,mn=z=>qn(z).$hostElement$,Kt=(z,ne,$e)=>{const it=mn(z);return{emit:Mt=>Pt(it,ne,{bubbles:!!(4&$e),composed:!!(2&$e),cancelable:!!(1&$e),detail:Mt})}},Pt=(z,ne,$e)=>{const it=On.ce(ne,$e);return z.dispatchEvent(it),it},Nt=new WeakMap,Bt=(z,ne,$e)=>{let it=Ut.get(z);ee&&$e?(it=it||new CSSStyleSheet,"string"==typeof it?it=ne:it.replaceSync(ne)):it=ne,Ut.set(z,it)},nn=(z,ne,$e)=>{var it;const Mt=Gn(ne,$e),vt=Ut.get(Mt);if(z=11===z.nodeType?z:yn,vt)if("string"==typeof vt){let ln,Zt=Nt.get(z=z.head||z);if(Zt||Nt.set(z,Zt=new Set),!Zt.has(Mt)){if(z.host&&(ln=z.querySelector(`[${De}="${Mt}"]`)))ln.innerHTML=vt;else{ln=yn.createElement("style"),ln.innerHTML=vt;const Xt=null!==(it=On.$nonce$)&&void 0!==it?it:U(yn);null!=Xt&&ln.setAttribute("nonce",Xt),z.insertBefore(ln,z.querySelector("link"))}4&ne.$flags$&&(ln.innerHTML+=Fe),Zt&&Zt.add(Mt)}}else z.adoptedStyleSheets.includes(vt)||(z.adoptedStyleSheets=[...z.adoptedStyleSheets,vt]);return Mt},Gn=(z,ne)=>"sc-"+(ne&&32&z.$flags$?z.$tagName$+"-"+ne:z.$tagName$),lr=z=>z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),In=(z,ne,$e,it,Mt,vt)=>{if($e!==it){let Zt=dt(z,ne),ln=ne.toLowerCase();if("class"===ne){const Xt=z.classList,qt=bn($e),vn=bn(it);Xt.remove(...qt.filter(Un=>Un&&!vn.includes(Un))),Xt.add(...vn.filter(Un=>Un&&!qt.includes(Un)))}else if("style"===ne){for(const Xt in $e)(!it||null==it[Xt])&&(Xt.includes("-")?z.style.removeProperty(Xt):z.style[Xt]="");for(const Xt in it)(!$e||it[Xt]!==$e[Xt])&&(Xt.includes("-")?z.style.setProperty(Xt,it[Xt]):z.style[Xt]=it[Xt])}else if("key"!==ne)if("ref"===ne)it&&it(z);else if(Zt||"o"!==ne[0]||"n"!==ne[1]){const Xt=nt(it);if((Zt||Xt&&null!==it)&&!Mt)try{if(z.tagName.includes("-"))z[ne]=it;else{const vn=null==it?"":it;"list"===ne?Zt=!1:(null==$e||z[ne]!=vn)&&(z[ne]=vn)}}catch{}let qt=!1;ln!==(ln=ln.replace(/^xlink\:?/,""))&&(ne=ln,qt=!0),null==it||!1===it?(!1!==it||""===z.getAttribute(ne))&&(qt?z.removeAttributeNS(me,ne):z.removeAttribute(ne)):(!Zt||4&vt||Mt)&&!Xt&&(it=!0===it?"":it,qt?z.setAttributeNS(me,ne,it):z.setAttribute(ne,it))}else if(ne="-"===ne[2]?ne.slice(3):dt(Cn,ln)?ln.slice(2):ln[2]+ne.slice(3),$e||it){const Xt=ne.endsWith(ci);ne=ne.replace(Jn,""),$e&&On.rel(z,ne,$e,Xt),it&&On.ael(z,ne,it,Xt)}}},Qn=/\s/,bn=z=>z?z.split(Qn):[],ci="Capture",Jn=new RegExp(ci+"$"),cr=(z,ne,$e,it)=>{const Mt=11===ne.$elm$.nodeType&&ne.$elm$.host?ne.$elm$.host:ne.$elm$,vt=z&&z.$attrs$||Re,Zt=ne.$attrs$||Re;for(it in vt)it in Zt||In(Mt,it,vt[it],void 0,$e,ne.$flags$);for(it in Zt)In(Mt,it,vt[it],Zt[it],$e,ne.$flags$)},xn=(z,ne,$e,it)=>{var Mt;const vt=ne.$children$[$e];let ln,Xt,qt,Zt=0;if(ge||(Ke=!0,"slot"===vt.$tag$&&(de&&it.classList.add(de+"-s"),vt.$flags$|=vt.$children$?2:1)),null!==vt.$text$)ln=vt.$elm$=yn.createTextNode(vt.$text$);else if(1&vt.$flags$)ln=vt.$elm$=yn.createTextNode("");else{if(Ae||(Ae="svg"===vt.$tag$),ln=vt.$elm$=yn.createElementNS(Ae?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&vt.$flags$?"slot-fb":vt.$tag$),Ae&&"foreignObject"===vt.$tag$&&(Ae=!1),cr(null,vt,Ae),(z=>null!=z)(de)&&ln["s-si"]!==de&&ln.classList.add(ln["s-si"]=de),vt.$children$)for(Zt=0;Zt<vt.$children$.length;++Zt)Xt=xn(z,vt,Zt,ln),Xt&&ln.appendChild(Xt);"svg"===vt.$tag$?Ae=!1:"foreignObject"===ln.tagName&&(Ae=!0)}return ln["s-hn"]=re,3&vt.$flags$&&(ln["s-sr"]=!0,ln["s-fs"]=null===(Mt=vt.$attrs$)||void 0===Mt?void 0:Mt.slot,ln["s-cr"]=xe,ln["s-sn"]=vt.$name$||"",qt=z&&z.$children$&&z.$children$[$e],qt&&qt.$tag$===vt.$tag$&&z.$elm$&&ui(z.$elm$,!1)),ln},ui=(z,ne)=>{var $e;On.$flags$|=1;const it=z.childNodes;for(let Mt=it.length-1;Mt>=0;Mt--){const vt=it[Mt];vt["s-hn"]!==re&&vt["s-ol"]&&(Ir(vt).insertBefore(vt,Ci(vt)),vt["s-ol"].remove(),vt["s-ol"]=void 0,vt["s-sh"]=void 0,1===vt.nodeType&&vt.setAttribute("slot",null!==($e=vt["s-sn"])&&void 0!==$e?$e:""),Ke=!0),ne&&ui(vt,ne)}On.$flags$&=-2},qr=(z,ne,$e,it,Mt,vt)=>{let ln,Zt=z["s-cr"]&&z["s-cr"].parentNode||z;for(Zt.shadowRoot&&Zt.tagName===re&&(Zt=Zt.shadowRoot);Mt<=vt;++Mt)it[Mt]&&(ln=xn(null,$e,Mt,z),ln&&(it[Mt].$elm$=ln,Zt.insertBefore(ln,Ci(ne))))},Sn=(z,ne,$e)=>{for(let it=ne;it<=$e;++it){const Mt=z[it];if(Mt){const vt=Mt.$elm$;fi(Mt),vt&&(We=!0,vt["s-ol"]?vt["s-ol"].remove():ui(vt,!0),vt.remove())}}},ir=(z,ne)=>z.$tag$===ne.$tag$&&("slot"===z.$tag$?z.$name$===ne.$name$:z.$key$===ne.$key$),Ci=z=>z&&z["s-ol"]||z,Ir=z=>(z["s-ol"]?z["s-ol"]:z).parentNode,pn=(z,ne)=>{const $e=ne.$elm$=z.$elm$,it=z.$children$,Mt=ne.$children$,vt=ne.$tag$,Zt=ne.$text$;let ln;null===Zt?(Ae="svg"===vt||"foreignObject"!==vt&&Ae,"slot"===vt||cr(z,ne,Ae),null!==it&&null!==Mt?((z,ne,$e,it)=>{let Jr,R,Mt=0,vt=0,Zt=0,ln=0,Xt=ne.length-1,qt=ne[0],vn=ne[Xt],Un=it.length-1,pr=it[0],Mr=it[Un];for(;Mt<=Xt&&vt<=Un;)if(null==qt)qt=ne[++Mt];else if(null==vn)vn=ne[--Xt];else if(null==pr)pr=it[++vt];else if(null==Mr)Mr=it[--Un];else if(ir(qt,pr))pn(qt,pr),qt=ne[++Mt],pr=it[++vt];else if(ir(vn,Mr))pn(vn,Mr),vn=ne[--Xt],Mr=it[--Un];else if(ir(qt,Mr))("slot"===qt.$tag$||"slot"===Mr.$tag$)&&ui(qt.$elm$.parentNode,!1),pn(qt,Mr),z.insertBefore(qt.$elm$,vn.$elm$.nextSibling),qt=ne[++Mt],Mr=it[--Un];else if(ir(vn,pr))("slot"===qt.$tag$||"slot"===Mr.$tag$)&&ui(vn.$elm$.parentNode,!1),pn(vn,pr),z.insertBefore(vn.$elm$,qt.$elm$),vn=ne[--Xt],pr=it[++vt];else{for(Zt=-1,ln=Mt;ln<=Xt;++ln)if(ne[ln]&&null!==ne[ln].$key$&&ne[ln].$key$===pr.$key$){Zt=ln;break}Zt>=0?(R=ne[Zt],R.$tag$!==pr.$tag$?Jr=xn(ne&&ne[vt],$e,Zt,z):(pn(R,pr),ne[Zt]=void 0,Jr=R.$elm$),pr=it[++vt]):(Jr=xn(ne&&ne[vt],$e,vt,z),pr=it[++vt]),Jr&&Ir(qt.$elm$).insertBefore(Jr,Ci(qt.$elm$))}Mt>Xt?qr(z,null==it[Un+1]?null:it[Un+1].$elm$,$e,it,vt,Un):vt>Un&&Sn(ne,Mt,Xt)})($e,it,ne,Mt):null!==Mt?(null!==z.$text$&&($e.textContent=""),qr($e,null,ne,Mt,0,Mt.length-1)):null!==it&&Sn(it,0,it.length-1),Ae&&"svg"===vt&&(Ae=!1)):(ln=$e["s-cr"])?ln.parentNode.textContent=Zt:z.$text$!==Zt&&($e.data=Zt)},sr=z=>{const ne=z.childNodes;for(const $e of ne)if(1===$e.nodeType){if($e["s-sr"]){const it=$e["s-sn"];$e.hidden=!1;for(const Mt of ne)if(Mt!==$e)if(Mt["s-hn"]!==$e["s-hn"]||""!==it){if(1===Mt.nodeType&&(it===Mt.getAttribute("slot")||it===Mt["s-sn"])){$e.hidden=!0;break}}else if(1===Mt.nodeType||3===Mt.nodeType&&""!==Mt.textContent.trim()){$e.hidden=!0;break}}sr($e)}},br=[],$r=z=>{let ne,$e,it;for(const Mt of z.childNodes){if(Mt["s-sr"]&&(ne=Mt["s-cr"])&&ne.parentNode){$e=ne.parentNode.childNodes;const vt=Mt["s-sn"];for(it=$e.length-1;it>=0;it--)if(ne=$e[it],!ne["s-cn"]&&!ne["s-nr"]&&ne["s-hn"]!==Mt["s-hn"])if(ki(ne,vt)){let Zt=br.find(ln=>ln.$nodeToRelocate$===ne);We=!0,ne["s-sn"]=ne["s-sn"]||vt,Zt?(Zt.$nodeToRelocate$["s-sh"]=Mt["s-hn"],Zt.$slotRefNode$=Mt):(ne["s-sh"]=Mt["s-hn"],br.push({$slotRefNode$:Mt,$nodeToRelocate$:ne})),ne["s-sr"]&&br.map(ln=>{ki(ln.$nodeToRelocate$,ne["s-sn"])&&(Zt=br.find(Xt=>Xt.$nodeToRelocate$===ne),Zt&&!ln.$slotRefNode$&&(ln.$slotRefNode$=Zt.$slotRefNode$))})}else br.some(Zt=>Zt.$nodeToRelocate$===ne)||br.push({$nodeToRelocate$:ne})}1===Mt.nodeType&&$r(Mt)}},ki=(z,ne)=>1===z.nodeType?null===z.getAttribute("slot")&&""===ne||z.getAttribute("slot")===ne:z["s-sn"]===ne||""===ne,fi=z=>{z.$attrs$&&z.$attrs$.ref&&z.$attrs$.ref(null),z.$children$&&z.$children$.map(fi)},ri=(z,ne)=>{ne&&!z.$onRenderResolve$&&ne["s-p"]&&ne["s-p"].push(new Promise($e=>z.$onRenderResolve$=$e))},ii=(z,ne)=>{if(z.$flags$|=16,!(4&z.$flags$))return ri(z,z.$ancestorComponent$),wr(()=>Zn(z,ne));z.$flags$|=512},Zn=(z,ne)=>{const it=z.$lazyInstance$;let Mt;return ne&&(z.$flags$|=256,z.$queuedListeners$&&(z.$queuedListeners$.map(([vt,Zt])=>ke(it,vt,Zt)),z.$queuedListeners$=void 0),Mt=ke(it,"componentWillLoad")),Mt=er(Mt,()=>ke(it,"componentWillRender")),er(Mt,()=>bi(z,it,ne))},er=(z,ne)=>mi(z)?z.then(ne):ne(),mi=z=>z instanceof Promise||z&&z.then&&"function"==typeof z.then,bi=function(){var z=(0,d.Z)(function*(ne,$e,it){var Mt;const vt=ne.$hostElement$,ln=vt["s-rc"];it&&(z=>{const ne=z.$cmpMeta$,$e=z.$hostElement$,it=ne.$flags$,vt=nn($e.shadowRoot?$e.shadowRoot:$e.getRootNode(),ne,z.$modeName$);10&it&&($e["s-sc"]=vt,$e.classList.add(vt+"-h"),2&it&&$e.classList.add(vt+"-s"))})(ne);Ui(ne,$e,vt,it),ln&&(ln.map(qt=>qt()),vt["s-rc"]=void 0);{const qt=null!==(Mt=vt["s-p"])&&void 0!==Mt?Mt:[],vn=()=>at(ne);0===qt.length?vn():(Promise.all(qt).then(vn),ne.$flags$|=4,qt.length=0)}});return function($e,it,Mt){return z.apply(this,arguments)}}(),Ui=(z,ne,$e,it)=>{try{ne=ne.render&&ne.render(),z.$flags$&=-17,z.$flags$|=2,((z,ne,$e=!1)=>{var it,Mt;const vt=z.$hostElement$,Zt=z.$cmpMeta$,ln=z.$vnode$||It(null,null),Xt=(z=>z&&z.$tag$===Ze)(ne)?ne:rt(null,null,ne);if(re=vt.tagName,Zt.$attrsToReflect$&&(Xt.$attrs$=Xt.$attrs$||{},Zt.$attrsToReflect$.map(([qt,vn])=>Xt.$attrs$[vn]=vt[qt])),$e&&Xt.$attrs$)for(const qt of Object.keys(Xt.$attrs$))vt.hasAttribute(qt)&&!["key","ref","style","class"].includes(qt)&&(Xt.$attrs$[qt]=vt[qt]);if(Xt.$tag$=null,Xt.$flags$|=4,z.$vnode$=Xt,Xt.$elm$=ln.$elm$=vt.shadowRoot||vt,de=vt["s-sc"],xe=vt["s-cr"],ge=0!=(1&Zt.$flags$),We=!1,pn(ln,Xt),On.$flags$|=1,Ke){$r(Xt.$elm$);for(const qt of br){const vn=qt.$nodeToRelocate$;if(!vn["s-ol"]){const Un=yn.createTextNode("");Un["s-nr"]=vn,vn.parentNode.insertBefore(vn["s-ol"]=Un,vn)}}for(const qt of br){const vn=qt.$nodeToRelocate$,Un=qt.$slotRefNode$;if(Un){const pr=Un.parentNode;let Mr=Un.nextSibling;{let Jr=null===(it=vn["s-ol"])||void 0===it?void 0:it.previousSibling;for(;Jr;){let R=null!==(Mt=Jr["s-nr"])&&void 0!==Mt?Mt:null;if(R&&R["s-sn"]===vn["s-sn"]&&pr===R.parentNode&&(R=R.nextSibling,!R||!R["s-nr"])){Mr=R;break}Jr=Jr.previousSibling}}(!Mr&&pr!==vn.parentNode||vn.nextSibling!==Mr)&&vn!==Mr&&(!vn["s-hn"]&&vn["s-ol"]&&(vn["s-hn"]=vn["s-ol"].parentNode.nodeName),pr.insertBefore(vn,Mr))}else 1===vn.nodeType&&(vn.hidden=!0)}}We&&sr(Xt.$elm$),On.$flags$&=-2,br.length=0})(z,ne,it)}catch(Mt){Ye(Mt,z.$hostElement$)}return null},at=z=>{const $e=z.$hostElement$,Mt=z.$lazyInstance$,vt=z.$ancestorComponent$;ke(Mt,"componentDidRender"),64&z.$flags$?ke(Mt,"componentDidUpdate"):(z.$flags$|=64,le($e),ke(Mt,"componentDidLoad"),z.$onReadyResolve$($e),vt||se()),z.$onInstanceResolve$($e),z.$onRenderResolve$&&(z.$onRenderResolve$(),z.$onRenderResolve$=void 0),512&z.$flags$&&Fn(()=>ii(z,!1)),z.$flags$&=-517},pe=z=>{{const ne=qn(z),$e=ne.$hostElement$.isConnected;return $e&&2==(18&ne.$flags$)&&ii(ne,!1),$e}},se=z=>{le(yn.documentElement),Fn(()=>Pt(Cn,"appload",{detail:{namespace:"ionic"}}))},ke=(z,ne,$e)=>{if(z&&z[ne])try{return z[ne]($e)}catch(it){Ye(it)}},le=z=>z.classList.add("hydrated"),Yt=(z,ne,$e)=>{var it;if(ne.$members$){z.watchers&&(ne.$watchers$=z.watchers);const Mt=Object.entries(ne.$members$),vt=z.prototype;if(Mt.map(([Zt,[ln]])=>{31&ln||2&$e&&32&ln?Object.defineProperty(vt,Zt,{get(){return((z,ne)=>qn(this).$instanceValues$.get(ne))(0,Zt)},set(Xt){((z,ne,$e,it)=>{const Mt=qn(z),vt=Mt.$hostElement$,Zt=Mt.$instanceValues$.get(ne),ln=Mt.$flags$,Xt=Mt.$lazyInstance$;$e=((z,ne)=>null==z||nt(z)?z:4&ne?"false"!==z&&(""===z||!!z):2&ne?parseFloat(z):1&ne?String(z):z)($e,it.$members$[ne][0]);const qt=Number.isNaN(Zt)&&Number.isNaN($e);if((!(8&ln)||void 0===Zt)&&$e!==Zt&&!qt&&(Mt.$instanceValues$.set(ne,$e),Xt)){if(it.$watchers$&&128&ln){const Un=it.$watchers$[ne];Un&&Un.map(pr=>{try{Xt[pr]($e,Zt,ne)}catch(Mr){Ye(Mr,vt)}})}2==(18&ln)&&ii(Mt,!1)}})(this,Zt,Xt,ne)},configurable:!0,enumerable:!0}):1&$e&&64&ln&&Object.defineProperty(vt,Zt,{value(...Xt){const qt=qn(this);return qt.$onInstancePromise$.then(()=>qt.$lazyInstance$[Zt](...Xt))}})}),1&$e){const Zt=new Map;vt.attributeChangedCallback=function(ln,Xt,qt){On.jmp(()=>{const vn=Zt.get(ln);if(this.hasOwnProperty(vn))qt=this[vn],delete this[vn];else{if(vt.hasOwnProperty(vn)&&"number"==typeof this[vn]&&this[vn]==qt)return;if(null==vn){const Un=qn(this),pr=null==Un?void 0:Un.$flags$;if(!(8&pr)&&128&pr&&qt!==Xt){const Mr=Un.$lazyInstance$,Jr=ne.$watchers$[ln];null==Jr||Jr.forEach(R=>{null!=Mr[R]&&Mr[R].call(Mr,qt,Xt,ln)})}return}}this[vn]=(null!==qt||"boolean"!=typeof this[vn])&&qt})},z.observedAttributes=Array.from(new Set([...Object.keys(null!==(it=ne.$watchers$)&&void 0!==it?it:{}),...Mt.filter(([ln,Xt])=>15&Xt[0]).map(([ln,Xt])=>{const qt=Xt[1]||ln;return Zt.set(qt,ln),512&Xt[0]&&ne.$attrsToReflect$.push([ln,qt]),qt})]))}}return z},Wn=function(){var z=(0,d.Z)(function*(ne,$e,it,Mt){let vt;if(!(32&$e.$flags$)){$e.$flags$|=32;{if(vt=Et(it),vt.then){const qt=()=>{};vt=yield vt,qt()}vt.isProxied||(it.$watchers$=vt.watchers,Yt(vt,it,2),vt.isProxied=!0);const Xt=()=>{};$e.$flags$|=8;try{new vt($e)}catch(qt){Ye(qt)}$e.$flags$&=-9,$e.$flags$|=128,Xt(),Xn($e.$lazyInstance$)}if(vt.style){let Xt=vt.style;"string"!=typeof Xt&&(Xt=Xt[$e.$modeName$=(z=>Wt.map(ne=>ne(z)).find(ne=>!!ne))(ne)]);const qt=Gn(it,$e.$modeName$);if(!Ut.has(qt)){const vn=()=>{};Bt(qt,Xt,!!(1&it.$flags$)),vn()}}}const Zt=$e.$ancestorComponent$,ln=()=>ii($e,!0);Zt&&Zt["s-rc"]?Zt["s-rc"].push(ln):ln()});return function($e,it,Mt,vt){return z.apply(this,arguments)}}(),Xn=z=>{ke(z,"connectedCallback")},kn=z=>{const ne=z["s-cr"]=yn.createComment("");ne["s-cn"]=!0,z.insertBefore(ne,z.firstChild)},hr=z=>{ke(z,"disconnectedCallback")},wi=function(){var z=(0,d.Z)(function*(ne){if(!(1&On.$flags$)){const $e=qn(ne);$e.$rmListeners$&&($e.$rmListeners$.map(it=>it()),$e.$rmListeners$=void 0),null!=$e&&$e.$lazyInstance$?hr($e.$lazyInstance$):null!=$e&&$e.$onReadyPromise$&&$e.$onReadyPromise$.then(()=>hr($e.$lazyInstance$))}});return function($e){return z.apply(this,arguments)}}(),Pr=(z,ne={})=>{var $e;const Mt=[],vt=ne.exclude||[],Zt=Cn.customElements,ln=yn.head,Xt=ln.querySelector("meta[charset]"),qt=yn.createElement("style"),vn=[],Un=yn.querySelectorAll(`[${De}]`);let pr,Mr=!0,Jr=0;for(Object.assign(On,ne),On.$resourcesUrl$=new URL(ne.resourcesUrl||"./",yn.baseURI).href,On.$flags$|=2;Jr<Un.length;Jr++)Bt(Un[Jr].getAttribute(De),lr(Un[Jr].innerHTML),!0);let R=!1;if(z.map(Ee=>{Ee[1].map(V=>{var be;const gt={$flags$:V[0],$tagName$:V[1],$members$:V[2],$listeners$:V[3]};4&gt.$flags$&&(R=!0),gt.$members$=V[2],gt.$listeners$=V[3],gt.$attrsToReflect$=[],gt.$watchers$=null!==(be=V[4])&&void 0!==be?be:{};const _r=gt.$tagName$,zr=class extends HTMLElement{constructor(Ti){super(Ti),Yr(Ti=this,gt),1&gt.$flags$&&Ti.attachShadow({mode:"open",delegatesFocus:!!(16&gt.$flags$)})}connectedCallback(){pr&&(clearTimeout(pr),pr=null),Mr?vn.push(this):On.jmp(()=>(z=>{if(!(1&On.$flags$)){const ne=qn(z),$e=ne.$cmpMeta$,it=()=>{};if(1&ne.$flags$)Wi(z,ne,$e.$listeners$),null!=ne&&ne.$lazyInstance$?Xn(ne.$lazyInstance$):null!=ne&&ne.$onReadyPromise$&&ne.$onReadyPromise$.then(()=>Xn(ne.$lazyInstance$));else{let Mt;if(ne.$flags$|=1,Mt=z.getAttribute(Dt),Mt){if(1&$e.$flags$){const vt=nn(z.shadowRoot,$e,z.getAttribute("s-mode"));z.classList.remove(vt+"-h",vt+"-s")}((z,ne,$e,it)=>{const vt=z.shadowRoot,Zt=[],Xt=vt?[]:null,qt=it.$vnode$=It(ne,null);On.$orgLocNodes$||je(yn.body,On.$orgLocNodes$=new Map),z[Dt]=$e,z.removeAttribute(Dt),Ve(qt,Zt,[],Xt,z,z,$e),Zt.map(vn=>{const Un=vn.$hostId$+"."+vn.$nodeId$,pr=On.$orgLocNodes$.get(Un),Mr=vn.$elm$;pr&&_e&&""===pr["s-en"]&&pr.parentNode.insertBefore(Mr,pr.nextSibling),vt||(Mr["s-hn"]=ne,pr&&(Mr["s-ol"]=pr,Mr["s-ol"]["s-nr"]=Mr)),On.$orgLocNodes$.delete(Un)}),vt&&Xt.map(vn=>{vn&&vt.appendChild(vn)})})(z,$e.$tagName$,Mt,ne)}Mt||12&$e.$flags$&&kn(z);{let vt=z;for(;vt=vt.parentNode||vt.host;)if(1===vt.nodeType&&vt.hasAttribute("s-id")&&vt["s-p"]||vt["s-p"]){ri(ne,ne.$ancestorComponent$=vt);break}}$e.$members$&&Object.entries($e.$members$).map(([vt,[Zt]])=>{if(31&Zt&&z.hasOwnProperty(vt)){const ln=z[vt];delete z[vt],z[vt]=ln}}),Wn(z,ne,$e)}it()}})(this))}disconnectedCallback(){On.jmp(()=>wi(this))}componentOnReady(){return qn(this).$onReadyPromise$}};gt.$lazyBundleId$=Ee[0],!vt.includes(_r)&&!Zt.get(_r)&&(Mt.push(_r),Zt.define(_r,Yt(zr,gt,1)))})}),R&&(qt.innerHTML+=Fe),qt.innerHTML+=Mt+"{visibility:hidden}.hydrated{visibility:inherit}",qt.innerHTML.length){qt.setAttribute("data-styles",""),ln.insertBefore(qt,Xt?Xt.nextSibling:ln.firstChild);const Ee=null!==($e=On.$nonce$)&&void 0!==$e?$e:U(yn);null!=Ee&&qt.setAttribute("nonce",Ee)}Mr=!1,vn.length?vn.map(Ee=>Ee.connectedCallback()):On.jmp(()=>pr=setTimeout(se,30))},Wi=(z,ne,$e,it)=>{$e&&$e.map(([Mt,vt,Zt])=>{const ln=ct(z,Mt),Xt=Rt(ne,Zt),qt=Jt(Mt);On.ael(ln,vt,Xt,qt),(ne.$rmListeners$=ne.$rmListeners$||[]).push(()=>On.rel(ln,vt,Xt,qt))})},Rt=(z,ne)=>$e=>{try{256&z.$flags$?z.$lazyInstance$[ne]($e):(z.$queuedListeners$=z.$queuedListeners$||[]).push([ne,$e])}catch(it){Ye(it)}},ct=(z,ne)=>4&ne?yn:8&ne?Cn:16&ne?yn.body:z,Jt=z=>0!=(2&z),jn=new WeakMap,qn=z=>jn.get(z),Bn=(z,ne)=>jn.set(ne.$lazyInstance$=z,ne),Yr=(z,ne)=>{const $e={$flags$:0,$hostElement$:z,$cmpMeta$:ne,$instanceValues$:new Map};return $e.$onInstancePromise$=new Promise(it=>$e.$onInstanceResolve$=it),$e.$onReadyPromise$=new Promise(it=>$e.$onReadyResolve$=it),z["s-p"]=[],z["s-rc"]=[],Wi(z,$e,ne.$listeners$),jn.set(z,$e)},dt=(z,ne)=>ne in z,Ye=(z,ne)=>(0,console.error)(z,ne),At=new Map,Et=(z,ne,$e)=>{const it=z.$tagName$.replace(/-/g,"_"),Mt=z.$lazyBundleId$,vt=At.get(Mt);return vt?vt[it]:O(863)(`./${Mt}.entry.js`).then(Zt=>(At.set(Mt,Zt),Zt[it]),Ye)},Ut=new Map,Wt=[],Cn=typeof window<"u"?window:{},yn=Cn.document||{head:{}},On={$flags$:0,$resourcesUrl$:"",jmp:z=>z(),raf:z=>requestAnimationFrame(z),ael:(z,ne,$e,it)=>z.addEventListener(ne,$e,it),rel:(z,ne,$e,it)=>z.removeEventListener(ne,$e,it),ce:(z,ne)=>new CustomEvent(z,ne)},En=z=>{Object.assign(On,z)},_e=!0,ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Se=[],pt=[],Vt=(z,ne)=>$e=>{z.push($e),Te||(Te=!0,ne&&4&On.$flags$?Fn(on):On.raf(on))},$t=z=>{for(let ne=0;ne<z.length;ne++)try{z[ne](performance.now())}catch($e){Ye($e)}z.length=0},on=()=>{$t(Se),$t(pt),(Te=Se.length>0)&&On.raf(on)},Fn=z=>Promise.resolve(void 0).then(z),dn=Vt(Se,!1),wr=Vt(pt,!0)},9203:(gn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ke});var d=O(619);const H=(ze,He,Ge,mt)=>{const Xe=J(ze)?{capture:!!mt.capture,passive:!!mt.passive}:!!mt.capture;let Je,ot;return ze.__zone_symbol__addEventListener?(Je="__zone_symbol__addEventListener",ot="__zone_symbol__removeEventListener"):(Je="addEventListener",ot="removeEventListener"),ze[Je](He,Ge,Xe),()=>{ze[ot](He,Ge,Xe)}},J=ze=>{if(void 0===de)try{const He=Object.defineProperty({},"passive",{get:()=>{de=!0}});ze.addEventListener("optsTest",()=>{},He)}catch{de=!1}return!!de};let de;const ge=ze=>ze instanceof Document?ze:ze.ownerDocument,Ke=ze=>{let He=!1,Ge=!1,mt=!0,Xe=!1;const Je=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ze),ot=Je.canStart,Dt=Je.onWillStart,De=Je.onStart,qe=Je.onEnd,et=Je.notCaptured,Fe=Je.onMove,me=Je.threshold,Re=Je.passive,we=Je.blurOnStart,ye={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ft=((ze,He,Ge)=>{const mt=Ge*(Math.PI/180),Xe="x"===ze,Je=Math.cos(mt),ot=He*He;let Dt=0,De=0,qe=!1,et=0;return{start(Fe,me){Dt=Fe,De=me,et=0,qe=!0},detect(Fe,me){if(!qe)return!1;const Re=Fe-Dt,we=me-De,ye=Re*Re+we*we;if(ye<ot)return!1;const ft=Math.sqrt(ye),nt=(Xe?Re:we)/ft;return et=nt>Je?1:nt<-Je?-1:0,qe=!1,!0},isGesture:()=>0!==et,getDirection:()=>et}})(Je.direction,Je.threshold,Je.maxAngle),nt=d.G.createGesture({name:ze.gestureName,priority:ze.gesturePriority,disableScroll:ze.disableScroll}),It=()=>{He&&(Xe=!1,Fe&&Fe(ye))},Ze=()=>!!nt.capture()&&(He=!0,mt=!1,ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime,Dt?Dt(ye).then(Q):Q(),!0),Q=()=>{we&&(()=>{if(typeof document<"u"){const je=document.activeElement;null!=je&&je.blur&&je.blur()}})(),De&&De(ye),mt=!0},K=()=>{He=!1,Ge=!1,Xe=!1,mt=!0,nt.release()},ie=je=>{const wt=He,jt=mt;if(K(),jt){if(Ae(ye,je),wt)return void(qe&&qe(ye));et&&et(ye)}},he=((ze,He,Ge,mt,Xe)=>{let Je,ot,Dt,De,qe,et,Fe,me=0;const Re=oe=>{me=Date.now()+2e3,He(oe)&&(!ot&&Ge&&(ot=H(ze,"touchmove",Ge,Xe)),Dt||(Dt=H(oe.target,"touchend",ye,Xe)),De||(De=H(oe.target,"touchcancel",ye,Xe)))},we=oe=>{me>Date.now()||He(oe)&&(!et&&Ge&&(et=H(ge(ze),"mousemove",Ge,Xe)),Fe||(Fe=H(ge(ze),"mouseup",ft,Xe)))},ye=oe=>{nt(),mt&&mt(oe)},ft=oe=>{U(),mt&&mt(oe)},nt=()=>{ot&&ot(),Dt&&Dt(),De&&De(),ot=Dt=De=void 0},U=()=>{et&&et(),Fe&&Fe(),et=Fe=void 0},rt=()=>{nt(),U()},It=(oe=!0)=>{oe?(Je||(Je=H(ze,"touchstart",Re,Xe)),qe||(qe=H(ze,"mousedown",we,Xe))):(Je&&Je(),qe&&qe(),Je=qe=void 0,rt())};return{enable:It,stop:rt,destroy:()=>{It(!1),mt=Ge=He=void 0}}})(Je.el,je=>{const wt=Qe(je);return!(Ge||!mt||(Te(je,ye),ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime=wt,ye.velocityX=ye.velocityY=ye.deltaX=ye.deltaY=0,ye.event=je,ot&&!1===ot(ye))||(nt.release(),!nt.start()))&&(Ge=!0,0===me?Ze():(ft.start(ye.startX,ye.startY),!0))},je=>{He?!Xe&&mt&&(Xe=!0,Ae(ye,je),requestAnimationFrame(It)):(Ae(ye,je),ft.detect(ye.currentX,ye.currentY)&&(!ft.isGesture()||!Ze())&&Ve())},ie,{capture:!1,passive:Re}),Ve=()=>{K(),he.stop(),et&&et(ye)};return{enable(je=!0){je||(He&&ie(void 0),K()),he.enable(je)},destroy(){nt.destroy(),he.destroy()}}},Ae=(ze,He)=>{if(!He)return;const Ge=ze.currentX,mt=ze.currentY,Xe=ze.currentTime;Te(He,ze);const Je=ze.currentX,ot=ze.currentY,De=(ze.currentTime=Qe(He))-Xe;if(De>0&&De<100){const et=(ot-mt)/De;ze.velocityX=(Je-Ge)/De*.7+.3*ze.velocityX,ze.velocityY=.7*et+.3*ze.velocityY}ze.deltaX=Je-ze.startX,ze.deltaY=ot-ze.startY,ze.event=He},Te=(ze,He)=>{let Ge=0,mt=0;if(ze){const Xe=ze.changedTouches;if(Xe&&Xe.length>0){const Je=Xe[0];Ge=Je.clientX,mt=Je.clientY}else void 0!==ze.pageX&&(Ge=ze.pageX,mt=ze.pageY)}He.currentX=Ge,He.currentY=mt},Qe=ze=>ze.timeStamp||Date.now()},3882:(gn,ht,O)=>{"use strict";O.d(ht,{a:()=>Te,b:()=>It,c:()=>J,i:()=>Ze});var d=O(5349);class H{constructor(){this.m=new Map}reset(Q){this.m=new Map(Object.entries(Q))}get(Q,K){const ie=this.m.get(Q);return void 0!==ie?ie:K}getBoolean(Q,K=!1){const ie=this.m.get(Q);return void 0===ie?K:"string"==typeof ie?"true"===ie:!!ie}getNumber(Q,K){const ie=parseFloat(this.m.get(Q));return isNaN(ie)?void 0!==K?K:NaN:ie}set(Q,K){this.m.set(Q,K)}}const J=new H,Ke="ionic-persist-config",Te=(oe,Q)=>("string"==typeof oe&&(Q=oe,oe=void 0),(oe=>Qe(oe))(oe).includes(Q)),Qe=(oe=window)=>{if(typeof oe>"u")return[];oe.Ionic=oe.Ionic||{};let Q=oe.Ionic.platforms;return null==Q&&(Q=oe.Ionic.platforms=ze(oe),Q.forEach(K=>oe.document.documentElement.classList.add(`plt-${K}`))),Q},ze=oe=>{const Q=J.get("platform");return Object.keys(U).filter(K=>{const ie=null==Q?void 0:Q[K];return"function"==typeof ie?ie(oe):U[K](oe)})},Ge=oe=>!!(ft(oe,/iPad/i)||ft(oe,/Macintosh/i)&&qe(oe)),Je=oe=>ft(oe,/android|sink/i),qe=oe=>nt(oe,"(any-pointer:coarse)"),Fe=oe=>me(oe)||Re(oe),me=oe=>!!(oe.cordova||oe.phonegap||oe.PhoneGap),Re=oe=>{const Q=oe.Capacitor;return!(null==Q||!Q.isNative)},ft=(oe,Q)=>Q.test(oe.navigator.userAgent),nt=(oe,Q)=>{var K;return null===(K=oe.matchMedia)||void 0===K?void 0:K.call(oe,Q).matches},U={ipad:Ge,iphone:oe=>ft(oe,/iPhone/i),ios:oe=>ft(oe,/iPhone|iPod/i)||Ge(oe),android:Je,phablet:oe=>{const Q=oe.innerWidth,K=oe.innerHeight,ie=Math.min(Q,K),he=Math.max(Q,K);return ie>390&&ie<520&&he>620&&he<800},tablet:oe=>{const Q=oe.innerWidth,K=oe.innerHeight,ie=Math.min(Q,K),he=Math.max(Q,K);return Ge(oe)||(oe=>Je(oe)&&!ft(oe,/mobile/i))(oe)||ie>460&&ie<820&&he>780&&he<1400},cordova:me,capacitor:Re,electron:oe=>ft(oe,/electron/i),pwa:oe=>{var Q;return!!(null!==(Q=oe.matchMedia)&&void 0!==Q&&Q.call(oe,"(display-mode: standalone)").matches||oe.navigator.standalone)},mobile:qe,mobileweb:oe=>qe(oe)&&!Fe(oe),desktop:oe=>!qe(oe),hybrid:Fe};let rt;const It=oe=>oe&&(0,d.g)(oe)||rt,Ze=(oe={})=>{if(typeof window>"u")return;const Q=window.document,K=window,ie=K.Ionic=K.Ionic||{},he={};oe._ael&&(he.ael=oe._ael),oe._rel&&(he.rel=oe._rel),oe._ce&&(he.ce=oe._ce),(0,d.a)(he);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(oe=>{try{const Q=oe.sessionStorage.getItem(Ke);return null!==Q?JSON.parse(Q):{}}catch{return{}}})(K)),{persistConfig:!1}),ie.config),(oe=>{const Q={};return oe.location.search.slice(1).split("&").map(K=>K.split("=")).map(([K,ie])=>[decodeURIComponent(K),decodeURIComponent(ie)]).filter(([K])=>((oe,Q)=>oe.substr(0,Q.length)===Q)(K,"ionic:")).map(([K,ie])=>[K.slice(6),ie]).forEach(([K,ie])=>{Q[K]=ie}),Q})(K)),oe);J.reset(Ve),J.getBoolean("persistConfig")&&((oe,Q)=>{try{oe.sessionStorage.setItem(Ke,JSON.stringify(Q))}catch{return}})(K,Ve),Qe(K),ie.config=J,ie.mode=rt=J.get("mode",Q.documentElement.getAttribute("mode")||(Te(K,"ios")?"ios":"md")),J.set("mode",rt),Q.documentElement.setAttribute("mode",rt),Q.documentElement.classList.add(rt),J.getBoolean("_testing")&&J.set("animated",!1);const je=jt=>{var Ht;return null===(Ht=jt.tagName)||void 0===Ht?void 0:Ht.startsWith("ION-")},wt=jt=>["ios","md"].includes(jt);(0,d.c)(jt=>{for(;jt;){const Ht=jt.mode||jt.getAttribute("mode");if(Ht){if(wt(Ht))return Ht;je(jt)&&console.warn('Invalid ionic mode: "'+Ht+'", expected: "ios" or "md"')}jt=jt.parentElement}return rt})}},2619:(gn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{iosTransitionAnimation:()=>ze,shadow:()=>ge});var d=O(6410),H=O(448);O(6225),O(5349);const re=Ge=>document.querySelector(`${Ge}.ion-cloned-element`),ge=Ge=>Ge.shadowRoot||Ge,We=Ge=>{const mt="ION-TABS"===Ge.tagName?Ge:Ge.querySelector("ion-tabs"),Xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=mt){const Je=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Je?Je.querySelector(Xe):null}return Ge.querySelector(Xe)},Ke=(Ge,mt)=>{const Xe="ION-TABS"===Ge.tagName?Ge:Ge.querySelector("ion-tabs");let Je=[];if(null!=Xe){const ot=Xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ot&&(Je=ot.querySelectorAll("ion-buttons"))}else Je=Ge.querySelectorAll("ion-buttons");for(const ot of Je){const Dt=ot.closest("ion-header"),De=Dt&&!Dt.classList.contains("header-collapse-condense-inactive"),qe=ot.querySelector("ion-back-button"),et=ot.classList.contains("buttons-collapse");if(null!==qe&&("start"===ot.slot||""===ot.slot)&&(et&&De&&mt||!et))return qe}return null},Te=(Ge,mt,Xe,Je,ot,Dt,De,qe,et)=>{var Fe,me;const Re=mt?`calc(100% - ${ot.right+4}px)`:ot.left-4+"px",we=mt?"right":"left",ye=mt?"left":"right",ft=mt?"right":"left",nt=(null===(Fe=Dt.textContent)||void 0===Fe?void 0:Fe.trim())===(null===(me=qe.textContent)||void 0===me?void 0:me.trim()),rt=(et.height-He)/De.height,It=nt?`scale(${et.width/De.width}, ${rt})`:`scale(${rt})`,Ze="scale(1)",Q=ge(Je).querySelector("ion-icon").getBoundingClientRect(),K=mt?Q.width/2-(Q.right-ot.right)+"px":ot.left-Q.width/2+"px",ie=mt?`-${window.innerWidth-ot.right}px`:`${ot.left}px`,he=`${et.top}px`,Ve=`${ot.top}px`,jt=Xe?[{offset:0,transform:`translate3d(${ie}, ${Ve}, 0)`},{offset:1,transform:`translate3d(${K}, ${he}, 0)`}]:[{offset:0,transform:`translate3d(${K}, ${he}, 0)`},{offset:1,transform:`translate3d(${ie}, ${Ve}, 0)`}],mn=Xe?[{offset:0,opacity:1,transform:Ze},{offset:1,opacity:0,transform:It}]:[{offset:0,opacity:0,transform:It},{offset:1,opacity:1,transform:Ze}],Nt=Xe?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Bt=(0,d.c)(),nn=(0,d.c)(),zn=(0,d.c)(),Gn=re("ion-back-button"),lr=ge(Gn).querySelector(".button-text"),In=ge(Gn).querySelector("ion-icon");Gn.text=Je.text,Gn.mode=Je.mode,Gn.icon=Je.icon,Gn.color=Je.color,Gn.disabled=Je.disabled,Gn.style.setProperty("display","block"),Gn.style.setProperty("position","fixed"),nn.addElement(In),Bt.addElement(lr),zn.addElement(Gn),zn.beforeStyles({position:"absolute",top:"0px",[ft]:"0px"}).keyframes(jt),Bt.beforeStyles({"transform-origin":`${we} top`}).beforeAddWrite(()=>{Je.style.setProperty("display","none"),Gn.style.setProperty(we,Re)}).afterAddWrite(()=>{Je.style.setProperty("display",""),Gn.style.setProperty("display","none"),Gn.style.removeProperty(we)}).keyframes(mn),nn.beforeStyles({"transform-origin":`${ye} center`}).keyframes(Nt),Ge.addAnimation([Bt,nn,zn])},Qe=(Ge,mt,Xe,Je,ot,Dt,De,qe)=>{var et,Fe;const me=mt?"right":"left",Re=mt?`calc(100% - ${ot.right}px)`:`${ot.left}px`,ye=`${ot.top}px`,nt=mt?`-${window.innerWidth-qe.right-8}px`:qe.x-8+"px",rt=qe.y-2+"px",It=(null===(et=De.textContent)||void 0===et?void 0:et.trim())===(null===(Fe=Je.textContent)||void 0===Fe?void 0:Fe.trim()),oe=qe.height/(Dt.height-He),Q="scale(1)",K=It?`scale(${qe.width/Dt.width}, ${oe})`:`scale(${oe})`,Ve=Xe?[{offset:0,opacity:0,transform:`translate3d(${nt}, ${rt}, 0) ${K}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ye}, 0) ${Q}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ye}, 0) ${Q}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${nt}, ${rt}, 0) ${K}`}],je=re("ion-title"),wt=(0,d.c)();je.innerText=Je.innerText,je.size=Je.size,je.color=Je.color,wt.addElement(je),wt.beforeStyles({"transform-origin":`${me} top`,height:`${ot.height}px`,display:"",position:"relative",[me]:Re}).beforeAddWrite(()=>{Je.style.setProperty("opacity","0")}).afterAddWrite(()=>{Je.style.setProperty("opacity",""),je.style.setProperty("display","none")}).keyframes(Ve),Ge.addAnimation(wt)},ze=(Ge,mt)=>{var Xe;try{const Je="cubic-bezier(0.32,0.72,0,1)",ot="opacity",Dt="transform",De="0%",et="rtl"===Ge.ownerDocument.dir,Fe=et?"-99.5%":"99.5%",me=et?"33%":"-33%",Re=mt.enteringEl,we=mt.leavingEl,ye="back"===mt.direction,ft=Re.querySelector(":scope > ion-content"),nt=Re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),U=Re.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=(0,d.c)(),It=(0,d.c)();if(rt.addElement(Re).duration((null!==(Xe=mt.duration)&&void 0!==Xe?Xe:0)||540).easing(mt.easing||Je).fill("both").beforeRemoveClass("ion-page-invisible"),we&&null!=Ge){const K=(0,d.c)();K.addElement(Ge),rt.addAnimation(K)}if(ft||0!==U.length||0!==nt.length?(It.addElement(ft),It.addElement(nt)):It.addElement(Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation(It),ye?It.beforeClearStyles([ot]).fromTo("transform",`translateX(${me})`,`translateX(${De})`).fromTo(ot,.8,1):It.beforeClearStyles([ot]).fromTo("transform",`translateX(${Fe})`,`translateX(${De})`),ft){const K=ge(ft).querySelector(".transition-effect");if(K){const ie=K.querySelector(".transition-cover"),he=K.querySelector(".transition-shadow"),Ve=(0,d.c)(),je=(0,d.c)(),wt=(0,d.c)();Ve.addElement(K).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(ie).beforeClearStyles([ot]).fromTo(ot,0,.1),wt.addElement(he).beforeClearStyles([ot]).fromTo(ot,.03,.7),Ve.addAnimation([je,wt]),It.addAnimation([Ve])}}const Ze=Re.querySelector("ion-header.header-collapse-condense"),{forward:oe,backward:Q}=((Ge,mt,Xe,Je,ot)=>{const Dt=Ke(Je,Xe),De=We(ot),qe=We(Je),et=Ke(ot,Xe),Fe=null!==Dt&&null!==De&&!Xe,me=null!==qe&&null!==et&&Xe;if(Fe){const Re=De.getBoundingClientRect(),we=Dt.getBoundingClientRect(),ye=ge(Dt).querySelector(".button-text"),ft=ye.getBoundingClientRect(),U=ge(De).querySelector(".toolbar-title").getBoundingClientRect();Qe(Ge,mt,Xe,De,Re,U,ye,ft),Te(Ge,mt,Xe,Dt,we,ye,ft,De,U)}else if(me){const Re=qe.getBoundingClientRect(),we=et.getBoundingClientRect(),ye=ge(et).querySelector(".button-text"),ft=ye.getBoundingClientRect(),U=ge(qe).querySelector(".toolbar-title").getBoundingClientRect();Qe(Ge,mt,Xe,qe,Re,U,ye,ft),Te(Ge,mt,Xe,et,we,ye,ft,qe,U)}return{forward:Fe,backward:me}})(rt,et,ye,Re,we);if(U.forEach(K=>{const ie=(0,d.c)();ie.addElement(K),rt.addAnimation(ie);const he=(0,d.c)();he.addElement(K.querySelector("ion-title"));const Ve=(0,d.c)(),je=Array.from(K.querySelectorAll("ion-buttons,[menuToggle]")),wt=K.closest("ion-header"),jt=null==wt?void 0:wt.classList.contains("header-collapse-condense-inactive");let Ht;Ht=je.filter(ye?Nt=>{const Bt=Nt.classList.contains("buttons-collapse");return Bt&&!jt||!Bt}:Nt=>!Nt.classList.contains("buttons-collapse")),Ve.addElement(Ht);const St=(0,d.c)();St.addElement(K.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const mn=(0,d.c)();mn.addElement(ge(K).querySelector(".toolbar-background"));const Kt=(0,d.c)(),Pt=K.querySelector("ion-back-button");if(Pt&&Kt.addElement(Pt),ie.addAnimation([he,Ve,St,mn,Kt]),Ve.fromTo(ot,.01,1),St.fromTo(ot,.01,1),ye)jt||he.fromTo("transform",`translateX(${me})`,`translateX(${De})`).fromTo(ot,.01,1),St.fromTo("transform",`translateX(${me})`,`translateX(${De})`),Kt.fromTo(ot,.01,1);else if(Ze||he.fromTo("transform",`translateX(${Fe})`,`translateX(${De})`).fromTo(ot,.01,1),St.fromTo("transform",`translateX(${Fe})`,`translateX(${De})`),mn.beforeClearStyles([ot,"transform"]),(null==wt?void 0:wt.translucent)?mn.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):mn.fromTo(ot,.01,"var(--opacity)"),oe||Kt.fromTo(ot,.01,1),Pt&&!oe){const Bt=(0,d.c)();Bt.addElement(ge(Pt).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ie.addAnimation(Bt)}}),we){const K=(0,d.c)(),ie=we.querySelector(":scope > ion-content"),he=we.querySelectorAll(":scope > ion-header > ion-toolbar"),Ve=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ie||0!==he.length||0!==Ve.length?(K.addElement(ie),K.addElement(Ve)):K.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rt.addAnimation(K),ye){K.beforeClearStyles([ot]).fromTo("transform",`translateX(${De})`,et?"translateX(-100%)":"translateX(100%)");const je=(0,H.g)(we);rt.afterAddWrite(()=>{"normal"===rt.getDirection()&&je.style.setProperty("display","none")})}else K.fromTo("transform",`translateX(${De})`,`translateX(${me})`).fromTo(ot,1,.8);if(ie){const je=ge(ie).querySelector(".transition-effect");if(je){const wt=je.querySelector(".transition-cover"),jt=je.querySelector(".transition-shadow"),Ht=(0,d.c)(),St=(0,d.c)(),mn=(0,d.c)();Ht.addElement(je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),St.addElement(wt).beforeClearStyles([ot]).fromTo(ot,.1,0),mn.addElement(jt).beforeClearStyles([ot]).fromTo(ot,.7,.03),Ht.addAnimation([St,mn]),K.addAnimation([Ht])}}he.forEach(je=>{const wt=(0,d.c)();wt.addElement(je);const jt=(0,d.c)();jt.addElement(je.querySelector("ion-title"));const Ht=(0,d.c)(),St=je.querySelectorAll("ion-buttons,[menuToggle]"),mn=je.closest("ion-header"),Kt=null==mn?void 0:mn.classList.contains("header-collapse-condense-inactive"),Pt=Array.from(St).filter(lr=>{const In=lr.classList.contains("buttons-collapse");return In&&!Kt||!In});Ht.addElement(Pt);const Nt=(0,d.c)(),Bt=je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Bt.length>0&&Nt.addElement(Bt);const nn=(0,d.c)();nn.addElement(ge(je).querySelector(".toolbar-background"));const zn=(0,d.c)(),Gn=je.querySelector("ion-back-button");if(Gn&&zn.addElement(Gn),wt.addAnimation([jt,Ht,Nt,zn,nn]),rt.addAnimation(wt),zn.fromTo(ot,.99,0),Ht.fromTo(ot,.99,0),Nt.fromTo(ot,.99,0),ye){if(Kt||jt.fromTo("transform",`translateX(${De})`,et?"translateX(-100%)":"translateX(100%)").fromTo(ot,.99,0),Nt.fromTo("transform",`translateX(${De})`,et?"translateX(-100%)":"translateX(100%)"),nn.beforeClearStyles([ot,"transform"]),(null==mn?void 0:mn.translucent)?nn.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):nn.fromTo(ot,"var(--opacity)",0),Gn&&!Q){const In=(0,d.c)();In.addElement(ge(Gn).querySelector(".button-text")).fromTo("transform",`translateX(${De})`,`translateX(${(et?-124:124)+"px"})`),wt.addAnimation(In)}}else Kt||jt.fromTo("transform",`translateX(${De})`,`translateX(${me})`).fromTo(ot,.99,0).afterClearStyles([Dt,ot]),Nt.fromTo("transform",`translateX(${De})`,`translateX(${me})`).afterClearStyles([Dt,ot]),zn.afterClearStyles([ot]),jt.afterClearStyles([ot]),Ht.afterClearStyles([ot])})}return rt}catch(Je){throw Je}},He=10},9023:(gn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{mdTransitionAnimation:()=>xe});var d=O(6410),H=O(448);O(6225),O(5349);const xe=(re,ge)=>{var We,Ke,Ae;const ze="back"===ge.direction,Ge=ge.leavingEl,mt=(0,H.g)(ge.enteringEl),Xe=mt.querySelector("ion-toolbar"),Je=(0,d.c)();if(Je.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),ze?Je.duration((null!==(We=ge.duration)&&void 0!==We?We:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Je.duration((null!==(Ke=ge.duration)&&void 0!==Ke?Ke:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Xe){const ot=(0,d.c)();ot.addElement(Xe),Je.addAnimation(ot)}if(Ge&&ze){Je.duration((null!==(Ae=ge.duration)&&void 0!==Ae?Ae:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ot=(0,d.c)();ot.addElement((0,H.g)(Ge)).onFinish(Dt=>{1===Dt&&ot.elements.length>0&&ot.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Je.addAnimation(ot)}return Je}},7612:(gn,ht,O)=>{"use strict";O.d(ht,{B:()=>jt,G:()=>Ht,a:()=>Qe,b:()=>ze,c:()=>Xe,d:()=>St,e:()=>mn,f:()=>It,g:()=>oe,h:()=>ie,i:()=>Ve,j:()=>ot,k:()=>Dt,m:()=>Ge,n:()=>Ae,o:()=>et,q:()=>U,s:()=>wt});var d=O(5861),H=O(6225),J=O(3882),de=O(6559),xe=O(2124),re=O(839),ge=O(6710);let We=0,Ke=0;const Ae=new WeakMap,Te=Kt=>({create:Pt=>De(Kt,Pt),dismiss:(Pt,Nt,Bt)=>ye(document,Pt,Nt,Kt,Bt),getTop:()=>(0,d.Z)(function*(){return U(document,Kt)})()}),Qe=Te("ion-alert"),ze=Te("ion-action-sheet"),Ge=Te("ion-modal"),Xe=Te("ion-popover"),ot=Kt=>{typeof document<"u"&&we(document);const Pt=We++;Kt.overlayIndex=Pt},Dt=Kt=>(Kt.hasAttribute("id")||(Kt.id="ion-overlay-"+ ++Ke),Kt.id),De=(Kt,Pt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Kt).then(()=>{const Nt=document.createElement(Kt);return Nt.classList.add("overlay-hidden"),Object.assign(Nt,Object.assign(Object.assign({},Pt),{hasController:!0})),Q(document).appendChild(Nt),new Promise(Bt=>(0,re.c)(Nt,Bt))}):Promise.resolve(),qe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',et=(Kt,Pt)=>{let Nt=Kt.querySelector(qe);const Bt=null==Nt?void 0:Nt.shadowRoot;Bt&&(Nt=Bt.querySelector(qe)||Nt),Nt?(0,re.f)(Nt):Pt.focus()},me=(Kt,Pt)=>{const Nt=Array.from(Kt.querySelectorAll(qe));let Bt=Nt.length>0?Nt[Nt.length-1]:null;const nn=null==Bt?void 0:Bt.shadowRoot;nn&&(Bt=nn.querySelector(qe)||Bt),Bt?Bt.focus():Pt.focus()},we=Kt=>{0===We&&(We=1,Kt.addEventListener("focus",Pt=>{((Kt,Pt)=>{const Nt=U(Pt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Bt=Kt.target;Nt&&Bt&&!Nt.classList.contains("ion-disable-focus-trap")&&(Nt.shadowRoot?(()=>{if(Nt.contains(Bt))Nt.lastFocus=Bt;else{const Gn=Nt.lastFocus;et(Nt,Nt),Gn===Pt.activeElement&&me(Nt,Nt),Nt.lastFocus=Pt.activeElement}})():(()=>{if(Nt===Bt)Nt.lastFocus=void 0;else{const Gn=(0,re.g)(Nt);if(!Gn.contains(Bt))return;const lr=Gn.querySelector(".ion-overlay-wrapper");if(!lr)return;if(lr.contains(Bt)||Bt===Gn.querySelector("ion-backdrop"))Nt.lastFocus=Bt;else{const In=Nt.lastFocus;et(lr,Nt),In===Pt.activeElement&&me(lr,Nt),Nt.lastFocus=Pt.activeElement}}})())})(Pt,Kt)},!0),Kt.addEventListener("ionBackButton",Pt=>{const Nt=U(Kt);null!=Nt&&Nt.backdropDismiss&&Pt.detail.register(xe.OVERLAY_BACK_BUTTON_PRIORITY,()=>Nt.dismiss(void 0,jt))}),Kt.addEventListener("keydown",Pt=>{if("Escape"===Pt.key){const Nt=U(Kt);null!=Nt&&Nt.backdropDismiss&&Nt.dismiss(void 0,jt)}}))},ye=(Kt,Pt,Nt,Bt,nn)=>{const zn=U(Kt,Bt,nn);return zn?zn.dismiss(Pt,Nt):Promise.reject("overlay does not exist")},nt=(Kt,Pt)=>((Kt,Pt)=>(void 0===Pt&&(Pt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Kt.querySelectorAll(Pt)).filter(Nt=>Nt.overlayIndex>0)))(Kt,Pt).filter(Nt=>!(Kt=>Kt.classList.contains("overlay-hidden"))(Nt)),U=(Kt,Pt,Nt)=>{const Bt=nt(Kt,Pt);return void 0===Nt?Bt[Bt.length-1]:Bt.find(nn=>nn.id===Nt)},rt=(Kt=!1)=>{const Nt=Q(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Nt&&(Kt?Nt.setAttribute("aria-hidden","true"):Nt.removeAttribute("aria-hidden"))},It=function(){var Kt=(0,d.Z)(function*(Pt,Nt,Bt,nn,zn){var Gn,lr;if(Pt.presented)return;rt(!0),Pt.presented=!0,Pt.willPresent.emit(),null===(Gn=Pt.willPresentShorthand)||void 0===Gn||Gn.emit();const In=(0,J.b)(Pt),Qn=Pt.enterAnimation?Pt.enterAnimation:J.c.get(Nt,"ios"===In?Bt:nn);(yield K(Pt,Qn,Pt.el,zn))&&(Pt.didPresent.emit(),null===(lr=Pt.didPresentShorthand)||void 0===lr||lr.emit()),"ION-TOAST"!==Pt.el.tagName&&Ze(Pt.el),Pt.keyboardClose&&(null===document.activeElement||!Pt.el.contains(document.activeElement))&&Pt.el.focus()});return function(Nt,Bt,nn,zn,Gn){return Kt.apply(this,arguments)}}(),Ze=function(){var Kt=(0,d.Z)(function*(Pt){let Nt=document.activeElement;if(!Nt)return;const Bt=null==Nt?void 0:Nt.shadowRoot;Bt&&(Nt=Bt.querySelector(qe)||Nt),yield Pt.onDidDismiss(),Nt.focus()});return function(Nt){return Kt.apply(this,arguments)}}(),oe=function(){var Kt=(0,d.Z)(function*(Pt,Nt,Bt,nn,zn,Gn,lr){var In,Qn;if(!Pt.presented)return!1;void 0!==H.d&&1===nt(H.d).length&&rt(!1),Pt.presented=!1;try{Pt.el.style.setProperty("pointer-events","none"),Pt.willDismiss.emit({data:Nt,role:Bt}),null===(In=Pt.willDismissShorthand)||void 0===In||In.emit({data:Nt,role:Bt});const bn=(0,J.b)(Pt),ci=Pt.leaveAnimation?Pt.leaveAnimation:J.c.get(nn,"ios"===bn?zn:Gn);Bt!==Ht&&(yield K(Pt,ci,Pt.el,lr)),Pt.didDismiss.emit({data:Nt,role:Bt}),null===(Qn=Pt.didDismissShorthand)||void 0===Qn||Qn.emit({data:Nt,role:Bt}),Ae.delete(Pt),Pt.el.classList.add("overlay-hidden"),Pt.el.style.removeProperty("pointer-events"),void 0!==Pt.el.lastFocus&&(Pt.el.lastFocus=void 0)}catch(bn){console.error(bn)}return Pt.el.remove(),!0});return function(Nt,Bt,nn,zn,Gn,lr,In){return Kt.apply(this,arguments)}}(),Q=Kt=>Kt.querySelector("ion-app")||Kt.body,K=function(){var Kt=(0,d.Z)(function*(Pt,Nt,Bt,nn){Bt.classList.remove("overlay-hidden");const Gn=Nt(Pt.el,nn);(!Pt.animated||!J.c.getBoolean("animated",!0))&&Gn.duration(0),Pt.keyboardClose&&Gn.beforeAddWrite(()=>{const In=Bt.ownerDocument.activeElement;null!=In&&In.matches("input,ion-input, ion-textarea")&&In.blur()});const lr=Ae.get(Pt)||[];return Ae.set(Pt,[...lr,Gn]),yield Gn.play(),!0});return function(Nt,Bt,nn,zn){return Kt.apply(this,arguments)}}(),ie=(Kt,Pt)=>{let Nt;const Bt=new Promise(nn=>Nt=nn);return he(Kt,Pt,nn=>{Nt(nn.detail)}),Bt},he=(Kt,Pt,Nt)=>{const Bt=nn=>{(0,re.b)(Kt,Pt,Bt),Nt(nn)};(0,re.a)(Kt,Pt,Bt)},Ve=Kt=>"cancel"===Kt||Kt===jt,je=Kt=>Kt(),wt=(Kt,Pt)=>{if("function"==typeof Kt)return J.c.get("_zoneGate",je)(()=>{try{return Kt(Pt)}catch(Bt){throw Bt}})},jt="backdrop",Ht="gesture",St=Kt=>{let Nt,Pt=!1;const Bt=(0,de.C)(),nn=(lr=!1)=>{if(Nt&&!lr)return{delegate:Nt,inline:Pt};const{el:In,hasController:Qn,delegate:bn}=Kt;return Pt=null!==In.parentNode&&!Qn,Nt=Pt?bn||Bt:bn,{inline:Pt,delegate:Nt}};return{attachViewToDom:function(){var lr=(0,d.Z)(function*(In){const{delegate:Qn}=nn(!0);if(Qn)return yield Qn.attachViewToDom(Kt.el,In);const{hasController:bn}=Kt;if(bn&&void 0!==In)throw new Error("framework delegate is missing");return null});return function(Qn){return lr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:lr}=nn();lr&&void 0!==Kt.el&&lr.removeViewFromDom(Kt.el.parentElement,Kt.el)}}},mn=()=>{let Kt;const Pt=()=>{Kt&&(Kt(),Kt=void 0)};return{addClickListener:(Bt,nn)=>{Pt();const zn=void 0!==nn?document.getElementById(nn):null;zn?Kt=((lr,In)=>{const Qn=()=>{In.present()};return lr.addEventListener("click",Qn),()=>{lr.removeEventListener("click",Qn)}})(zn,Bt):(0,ge.p)(`A trigger element with the ID "${nn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Bt)},removeClickListener:Pt}}},7834:(gn,ht,O)=>{"use strict";var d=O(6593),H=O(9212),J=O(2692),de=O(9862),xe=O(5472),re=O(6728),ge=O(7513),We=O(7382),Ke=O(8662),Ae=O(7413);let Te=(()=>{var h;class l{constructor(){}}return(h=l).\u0275fac=function(g){return new(g||h)},h.\u0275cmp=H.Xpm({type:h,selectors:[["app-root"]],decls:12,vars:0,consts:[["slot","bottom"],["tab","accueil"],["name","home"],["tab","acote"],["name","location"],["tab","apropos"],["name","alert-circle"]],template:function(g,I){1&g&&(H.TgZ(0,"ion-app")(1,"ion-tabs")(2,"ion-tab-bar",0)(3,"ion-tab-button",1),H._UZ(4,"ion-icon",2),H._uU(5," Accueil "),H.qZA(),H.TgZ(6,"ion-tab-button",3),H._UZ(7,"ion-icon",4),H._uU(8," Moi "),H.qZA(),H.TgZ(9,"ion-tab-button",5),H._UZ(10,"ion-icon",6),H._uU(11," A propos "),H.qZA()()()())},dependencies:[re.dr,re.gu,re.yq,re.ZU,re.UN]}),l})();var Qe=O(8285);const ze=[{path:"home",loadChildren:()=>O.e(6260).then(O.bind(O,6260)).then(h=>h.HomePageModule)},{path:"",loadChildren:()=>O.e(6260).then(O.bind(O,6260)).then(h=>h.HomePageModule)},{path:"registration",loadChildren:()=>Promise.all([O.e(6315),O.e(2160)]).then(O.bind(O,2160)).then(h=>h.RegistrationPageModule)},{path:"verify-email",loadChildren:()=>Promise.all([O.e(6315),O.e(8480)]).then(O.bind(O,8480)).then(h=>h.VerifyEmailPageModule)},{path:"password-reset",loadChildren:()=>Promise.all([O.e(6315),O.e(9536)]).then(O.bind(O,9536)).then(h=>h.PasswordResetPageModule)},{path:"login",loadChildren:()=>Promise.all([O.e(6315),O.e(3687)]).then(O.bind(O,3687)).then(h=>h.LoginPageModule)},{path:"accueil",loadChildren:()=>O.e(7266).then(O.bind(O,7266)).then(h=>h.AccueilPageModule)},{path:"details",loadChildren:()=>Promise.all([O.e(8592),O.e(8395)]).then(O.bind(O,8395)).then(h=>h.DetailsPageModule)},{path:"category",loadChildren:()=>O.e(4819).then(O.bind(O,4819)).then(h=>h.CategoryPageModule)},{path:"category-ci",loadChildren:()=>O.e(4295).then(O.bind(O,4295)).then(h=>h.CategoryCIPageModule)},{path:"category-sa",loadChildren:()=>O.e(3421).then(O.bind(O,3421)).then(h=>h.CategorySAPageModule)},{path:"category-nigeria",loadChildren:()=>O.e(578).then(O.bind(O,578)).then(h=>h.CategoryNigeriaPageModule)},{path:"apropos",loadChildren:()=>O.e(3160).then(O.bind(O,3160)).then(h=>h.AproposPageModule)},{path:"acote",loadChildren:()=>Promise.all([O.e(8592),O.e(5600)]).then(O.bind(O,5600)).then(h=>h.AcotePageModule)},{path:"onglet",loadChildren:()=>O.e(6517).then(O.bind(O,6517)).then(h=>h.OngletPageModule)},{path:"list",loadChildren:()=>Promise.all([O.e(8592),O.e(1167)]).then(O.bind(O,1167)).then(h=>h.ListPageModule)}];let He=(()=>{var h;class l{}return(h=l).\u0275fac=function(g){return new(g||h)},h.\u0275mod=H.oAB({type:h}),h.\u0275inj=H.cJS({imports:[J.Bz.forRoot(ze,{preloadingStrategy:J.wm}),J.Bz]}),l})();var Ge=O(7217),mt=O(7213),Xe=O(1180),Je=O(9230),ot=O(5592),Dt=O(2096),De=O(2459),qe=O(6321),et=O(9360),Fe=O(8251),Re=O(7398),we=O(4664),ye=O(3399),ft=O(5861),nt=O(9823),U=O(229),rt=O(6820);const It="firebasestorage.googleapis.com",Ze="storageBucket";class ie extends U.ZR{constructor(l,c,g=0){super(Ve(l),`Firebase Storage: ${c} (${Ve(l)})`),this.status_=g,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ie.prototype)}get status(){return this.status_}set status(l){this.status_=l}_codeEquals(l){return Ve(l)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(l){this.customData.serverResponse=l,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var he=function(h){return h.UNKNOWN="unknown",h.OBJECT_NOT_FOUND="object-not-found",h.BUCKET_NOT_FOUND="bucket-not-found",h.PROJECT_NOT_FOUND="project-not-found",h.QUOTA_EXCEEDED="quota-exceeded",h.UNAUTHENTICATED="unauthenticated",h.UNAUTHORIZED="unauthorized",h.UNAUTHORIZED_APP="unauthorized-app",h.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",h.INVALID_CHECKSUM="invalid-checksum",h.CANCELED="canceled",h.INVALID_EVENT_NAME="invalid-event-name",h.INVALID_URL="invalid-url",h.INVALID_DEFAULT_BUCKET="invalid-default-bucket",h.NO_DEFAULT_BUCKET="no-default-bucket",h.CANNOT_SLICE_BLOB="cannot-slice-blob",h.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",h.NO_DOWNLOAD_URL="no-download-url",h.INVALID_ARGUMENT="invalid-argument",h.INVALID_ARGUMENT_COUNT="invalid-argument-count",h.APP_DELETED="app-deleted",h.INVALID_ROOT_OPERATION="invalid-root-operation",h.INVALID_FORMAT="invalid-format",h.INTERNAL_ERROR="internal-error",h.UNSUPPORTED_ENVIRONMENT="unsupported-environment",h}(he||{});function Ve(h){return"storage/"+h}function je(){return new ie(he.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Kt(){return new ie(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pt(){return new ie(he.CANCELED,"User canceled the upload/download.")}function zn(){return new ie(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qn(h){return new ie(he.INVALID_ARGUMENT,h)}function bn(){return new ie(he.APP_DELETED,"The Firebase app was deleted.")}function ci(h){return new ie(he.INVALID_ROOT_OPERATION,"The operation '"+h+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jn(h,l){return new ie(he.INVALID_FORMAT,"String does not match format '"+h+"': "+l)}function cr(h){throw new ie(he.INTERNAL_ERROR,"Internal error: "+h)}class xn{constructor(l,c){this.bucket=l,this.path_=c}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const l=encodeURIComponent;return"/b/"+l(this.bucket)+"/o/"+l(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(l,c){let g;try{g=xn.makeFromUrl(l,c)}catch{return new xn(l,"")}if(""===g.path)return g;throw function Bt(h){return new ie(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+h+"'.")}(l)}static makeFromUrl(l,c){let g=null;const I="([A-Za-z0-9.\\-_]+)",te=new RegExp("^gs://"+I+"(/(.*))?$","i");function Ne(As){As.path_=decodeURIComponent(As.path)}const Ot=c.replace(/[.]/g,"\\."),us=[{regex:te,indices:{bucket:1,path:3},postModify:function S(As){"/"===As.path.charAt(As.path.length-1)&&(As.path_=As.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ot}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ne},{regex:new RegExp(`^https?://${c===It?"(?:storage.googleapis.com|storage.cloud.google.com)":c}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ne}];for(let As=0;As<us.length;As++){const Cu=us[As],kc=Cu.regex.exec(l);if(kc){let qh=kc[Cu.indices.path];qh||(qh=""),g=new xn(kc[Cu.indices.bucket],qh),Cu.postModify(g);break}}if(null==g)throw function Nt(h){return new ie(he.INVALID_URL,"Invalid URL '"+h+"'.")}(l);return g}}class ui{constructor(l){this.promise_=Promise.reject(l)}getPromise(){return this.promise_}cancel(l=!1){}}function Ir(h){return"string"==typeof h||h instanceof String}function pn(h){return sr()&&h instanceof Blob}function sr(){return typeof Blob<"u"&&!(0,U.UG)()}function br(h,l,c,g){if(g<l)throw Qn(`Invalid value for '${h}'. Expected ${l} or greater.`);if(g>c)throw Qn(`Invalid value for '${h}'. Expected ${c} or less.`)}function $r(h,l,c){let g=l;return null==c&&(g=`https://${l}`),`${c}://${g}/v0${h}`}function ki(h){const l=encodeURIComponent;let c="?";for(const g in h)h.hasOwnProperty(g)&&(c=c+(l(g)+"=")+l(h[g])+"&");return c=c.slice(0,-1),c}var fi=function(h){return h[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT",h}(fi||{});function Gr(h,l){const c=h>=500&&h<600,I=-1!==[408,429].indexOf(h),S=-1!==l.indexOf(h);return c||I||S}class ri{constructor(l,c,g,I,S,F,te,ve,Ne,Tt,Ot,zt=!0){this.url_=l,this.method_=c,this.headers_=g,this.body_=I,this.successCodes_=S,this.additionalRetryCodes_=F,this.callback_=te,this.errorCallback_=ve,this.timeout_=Ne,this.progressCallback_=Tt,this.connectionFactory_=Ot,this.retry=zt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Tn,$n)=>{this.resolve_=Tn,this.reject_=$n,this.start_()})}start_(){const c=(g,I)=>{const S=this.resolve_,F=this.reject_,te=I.connection;if(I.wasSuccessCode)try{const ve=this.callback_(te,te.getResponse());!function Xr(h){return void 0!==h}(ve)?S():S(ve)}catch(ve){F(ve)}else if(null!==te){const ve=je();ve.serverResponse=te.getErrorText(),F(this.errorCallback_?this.errorCallback_(te,ve):ve)}else F(I.canceled?this.appDelete_?bn():Pt():Kt())};this.canceled_?c(0,new ii(!1,null,!0)):this.backoffId_=function qr(h,l,c){let g=1,I=null,S=null,F=!1,te=0;function ve(){return 2===te}let Ne=!1;function Tt(...Zr){Ne||(Ne=!0,l.apply(null,Zr))}function Ot(Zr){I=setTimeout(()=>{I=null,h(Tn,ve())},Zr)}function zt(){S&&clearTimeout(S)}function Tn(Zr,...Ao){if(Ne)return void zt();if(Zr)return zt(),void Tt.call(null,Zr,...Ao);if(ve()||F)return zt(),void Tt.call(null,Zr,...Ao);let us;g<64&&(g*=2),1===te?(te=2,us=0):us=1e3*(g+Math.random()),Ot(us)}let $n=!1;function Nr(Zr){$n||($n=!0,zt(),!Ne&&(null!==I?(Zr||(te=2),clearTimeout(I),Ot(0)):Zr||(te=1)))}return Ot(0),S=setTimeout(()=>{F=!0,Nr(!0)},c),Nr}((g,I)=>{if(I)return void g(!1,new ii(!1,null,!0));const S=this.connectionFactory_();this.pendingConnection_=S;const F=te=>{null!==this.progressCallback_&&this.progressCallback_(te.loaded,te.lengthComputable?te.total:-1)};null!==this.progressCallback_&&S.addUploadProgressListener(F),S.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&S.removeUploadProgressListener(F),this.pendingConnection_=null;const te=S.getErrorCode()===fi.NO_ERROR,ve=S.getStatus();if(!te||Gr(ve,this.additionalRetryCodes_)&&this.retry){const Tt=S.getErrorCode()===fi.ABORT;return void g(!1,new ii(!1,null,Tt))}const Ne=-1!==this.successCodes_.indexOf(ve);g(!0,new ii(Ne,S))})},c,this.timeout_)}getPromise(){return this.promise_}cancel(l){this.canceled_=!0,this.appDelete_=l||!1,null!==this.backoffId_&&function Sn(h){h(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ii{constructor(l,c,g){this.wasSuccessCode=l,this.connection=c,this.canceled=!!g}}function pe(...h){const l=function at(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==l){const c=new l;for(let g=0;g<h.length;g++)c.append(h[g]);return c.getBlob()}if(sr())return new Blob(h);throw new ie(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const le={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lt{constructor(l,c){this.data=l,this.contentType=c||null}}function xt(h,l){switch(h){case le.RAW:return new lt(Yt(l));case le.BASE64:case le.BASE64URL:return new lt(Xn(h,l));case le.DATA_URL:return new lt(function kn(h){const l=new mr(h);return l.base64?Xn(le.BASE64,l.rest):function Wn(h){let l;try{l=decodeURIComponent(h)}catch{throw Jn(le.DATA_URL,"Malformed data URL.")}return Yt(l)}(l.rest)}(l),function hr(h){return new mr(h).contentType}(l))}throw je()}function Yt(h){const l=[];for(let c=0;c<h.length;c++){let g=h.charCodeAt(c);g<=127?l.push(g):g<=2047?l.push(192|g>>6,128|63&g):55296==(64512&g)?c<h.length-1&&56320==(64512&h.charCodeAt(c+1))?(g=65536|(1023&g)<<10|1023&h.charCodeAt(++c),l.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|63&g)):l.push(239,191,189):56320==(64512&g)?l.push(239,191,189):l.push(224|g>>12,128|g>>6&63,128|63&g)}return new Uint8Array(l)}function Xn(h,l){switch(h){case le.BASE64:{const I=-1!==l.indexOf("-"),S=-1!==l.indexOf("_");if(I||S)throw Jn(h,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case le.BASE64URL:{const I=-1!==l.indexOf("+"),S=-1!==l.indexOf("/");if(I||S)throw Jn(h,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");l=l.replace(/-/g,"+").replace(/_/g,"/");break}}let c;try{c=function ke(h){if(typeof atob>"u")throw function In(h){return new ie(he.UNSUPPORTED_ENVIRONMENT,`${h} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(h)}(l)}catch(I){throw I.message.includes("polyfill")?I:Jn(h,"Invalid character found")}const g=new Uint8Array(c.length);for(let I=0;I<c.length;I++)g[I]=c.charCodeAt(I);return g}class mr{constructor(l){this.base64=!1,this.contentType=null;const c=l.match(/^data:([^,]+)?,/);if(null===c)throw Jn(le.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const g=c[1]||null;null!=g&&(this.base64=function wi(h,l){return h.length>=l.length&&h.substring(h.length-l.length)===l}(g,";base64"),this.contentType=this.base64?g.substring(0,g.length-7):g),this.rest=l.substring(l.indexOf(",")+1)}}class Pr{constructor(l,c){let g=0,I="";pn(l)?(this.data_=l,g=l.size,I=l.type):l instanceof ArrayBuffer?(c?this.data_=new Uint8Array(l):(this.data_=new Uint8Array(l.byteLength),this.data_.set(new Uint8Array(l))),g=this.data_.length):l instanceof Uint8Array&&(c?this.data_=l:(this.data_=new Uint8Array(l.length),this.data_.set(l)),g=l.length),this.size_=g,this.type_=I}size(){return this.size_}type(){return this.type_}slice(l,c){if(pn(this.data_)){const I=function se(h,l,c){return h.webkitSlice?h.webkitSlice(l,c):h.mozSlice?h.mozSlice(l,c):h.slice?h.slice(l,c):null}(this.data_,l,c);return null===I?null:new Pr(I)}{const g=new Uint8Array(this.data_.buffer,l,c-l);return new Pr(g,!0)}}static getBlob(...l){if(sr()){const c=l.map(g=>g instanceof Pr?g.data_:g);return new Pr(pe.apply(null,c))}{const c=l.map(F=>Ir(F)?xt(le.RAW,F).data:F.data_);let g=0;c.forEach(F=>{g+=F.byteLength});const I=new Uint8Array(g);let S=0;return c.forEach(F=>{for(let te=0;te<F.length;te++)I[S++]=F[te]}),new Pr(I,!0)}}uploadData(){return this.data_}}function Wi(h){let l;try{l=JSON.parse(h)}catch{return null}return function Ci(h){return"object"==typeof h&&!Array.isArray(h)}(l)?l:null}function Jt(h){const l=h.lastIndexOf("/",h.length-2);return-1===l?h:h.slice(l+1)}function Hn(h,l){return l}class jn{constructor(l,c,g,I){this.server=l,this.local=c||l,this.writable=!!g,this.xform=I||Hn}}let qn=null;function Yr(){if(qn)return qn;const h=[];h.push(new jn("bucket")),h.push(new jn("generation")),h.push(new jn("metageneration")),h.push(new jn("name","fullPath",!0));const c=new jn("name");c.xform=function l(S,F){return function Bn(h){return!Ir(h)||h.length<2?h:Jt(h)}(F)},h.push(c);const I=new jn("size");return I.xform=function g(S,F){return void 0!==F?Number(F):F},h.push(I),h.push(new jn("timeCreated")),h.push(new jn("updated")),h.push(new jn("md5Hash",null,!0)),h.push(new jn("cacheControl",null,!0)),h.push(new jn("contentDisposition",null,!0)),h.push(new jn("contentEncoding",null,!0)),h.push(new jn("contentLanguage",null,!0)),h.push(new jn("contentType",null,!0)),h.push(new jn("metadata","customMetadata",!0)),qn=h,qn}function At(h,l,c){const g=Wi(l);return null===g?null:function Ye(h,l,c){const g={type:"file"},I=c.length;for(let S=0;S<I;S++){const F=c[S];g[F.local]=F.xform(g,l[F.server])}return function dt(h,l){Object.defineProperty(h,"ref",{get:function c(){const S=new xn(h.bucket,h.fullPath);return l._makeStorageReference(S)}})}(g,h),g}(h,g,c)}function Ut(h,l){const c={},g=l.length;for(let I=0;I<g;I++){const S=l[I];S.writable&&(c[S.server]=h[S.local])}return JSON.stringify(c)}const Wt="prefixes",Cn="items";class En{constructor(l,c,g,I){this.url=l,this.method=c,this.handler=g,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _e(h){if(!h)throw je()}function Oe(h,l){return function c(g,I){const S=At(h,I,l);return _e(null!==S),S}}function pt(h){return function l(c,g){let I;return I=401===c.getStatus()?c.getErrorText().includes("Firebase App Check token is invalid")?function St(){return new ie(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ht(){return new ie(he.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===c.getStatus()?function jt(h){return new ie(he.QUOTA_EXCEEDED,"Quota for bucket '"+h+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(h.bucket):403===c.getStatus()?function mn(h){return new ie(he.UNAUTHORIZED,"User does not have permission to access '"+h+"'.")}(h.path):g,I.status=c.getStatus(),I.serverResponse=g.serverResponse,I}}function Vt(h){const l=pt(h);return function c(g,I){let S=l(g,I);return 404===g.getStatus()&&(S=function wt(h){return new ie(he.OBJECT_NOT_FOUND,"Object '"+h+"' does not exist.")}(h.path)),S.serverResponse=I.serverResponse,S}}function $t(h,l,c){const I=$r(l.fullServerUrl(),h.host,h._protocol),F=h.maxOperationRetryTime,te=new En(I,"GET",Oe(h,c),F);return te.errorHandler=Vt(l),te}function on(h,l,c,g,I){const S={};S.prefix=l.isRoot?"":l.path+"/",c&&c.length>0&&(S.delimiter=c),g&&(S.pageToken=g),I&&(S.maxResults=I);const te=$r(l.bucketOnlyServerUrl(),h.host,h._protocol),Ne=h.maxOperationRetryTime,Tt=new En(te,"GET",function ee(h,l){return function c(g,I){const S=function On(h,l,c){const g=Wi(c);return null===g?null:function yn(h,l,c){const g={prefixes:[],items:[],nextPageToken:c.nextPageToken};if(c[Wt])for(const I of c[Wt]){const S=I.replace(/\/$/,""),F=h._makeStorageReference(new xn(l,S));g.prefixes.push(F)}if(c[Cn])for(const I of c[Cn]){const S=h._makeStorageReference(new xn(l,I.name));g.items.push(S)}return g}(h,l,g)}(h,l,I);return _e(null!==S),S}}(h,l.bucket),Ne);return Tt.urlParams=S,Tt.errorHandler=pt(l),Tt}function $e(h,l,c){const g=Object.assign({},c);return g.fullPath=h.path,g.size=l.size(),g.contentType||(g.contentType=function ne(h,l){return h&&h.contentType||l&&l.type()||"application/octet-stream"}(null,l)),g}class Mt{constructor(l,c,g,I){this.current=l,this.total=c,this.finalized=!!g,this.metadata=I||null}}function vt(h,l){let c=null;try{c=h.getResponseHeader("X-Goog-Upload-Status")}catch{_e(!1)}return _e(!!c&&-1!==(l||["active"]).indexOf(c)),c}const vn={STATE_CHANGED:"state_changed"},Un={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pr(h){switch(h){case"running":case"pausing":case"canceling":return Un.RUNNING;case"paused":return Un.PAUSED;case"success":return Un.SUCCESS;case"canceled":return Un.CANCELED;default:return Un.ERROR}}class Mr{constructor(l,c,g){if(function ir(h){return"function"==typeof h}(l)||null!=c||null!=g)this.next=l,this.error=null!=c?c:void 0,this.complete=null!=g?g:void 0;else{const S=l;this.next=S.next,this.error=S.error,this.complete=S.complete}}}function Jr(h){return(...l)=>{Promise.resolve().then(()=>h(...l))}}let R=null;class Ee{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fi.NO_ERROR,this.sendPromise_=new Promise(l=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fi.ABORT,l()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fi.NETWORK_ERROR,l()}),this.xhr_.addEventListener("load",()=>{l()})})}send(l,c,g,I){if(this.sent_)throw cr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(c,l,!0),void 0!==I)for(const S in I)I.hasOwnProperty(S)&&this.xhr_.setRequestHeader(S,I[S].toString());return void 0!==g?this.xhr_.send(g):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(l){return this.xhr_.getResponseHeader(l)}addUploadProgressListener(l){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",l)}removeUploadProgressListener(l){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",l)}}class V extends Ee{initXhr(){this.xhr_.responseType="text"}}function be(){return R?R():new V}class xr{constructor(l,c,g=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=l,this._blob=c,this._metadata=g,this._mappings=Yr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(he.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const S=this.isExponentialBackoffExpired();if(Gr(I.status,[])){if(!S)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=Kt()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(he.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,S)=>{this._resolve=I,this._reject=S,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const l=this._transferred;return c=>this._updateProgress(l+c)}_shouldDoResumable(l){return l.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(l){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([c,g])=>{switch(this._state){case"running":l(c,g);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((l,c)=>{const g=function Zt(h,l,c,g,I){const S=l.bucketOnlyServerUrl(),F=$e(l,g,I),te={name:F.fullPath},ve=$r(S,h.host,h._protocol),Tt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${g.size()}`,"X-Goog-Upload-Header-Content-Type":F.contentType,"Content-Type":"application/json; charset=utf-8"},Ot=Ut(F,c),$n=new En(ve,"POST",function Tn(Nr){let Zr;vt(Nr);try{Zr=Nr.getResponseHeader("X-Goog-Upload-URL")}catch{_e(!1)}return _e(Ir(Zr)),Zr},h.maxUploadRetryTime);return $n.urlParams=te,$n.headers=Tt,$n.body=Ot,$n.errorHandler=pt(l),$n}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(g,be,l,c);this._request=I,I.getPromise().then(S=>{this._request=void 0,this._uploadUrl=S,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const l=this._uploadUrl;this._resolveToken((c,g)=>{const I=function ln(h,l,c,g){const ve=new En(c,"POST",function S(Ne){const Tt=vt(Ne,["active","final"]);let Ot=null;try{Ot=Ne.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_e(!1)}Ot||_e(!1);const zt=Number(Ot);return _e(!isNaN(zt)),new Mt(zt,g.size(),"final"===Tt)},h.maxUploadRetryTime);return ve.headers={"X-Goog-Upload-Command":"query"},ve.errorHandler=pt(l),ve}(this._ref.storage,this._ref._location,l,this._blob),S=this._ref.storage._makeRequest(I,be,c,g);this._request=S,S.getPromise().then(F=>{this._request=void 0,this._updateProgress(F.current),this._needToFetchStatus=!1,F.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const l=262144*this._chunkMultiplier,c=new Mt(this._transferred,this._blob.size()),g=this._uploadUrl;this._resolveToken((I,S)=>{let F;try{F=function qt(h,l,c,g,I,S,F,te){const ve=new Mt(0,0);if(F?(ve.current=F.current,ve.total=F.total):(ve.current=0,ve.total=g.size()),g.size()!==ve.total)throw function Gn(){return new ie(he.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ne=ve.total-ve.current;let Tt=Ne;I>0&&(Tt=Math.min(Tt,I));const Ot=ve.current;let Tn="";Tn=0===Tt?"finalize":Ne===Tt?"upload, finalize":"upload";const $n={"X-Goog-Upload-Command":Tn,"X-Goog-Upload-Offset":`${ve.current}`},Nr=g.slice(Ot,Ot+Tt);if(null===Nr)throw zn();const us=new En(c,"POST",function Zr(As,Cu){const kc=vt(As,["active","final"]),bp=ve.current+Tt,qh=g.size();let qd;return qd="final"===kc?Oe(l,S)(As,Cu):null,new Mt(bp,qh,"final"===kc,qd)},l.maxUploadRetryTime);return us.headers=$n,us.body=Nr.uploadData(),us.progressCallback=te||null,us.errorHandler=pt(h),us}(this._ref._location,this._ref.storage,g,this._blob,l,this._mappings,c,this._makeProgressCallback())}catch(ve){return this._error=ve,void this._transition("error")}const te=this._ref.storage._makeRequest(F,be,I,S,!1);this._request=te,te.getPromise().then(ve=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ve.current),ve.finalized?(this._metadata=ve.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((l,c)=>{const g=$t(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(g,be,l,c);this._request=I,I.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((l,c)=>{const g=function it(h,l,c,g,I){const S=l.bucketOnlyServerUrl(),F={"X-Goog-Upload-Protocol":"multipart"},ve=function te(){let us="";for(let As=0;As<2;As++)us+=Math.random().toString().slice(2);return us}();F["Content-Type"]="multipart/related; boundary="+ve;const Ne=$e(l,g,I),Tt=Ut(Ne,c),Tn=Pr.getBlob("--"+ve+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Tt+"\r\n--"+ve+"\r\nContent-Type: "+Ne.contentType+"\r\n\r\n",g,"\r\n--"+ve+"--");if(null===Tn)throw zn();const $n={name:Ne.fullPath},Nr=$r(S,h.host,h._protocol),Ao=h.maxUploadRetryTime,yo=new En(Nr,"POST",Oe(h,c),Ao);return yo.urlParams=$n,yo.headers=F,yo.body=Tn.uploadData(),yo.errorHandler=pt(l),yo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(g,be,l,c);this._request=I,I.getPromise().then(S=>{this._request=void 0,this._metadata=S,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(l){const c=this._transferred;this._transferred=l,this._transferred!==c&&this._notifyObservers()}_transition(l){if(this._state!==l)switch(l){case"canceling":case"pausing":this._state=l,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const c="paused"===this._state;this._state=l,c&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=l,this._notifyObservers();break;case"canceled":this._error=Pt(),this._state=l,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const l=pr(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:l,metadata:this._metadata,task:this,ref:this._ref}}on(l,c,g,I){const S=new Mr(c||void 0,g||void 0,I||void 0);return this._addObserver(S),()=>{this._removeObserver(S)}}then(l,c){return this._promise.then(l,c)}catch(l){return this.then(null,l)}_addObserver(l){this._observers.push(l),this._notifyObserver(l)}_removeObserver(l){const c=this._observers.indexOf(l);-1!==c&&this._observers.splice(c,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(c=>{this._notifyObserver(c)})}_finishPromise(){if(void 0!==this._resolve){let l=!0;switch(pr(this._state)){case Un.SUCCESS:Jr(this._resolve.bind(null,this.snapshot))();break;case Un.CANCELED:case Un.ERROR:Jr(this._reject.bind(null,this._error))();break;default:l=!1}l&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(l){switch(pr(this._state)){case Un.RUNNING:case Un.PAUSED:l.next&&Jr(l.next.bind(l,this.snapshot))();break;case Un.SUCCESS:l.complete&&Jr(l.complete.bind(l))();break;default:l.error&&Jr(l.error.bind(l,this._error))()}}resume(){const l="paused"===this._state||"pausing"===this._state;return l&&this._transition("running"),l}pause(){const l="running"===this._state;return l&&this._transition("pausing"),l}cancel(){const l="running"===this._state||"pausing"===this._state;return l&&this._transition("canceling"),l}}class ts{constructor(l,c){this._service=l,this._location=c instanceof xn?c:xn.makeFromUrl(c,l.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(l,c){return new ts(l,c)}get root(){const l=new xn(this._location.bucket,"");return this._newRef(this._service,l)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jt(this._location.path)}get storage(){return this._service}get parent(){const l=function Rt(h){if(0===h.length)return null;const l=h.lastIndexOf("/");return-1===l?"":h.slice(0,l)}(this._location.path);if(null===l)return null;const c=new xn(this._location.bucket,l);return new ts(this._service,c)}_throwIfRoot(l){if(""===this._location.path)throw ci(l)}}function Ws(h,l,c){return qs.apply(this,arguments)}function qs(){return(qs=(0,ft.Z)(function*(h,l,c){const I=yield Ss(h,{pageToken:c});l.prefixes.push(...I.prefixes),l.items.push(...I.items),null!=I.nextPageToken&&(yield Ws(h,l,I.nextPageToken))})).apply(this,arguments)}function Ss(h,l){null!=l&&"number"==typeof l.maxResults&&br("options.maxResults",1,1e3,l.maxResults);const c=l||{},g=on(h.storage,h._location,"/",c.pageToken,c.maxResults);return h.storage.makeRequestWithTokens(g,be)}function ds(h){h._throwIfRoot("getDownloadURL");const l=function dn(h,l,c){const I=$r(l.fullServerUrl(),h.host,h._protocol),F=h.maxOperationRetryTime,te=new En(I,"GET",function Se(h,l){return function c(g,I){const S=At(h,I,l);return _e(null!==S),function Et(h,l,c,g){const I=Wi(l);if(null===I||!Ir(I.downloadTokens))return null;const S=I.downloadTokens;if(0===S.length)return null;const F=encodeURIComponent;return S.split(",").map(Ne=>{const Ot=h.fullPath;return $r("/b/"+F(h.bucket)+"/o/"+F(Ot),c,g)+ki({alt:"media",token:Ne})})[0]}(S,I,h.host,h._protocol)}}(h,c),F);return te.errorHandler=Vt(l),te}(h.storage,h._location,Yr());return h.storage.makeRequestWithTokens(l,be).then(c=>{if(null===c)throw function lr(){return new ie(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return c})}function Rs(h,l){const c=function ct(h,l){const c=l.split("/").filter(g=>g.length>0).join("/");return 0===h.length?c:h+"/"+c}(h._location.path,l),g=new xn(h._location.bucket,c);return new ts(h.storage,g)}function ia(h,l){if(h instanceof Ro){const c=h;if(null==c._bucket)throw function nn(){return new ie(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const g=new ts(c,c._bucket);return null!=l?ia(g,l):g}return void 0!==l?Rs(h,l):h}function xi(h,l){if(l&&function ns(h){return/^[A-Za-z]+:\/\//.test(h)}(l)){if(h instanceof Ro)return function wa(h,l){return new ts(h,l)}(h,l);throw Qn("To use ref(service, url), the first argument must be a Storage instance.")}return ia(h,l)}function sa(h,l){const c=null==l?void 0:l[Ze];return null==c?null:xn.makeFromBucketSpec(c,h)}class Ro{constructor(l,c,g,I,S){this.app=l,this._authProvider=c,this._appCheckProvider=g,this._url=I,this._firebaseVersion=S,this._bucket=null,this._host=It,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?xn.makeFromBucketSpec(I,this._host):sa(this._host,this.app.options)}get host(){return this._host}set host(l){this._host=l,this._bucket=null!=this._url?xn.makeFromBucketSpec(this._url,l):sa(l,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(l){br("time",0,Number.POSITIVE_INFINITY,l),this._maxUploadRetryTime=l}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(l){br("time",0,Number.POSITIVE_INFINITY,l),this._maxOperationRetryTime=l}_getAuthToken(){var l=this;return(0,ft.Z)(function*(){if(l._overrideAuthToken)return l._overrideAuthToken;const c=l._authProvider.getImmediate({optional:!0});if(c){const g=yield c.getToken();if(null!==g)return g.accessToken}return null})()}_getAppCheckToken(){var l=this;return(0,ft.Z)(function*(){const c=l._appCheckProvider.getImmediate({optional:!0});return c?(yield c.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(l=>l.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(l){return new ts(this,l)}_makeRequest(l,c,g,I,S=!0){if(this._deleted)return new ui(bn());{const F=function Ui(h,l,c,g,I,S,F=!0){const te=ki(h.urlParams),ve=h.url+te,Ne=Object.assign({},h.headers);return function mi(h,l){l&&(h["X-Firebase-GMPID"]=l)}(Ne,l),function Zn(h,l){null!==l&&l.length>0&&(h.Authorization="Firebase "+l)}(Ne,c),function er(h,l){h["X-Firebase-Storage-Version"]="webjs/"+(null!=l?l:"AppManager")}(Ne,S),function bi(h,l){null!==l&&(h["X-Firebase-AppCheck"]=l)}(Ne,g),new ri(ve,h.method,Ne,h.body,h.successCodes,h.additionalRetryCodes,h.handler,h.errorHandler,h.timeout,h.progressCallback,I,F)}(l,this._appId,g,I,c,this._firebaseVersion,S);return this._requests.add(F),F.getPromise().then(()=>this._requests.delete(F),()=>this._requests.delete(F)),F}}makeRequestWithTokens(l,c){var g=this;return(0,ft.Z)(function*(){const[I,S]=yield Promise.all([g._getAuthToken(),g._getAppCheckToken()]);return g._makeRequest(l,c,I,S).getPromise()})()}}const Ys="@firebase/storage";function jl(h,l){return xi(h=(0,U.m9)(h),l)}function Si(h,{instanceIdentifier:l}){const c=h.getProvider("app").getImmediate(),g=h.getProvider("auth-internal"),I=h.getProvider("app-check-internal");return new Ro(c,g,I,l,nt.SDK_VERSION)}!function Gi(){(0,nt._registerComponent)(new rt.wA("storage",Si,"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(Ys,"0.11.2",""),(0,nt.registerVersion)(Ys,"0.11.2","esm2017")}();class Ms{constructor(l,c,g){this._delegate=l,this.task=c,this.ref=g}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class yi{constructor(l,c){this._delegate=l,this._ref=c,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ms(this._delegate.snapshot,this,this._ref)}then(l,c){return this._delegate.then(g=>{if(l)return l(new Ms(g,this,this._ref))},c)}on(l,c,g,I){let S;return c&&(S="function"==typeof c?F=>c(new Ms(F,this,this._ref)):{next:c.next?F=>c.next(new Ms(F,this,this._ref)):void 0,complete:c.complete||void 0,error:c.error||void 0}),this._delegate.on(l,S,g||void 0,I||void 0)}}class Uo{constructor(l,c){this._delegate=l,this._service=c}get prefixes(){return this._delegate.prefixes.map(l=>new Ks(l,this._service))}get items(){return this._delegate.items.map(l=>new Ks(l,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ks{constructor(l,c){this._delegate=l,this.storage=c}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(l){const c=function za(h,l){return Rs(h,l)}(this._delegate,l);return new Ks(c,this.storage)}get root(){return new Ks(this._delegate.root,this.storage)}get parent(){const l=this._delegate.parent;return null==l?null:new Ks(l,this.storage)}put(l,c){return this._throwIfRoot("put"),new yi(function co(h,l,c){return function ko(h,l,c){return h._throwIfRoot("uploadBytesResumable"),new xr(h,new Pr(l),c)}(h=(0,U.m9)(h),l,c)}(this._delegate,l,c),this)}putString(l,c=le.RAW,g){this._throwIfRoot("putString");const I=xt(c,l),S=Object.assign({},g);return null==S.contentType&&null!=I.contentType&&(S.contentType=I.contentType),new yi(new xr(this._delegate,new Pr(I.data,!0),S),this)}listAll(){return function Bo(h){return function qi(h){const l={prefixes:[],items:[]};return Ws(h,l).then(()=>l)}(h=(0,U.m9)(h))}(this._delegate).then(l=>new Uo(l,this.storage))}list(l){return function Oi(h,l){return Ss(h=(0,U.m9)(h),l)}(this._delegate,l||void 0).then(c=>new Uo(c,this.storage))}getMetadata(){return function Vo(h){return function jr(h){h._throwIfRoot("getMetadata");const l=$t(h.storage,h._location,Yr());return h.storage.makeRequestWithTokens(l,be)}(h=(0,U.m9)(h))}(this._delegate)}updateMetadata(l){return function Ta(h,l){return function Lo(h,l){h._throwIfRoot("updateMetadata");const c=function wr(h,l,c,g){const S=$r(l.fullServerUrl(),h.host,h._protocol),te=Ut(c,g),Ne=h.maxOperationRetryTime,Tt=new En(S,"PATCH",Oe(h,g),Ne);return Tt.headers={"Content-Type":"application/json; charset=utf-8"},Tt.body=te,Tt.errorHandler=Vt(l),Tt}(h.storage,h._location,l,Yr());return h.storage.makeRequestWithTokens(c,be)}(h=(0,U.m9)(h),l)}(this._delegate,l)}getDownloadURL(){return function Es(h){return ds(h=(0,U.m9)(h))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function pc(h){return function Io(h){h._throwIfRoot("deleteObject");const l=function z(h,l){const g=$r(l.fullServerUrl(),h.host,h._protocol),te=new En(g,"DELETE",function F(ve,Ne){},h.maxOperationRetryTime);return te.successCodes=[200,204],te.errorHandler=Vt(l),te}(h.storage,h._location);return h.storage.makeRequestWithTokens(l,be)}(h=(0,U.m9)(h))}(this._delegate)}_throwIfRoot(l){if(""===this._delegate._location.path)throw ci(l)}}class Wa{constructor(l,c){this.app=l,this._delegate=c}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(l){if(oa(l))throw Qn("ref() expected a child path but got a URL, use refFromURL instead.");return new Ks(jl(this._delegate,l),this)}refFromURL(l){if(!oa(l))throw Qn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xn.makeFromUrl(l,this._delegate.host)}catch{throw Qn("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ks(jl(this._delegate,l),this)}setMaxUploadRetryTime(l){this._delegate.maxUploadRetryTime=l}setMaxOperationRetryTime(l){this._delegate.maxOperationRetryTime=l}useEmulator(l,c,g={}){!function Ps(h,l,c,g={}){!function Fo(h,l,c,g={}){h.host=`${l}:${c}`,h._protocol="http";const{mockUserToken:I}=g;I&&(h._overrideAuthToken="string"==typeof I?I:(0,U.Sg)(I,h.app.options.projectId))}(h,l,c,g)}(this._delegate,l,c,g)}}function oa(h){return/^[A-Za-z]+:\/\//.test(h)}function fr(h,{instanceIdentifier:l}){const c=h.getProvider("app-compat").getImmediate(),g=h.getProvider("storage").getImmediate({identifier:l});return new Wa(c,g)}!function yr(h){const l={TaskState:Un,TaskEvent:vn,StringFormat:le,Storage:Wa,Reference:Ks};h.INTERNAL.registerComponent(new rt.wA("storage-compat",fr,"PUBLIC").setServiceProps(l).setMultipleInstances(!0)),h.registerVersion("@firebase/storage-compat","0.3.2")}(ye.Z);var hs=O(120);function N(h){const l=function Y(h){return new ot.y(l=>{const c=F=>l.next(F);c(h.snapshot);const S=h.on("state_changed",c);return h.then(F=>{c(F),l.complete()},F=>{c(h.snapshot),(F=>{l.error(F)})(F)}),function(){S()}}).pipe(function me(h,l=qe.z){return(0,et.e)((c,g)=>{let I=null,S=null,F=null;const te=()=>{if(I){I.unsubscribe(),I=null;const Ne=S;S=null,g.next(Ne)}};function ve(){const Ne=F+h,Tt=l.now();if(Tt<Ne)return I=this.schedule(void 0,Ne-Tt),void g.add(I);te()}c.subscribe((0,Fe.x)(g,Ne=>{S=Ne,F=l.now(),I||(I=l.schedule(ve,h),g.add(I))},()=>{te(),g.complete()},void 0,()=>{S=I=null}))})}(0))}(h);return{task:h,then:h.then.bind(h),catch:h.catch.bind(h),pause:h.pause.bind(h),cancel:h.cancel.bind(h),resume:h.resume.bind(h),snapshotChanges:()=>l,percentageChanges:()=>l.pipe((0,Re.U)(c=>c.bytesTransferred/c.totalBytes*100))}}function Ce(h){return{getDownloadURL:()=>(0,Dt.of)(void 0).pipe(Je.fc,(0,we.w)(()=>h.getDownloadURL()),Je.iC),getMetadata:()=>(0,Dt.of)(void 0).pipe(Je.fc,(0,we.w)(()=>h.getMetadata()),Je.iC),delete:()=>(0,De.D)(h.delete()),child:l=>Ce(h.child(l)),updateMetadata:l=>(0,De.D)(h.updateMetadata(l)),put:(l,c)=>N(h.put(l,c)),putString:(l,c,g)=>N(h.putString(l,c,g)),list:l=>(0,De.D)(h.list(l)),listAll:()=>(0,De.D)(h.listAll())}}const W=new H.OlP("angularfire2.storageBucket"),Me=new H.OlP("angularfire2.storage.maxUploadRetryTime"),hn=new H.OlP("angularfire2.storage.maxOperationRetryTime"),_n=new H.OlP("angularfire2.storage.use-emulator");let Ei=(()=>{var h;class l{constructor(g,I,S,F,te,ve,Ne,Tt,Ot,zt){(0,Xe.Z)(this,"storage",void 0);const Tn=(0,Ge.on)(g,te,I);this.storage=(0,Ge.cc)(`${Tn.name}.storage.${S}`,"AngularFireStorage",Tn.name,()=>{const $n=te.runOutsideAngular(()=>Tn.storage(S||void 0)),Nr=Ot;return Nr&&$n.useEmulator(...Nr),Ne&&$n.setMaxUploadRetryTime(Ne),Tt&&$n.setMaxOperationRetryTime(Tt),$n},[Ne,Tt])}ref(g){return Ce(this.storage.ref(g))}refFromURL(g){return Ce(this.storage.refFromURL(g))}upload(g,I,S){return Ce(this.storage.ref(g)).put(I,S)}}return h=l,(0,Xe.Z)(l,"\u0275fac",function(g){return new(g||h)(H.LFG(Ge.Dh),H.LFG(Ge.xv,8),H.LFG(W,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Je.HU),H.LFG(Me,8),H.LFG(hn,8),H.LFG(_n,8),H.LFG(Je.Rf,8))}),(0,Xe.Z)(l,"\u0275prov",H.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"})),l})(),fs=(()=>{var h;class l{}return h=l,(0,Xe.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Xe.Z)(l,"\u0275mod",H.oAB({type:h})),(0,Xe.Z)(l,"\u0275inj",H.cJS({})),l})(),ei=(()=>{var h;class l{constructor(){hs.Z.registerVersion("angularfire",Je.q4.full,"gcs-compat")}}return h=l,(0,Xe.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Xe.Z)(l,"\u0275mod",H.oAB({type:h})),(0,Xe.Z)(l,"\u0275inj",H.cJS({providers:[Ei],imports:[fs]})),l})();var rs=O(2736),$o=O(3020),Os=O(6699),wo=O(4829),Ya=O(2737),is=O(2420),Da=O(4564),Hl=O(3997),uo=O(3019),jo=(O(8313),O(7879));const Po="@firebase/database";let Aa="";function Yi(h){Aa=h}class ss{constructor(l){this.domStorage_=l,this.prefix_="firebase:"}set(l,c){null==c?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,U.Wl)(c))}get(l){const c=this.domStorage_.getItem(this.prefixedName_(l));return null==c?null:(0,U.cI)(c)}remove(l){this.domStorage_.removeItem(this.prefixedName_(l))}prefixedName_(l){return this.prefix_+l}toString(){return this.domStorage_.toString()}}class aa{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(l,c){null==c?delete this.cache_[l]:this.cache_[l]=c}get(l){return(0,U.r3)(this.cache_,l)?this.cache_[l]:null}remove(l){delete this.cache_[l]}}const Ho=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const l=window[h];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new ss(l)}}catch{}return new aa},ho=Ho("localStorage"),Zs=Ho("sessionStorage"),Ns=new jo.Yd("@firebase/database"),Au=function(){let h=1;return function(){return h++}}(),Su=function(h){const l=(0,U.dS)(h),c=new U.gQ;c.update(l);const g=c.digest();return U.US.encodeByteArray(g)},la=function(...h){let l="";for(let c=0;c<h.length;c++){const g=h[c];Array.isArray(g)||g&&"object"==typeof g&&"number"==typeof g.length?l+=la.apply(null,g):l+="object"==typeof g?(0,U.Wl)(g):g,l+=" "}return l};let Sa=null,Gl=!0;const bs=function(h,l){(0,U.hu)(!l||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(Ns.logLevel=jo.in.VERBOSE,Sa=Ns.log.bind(Ns),l&&Zs.set("logging_enabled",!0)):"function"==typeof h?Sa=h:(Sa=null,Zs.remove("logging_enabled"))},Is=function(...h){if(!0===Gl&&(Gl=!1,null===Sa&&!0===Zs.get("logging_enabled")&&bs(!0)),Sa){const l=la.apply(null,h);Sa(l)}},Tl=function(h){return function(...l){Is(h,...l)}},Ka=function(...h){const l="FIREBASE INTERNAL ERROR: "+la(...h);Ns.error(l)},Qs=function(...h){const l=`FIREBASE FATAL ERROR: ${la(...h)}`;throw Ns.error(l),new Error(l)},ji=function(...h){const l="FIREBASE WARNING: "+la(...h);Ns.warn(l)},G=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},j="[MIN_NAME]",Ie="[MAX_NAME]",tt=function(h,l){if(h===l)return 0;if(h===j||l===Ie)return-1;if(l===j||h===Ie)return 1;{const c=Xs(h),g=Xs(l);return null!==c?null!==g?c-g==0?h.length-l.length:c-g:-1:null!==g?1:h<l?-1:1}},Gt=function(h,l){return h===l?0:h<l?-1:1},an=function(h,l){if(l&&h in l)return l[h];throw new Error("Missing required key ("+h+") in object: "+(0,U.Wl)(l))},Tr=function(h){if("object"!=typeof h||null===h)return(0,U.Wl)(h);const l=[];for(const g in h)l.push(g);l.sort();let c="{";for(let g=0;g<l.length;g++)0!==g&&(c+=","),c+=(0,U.Wl)(l[g]),c+=":",c+=Tr(h[l[g]]);return c+="}",c},Br=function(h,l){const c=h.length;if(c<=l)return[h];const g=[];for(let I=0;I<c;I+=l)g.push(h.substring(I,I+l>c?c:I+l));return g};function ur(h,l){for(const c in h)h.hasOwnProperty(c)&&l(c,h[c])}const vr=function(h){(0,U.hu)(!G(h),"Invalid JSON number");const g=1023;let I,S,F,te,ve;0===h?(S=0,F=0,I=1/h==-1/0?1:0):(I=h<0,(h=Math.abs(h))>=Math.pow(2,1-g)?(te=Math.min(Math.floor(Math.log(h)/Math.LN2),g),S=te+g,F=Math.round(h*Math.pow(2,52-te)-Math.pow(2,52))):(S=0,F=Math.round(h/Math.pow(2,-1074))));const Ne=[];for(ve=52;ve;ve-=1)Ne.push(F%2?1:0),F=Math.floor(F/2);for(ve=11;ve;ve-=1)Ne.push(S%2?1:0),S=Math.floor(S/2);Ne.push(I?1:0),Ne.reverse();const Tt=Ne.join("");let Ot="";for(ve=0;ve<64;ve+=8){let zt=parseInt(Tt.substr(ve,8),2).toString(16);1===zt.length&&(zt="0"+zt),Ot+=zt}return Ot.toLowerCase()},ks=new RegExp("^-?(0*)\\d{1,10}$"),Xs=function(h){if(ks.test(h)){const l=Number(h);if(l>=-2147483648&&l<=2147483647)return l}return null},Fs=function(h){try{h()}catch(l){setTimeout(()=>{throw ji("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Do=function(h,l){const c=setTimeout(h,l);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Qa{constructor(l,c){this.appName_=l,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(g=>this.appCheck=g)}getToken(l){return this.appCheck?this.appCheck.getToken(l):new Promise((c,g)=>{setTimeout(()=>{this.appCheck?this.getToken(l).then(c,g):c(null)},0)})}addTokenChangeListener(l){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(g=>g.addTokenListener(l))}notifyForInvalidToken(){ji(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ef{constructor(l,c,g){this.appName_=l,this.firebaseOptions_=c,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.onInit(I=>this.auth_=I)}getToken(l){return this.auth_?this.auth_.getToken(l).catch(c=>c&&"auth/token-not-initialized"===c.code?(Is("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,g)=>{setTimeout(()=>{this.auth_?this.getToken(l).then(c,g):c(null)},0)})}addTokenChangeListener(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(c=>c.addAuthTokenListener(l))}removeTokenChangeListener(l){this.authProvider_.get().then(c=>c.removeAuthTokenListener(l))}notifyForInvalidToken(){let l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ji(l)}}let Js=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const eo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,os="websocket",rh="long_polling";class fn{constructor(l,c,g,I,S=!1,F="",te=!1,ve=!1){this.secure=c,this.namespace=g,this.webSocketOnly=I,this.nodeAdmin=S,this.persistenceKey=F,this.includeNamespaceInQueryParams=te,this.isUsingEmulator=ve,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ho.get("host:"+l)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&ho.set("host:"+this._host,this.internalHost))}toString(){let l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ki(h,l,c){let g;if((0,U.hu)("string"==typeof l,"typeof type must == string"),(0,U.hu)("object"==typeof c,"typeof params must == object"),l===os)g=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(l!==rh)throw new Error("Unknown connection type: "+l);g=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function ls(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const I=[];return ur(c,(S,F)=>{I.push(S+"="+F)}),g+I.join("&")}class dd{constructor(){this.counters_={}}incrementCounter(l,c=1){(0,U.r3)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=c}get(){return(0,U.p$)(this.counters_)}}const Yn={},nr={};function $c(h){const l=h.toString();return Yn[l]||(Yn[l]=new dd),Yn[l]}class Lt{constructor(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(l,c){this.closeAfterResponse=l,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(l,c){for(this.pendingResponses[l]=c;this.pendingResponses[this.currentResponseNum];){const g=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let I=0;I<g.length;++I)g[I]&&Fs(()=>{this.onMessage_(g[I])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rr{constructor(l,c,g,I,S,F,te){this.connId=l,this.repoInfo=c,this.applicationId=g,this.appCheckToken=I,this.authToken=S,this.transportSessionId=F,this.lastSessionId=te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tl(l),this.stats_=$c(c),this.urlFn=ve=>(this.appCheckToken&&(ve.ac=this.appCheckToken),Ki(c,rh,ve))}open(l,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new Lt(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,U.Yr)()||"complete"===document.readyState)h();else{let l=!1;const c=function(){document.body?l||(l=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pi((...S)=>{const[F,te,ve,Ne,Tt]=S;if(this.incrementIncomingBytes_(S),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===F)this.id=te,this.password=ve;else{if("close"!==F)throw new Error("Unrecognized command received: "+F);te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(te,()=>{this.onClosed_()})):this.onClosed_()}},(...S)=>{const[F,te]=S;this.incrementIncomingBytes_(S),this.myPacketOrderer.handleResponse(F,te)},()=>{this.onClosed_()},this.urlFn);const g={start:"t"};g.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(g.cb=this.scriptTagHolder.uniqueCallbackIdentifier),g.v="5",this.transportSessionId&&(g.s=this.transportSessionId),this.lastSessionId&&(g.ls=this.lastSessionId),this.applicationId&&(g.p=this.applicationId),this.appCheckToken&&(g.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&eo.test(location.hostname)&&(g.r="f");const I=this.urlFn(g);this.log_("Connecting via long-poll to "+I),this.scriptTagHolder.addTag(I,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rr.forceAllow_=!0}static forceDisallow(){rr.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!rr.forceAllow_&&(rr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(l){const c=(0,U.Wl)(l);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const g=(0,U.h$)(c),I=Br(g,1840);for(let S=0;S<I.length;S++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[S]),this.curSegmentNum++}addDisconnectPingFrame(l,c){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const g={dframe:"t"};g.id=l,g.pw=c,this.myDisconnFrame.src=this.urlFn(g),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(l){const c=(0,U.Wl)(l).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class pi{constructor(l,c,g,I){if(this.onDisconnect=g,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=l,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Au(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=pi.createIFrame_();let S="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(S='<script>document.domain="'+document.domain+'";<\/script>');const F="<html><body>"+S+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(F),this.myIFrame.doc.close()}catch(te){Is("frame writing exception"),te.stack&&Is(te.stack),Is(te)}}}static createIFrame_(){const l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||Is("No IE domain setting required")}catch{const g=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+g+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const l=this.onDisconnect;l&&(this.onDisconnect=null,l())}startLongPoll(l,c){for(this.myID=l,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;let c=this.urlFn(l),g="",I=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+g.length<=1870;){const F=this.pendingSegs.shift();g=g+"&seg"+I+"="+F.seg+"&ts"+I+"="+F.ts+"&d"+I+"="+F.d,I++}return c+=g,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(l,c,g){this.pendingSegs.push({seg:l,ts:c,d:g}),this.alive&&this.newRequest_()}addLongPollTag_(l,c){this.outstandingRequests.add(c);const g=()=>{this.outstandingRequests.delete(c),this.newRequest_()},I=setTimeout(g,Math.floor(25e3));this.addTag(l,()=>{clearTimeout(I),g()})}addTag(l,c){(0,U.Yr)()?this.doNodeLongPoll(l,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const g=this.myIFrame.doc.createElement("script");g.type="text/javascript",g.async=!0,g.src=l,g.onload=g.onreadystatechange=function(){const I=g.readyState;(!I||"loaded"===I||"complete"===I)&&(g.onload=g.onreadystatechange=null,g.parentNode&&g.parentNode.removeChild(g),c())},g.onerror=()=>{Is("Long-poll script failed to load: "+l),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(g)}catch{}},Math.floor(1))}}let Kr=null;typeof MozWebSocket<"u"?Kr=MozWebSocket:typeof WebSocket<"u"&&(Kr=WebSocket);let An=(()=>{class h{constructor(c,g,I,S,F,te,ve){this.connId=c,this.applicationId=I,this.appCheckToken=S,this.authToken=F,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tl(this.connId),this.stats_=$c(g),this.connURL=h.connectionURL_(g,te,ve,S,I),this.nodeAdmin=g.nodeAdmin}static connectionURL_(c,g,I,S,F){const te={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&eo.test(location.hostname)&&(te.r="f"),g&&(te.s=g),I&&(te.ls=I),S&&(te.ac=S),F&&(te.p=F),Ki(c,os,te)}open(c,g){this.onDisconnect=g,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ho.set("previous_websocket_failure",!0);try{let I;if((0,U.Yr)()){I={headers:{"User-Agent":`Firebase/5/${Aa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(I.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(I.headers["X-Firebase-AppCheck"]=this.appCheckToken);const F=process.env,te=0===this.connURL.indexOf("wss://")?F.HTTPS_PROXY||F.https_proxy:F.HTTP_PROXY||F.http_proxy;te&&(I.proxy={origin:te})}this.mySock=new Kr(this.connURL,[],I)}catch(I){this.log_("Error instantiating WebSocket.");const S=I.message||I.data;return S&&this.log_(S),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=I=>{this.handleIncomingFrame(I)},this.mySock.onerror=I=>{this.log_("WebSocket error.  Closing connection.");const S=I.message||I.data;S&&this.log_(S),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const I=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);I&&I.length>1&&parseFloat(I[1])<4.4&&(c=!0)}return!c&&null!==Kr&&!h.forceDisallow_}static previouslyFailed(){return ho.isInMemoryStorage||!0===ho.get("previous_websocket_failure")}markConnectionHealthy(){ho.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const g=this.frames.join("");this.frames=null;const I=(0,U.cI)(g);this.onMessage(I)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const g=Number(c);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const g=c.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{const I=this.extractFrameCount_(g);null!==I&&this.appendFrame_(I)}}send(c){this.resetKeepAlive();const g=(0,U.Wl)(c);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const I=Br(g,16384);I.length>1&&this.sendString_(String(I.length));for(let S=0;S<I.length;S++)this.sendString_(I[S])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),Go=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[rr,An]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const g=An&&An.isAvailable();let I=g&&!An.previouslyFailed();if(c.webSocketOnly&&(g||ji("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),I=!0),I)this.transports_=[An];else{const S=this.transports_=[];for(const F of h.ALL_TRANSPORTS)F&&F.isAvailable()&&S.push(F);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class w{constructor(l,c,g,I,S,F,te,ve,Ne,Tt){this.id=l,this.repoInfo_=c,this.applicationId_=g,this.appCheckToken_=I,this.authToken_=S,this.onMessage_=F,this.onReady_=te,this.onDisconnect_=ve,this.onKill_=Ne,this.lastSessionId=Tt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tl("c:"+this.id+":"),this.transportManager_=new Go(c),this.log_("Connection created"),this.start_()}start_(){const l=this.transportManager_.initialTransport();this.conn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),g=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,g)},Math.floor(0));const I=l.healthyTimeout||0;I>0&&(this.healthyTimeout_=Do(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(I)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(l){return c=>{l===this.conn_?this.onConnectionLost_(c):l===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(l){return c=>{2!==this.state_&&(l===this.rx_?this.onPrimaryMessageReceived_(c):l===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(l){this.sendData_({t:"d",d:l})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(l){if("t"in l){const c=l.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(l){const c=an("t",l),g=an("d",l);if("c"===c)this.onSecondaryControl_(g);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(g)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(l){const c=an("t",l),g=an("d",l);"c"===c?this.onControl_(g):"d"===c&&this.onDataMessage_(g)}onDataMessage_(l){this.onPrimaryResponse_(),this.onMessage_(l)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(l){const c=an("t",l);if("d"in l){const g=l.d;if("h"===c){const I=Object.assign({},g);this.repoInfo_.isUsingEmulator&&(I.h=this.repoInfo_.host),this.onHandshake_(I)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(g):"r"===c?this.onReset_(g):"e"===c?Ka("Server Error: "+g):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ka("Unknown control packet command: "+c)}}onHandshake_(l){const c=l.ts,g=l.v,I=l.h;this.sessionId=l.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==g&&ji("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)}startUpgrade_(l){this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),g=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,g),Do(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(l,c){this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Do(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()}onConnectionLost_(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ho.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class B{put(l,c,g,I){}merge(l,c,g,I){}refreshAuthToken(l){}refreshAppCheckToken(l){}onDisconnectPut(l,c,g){}onDisconnectMerge(l,c,g){}onDisconnectCancel(l,c){}reportStats(l){}}class ae{constructor(l){this.allowedEvents_=l,this.listeners_={},(0,U.hu)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}trigger(l,...c){if(Array.isArray(this.listeners_[l])){const g=[...this.listeners_[l]];for(let I=0;I<g.length;I++)g[I].callback.apply(g[I].context,c)}}on(l,c,g){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:c,context:g});const I=this.getInitialEvent(l);I&&c.apply(g,I)}off(l,c,g){this.validateEventType_(l);const I=this.listeners_[l]||[];for(let S=0;S<I.length;S++)if(I[S].callback===c&&(!g||g===I[S].context))return void I.splice(S,1)}validateEventType_(l){(0,U.hu)(this.allowedEvents_.find(c=>c===l),"Unknown event: "+l)}}class Pe extends ae{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pe}getInitialEvent(l){return(0,U.hu)("online"===l,"Unknown event type: "+l),[this.online_]}currentlyOnline(){return this.online_}}class yt{constructor(l,c){if(void 0===c){this.pieces_=l.split("/");let g=0;for(let I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[g]=this.pieces_[I],g++);this.pieces_.length=g,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=c}toString(){let l="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(l+="/"+this.pieces_[c]);return l||"/"}}function rn(){return new yt("")}function Rn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function di(h){return h.pieces_.length-h.pieceNum_}function gr(h){let l=h.pieceNum_;return l<h.pieces_.length&&l++,new yt(h.pieces_,l)}function gi(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function ni(h,l=0){return h.pieces_.slice(h.pieceNum_+l)}function Oa(h){if(h.pieceNum_>=h.pieces_.length)return null;const l=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)l.push(h.pieces_[c]);return new yt(l,0)}function Pi(h,l){const c=[];for(let g=h.pieceNum_;g<h.pieces_.length;g++)c.push(h.pieces_[g]);if(l instanceof yt)for(let g=l.pieceNum_;g<l.pieces_.length;g++)c.push(l.pieces_[g]);else{const g=l.split("/");for(let I=0;I<g.length;I++)g[I].length>0&&c.push(g[I])}return new yt(c,0)}function dr(h){return h.pieceNum_>=h.pieces_.length}function fo(h,l){const c=Rn(h),g=Rn(l);if(null===c)return l;if(c===g)return fo(gr(h),gr(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+h+")")}function el(h,l){const c=ni(h,0),g=ni(l,0);for(let I=0;I<c.length&&I<g.length;I++){const S=tt(c[I],g[I]);if(0!==S)return S}return c.length===g.length?0:c.length<g.length?-1:1}function da(h,l){if(di(h)!==di(l))return!1;for(let c=h.pieceNum_,g=l.pieceNum_;c<=h.pieces_.length;c++,g++)if(h.pieces_[c]!==l.pieces_[g])return!1;return!0}function to(h,l){let c=h.pieceNum_,g=l.pieceNum_;if(di(h)>di(l))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==l.pieces_[g])return!1;++c,++g}return!0}class tl{constructor(l,c){this.errorPrefix_=c,this.parts_=ni(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(let g=0;g<this.parts_.length;g++)this.byteLength_+=(0,U.ug)(this.parts_[g]);Gc(this)}}function Gc(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Al(h))}function Al(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class zc extends ae{constructor(){let l,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",l="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",l="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",l="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",l="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const g=!document[l];g!==this.visible_&&(this.visible_=g,this.trigger("visible",g))},!1)}static getInstance(){return new zc}getInitialEvent(l){return(0,U.hu)("visible"===l,"Unknown event type: "+l),[this.visible_]}}const Sl=1e3;let _d,_c=(()=>{class h extends B{constructor(c,g,I,S,F,te,ve,Ne){if(super(),this.repoInfo_=c,this.applicationId_=g,this.onDataUpdate_=I,this.onConnectStatus_=S,this.onServerInfoUpdate_=F,this.authTokenProvider_=te,this.appCheckTokenProvider_=ve,this.authOverride_=Ne,this.id=h.nextPersistentConnectionId_++,this.log_=Tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Ne&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zc.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&Pe.getInstance().on("online",this.onOnline_,this)}sendRequest(c,g,I){const S=++this.requestNumber_,F={r:S,a:c,b:g};this.log_((0,U.Wl)(F)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(F),I&&(this.requestCBHash_[S]=I)}get(c){this.initConnection_();const g=new U.BH,S={action:"g",request:{p:c._path.toString(),q:c._queryObject},onComplete:te=>{const ve=te.d;"ok"===te.s?g.resolve(ve):g.reject(ve)}};return this.outstandingGets_.push(S),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),g.promise}listen(c,g,I,S){this.initConnection_();const F=c._queryIdentifier,te=c._path.toString();this.log_("Listen called for "+te+" "+F),this.listens.has(te)||this.listens.set(te,new Map),(0,U.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(te).has(F),"listen() called twice for same path/queryId.");const ve={onComplete:S,hashFn:g,query:c,tag:I};this.listens.get(te).set(F,ve),this.connected_&&this.sendListen_(ve)}sendGet_(c){const g=this.outstandingGets_[c];this.sendRequest("g",g.request,I=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),g.onComplete&&g.onComplete(I)})}sendListen_(c){const g=c.query,I=g._path.toString(),S=g._queryIdentifier;this.log_("Listen on "+I+" for "+S);const F={p:I};c.tag&&(F.q=g._queryObject,F.t=c.tag),F.h=c.hashFn(),this.sendRequest("q",F,ve=>{const Ne=ve.d,Tt=ve.s;h.warnOnListenWarnings_(Ne,g),(this.listens.get(I)&&this.listens.get(I).get(S))===c&&(this.log_("listen response",ve),"ok"!==Tt&&this.removeListen_(I,S),c.onComplete&&c.onComplete(Tt,Ne))})}static warnOnListenWarnings_(c,g){if(c&&"object"==typeof c&&(0,U.r3)(c,"w")){const I=(0,U.DV)(c,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){const S='".indexOn": "'+g._queryParams.getIndex().toString()+'"',F=g._path.toString();ji(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${S} at ${F} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,U.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,g=(0,U.w9)(c)?"auth":"gauth",I={cred:c};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(g,I,S=>{const F=S.s,te=S.d||"error";this.authToken_===c&&("ok"===F?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(F,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const g=c.s,I=c.d||"error";"ok"===g?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(g,I)})}unlisten(c,g){const I=c._path.toString(),S=c._queryIdentifier;this.log_("Unlisten called for "+I+" "+S),(0,U.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,S)&&this.connected_&&this.sendUnlisten_(I,S,c._queryObject,g)}sendUnlisten_(c,g,I,S){this.log_("Unlisten on "+c+" for "+g);const F={p:c};S&&(F.q=I,F.t=S),this.sendRequest("n",F)}onDisconnectPut(c,g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,g,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:g,onComplete:I})}onDisconnectMerge(c,g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,g,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:g,onComplete:I})}onDisconnectCancel(c,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,g):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:g})}sendOnDisconnect_(c,g,I,S){const F={p:g,d:I};this.log_("onDisconnect "+c,F),this.sendRequest(c,F,te=>{S&&setTimeout(()=>{S(te.s,te.d)},Math.floor(0))})}put(c,g,I,S){this.putInternal("p",c,g,I,S)}merge(c,g,I,S){this.putInternal("m",c,g,I,S)}putInternal(c,g,I,S,F){this.initConnection_();const te={p:g,d:I};void 0!==F&&(te.h=F),this.outstandingPuts_.push({action:c,request:te,onComplete:S}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+g)}sendPut_(c){const g=this.outstandingPuts_[c].action,I=this.outstandingPuts_[c].request,S=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(g,I,F=>{this.log_(g+" response",F),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),S&&S(F.s,F.d)})}reportStats(c){if(this.connected_){const g={c};this.log_("reportStats",g),this.sendRequest("s",g,I=>{"ok"!==I.s&&this.log_("reportStats","Error sending stats: "+I.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,U.Wl)(c));const g=c.r,I=this.requestCBHash_[g];I&&(delete this.requestCBHash_[g],I(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,g){this.log_("handleServerMessage",c,g),"d"===c?this.onDataUpdate_(g.p,g.d,!1,g.t):"m"===c?this.onDataUpdate_(g.p,g.d,!0,g.t):"c"===c?this.onListenRevoked_(g.p,g.q):"ac"===c?this.onAuthRevoked_(g.s,g.d):"apc"===c?this.onAppCheckRevoked_(g.s,g.d):"sd"===c?this.onSecurityDebugPacket_(g):Ka("Unrecognized action received from server: "+(0,U.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,g){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=g,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Sl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let g=Math.max(0,this.reconnectDelay_-c);g=Math.random()*g,this.log_("Trying to reconnect in "+g+"ms"),this.scheduleConnect_(g),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,ft.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const g=c.onDataMessage_.bind(c),I=c.onReady_.bind(c),S=c.onRealtimeDisconnect_.bind(c),F=c.id+":"+h.nextConnectionId_++,te=c.lastSessionId;let ve=!1,Ne=null;const Tt=function(){Ne?Ne.close():(ve=!0,S())};c.realtime_={close:Tt,sendRequest:function(Tn){(0,U.hu)(Ne,"sendRequest call when we're not connected not allowed."),Ne.sendRequest(Tn)}};const zt=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[Tn,$n]=yield Promise.all([c.authTokenProvider_.getToken(zt),c.appCheckTokenProvider_.getToken(zt)]);ve?Is("getToken() completed but was canceled"):(Is("getToken() completed. Creating connection."),c.authToken_=Tn&&Tn.accessToken,c.appCheckToken_=$n&&$n.token,Ne=new w(F,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,g,I,S,Nr=>{ji(Nr+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},te))}catch(Tn){c.log_("Failed to get token: "+Tn),ve||(c.repoInfo_.nodeAdmin&&ji(Tn),Tt())}}})()}interrupt(c){Is("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){Is("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Sl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const g=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:g})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const g=this.outstandingPuts_[c];g&&"h"in g.request&&g.queued&&(g.onComplete&&g.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,g){let I;I=g?g.map(F=>Tr(F)).join("$"):"default";const S=this.removeListen_(c,I);S&&S.onComplete&&S.onComplete("permission_denied")}removeListen_(c,g){const I=new yt(c).toString();let S;if(this.listens.has(I)){const F=this.listens.get(I);S=F.get(g),F.delete(g),0===F.size&&this.listens.delete(I)}else S=void 0;return S}onAuthRevoked_(c,g){Is("Auth token revoked: "+c+"/"+g),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,g){Is("App check token revoked: "+c+"/"+g),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const g of c.values())this.sendListen_(g);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let g="js";(0,U.Yr)()&&(g=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+g+"."+Aa.replace(/\./g,"-")]=1,(0,U.uI)()?c["framework.cordova"]=1:(0,U.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=Pe.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class oi{constructor(l,c){this.name=l,this.node=c}static Wrap(l,c){return new oi(l,c)}}class lh{getCompare(){return this.compare.bind(this)}indexedValueChanged(l,c){const g=new oi(j,l),I=new oi(j,c);return 0!==this.compare(g,I)}minPost(){return oi.MIN}}class Hf extends lh{static get __EMPTY_NODE(){return _d}static set __EMPTY_NODE(l){_d=l}compare(l,c){return tt(l.name,c.name)}isDefinedOn(l){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(l,c){return!1}minPost(){return oi.MIN}maxPost(){return new oi(Ie,_d)}makePost(l,c){return(0,U.hu)("string"==typeof l,"KeyIndex indexValue must always be a string."),new oi(l,_d)}toString(){return".key"}}const Wo=new Hf;class ql{constructor(l,c,g,I,S=null){this.isReverse_=I,this.resultGenerator_=S,this.nodeStack_=[];let F=1;for(;!l.isEmpty();)if(F=c?g(l.key,c):1,I&&(F*=-1),F<0)l=this.isReverse_?l.left:l.right;else{if(0===F){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,l=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}}}let nl,qo=(()=>{class h{constructor(c,g,I,S,F){this.key=c,this.value=g,this.color=null!=I?I:h.RED,this.left=null!=S?S:no.EMPTY_NODE,this.right=null!=F?F:no.EMPTY_NODE}copy(c,g,I,S,F){return new h(null!=c?c:this.key,null!=g?g:this.value,null!=I?I:this.color,null!=S?S:this.left,null!=F?F:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,g,I){let S=this;const F=I(c,S.key);return S=F<0?S.copy(null,null,null,S.left.insert(c,g,I),null):0===F?S.copy(null,g,null,null,null):S.copy(null,null,null,null,S.right.insert(c,g,I)),S.fixUp_()}removeMin_(){if(this.left.isEmpty())return no.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,g){let I,S;if(I=this,g(c,I.key)<0)!I.left.isEmpty()&&!I.left.isRed_()&&!I.left.left.isRed_()&&(I=I.moveRedLeft_()),I=I.copy(null,null,null,I.left.remove(c,g),null);else{if(I.left.isRed_()&&(I=I.rotateRight_()),!I.right.isEmpty()&&!I.right.isRed_()&&!I.right.left.isRed_()&&(I=I.moveRedRight_()),0===g(c,I.key)){if(I.right.isEmpty())return no.EMPTY_NODE;S=I.right.min_(),I=I.copy(S.key,S.value,null,null,I.right.removeMin_())}I=I.copy(null,null,null,null,I.right.remove(c,g))}return I.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,g)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class no{constructor(l,c=no.EMPTY_NODE){this.comparator_=l,this.root_=c}insert(l,c){return new no(this.comparator_,this.root_.insert(l,c,this.comparator_).copy(null,null,qo.BLACK,null,null))}remove(l){return new no(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,qo.BLACK,null,null))}get(l){let c,g=this.root_;for(;!g.isEmpty();){if(c=this.comparator_(l,g.key),0===c)return g.value;c<0?g=g.left:c>0&&(g=g.right)}return null}getPredecessorKey(l){let c,g=this.root_,I=null;for(;!g.isEmpty();){if(c=this.comparator_(l,g.key),0===c){if(g.left.isEmpty())return I?I.key:null;for(g=g.left;!g.right.isEmpty();)g=g.right;return g.key}c<0?g=g.left:c>0&&(I=g,g=g.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(l){return this.root_.inorderTraversal(l)}reverseTraversal(l){return this.root_.reverseTraversal(l)}getIterator(l){return new ql(this.root_,null,this.comparator_,!1,l)}getIteratorFrom(l,c){return new ql(this.root_,l,this.comparator_,!1,c)}getReverseIteratorFrom(l,c){return new ql(this.root_,l,this.comparator_,!0,c)}getReverseIterator(l){return new ql(this.root_,null,this.comparator_,!0,l)}}function es(h,l){return tt(h.name,l.name)}function tf(h,l){return tt(h,l)}no.EMPTY_NODE=new class Wc{copy(l,c,g,I,S){return this}insert(l,c,g){return new qo(l,c,null)}remove(l,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fi=function(h){return"number"==typeof h?"number:"+vr(h):"string:"+h},bo=function(h){if(h.isLeafNode()){const l=h.val();(0,U.hu)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,U.r3)(l,".sv"),"Priority must be a string or number.")}else(0,U.hu)(h===nl||h.isEmpty(),"priority of unexpected type.");(0,U.hu)(h===nl||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ro,Nu,Yl,ai=(()=>{class h{constructor(c,g=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=g,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bo(this.priorityNode_)}static set __childrenNodeConstructor(c){ro=c}static get __childrenNodeConstructor(){return ro}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return dr(c)?this:".priority"===Rn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,g){return null}updateImmediateChild(c,g){return".priority"===c?this.updatePriority(g):g.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,g).updatePriority(this.priorityNode_)}updateChild(c,g){const I=Rn(c);return null===I?g:g.isEmpty()&&".priority"!==I?this:((0,U.hu)(".priority"!==I||1===di(c),".priority must be the last token in a path"),this.updateImmediateChild(I,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(gr(c),g)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,g){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+Fi(this.priorityNode_.val())+":");const g=typeof this.value_;c+=g+":",c+="number"===g?vr(this.value_):this.value_,this.lazyHash_=Su(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,U.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const g=typeof c.value_,I=typeof this.value_,S=h.VALUE_TYPE_ORDER.indexOf(g),F=h.VALUE_TYPE_ORDER.indexOf(I);return(0,U.hu)(S>=0,"Unknown leaf type: "+g),(0,U.hu)(F>=0,"Unknown leaf type: "+I),S===F?"object"===I?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:F-S}withIndex(){return this}isIndexed(){return!0}equals(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const Vr=new class nf extends lh{compare(l,c){const g=l.node.getPriority(),I=c.node.getPriority(),S=g.compareTo(I);return 0===S?tt(l.name,c.name):S}isDefinedOn(l){return!l.getPriority().isEmpty()}indexedValueChanged(l,c){return!l.getPriority().equals(c.getPriority())}minPost(){return oi.MIN}maxPost(){return new oi(Ie,new ai("[PRIORITY-POST]",Yl))}makePost(l,c){const g=Nu(l);return new oi(c,new ai("[PRIORITY-POST]",g))}toString(){return".priority"}},Gf=Math.log(2);class rl{constructor(l){this.count=parseInt(Math.log(l+1)/Gf,10),this.current_=this.count-1;const I=(S=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=l+1&I}nextBitIsOne(){const l=!(this.bits_&1<<this.current_);return this.current_--,l}}const Qi=function(h,l,c,g){h.sort(l);const I=function(ve,Ne){const Tt=Ne-ve;let Ot,zt;if(0===Tt)return null;if(1===Tt)return Ot=h[ve],zt=c?c(Ot):Ot,new qo(zt,Ot.node,qo.BLACK,null,null);{const Tn=parseInt(Tt/2,10)+ve,$n=I(ve,Tn),Nr=I(Tn+1,Ne);return Ot=h[Tn],zt=c?c(Ot):Ot,new qo(zt,Ot.node,qo.BLACK,$n,Nr)}},te=function(ve){let Ne=null,Tt=null,Ot=h.length;const zt=function($n,Nr){const Zr=Ot-$n,Ao=Ot;Ot-=$n;const yo=I(Zr+1,Ao),us=h[Zr],As=c?c(us):us;Tn(new qo(As,us.node,Nr,null,yo))},Tn=function($n){Ne?(Ne.left=$n,Ne=$n):(Tt=$n,Ne=$n)};for(let $n=0;$n<ve.count;++$n){const Nr=ve.nextBitIsOne(),Zr=Math.pow(2,ve.count-($n+1));Nr?zt(Zr,qo.BLACK):(zt(Zr,qo.BLACK),zt(Zr,qo.RED))}return Tt}(new rl(h.length));return new no(g||l,te)};let il;const Yo={};class io{constructor(l,c){this.indexes_=l,this.indexSet_=c}static get Default(){return(0,U.hu)(Yo&&Vr,"ChildrenNode.ts has not been loaded"),il=il||new io({".priority":Yo},{".priority":Vr}),il}get(l){const c=(0,U.DV)(this.indexes_,l);if(!c)throw new Error("No index defined for "+l);return c instanceof no?c:null}hasIndex(l){return(0,U.r3)(this.indexSet_,l.toString())}addIndex(l,c){(0,U.hu)(l!==Wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const g=[];let I=!1;const S=c.getIterator(oi.Wrap);let te,F=S.getNext();for(;F;)I=I||l.isDefinedOn(F.node),g.push(F),F=S.getNext();te=I?Qi(g,l.getCompare()):Yo;const ve=l.toString(),Ne=Object.assign({},this.indexSet_);Ne[ve]=l;const Tt=Object.assign({},this.indexes_);return Tt[ve]=te,new io(Tt,Ne)}addToIndexes(l,c){const g=(0,U.UI)(this.indexes_,(I,S)=>{const F=(0,U.DV)(this.indexSet_,S);if((0,U.hu)(F,"Missing index implementation for "+S),I===Yo){if(F.isDefinedOn(l.node)){const te=[],ve=c.getIterator(oi.Wrap);let Ne=ve.getNext();for(;Ne;)Ne.name!==l.name&&te.push(Ne),Ne=ve.getNext();return te.push(l),Qi(te,F.getCompare())}return Yo}{const te=c.get(l.name);let ve=I;return te&&(ve=ve.remove(new oi(l.name,te))),ve.insert(l,l.node)}});return new io(g,this.indexSet_)}removeFromIndexes(l,c){const g=(0,U.UI)(this.indexes_,I=>{if(I===Yo)return I;{const S=c.get(l.name);return S?I.remove(new oi(l.name,S)):I}});return new io(g,this.indexSet_)}}let sl,kr=(()=>{class h{constructor(c,g,I){this.children_=c,this.priorityNode_=g,this.indexMap_=I,this.lazyHash_=null,this.priorityNode_&&bo(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sl||(sl=new h(new no(tf),null,io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sl}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const g=this.children_.get(c);return null===g?sl:g}}getChild(c){const g=Rn(c);return null===g?this:this.getImmediateChild(g).getChild(gr(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,g){if((0,U.hu)(g,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(g);{const I=new oi(c,g);let S,F;g.isEmpty()?(S=this.children_.remove(c),F=this.indexMap_.removeFromIndexes(I,this.children_)):(S=this.children_.insert(c,g),F=this.indexMap_.addToIndexes(I,this.children_));const te=S.isEmpty()?sl:this.priorityNode_;return new h(S,te,F)}}updateChild(c,g){const I=Rn(c);if(null===I)return g;{(0,U.hu)(".priority"!==Rn(c)||1===di(c),".priority must be the last token in a path");const S=this.getImmediateChild(I).updateChild(gr(c),g);return this.updateImmediateChild(I,S)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const g={};let I=0,S=0,F=!0;if(this.forEachChild(Vr,(te,ve)=>{g[te]=ve.val(c),I++,F&&h.INTEGER_REGEXP_.test(te)?S=Math.max(S,Number(te)):F=!1}),!c&&F&&S<2*I){const te=[];for(const ve in g)te[ve]=g[ve];return te}return c&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+Fi(this.getPriority().val())+":"),this.forEachChild(Vr,(g,I)=>{const S=I.hash();""!==S&&(c+=":"+g+":"+S)}),this.lazyHash_=""===c?"":Su(c)}return this.lazyHash_}getPredecessorChildName(c,g,I){const S=this.resolveIndex_(I);if(S){const F=S.getPredecessorKey(new oi(c,g));return F?F.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const g=this.resolveIndex_(c);if(g){const I=g.minKey();return I&&I.name}return this.children_.minKey()}getFirstChild(c){const g=this.getFirstChildName(c);return g?new oi(g,this.children_.get(g)):null}getLastChildName(c){const g=this.resolveIndex_(c);if(g){const I=g.maxKey();return I&&I.name}return this.children_.maxKey()}getLastChild(c){const g=this.getLastChildName(c);return g?new oi(g,this.children_.get(g)):null}forEachChild(c,g){const I=this.resolveIndex_(c);return I?I.inorderTraversal(S=>g(S.name,S.node)):this.children_.inorderTraversal(g)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,g){const I=this.resolveIndex_(g);if(I)return I.getIteratorFrom(c,S=>S);{const S=this.children_.getIteratorFrom(c.name,oi.Wrap);let F=S.peek();for(;null!=F&&g.compare(F,c)<0;)S.getNext(),F=S.peek();return S}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,g){const I=this.resolveIndex_(g);if(I)return I.getReverseIteratorFrom(c,S=>S);{const S=this.children_.getReverseIteratorFrom(c.name,oi.Wrap);let F=S.peek();for(;null!=F&&g.compare(F,c)>0;)S.getNext(),F=S.peek();return S}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===so?-1:0}withIndex(c){if(c===Wo||this.indexMap_.hasIndex(c))return this;{const g=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,g)}}isIndexed(c){return c===Wo||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const g=c;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){const I=this.getIterator(Vr),S=g.getIterator(Vr);let F=I.getNext(),te=S.getNext();for(;F&&te;){if(F.name!==te.name||!F.node.equals(te.node))return!1;F=I.getNext(),te=S.getNext()}return null===F&&null===te}return!1}return!1}}resolveIndex_(c){return c===Wo?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const so=new class ol extends kr{constructor(){super(new no(tf),kr.EMPTY_NODE,io.Default)}compareTo(l){return l===this?0:1}equals(l){return l===this}getPriority(){return this}getImmediateChild(l){return kr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(oi,{MIN:{value:new oi(j,kr.EMPTY_NODE)},MAX:{value:new oi(Ie,so)}}),Hf.__EMPTY_NODE=kr.EMPTY_NODE,ai.__childrenNodeConstructor=kr,function vd(h){nl=h}(so),function ch(h){Yl=h}(so);const al=!0;function Or(h,l=null){if(null===h)return kr.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(l=h[".priority"]),(0,U.hu)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new ai(h,Or(l));if(h instanceof Array||!al){let c=kr.EMPTY_NODE;return ur(h,(g,I)=>{if((0,U.r3)(h,g)&&"."!==g.substring(0,1)){const S=Or(I);(S.isLeafNode()||!S.isEmpty())&&(c=c.updateImmediateChild(g,S))}}),c.updatePriority(Or(l))}{const c=[];let g=!1;if(ur(h,(F,te)=>{if("."!==F.substring(0,1)){const ve=Or(te);ve.isEmpty()||(g=g||!ve.getPriority().isEmpty(),c.push(new oi(F,ve)))}}),0===c.length)return kr.EMPTY_NODE;const S=Qi(c,es,F=>F.name,tf);if(g){const F=Qi(c,Vr.getCompare());return new kr(S,Or(l),new io({".priority":F},{".priority":Vr}))}return new kr(S,Or(l),io.Default)}}!function po(h){Nu=h}(Or);class ha extends lh{constructor(l){super(),this.indexPath_=l,(0,U.hu)(!dr(l)&&".priority"!==Rn(l),"Can't create PathIndex with empty path or .priority key")}extractChild(l){return l.getChild(this.indexPath_)}isDefinedOn(l){return!l.getChild(this.indexPath_).isEmpty()}compare(l,c){const g=this.extractChild(l.node),I=this.extractChild(c.node),S=g.compareTo(I);return 0===S?tt(l.name,c.name):S}makePost(l,c){const g=Or(l),I=kr.EMPTY_NODE.updateChild(this.indexPath_,g);return new oi(c,I)}maxPost(){const l=kr.EMPTY_NODE.updateChild(this.indexPath_,so);return new oi(Ie,l)}toString(){return ni(this.indexPath_,0).join("/")}}const fa=new class qc extends lh{compare(l,c){const g=l.node.compareTo(c.node);return 0===g?tt(l.name,c.name):g}isDefinedOn(l){return!0}indexedValueChanged(l,c){return!l.equals(c)}minPost(){return oi.MIN}maxPost(){return oi.MAX}makePost(l,c){const g=Or(l);return new oi(c,g)}toString(){return".value"}};function rf(h){return{type:"value",snapshotNode:h}}function pa(h,l){return{type:"child_added",snapshotNode:l,childName:h}}function ll(h,l){return{type:"child_removed",snapshotNode:l,childName:h}}function ga(h,l,c){return{type:"child_changed",snapshotNode:l,childName:h,oldSnap:c}}class Rl{constructor(l){this.index_=l}updateChild(l,c,g,I,S,F){(0,U.hu)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");const te=l.getImmediateChild(c);return te.getChild(I).equals(g.getChild(I))&&te.isEmpty()===g.isEmpty()||(null!=F&&(g.isEmpty()?l.hasChild(c)?F.trackChildChange(ll(c,te)):(0,U.hu)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):te.isEmpty()?F.trackChildChange(pa(c,g)):F.trackChildChange(ga(c,g,te))),l.isLeafNode()&&g.isEmpty())?l:l.updateImmediateChild(c,g).withIndex(this.index_)}updateFullNode(l,c,g){return null!=g&&(l.isLeafNode()||l.forEachChild(Vr,(I,S)=>{c.hasChild(I)||g.trackChildChange(ll(I,S))}),c.isLeafNode()||c.forEachChild(Vr,(I,S)=>{if(l.hasChild(I)){const F=l.getImmediateChild(I);F.equals(S)||g.trackChildChange(ga(I,S,F))}else g.trackChildChange(pa(I,S))})),c.withIndex(this.index_)}updatePriority(l,c){return l.isEmpty()?kr.EMPTY_NODE:l.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ka{constructor(l){this.indexedFilter_=new Rl(l.getIndex()),this.index_=l.getIndex(),this.startPost_=ka.getStartPost_(l),this.endPost_=ka.getEndPost_(l),this.startIsInclusive_=!l.startAfterSet_,this.endIsInclusive_=!l.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(l){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),l)<=0:this.index_.compare(this.getStartPost(),l)<0,g=this.endIsInclusive_?this.index_.compare(l,this.getEndPost())<=0:this.index_.compare(l,this.getEndPost())<0;return c&&g}updateChild(l,c,g,I,S,F){return this.matches(new oi(c,g))||(g=kr.EMPTY_NODE),this.indexedFilter_.updateChild(l,c,g,I,S,F)}updateFullNode(l,c,g){c.isLeafNode()&&(c=kr.EMPTY_NODE);let I=c.withIndex(this.index_);I=I.updatePriority(kr.EMPTY_NODE);const S=this;return c.forEachChild(Vr,(F,te)=>{S.matches(new oi(F,te))||(I=I.updateImmediateChild(F,kr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,I,g)}updatePriority(l,c){return l}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(l){if(l.hasStart()){const c=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),c)}return l.getIndex().minPost()}static getEndPost_(l){if(l.hasEnd()){const c=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),c)}return l.getIndex().maxPost()}}class uh{constructor(l){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const g=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?g<=0:g<0},this.withinEndPost=c=>{const g=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?g<=0:g<0},this.rangedFilter_=new ka(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft(),this.startIsInclusive_=!l.startAfterSet_,this.endIsInclusive_=!l.endBeforeSet_}updateChild(l,c,g,I,S,F){return this.rangedFilter_.matches(new oi(c,g))||(g=kr.EMPTY_NODE),l.getImmediateChild(c).equals(g)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,c,g,I,S,F):this.fullLimitUpdateChild_(l,c,g,S,F)}updateFullNode(l,c,g){let I;if(c.isLeafNode()||c.isEmpty())I=kr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let S;I=kr.EMPTY_NODE.withIndex(this.index_),S=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let F=0;for(;S.hasNext()&&F<this.limit_;){const te=S.getNext();if(this.withinDirectionalStart(te)){if(!this.withinDirectionalEnd(te))break;I=I.updateImmediateChild(te.name,te.node),F++}}}else{let S;I=c.withIndex(this.index_),I=I.updatePriority(kr.EMPTY_NODE),S=this.reverse_?I.getReverseIterator(this.index_):I.getIterator(this.index_);let F=0;for(;S.hasNext();){const te=S.getNext();F<this.limit_&&this.withinDirectionalStart(te)&&this.withinDirectionalEnd(te)?F++:I=I.updateImmediateChild(te.name,kr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,I,g)}updatePriority(l,c){return l}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(l,c,g,I,S){let F;if(this.reverse_){const Ot=this.index_.getCompare();F=(zt,Tn)=>Ot(Tn,zt)}else F=this.index_.getCompare();const te=l;(0,U.hu)(te.numChildren()===this.limit_,"");const ve=new oi(c,g),Ne=this.reverse_?te.getFirstChild(this.index_):te.getLastChild(this.index_),Tt=this.rangedFilter_.matches(ve);if(te.hasChild(c)){const Ot=te.getImmediateChild(c);let zt=I.getChildAfterChild(this.index_,Ne,this.reverse_);for(;null!=zt&&(zt.name===c||te.hasChild(zt.name));)zt=I.getChildAfterChild(this.index_,zt,this.reverse_);const Tn=null==zt?1:F(zt,ve);if(Tt&&!g.isEmpty()&&Tn>=0)return null!=S&&S.trackChildChange(ga(c,g,Ot)),te.updateImmediateChild(c,g);{null!=S&&S.trackChildChange(ll(c,Ot));const Nr=te.updateImmediateChild(c,kr.EMPTY_NODE);return null!=zt&&this.rangedFilter_.matches(zt)?(null!=S&&S.trackChildChange(pa(zt.name,zt.node)),Nr.updateImmediateChild(zt.name,zt.node)):Nr}}return g.isEmpty()?l:Tt&&F(Ne,ve)>=0?(null!=S&&(S.trackChildChange(ll(Ne.name,Ne.node)),S.trackChildChange(pa(c,g))),te.updateImmediateChild(c,g).updateImmediateChild(Ne.name,kr.EMPTY_NODE)):l}}class Pl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:j}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ie}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Vr}copy(){const l=new Pl;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.startAfterSet_=this.startAfterSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.endBeforeSet_=this.endBeforeSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l}}function zf(h,l,c){const g=h.copy();return g.startSet_=!0,void 0===l&&(l=null),g.indexStartValue_=l,null!=c?(g.startNameSet_=!0,g.indexStartName_=c):(g.startNameSet_=!1,g.indexStartName_=""),g}function sf(h,l,c){const g=h.copy();return g.endSet_=!0,void 0===l&&(l=null),g.indexEndValue_=l,void 0!==c?(g.endNameSet_=!0,g.indexEndName_=c):(g.endNameSet_=!1,g.indexEndName_=""),g}function Us(h,l){const c=h.copy();return c.index_=l,c}function vc(h){const l={};if(h.isDefault())return l;let c;if(h.index_===Vr?c="$priority":h.index_===fa?c="$value":h.index_===Wo?c="$key":((0,U.hu)(h.index_ instanceof ha,"Unrecognized index type!"),c=h.index_.toString()),l.orderBy=(0,U.Wl)(c),h.startSet_){const g=h.startAfterSet_?"startAfter":"startAt";l[g]=(0,U.Wl)(h.indexStartValue_),h.startNameSet_&&(l[g]+=","+(0,U.Wl)(h.indexStartName_))}if(h.endSet_){const g=h.endBeforeSet_?"endBefore":"endAt";l[g]=(0,U.Wl)(h.indexEndValue_),h.endNameSet_&&(l[g]+=","+(0,U.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?l.limitToFirst=h.limit_:l.limitToLast=h.limit_),l}function Xi(h){const l={};if(h.startSet_&&(l.sp=h.indexStartValue_,h.startNameSet_&&(l.sn=h.indexStartName_),l.sin=!h.startAfterSet_),h.endSet_&&(l.ep=h.indexEndValue_,h.endNameSet_&&(l.en=h.indexEndName_),l.ein=!h.endBeforeSet_),h.limitSet_){l.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),l.vf=c}return h.index_!==Vr&&(l.i=h.index_.toString()),l}class cl extends B{constructor(l,c,g,I){super(),this.repoInfo_=l,this.onDataUpdate_=c,this.authTokenProvider_=g,this.appCheckTokenProvider_=I,this.log_=Tl("p:rest:"),this.listens_={}}reportStats(l){throw new Error("Method not implemented.")}static getListenId_(l,c){return void 0!==c?"tag$"+c:((0,U.hu)(l._queryParams.isDefault(),"should have a tag if it's not a default query."),l._path.toString())}listen(l,c,g,I){const S=l._path.toString();this.log_("Listen called for "+S+" "+l._queryIdentifier);const F=cl.getListenId_(l,g),te={};this.listens_[F]=te;const ve=vc(l._queryParams);this.restRequest_(S+".json",ve,(Ne,Tt)=>{let Ot=Tt;if(404===Ne&&(Ot=null,Ne=null),null===Ne&&this.onDataUpdate_(S,Ot,!1,g),(0,U.DV)(this.listens_,F)===te){let zt;zt=Ne?401===Ne?"permission_denied":"rest_error:"+Ne:"ok",I(zt,null)}})}unlisten(l,c){const g=cl.getListenId_(l,c);delete this.listens_[g]}get(l){const c=vc(l._queryParams),g=l._path.toString(),I=new U.BH;return this.restRequest_(g+".json",c,(S,F)=>{let te=F;404===S&&(te=null,S=null),null===S?(this.onDataUpdate_(g,te,!1,null),I.resolve(te)):I.reject(new Error(te))}),I.promise}refreshAuthToken(l){}restRequest_(l,c={},g){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([I,S])=>{I&&I.accessToken&&(c.auth=I.accessToken),S&&S.token&&(c.ac=S.token);const F=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+l+"?ns="+this.repoInfo_.namespace+(0,U.xO)(c);this.log_("Sending REST request for "+F);const te=new XMLHttpRequest;te.onreadystatechange=()=>{if(g&&4===te.readyState){this.log_("REST Response for "+F+" received. status:",te.status,"response:",te.responseText);let ve=null;if(te.status>=200&&te.status<300){try{ve=(0,U.cI)(te.responseText)}catch{ji("Failed to parse JSON response for "+F+": "+te.responseText)}g(null,ve)}else 401!==te.status&&404!==te.status&&ji("Got unsuccessful REST response for "+F+" Status: "+te.status),g(te.status);g=null}},te.open("GET",F,!0),te.send()})}}class ps{constructor(){this.rootNode_=kr.EMPTY_NODE}getNode(l){return this.rootNode_.getChild(l)}updateSnapshot(l,c){this.rootNode_=this.rootNode_.updateChild(l,c)}}function Ed(){return{value:null,children:new Map}}function Ko(h,l,c){if(dr(l))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(l,c);else{const g=Rn(l);h.children.has(g)||h.children.set(g,Ed()),Ko(h.children.get(g),l=gr(l),c)}}function af(h,l){if(dr(l))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(Vr,(g,I)=>{Ko(h,new yt(g),I)}),af(h,l)}}if(h.children.size>0){const c=Rn(l);return l=gr(l),h.children.has(c)&&af(h.children.get(c),l)&&h.children.delete(c),0===h.children.size}return!0}function go(h,l,c){null!==h.value?c(l,h.value):function Wr(h,l){h.children.forEach((c,g)=>{l(g,c)})}(h,(g,I)=>{go(I,new yt(l.toString()+"/"+g),c)})}class Mi{constructor(l){this.collection_=l,this.last_=null}get(){const l=this.collection_.get(),c=Object.assign({},l);return this.last_&&ur(this.last_,(g,I)=>{c[g]=c[g]-I}),this.last_=l,c}}class eg{constructor(l,c){this.server_=c,this.statsToReport_={},this.statsListener_=new Mi(l);const g=1e4+2e4*Math.random();Do(this.reportStats_.bind(this),Math.floor(g))}reportStats_(){const l=this.statsListener_.get(),c={};let g=!1;ur(l,(I,S)=>{S>0&&(0,U.r3)(this.statsToReport_,I)&&(c[I]=S,g=!0)}),g&&this.server_.reportStats(c),Do(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ma=function(h){return h[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",h}(ma||{});function ku(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class ul{constructor(l,c,g){this.path=l,this.affectedTree=c,this.revert=g,this.type=ma.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(l){if(dr(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new yt(l));return new ul(rn(),c,this.revert)}}return(0,U.hu)(Rn(this.path)===l,"operationForChild called for unrelated child."),new ul(gr(this.path),this.affectedTree,this.revert)}}class fh{constructor(l,c){this.source=l,this.path=c,this.type=ma.LISTEN_COMPLETE}operationForChild(l){return dr(this.path)?new fh(this.source,rn()):new fh(this.source,gr(this.path))}}class Kl{constructor(l,c,g){this.source=l,this.path=c,this.snap=g,this.type=ma.OVERWRITE}operationForChild(l){return dr(this.path)?new Kl(this.source,rn(),this.snap.getImmediateChild(l)):new Kl(this.source,gr(this.path),this.snap)}}class Kc{constructor(l,c,g){this.source=l,this.path=c,this.children=g,this.type=ma.MERGE}operationForChild(l){if(dr(this.path)){const c=this.children.subtree(new yt(l));return c.isEmpty()?null:c.value?new Kl(this.source,rn(),c.value):new Kc(this.source,rn(),c)}return(0,U.hu)(Rn(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new Kc(this.source,gr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xl{constructor(l,c,g){this.node_=l,this.fullyInitialized_=c,this.filtered_=g}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(l){if(dr(l))return this.isFullyInitialized()&&!this.filtered_;const c=Rn(l);return this.isCompleteForChild(c)}isCompleteForChild(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)}getNode(){return this.node_}}class Wf{constructor(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()}}function Zc(h,l,c,g,I,S){const F=g.filter(te=>te.type===c);F.sort((te,ve)=>function yc(h,l,c){if(null==l.childName||null==c.childName)throw(0,U.g5)("Should only compare child_ events.");const g=new oi(l.childName,l.snapshotNode),I=new oi(c.childName,c.snapshotNode);return h.index_.compare(g,I)}(h,te,ve)),F.forEach(te=>{const ve=function qf(h,l,c){return"value"===l.type||"child_removed"===l.type||(l.prevName=c.getPredecessorChildName(l.childName,l.snapshotNode,h.index_)),l}(h,te,S);I.forEach(Ne=>{Ne.respondsTo(te.type)&&l.push(Ne.createEvent(ve,h.query_))})})}function Zo(h,l){return{eventCache:h,serverCache:l}}function Ol(h,l,c,g){return Zo(new xl(l,c,g),h.serverCache)}function Ec(h,l,c,g){return Zo(h.eventCache,new xl(l,c,g))}function Qc(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function dl(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let ph;class Ni{constructor(l,c=(()=>(ph||(ph=new no(Gt)),ph))()){this.value=l,this.children=c}static fromObject(l){let c=new Ni(null);return ur(l,(g,I)=>{c=c.set(new yt(g),I)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(l,c){if(null!=this.value&&c(this.value))return{path:rn(),value:this.value};if(dr(l))return null;{const g=Rn(l),I=this.children.get(g);if(null!==I){const S=I.findRootMostMatchingPathAndValue(gr(l),c);return null!=S?{path:Pi(new yt(g),S.path),value:S.value}:null}return null}}findRootMostValueAndPath(l){return this.findRootMostMatchingPathAndValue(l,()=>!0)}subtree(l){if(dr(l))return this;{const c=Rn(l),g=this.children.get(c);return null!==g?g.subtree(gr(l)):new Ni(null)}}set(l,c){if(dr(l))return new Ni(c,this.children);{const g=Rn(l),S=(this.children.get(g)||new Ni(null)).set(gr(l),c),F=this.children.insert(g,S);return new Ni(this.value,F)}}remove(l){if(dr(l))return this.children.isEmpty()?new Ni(null):new Ni(null,this.children);{const c=Rn(l),g=this.children.get(c);if(g){const I=g.remove(gr(l));let S;return S=I.isEmpty()?this.children.remove(c):this.children.insert(c,I),null===this.value&&S.isEmpty()?new Ni(null):new Ni(this.value,S)}return this}}get(l){if(dr(l))return this.value;{const c=Rn(l),g=this.children.get(c);return g?g.get(gr(l)):null}}setTree(l,c){if(dr(l))return c;{const g=Rn(l),S=(this.children.get(g)||new Ni(null)).setTree(gr(l),c);let F;return F=S.isEmpty()?this.children.remove(g):this.children.insert(g,S),new Ni(this.value,F)}}fold(l){return this.fold_(rn(),l)}fold_(l,c){const g={};return this.children.inorderTraversal((I,S)=>{g[I]=S.fold_(Pi(l,I),c)}),c(l,this.value,g)}findOnPath(l,c){return this.findOnPath_(l,rn(),c)}findOnPath_(l,c,g){const I=!!this.value&&g(c,this.value);if(I)return I;if(dr(l))return null;{const S=Rn(l),F=this.children.get(S);return F?F.findOnPath_(gr(l),Pi(c,S),g):null}}foreachOnPath(l,c){return this.foreachOnPath_(l,rn(),c)}foreachOnPath_(l,c,g){if(dr(l))return this;{this.value&&g(c,this.value);const I=Rn(l),S=this.children.get(I);return S?S.foreachOnPath_(gr(l),Pi(c,I),g):new Ni(null)}}foreach(l){this.foreach_(rn(),l)}foreach_(l,c){this.children.inorderTraversal((g,I)=>{I.foreach_(Pi(l,g),c)}),this.value&&c(l,this.value)}foreachChild(l){this.children.inorderTraversal((c,g)=>{g.value&&l(c,g.value)})}}class $s{constructor(l){this.writeTree_=l}static empty(){return new $s(new Ni(null))}}function Lu(h,l,c){if(dr(l))return new $s(new Ni(c));{const g=h.writeTree_.findRootMostValueAndPath(l);if(null!=g){const I=g.path;let S=g.value;const F=fo(I,l);return S=S.updateChild(F,c),new $s(h.writeTree_.set(I,S))}{const I=new Ni(c),S=h.writeTree_.setTree(l,I);return new $s(S)}}}function hl(h,l,c){let g=h;return ur(c,(I,S)=>{g=Lu(g,Pi(l,I),S)}),g}function Xc(h,l){if(dr(l))return $s.empty();{const c=h.writeTree_.setTree(l,new Ni(null));return new $s(c)}}function gs(h,l){return null!=Qo(h,l)}function Qo(h,l){const c=h.writeTree_.findRootMostValueAndPath(l);return null!=c?h.writeTree_.get(c.path).getChild(fo(c.path,l)):null}function gh(h){const l=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(Vr,(g,I)=>{l.push(new oi(g,I))}):h.writeTree_.children.inorderTraversal((g,I)=>{null!=I.value&&l.push(new oi(g,I.value))}),l}function La(h,l){if(dr(l))return h;{const c=Qo(h,l);return new $s(null!=c?new Ni(c):h.writeTree_.subtree(l))}}function Ic(h){return h.writeTree_.isEmpty()}function Jc(h,l){return Cc(rn(),h.writeTree_,l)}function Cc(h,l,c){if(null!=l.value)return c.updateChild(h,l.value);{let g=null;return l.children.inorderTraversal((I,S)=>{".priority"===I?((0,U.hu)(null!==S.value,"Priority writes must always be leaf nodes"),g=S.value):c=Cc(Pi(h,I),S,c)}),!c.getChild(h).isEmpty()&&null!==g&&(c=c.updateChild(Pi(h,".priority"),g)),c}}function wc(h,l){return vh(l,h)}function lf(h,l){if(h.snap)return to(h.path,l);for(const c in h.children)if(h.children.hasOwnProperty(c)&&to(Pi(h.path,c),l))return!0;return!1}function _h(h){return h.visible}function eu(h,l,c){let g=$s.empty();for(let I=0;I<h.length;++I){const S=h[I];if(l(S)){const F=S.path;let te;if(S.snap)to(c,F)?(te=fo(c,F),g=Lu(g,te,S.snap)):to(F,c)&&(te=fo(F,c),g=Lu(g,rn(),S.snap.getChild(te)));else{if(!S.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(to(c,F))te=fo(c,F),g=hl(g,te,S.children);else if(to(F,c))if(te=fo(F,c),dr(te))g=hl(g,rn(),S.children);else{const ve=(0,U.DV)(S.children,Rn(te));if(ve){const Ne=ve.getChild(gr(te));g=Lu(g,rn(),Ne)}}}}}return g}function Vu(h,l,c,g,I){if(g||I){const S=La(h.visibleWrites,l);return!I&&Ic(S)?c:I||null!=c||gs(S,rn())?Jc(eu(h.allWrites,function(Ne){return(Ne.visible||I)&&(!g||!~g.indexOf(Ne.writeId))&&(to(Ne.path,l)||to(l,Ne.path))},l),c||kr.EMPTY_NODE):null}{const S=Qo(h.visibleWrites,l);if(null!=S)return S;{const F=La(h.visibleWrites,l);return Ic(F)?c:null!=c||gs(F,rn())?Jc(F,c||kr.EMPTY_NODE):null}}}function Tc(h,l,c,g){return Vu(h.writeTree,h.treePath,l,c,g)}function Uu(h,l){return function fl(h,l,c){let g=kr.EMPTY_NODE;const I=Qo(h.visibleWrites,l);if(I)return I.isLeafNode()||I.forEachChild(Vr,(S,F)=>{g=g.updateImmediateChild(S,F)}),g;if(c){const S=La(h.visibleWrites,l);return c.forEachChild(Vr,(F,te)=>{const ve=Jc(La(S,new yt(F)),te);g=g.updateImmediateChild(F,ve)}),gh(S).forEach(F=>{g=g.updateImmediateChild(F.name,F.node)}),g}return gh(La(h.visibleWrites,l)).forEach(F=>{g=g.updateImmediateChild(F.name,F.node)}),g}(h.writeTree,h.treePath,l)}function Zl(h,l,c,g){return function wd(h,l,c,g,I){(0,U.hu)(g||I,"Either existingEventSnap or existingServerSnap must exist");const S=Pi(l,c);if(gs(h.visibleWrites,S))return null;{const F=La(h.visibleWrites,S);return Ic(F)?I.getChild(c):Jc(F,I.getChild(c))}}(h.writeTree,h.treePath,l,c,g)}function Dd(h,l){return function Td(h,l){return Qo(h.visibleWrites,l)}(h.writeTree,Pi(h.treePath,l))}function Ql(h,l,c){return function Bu(h,l,c,g){const I=Pi(l,c),S=Qo(h.visibleWrites,I);return null!=S?S:g.isCompleteForChild(c)?Jc(La(h.visibleWrites,I),g.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,l,c)}function Kf(h,l){return vh(Pi(h.treePath,l),h.writeTree)}function vh(h,l){return{treePath:h,writeTree:l}}class Ad{constructor(){this.changeMap=new Map}trackChildChange(l){const c=l.type,g=l.childName;(0,U.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==g,"Only non-priority child changes can be tracked.");const I=this.changeMap.get(g);if(I){const S=I.type;if("child_added"===c&&"child_removed"===S)this.changeMap.set(g,ga(g,l.snapshotNode,I.snapshotNode));else if("child_removed"===c&&"child_added"===S)this.changeMap.delete(g);else if("child_removed"===c&&"child_changed"===S)this.changeMap.set(g,ll(g,I.oldSnap));else if("child_changed"===c&&"child_added"===S)this.changeMap.set(g,pa(g,l.snapshotNode));else{if("child_changed"!==c||"child_changed"!==S)throw(0,U.g5)("Illegal combination of changes: "+l+" occurred after "+I);this.changeMap.set(g,ga(g,l.snapshotNode,I.oldSnap))}}else this.changeMap.set(g,l)}getChanges(){return Array.from(this.changeMap.values())}}const _a=new class js{getCompleteChild(l){return null}getChildAfterChild(l,c,g){return null}};class tu{constructor(l,c,g=null){this.writes_=l,this.viewCache_=c,this.optCompleteServerCache_=g}getCompleteChild(l){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(l))return c.getNode().getImmediateChild(l);{const g=null!=this.optCompleteServerCache_?new xl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ql(this.writes_,l,g)}}getChildAfterChild(l,c,g){const I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dl(this.viewCache_),S=function bd(h,l,c,g,I,S){return function tg(h,l,c,g,I,S,F){let te;const ve=La(h.visibleWrites,l),Ne=Qo(ve,rn());if(null!=Ne)te=Ne;else{if(null==c)return[];te=Jc(ve,c)}if(te=te.withIndex(F),te.isEmpty()||te.isLeafNode())return[];{const Tt=[],Ot=F.getCompare(),zt=S?te.getReverseIteratorFrom(g,F):te.getIteratorFrom(g,F);let Tn=zt.getNext();for(;Tn&&Tt.length<I;)0!==Ot(Tn,g)&&Tt.push(Tn),Tn=zt.getNext();return Tt}}(h.writeTree,h.treePath,l,c,g,I,S)}(this.writes_,I,c,1,g,l);return 0===S.length?null:S[0]}}function yh(h,l,c,g,I,S){const F=l.eventCache;if(null!=Dd(g,c))return l;{let te,ve;if(dr(c))if((0,U.hu)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){const Ne=dl(l),Ot=Uu(g,Ne instanceof kr?Ne:kr.EMPTY_NODE);te=h.filter.updateFullNode(l.eventCache.getNode(),Ot,S)}else{const Ne=Tc(g,dl(l));te=h.filter.updateFullNode(l.eventCache.getNode(),Ne,S)}else{const Ne=Rn(c);if(".priority"===Ne){(0,U.hu)(1===di(c),"Can't have a priority with additional path components");const Tt=F.getNode();ve=l.serverCache.getNode();const Ot=Zl(g,c,Tt,ve);te=null!=Ot?h.filter.updatePriority(Tt,Ot):F.getNode()}else{const Tt=gr(c);let Ot;if(F.isCompleteForChild(Ne)){ve=l.serverCache.getNode();const zt=Zl(g,c,F.getNode(),ve);Ot=null!=zt?F.getNode().getImmediateChild(Ne).updateChild(Tt,zt):F.getNode().getImmediateChild(Ne)}else Ot=Ql(g,Ne,l.serverCache);te=null!=Ot?h.filter.updateChild(F.getNode(),Ne,Ot,Tt,I,S):F.getNode()}}return Ol(l,te,F.isFullyInitialized()||dr(c),h.filter.filtersNodes())}}function Ll(h,l,c,g,I,S,F,te){const ve=l.serverCache;let Ne;const Tt=F?h.filter:h.filter.getIndexedFilter();if(dr(c))Ne=Tt.updateFullNode(ve.getNode(),g,null);else if(Tt.filtersNodes()&&!ve.isFiltered()){const Tn=ve.getNode().updateChild(c,g);Ne=Tt.updateFullNode(ve.getNode(),Tn,null)}else{const Tn=Rn(c);if(!ve.isCompleteForPath(c)&&di(c)>1)return l;const $n=gr(c),Zr=ve.getNode().getImmediateChild(Tn).updateChild($n,g);Ne=".priority"===Tn?Tt.updatePriority(ve.getNode(),Zr):Tt.updateChild(ve.getNode(),Tn,Zr,$n,_a,null)}const Ot=Ec(l,Ne,ve.isFullyInitialized()||dr(c),Tt.filtersNodes());return yh(h,Ot,c,I,new tu(I,Ot,S),te)}function Sd(h,l,c,g,I,S,F){const te=l.eventCache;let ve,Ne;const Tt=new tu(I,l,S);if(dr(c))Ne=h.filter.updateFullNode(l.eventCache.getNode(),g,F),ve=Ol(l,Ne,!0,h.filter.filtersNodes());else{const Ot=Rn(c);if(".priority"===Ot)Ne=h.filter.updatePriority(l.eventCache.getNode(),g),ve=Ol(l,Ne,te.isFullyInitialized(),te.isFiltered());else{const zt=gr(c),Tn=te.getNode().getImmediateChild(Ot);let $n;if(dr(zt))$n=g;else{const Nr=Tt.getCompleteChild(Ot);$n=null!=Nr?".priority"===gi(zt)&&Nr.getChild(Oa(zt)).isEmpty()?Nr:Nr.updateChild(zt,g):kr.EMPTY_NODE}ve=Tn.equals($n)?l:Ol(l,h.filter.updateChild(te.getNode(),Ot,$n,zt,Tt,F),te.isFullyInitialized(),h.filter.filtersNodes())}}return ve}function Rd(h,l){return h.eventCache.isCompleteForChild(l)}function Xl(h,l,c){return c.foreach((g,I)=>{l=l.updateChild(g,I)}),l}function su(h,l,c,g,I,S,F,te){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;let Ne,ve=l;Ne=dr(c)?g:new Ni(null).setTree(c,g);const Tt=l.serverCache.getNode();return Ne.children.inorderTraversal((Ot,zt)=>{if(Tt.hasChild(Ot)){const $n=Xl(0,l.serverCache.getNode().getImmediateChild(Ot),zt);ve=Ll(h,ve,new yt(Ot),$n,I,S,F,te)}}),Ne.children.inorderTraversal((Ot,zt)=>{const Tn=!l.serverCache.isCompleteForChild(Ot)&&null===zt.value;if(!Tt.hasChild(Ot)&&!Tn){const Nr=Xl(0,l.serverCache.getNode().getImmediateChild(Ot),zt);ve=Ll(h,ve,new yt(Ot),Nr,I,S,F,te)}}),ve}class ng{constructor(l,c){this.query_=l,this.eventRegistrations_=[];const g=this.query_._queryParams,I=new Rl(g.getIndex()),S=function dh(h){return h.loadsAllData()?new Rl(h.getIndex()):h.hasLimit()?new uh(h):new ka(h)}(g);this.processor_=function nu(h){return{filter:h}}(S);const F=c.serverCache,te=c.eventCache,ve=I.updateFullNode(kr.EMPTY_NODE,F.getNode(),null),Ne=S.updateFullNode(kr.EMPTY_NODE,te.getNode(),null),Tt=new xl(ve,F.isFullyInitialized(),I.filtersNodes()),Ot=new xl(Ne,te.isFullyInitialized(),S.filtersNodes());this.viewCache_=Zo(Ot,Tt),this.eventGenerator_=new Wf(this.query_)}get query(){return this.query_}}function Jl(h,l){const c=dl(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!dr(l)&&!c.getImmediateChild(Rn(l)).isEmpty())?c.getChild(l):null}function Eh(h){return 0===h.eventRegistrations_.length}function pl(h,l,c){const g=[];if(c){(0,U.hu)(null==l,"A cancel should cancel all event registrations.");const I=h.query._path;h.eventRegistrations_.forEach(S=>{const F=S.createCancelEvent(c,I);F&&g.push(F)})}if(l){let I=[];for(let S=0;S<h.eventRegistrations_.length;++S){const F=h.eventRegistrations_[S];if(F.matches(l)){if(l.hasAnyCallback()){I=I.concat(h.eventRegistrations_.slice(S+1));break}}else I.push(F)}h.eventRegistrations_=I}else h.eventRegistrations_=[];return g}function Hs(h,l,c,g){l.type===ma.MERGE&&null!==l.source.queryId&&((0,U.hu)(dl(h.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Qc(h.viewCache_),"Missing event cache, even though we have a server cache"));const I=h.viewCache_,S=function ru(h,l,c,g,I){const S=new Ad;let F,te;if(c.type===ma.OVERWRITE){const Ne=c;Ne.source.fromUser?F=Sd(h,l,Ne.path,Ne.snap,g,I,S):((0,U.hu)(Ne.source.fromServer,"Unknown source."),te=Ne.source.tagged||l.serverCache.isFiltered()&&!dr(Ne.path),F=Ll(h,l,Ne.path,Ne.snap,g,I,te,S))}else if(c.type===ma.MERGE){const Ne=c;Ne.source.fromUser?F=function as(h,l,c,g,I,S,F){let te=l;return g.foreach((ve,Ne)=>{const Tt=Pi(c,ve);Rd(l,Rn(Tt))&&(te=Sd(h,te,Tt,Ne,I,S,F))}),g.foreach((ve,Ne)=>{const Tt=Pi(c,ve);Rd(l,Rn(Tt))||(te=Sd(h,te,Tt,Ne,I,S,F))}),te}(h,l,Ne.path,Ne.children,g,I,S):((0,U.hu)(Ne.source.fromServer,"Unknown source."),te=Ne.source.tagged||l.serverCache.isFiltered(),F=su(h,l,Ne.path,Ne.children,g,I,te,S))}else if(c.type===ma.ACK_USER_WRITE){const Ne=c;F=Ne.revert?function ou(h,l,c,g,I,S){let F;if(null!=Dd(g,c))return l;{const te=new tu(g,l,I),ve=l.eventCache.getNode();let Ne;if(dr(c)||".priority"===Rn(c)){let Tt;if(l.serverCache.isFullyInitialized())Tt=Tc(g,dl(l));else{const Ot=l.serverCache.getNode();(0,U.hu)(Ot instanceof kr,"serverChildren would be complete if leaf node"),Tt=Uu(g,Ot)}Ne=h.filter.updateFullNode(ve,Tt,S)}else{const Tt=Rn(c);let Ot=Ql(g,Tt,l.serverCache);null==Ot&&l.serverCache.isCompleteForChild(Tt)&&(Ot=ve.getImmediateChild(Tt)),Ne=null!=Ot?h.filter.updateChild(ve,Tt,Ot,gr(c),te,S):l.eventCache.getNode().hasChild(Tt)?h.filter.updateChild(ve,Tt,kr.EMPTY_NODE,gr(c),te,S):ve,Ne.isEmpty()&&l.serverCache.isFullyInitialized()&&(F=Tc(g,dl(l)),F.isLeafNode()&&(Ne=h.filter.updateFullNode(Ne,F,S)))}return F=l.serverCache.isFullyInitialized()||null!=Dd(g,rn()),Ol(l,Ne,F,h.filter.filtersNodes())}}(h,l,Ne.path,g,I,S):function Xo(h,l,c,g,I,S,F){if(null!=Dd(I,c))return l;const te=l.serverCache.isFiltered(),ve=l.serverCache;if(null!=g.value){if(dr(c)&&ve.isFullyInitialized()||ve.isCompleteForPath(c))return Ll(h,l,c,ve.getNode().getChild(c),I,S,te,F);if(dr(c)){let Ne=new Ni(null);return ve.getNode().forEachChild(Wo,(Tt,Ot)=>{Ne=Ne.set(new yt(Tt),Ot)}),su(h,l,c,Ne,I,S,te,F)}return l}{let Ne=new Ni(null);return g.foreach((Tt,Ot)=>{const zt=Pi(c,Tt);ve.isCompleteForPath(zt)&&(Ne=Ne.set(Tt,ve.getNode().getChild(zt)))}),su(h,l,c,Ne,I,S,te,F)}}(h,l,Ne.path,Ne.affectedTree,g,I,S)}else{if(c.type!==ma.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+c.type);F=function Pd(h,l,c,g,I){const S=l.serverCache;return yh(h,Ec(l,S.getNode(),S.isFullyInitialized()||dr(c),S.isFiltered()),c,g,_a,I)}(h,l,c.path,g,S)}const ve=S.getChanges();return function iu(h,l,c){const g=l.eventCache;if(g.isFullyInitialized()){const I=g.getNode().isLeafNode()||g.getNode().isEmpty(),S=Qc(h);(c.length>0||!h.eventCache.isFullyInitialized()||I&&!g.getNode().equals(S)||!g.getNode().getPriority().equals(S.getPriority()))&&c.push(rf(Qc(l)))}}(l,F,ve),{viewCache:F,changes:ve}}(h.processor_,I,l,c,g);return function Zf(h,l){(0,U.hu)(l.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(l.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,S.viewCache),(0,U.hu)(S.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=S.viewCache,gl(h,S.changes,S.viewCache.eventCache.getNode(),null)}function gl(h,l,c,g){return function fm(h,l,c,g){const I=[],S=[];return l.forEach(F=>{"child_changed"===F.type&&h.index_.indexedValueChanged(F.oldSnap,F.snapshotNode)&&S.push(function Na(h,l){return{type:"child_moved",snapshotNode:l,childName:h}}(F.childName,F.snapshotNode))}),Zc(h,I,"child_removed",l,g,c),Zc(h,I,"child_added",l,g,c),Zc(h,I,"child_moved",S,g,c),Zc(h,I,"child_changed",l,g,c),Zc(h,I,"value",l,g,c),I}(h.eventGenerator_,l,c,g?[g]:h.eventRegistrations_)}let ec,Ac;class $u{constructor(){this.views=new Map}}function li(h,l,c,g){const I=l.source.queryId;if(null!==I){const S=h.views.get(I);return(0,U.hu)(null!=S,"SyncTree gave us an op for an invalid query."),Hs(S,l,c,g)}{let S=[];for(const F of h.views.values())S=S.concat(Hs(F,l,c,g));return S}}function ml(h,l,c,g,I){const F=h.views.get(l._queryIdentifier);if(!F){let te=Tc(c,I?g:null),ve=!1;te?ve=!0:g instanceof kr?(te=Uu(c,g),ve=!1):(te=kr.EMPTY_NODE,ve=!1);const Ne=Zo(new xl(te,ve,!1),new xl(g,I,!1));return new ng(l,Ne)}return F}function Ih(h){const l=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||l.push(c);return l}function tc(h,l){let c=null;for(const g of h.views.values())c=c||Jl(g,l);return c}function au(h,l){return l._queryParams.loadsAllData()?bc(h):h.views.get(l._queryIdentifier)}function Qf(h,l){return null!=au(h,l)}function nc(h){return null!=bc(h)}function bc(h){for(const l of h.views.values())if(l.query._queryParams.loadsAllData())return l;return null}let v=1;class D{constructor(l){this.listenProvider_=l,this.syncPointTree_=new Ni(null),this.pendingWriteTree_=function Ur(){return{visibleWrites:$s.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function q(h,l,c,g,I){return function Yf(h,l,c,g,I){(0,U.hu)(g>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),h.allWrites.push({path:l,snap:c,writeId:g,visible:I}),I&&(h.visibleWrites=Lu(h.visibleWrites,l,c)),h.lastWriteId=g}(h.pendingWriteTree_,l,c,g,I),I?Fl(h,new Kl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,c)):[]}function st(h,l,c=!1){const g=function Fu(h,l){for(let c=0;c<h.allWrites.length;c++){const g=h.allWrites[c];if(g.writeId===l)return g}return null}(h.pendingWriteTree_,l);if(function kl(h,l){const c=h.allWrites.findIndex(te=>te.writeId===l);(0,U.hu)(c>=0,"removeWrite called with nonexistent writeId.");const g=h.allWrites[c];h.allWrites.splice(c,1);let I=g.visible,S=!1,F=h.allWrites.length-1;for(;I&&F>=0;){const te=h.allWrites[F];te.visible&&(F>=c&&lf(te,g.path)?I=!1:to(g.path,te.path)&&(S=!0)),F--}return!!I&&(S?(function mo(h){h.visibleWrites=eu(h.allWrites,_h,rn()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(g.snap?h.visibleWrites=Xc(h.visibleWrites,g.path):ur(g.children,ve=>{h.visibleWrites=Xc(h.visibleWrites,Pi(g.path,ve))}),!0))}(h.pendingWriteTree_,l)){let S=new Ni(null);return null!=g.snap?S=S.set(rn(),!0):ur(g.children,F=>{S=S.set(new yt(F),!0)}),Fl(h,new ul(g.path,S,c))}return[]}function bt(h,l,c){return Fl(h,new Kl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,c))}function ar(h,l,c,g,I=!1){const S=l._path,F=h.syncPointTree_.get(S);let te=[];if(F&&("default"===l._queryIdentifier||Qf(F,l))){const ve=function ju(h,l,c,g){const I=l._queryIdentifier,S=[];let F=[];const te=nc(h);if("default"===I)for(const[ve,Ne]of h.views.entries())F=F.concat(pl(Ne,c,g)),Eh(Ne)&&(h.views.delete(ve),Ne.query._queryParams.loadsAllData()||S.push(Ne.query));else{const ve=h.views.get(I);ve&&(F=F.concat(pl(ve,c,g)),Eh(ve)&&(h.views.delete(I),ve.query._queryParams.loadsAllData()||S.push(ve.query)))}return te&&!nc(h)&&S.push(new(function uf(){return(0,U.hu)(ec,"Reference.ts has not been loaded"),ec}())(l._repo,l._path)),{removed:S,events:F}}(F,l,c,g);(function ms(h){return 0===h.views.size})(F)&&(h.syncPointTree_=h.syncPointTree_.remove(S));const Ne=ve.removed;if(te=ve.events,!I){const Tt=-1!==Ne.findIndex(zt=>zt._queryParams.loadsAllData()),Ot=h.syncPointTree_.findOnPath(S,(zt,Tn)=>nc(Tn));if(Tt&&!Ot){const zt=h.syncPointTree_.subtree(S);if(!zt.isEmpty()){const Tn=function rg(h){return h.fold((l,c,g)=>{if(c&&nc(c))return[bc(c)];{let I=[];return c&&(I=Ih(c)),ur(g,(S,F)=>{I=I.concat(F)}),I}})}(zt);for(let $n=0;$n<Tn.length;++$n){const Nr=Tn[$n],Zr=Nr.query,Ao=Fa(h,Nr);h.listenProvider_.startListening(Xf(Zr),Vl(h,Zr),Ao.hashFn,Ao.onComplete)}}}!Ot&&Ne.length>0&&!g&&(Tt?h.listenProvider_.stopListening(Xf(l),null):Ne.forEach(zt=>{const Tn=h.queryToTagMap.get(Gu(zt));h.listenProvider_.stopListening(Xf(zt),Tn)}))}!function Yv(h,l){for(let c=0;c<l.length;++c){const g=l[c];if(!g._queryParams.loadsAllData()){const I=Gu(g),S=h.queryToTagMap.get(I);h.queryToTagMap.delete(I),h.tagToQueryMap.delete(S)}}}(h,Ne)}return te}function Vi(h,l,c,g){const I=cu(h,g);if(null!=I){const S=zu(I),F=S.path,te=S.queryId,ve=fo(F,l);return Od(h,F,new Kl(ku(te),ve,c))}return[]}function lu(h,l,c,g=!1){const I=l._path;let S=null,F=!1;h.syncPointTree_.foreachOnPath(I,(zt,Tn)=>{const $n=fo(zt,I);S=S||tc(Tn,$n),F=F||nc(Tn)});let ve,te=h.syncPointTree_.get(I);te?(F=F||nc(te),S=S||tc(te,rn())):(te=new $u,h.syncPointTree_=h.syncPointTree_.set(I,te)),null!=S?ve=!0:(ve=!1,S=kr.EMPTY_NODE,h.syncPointTree_.subtree(I).foreachChild((Tn,$n)=>{const Nr=tc($n,rn());Nr&&(S=S.updateImmediateChild(Tn,Nr))}));const Ne=Qf(te,l);if(!Ne&&!l._queryParams.loadsAllData()){const zt=Gu(l);(0,U.hu)(!h.queryToTagMap.has(zt),"View does not exist, but we have a tag");const Tn=function Jf(){return v++}();h.queryToTagMap.set(zt,Tn),h.tagToQueryMap.set(Tn,zt)}let Ot=function va(h,l,c,g,I,S){const F=ml(h,l,g,I,S);return h.views.has(l._queryIdentifier)||h.views.set(l._queryIdentifier,F),function cf(h,l){h.eventRegistrations_.push(l)}(F,c),function xd(h,l){const c=h.viewCache_.eventCache,g=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(Vr,(S,F)=>{g.push(pa(S,F))}),c.isFullyInitialized()&&g.push(rf(c.getNode())),gl(h,g,c.getNode(),l)}(F,c)}(te,l,c,wc(h.pendingWriteTree_,I),S,ve);if(!Ne&&!F&&!g){const zt=au(te,l);Ot=Ot.concat(function ig(h,l,c){const g=l._path,I=Vl(h,l),S=Fa(h,c),F=h.listenProvider_.startListening(Xf(l),I,S.hashFn,S.onComplete),te=h.syncPointTree_.subtree(g);if(I)(0,U.hu)(!nc(te.value),"If we're adding a query, it shouldn't be shadowed");else{const ve=te.fold((Ne,Tt,Ot)=>{if(!dr(Ne)&&Tt&&nc(Tt))return[bc(Tt).query];{let zt=[];return Tt&&(zt=zt.concat(Ih(Tt).map(Tn=>Tn.query))),ur(Ot,(Tn,$n)=>{zt=zt.concat($n)}),zt}});for(let Ne=0;Ne<ve.length;++Ne){const Tt=ve[Ne];h.listenProvider_.stopListening(Xf(Tt),Vl(h,Tt))}}return F}(h,l,zt))}return Ot}function Hu(h,l,c){const I=h.pendingWriteTree_,S=h.syncPointTree_.findOnPath(l,(F,te)=>{const Ne=tc(te,fo(F,l));if(Ne)return Ne});return Vu(I,l,S,c,!0)}function Fl(h,l){return df(l,h.syncPointTree_,null,wc(h.pendingWriteTree_,rn()))}function df(h,l,c,g){if(dr(h.path))return Sc(h,l,c,g);{const I=l.get(rn());null==c&&null!=I&&(c=tc(I,rn()));let S=[];const F=Rn(h.path),te=h.operationForChild(F),ve=l.children.get(F);if(ve&&te){const Ne=c?c.getImmediateChild(F):null,Tt=Kf(g,F);S=S.concat(df(te,ve,Ne,Tt))}return I&&(S=S.concat(li(I,h,g,c))),S}}function Sc(h,l,c,g){const I=l.get(rn());null==c&&null!=I&&(c=tc(I,rn()));let S=[];return l.children.inorderTraversal((F,te)=>{const ve=c?c.getImmediateChild(F):null,Ne=Kf(g,F),Tt=h.operationForChild(F);Tt&&(S=S.concat(Sc(Tt,te,ve,Ne)))}),I&&(S=S.concat(li(I,h,g,c))),S}function Fa(h,l){const c=l.query,g=Vl(h,c);return{hashFn:()=>(function Md(h){return h.viewCache_.serverCache.getNode()}(l)||kr.EMPTY_NODE).hash(),onComplete:I=>{if("ok"===I)return g?function tr(h,l,c){const g=cu(h,c);if(g){const I=zu(g),S=I.path,F=I.queryId,te=fo(S,l);return Od(h,S,new fh(ku(F),te))}return[]}(h,c._path,g):function Nn(h,l){return Fl(h,new fh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(h,c._path);{const S=function Ji(h,l){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const g=new Error(h+" at "+l._path.toString()+": "+c);return g.code=h.toUpperCase(),g}(I,c);return ar(h,c,null,S)}}}}function Vl(h,l){const c=Gu(l);return h.queryToTagMap.get(c)}function Gu(h){return h._path.toString()+"$"+h._queryIdentifier}function cu(h,l){return h.tagToQueryMap.get(l)}function zu(h){const l=h.indexOf("$");return(0,U.hu)(-1!==l&&l<h.length-1,"Bad queryKey."),{queryId:h.substr(l+1),path:new yt(h.substr(0,l))}}function Od(h,l,c){const g=h.syncPointTree_.get(l);return(0,U.hu)(g,"Missing sync point for query tag that we're tracking"),li(g,c,wc(h.pendingWriteTree_,l),null)}function Xf(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function _(){return(0,U.hu)(Ac,"Reference.ts has not been loaded"),Ac}())(h._repo,h._path):h}class Ch{constructor(l){this.node_=l}getImmediateChild(l){const c=this.node_.getImmediateChild(l);return new Ch(c)}node(){return this.node_}}class Nd{constructor(l,c){this.syncTree_=l,this.path_=c}getImmediateChild(l){const c=Pi(this.path_,l);return new Nd(this.syncTree_,c)}node(){return Hu(this.syncTree_,this.path_)}}const hf=function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h},ep=function(h,l,c){return h&&"object"==typeof h?((0,U.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?pm(h[".sv"],l,c):"object"==typeof h[".sv"]?wh(h[".sv"],l):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},pm=function(h,l,c){if("timestamp"===h)return c.timestamp;(0,U.hu)(!1,"Unexpected server value: "+h)},wh=function(h,l,c){h.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const g=h.increment;"number"!=typeof g&&(0,U.hu)(!1,"Unexpected increment value: "+g);const I=l.node();if((0,U.hu)(null!==I&&typeof I<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return g;const F=I.getValue();return"number"!=typeof F?g:F+g},gm=function(h,l,c,g){return np(l,new Nd(c,h),g)},tp=function(h,l,c){return np(h,new Ch(l),c)};function np(h,l,c){const g=h.getPriority().val(),I=ep(g,l.getImmediateChild(".priority"),c);let S;if(h.isLeafNode()){const F=h,te=ep(F.getValue(),l,c);return te!==F.getValue()||I!==F.getPriority().val()?new ai(te,Or(I)):h}{const F=h;return S=F,I!==F.getPriority().val()&&(S=S.updatePriority(new ai(I))),F.forEachChild(Vr,(te,ve)=>{const Ne=np(ve,l.getImmediateChild(te),c);Ne!==ve&&(S=S.updateImmediateChild(te,Ne))}),S}}class _l{constructor(l="",c=null,g={children:{},childCount:0}){this.name=l,this.parent=c,this.node=g}}function Bl(h,l){let c=l instanceof yt?l:new yt(l),g=h,I=Rn(c);for(;null!==I;){const S=(0,U.DV)(g.node.children,I)||{children:{},childCount:0};g=new _l(I,g,S),c=gr(c),I=Rn(c)}return g}function rc(h){return h.node.value}function sg(h,l){h.node.value=l,du(h)}function og(h){return h.node.childCount>0}function Th(h,l){ur(h.node.children,(c,g)=>{l(new _l(c,h,g))})}function rp(h,l,c,g){c&&!g&&l(h),Th(h,I=>{rp(I,l,!0,g)}),c&&g&&l(h)}function Wu(h){return new yt(null===h.parent?h.name:Wu(h.parent)+"/"+h.name)}function du(h){null!==h.parent&&function qu(h,l,c){const g=function uu(h){return void 0===rc(h)&&!og(h)}(c),I=(0,U.r3)(h.node.children,l);g&&I?(delete h.node.children[l],h.node.childCount--,du(h)):!g&&!I&&(h.node.children[l]=c.node,h.node.childCount++,du(h))}(h.parent,h.name,h)}const kd=/[\[\].#$\/\u0000-\u001F\u007F]/,ff=/[\[\].#$\u0000-\u001F\u007F]/,Mo=10485760,Yu=function(h){return"string"==typeof h&&0!==h.length&&!kd.test(h)},pf=function(h){return"string"==typeof h&&0!==h.length&&!ff.test(h)},Gs=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!G(h)||h&&"object"==typeof h&&(0,U.r3)(h,".sv")},Va=function(h,l,c,g){g&&void 0===l||Ld((0,U.gK)(h,"value"),l,c)},Ld=function(h,l,c){const g=c instanceof yt?new tl(c,h):c;if(void 0===l)throw new Error(h+"contains undefined "+Al(g));if("function"==typeof l)throw new Error(h+"contains a function "+Al(g)+" with contents = "+l.toString());if(G(l))throw new Error(h+"contains "+l.toString()+" "+Al(g));if("string"==typeof l&&l.length>Mo/3&&(0,U.ug)(l)>Mo)throw new Error(h+"contains a string greater than "+Mo+" utf8 bytes "+Al(g)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){let I=!1,S=!1;if(ur(l,(F,te)=>{if(".value"===F)I=!0;else if(".priority"!==F&&".sv"!==F&&(S=!0,!Yu(F)))throw new Error(h+" contains an invalid key ("+F+") "+Al(g)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function oh(h,l){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(l),h.byteLength_+=(0,U.ug)(l),Gc(h)})(g,F),Ld(h,te,g),function Hc(h){const l=h.parts_.pop();h.byteLength_-=(0,U.ug)(l),h.parts_.length>0&&(h.byteLength_-=1)}(g)}),I&&S)throw new Error(h+' contains ".value" child '+Al(g)+" in addition to actual children.")}},gf=function(h,l,c,g){if(g&&void 0===l)return;const I=(0,U.gK)(h,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(I+" must be an object containing the children to replace.");const S=[];ur(l,(F,te)=>{const ve=new yt(F);if(Ld(I,te,Pi(c,ve)),".priority"===gi(ve)&&!Gs(te))throw new Error(I+"contains an invalid value for '"+ve.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");S.push(ve)}),function(h,l){let c,g;for(c=0;c<l.length;c++){g=l[c];const S=ni(g);for(let F=0;F<S.length;F++)if((".priority"!==S[F]||F!==S.length-1)&&!Yu(S[F]))throw new Error(h+"contains an invalid key ("+S[F]+") in path "+g.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}l.sort(el);let I=null;for(c=0;c<l.length;c++){if(g=l[c],null!==I&&to(I,g))throw new Error(h+"contains a path "+I.toString()+" that is ancestor of another path "+g.toString());I=g}}(I,S)},Ku=function(h,l,c){if(!c||void 0!==l){if(G(l))throw new Error((0,U.gK)(h,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gs(l))throw new Error((0,U.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ic=function(h,l,c,g){if(!(g&&void 0===c||Yu(c)))throw new Error((0,U.gK)(h,l)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Dh=function(h,l,c,g){if(!(g&&void 0===c||pf(c)))throw new Error((0,U.gK)(h,l)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_m=function(h,l,c,g){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Dh(h,l,c,g)},vl=function(h,l){if(".info"===Rn(l))throw new Error(h+" failed = Can't modify data under /.info/")},vm=function(h,l){const c=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!Yu(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),pf(h)}(c))throw new Error((0,U.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class L_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rc(h,l){let c=null;for(let g=0;g<l.length;g++){const I=l[g],S=I.getPath();null!==c&&!da(S,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:S}),c.events.push(I)}c&&h.eventLists_.push(c)}function Pc(h,l,c){Rc(h,c),Fd(h,g=>da(g,l))}function lo(h,l,c){Rc(h,c),Fd(h,g=>to(g,l)||to(l,g))}function Fd(h,l){h.recursionDepth_++;let c=!0;for(let g=0;g<h.eventLists_.length;g++){const I=h.eventLists_[g];I&&(l(I.path)?(ym(h.eventLists_[g]),h.eventLists_[g]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function ym(h){for(let l=0;l<h.events.length;l++){const c=h.events[l];if(null!==c){h.events[l]=null;const g=c.getEventRunner();Sa&&Is("event: "+c.toString()),Fs(g)}}}const lg="repo_interrupt",Em=25;class sp{constructor(l,c,g,I){this.repoInfo_=l,this.forceRestClient_=c,this.authTokenProvider_=g,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new L_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ed(),this.transactionQueueTree_=new _l,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Zu(h){const c=h.infoData_.getNode(new yt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Mc(h){return hf({timestamp:Zu(h)})}function mf(h,l,c,g,I){h.dataUpdateCount++;const S=new yt(l);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(l,c):c;let F=[];if(I)if(g){const ve=(0,U.UI)(c,Ne=>Or(Ne));F=function _o(h,l,c,g){const I=cu(h,g);if(I){const S=zu(I),F=S.path,te=S.queryId,ve=fo(F,l),Ne=Ni.fromObject(c);return Od(h,F,new Kc(ku(te),ve,Ne))}return[]}(h.serverSyncTree_,S,ve,I)}else{const ve=Or(c);F=Vi(h.serverSyncTree_,S,ve,I)}else if(g){const ve=(0,U.UI)(c,Ne=>Or(Ne));F=function tn(h,l,c){const g=Ni.fromObject(c);return Fl(h,new Kc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,g))}(h.serverSyncTree_,S,ve)}else{const ve=Or(c);F=bt(h.serverSyncTree_,S,ve)}let te=S;F.length>0&&(te=oc(h,S)),lo(h.eventQueue_,te,F)}function _f(h,l){cg(h,"connected",l),!1===l&&function Ah(h){yl(h,"onDisconnectEvents");const l=Mc(h),c=Ed();go(h.onDisconnect_,rn(),(I,S)=>{const F=gm(I,S,h.serverSyncTree_,l);Ko(c,I,F)});let g=[];go(c,rn(),(I,S)=>{g=g.concat(bt(h.serverSyncTree_,I,S));const F=Ph(h,I);oc(h,F)}),h.onDisconnect_=Ed(),lo(h.eventQueue_,rn(),g)}(h)}function cg(h,l,c){const g=new yt("/.info/"+l),I=Or(c);h.infoData_.updateSnapshot(g,I);const S=bt(h.infoSyncTree_,g,I);lo(h.eventQueue_,g,S)}function bh(h){return h.nextWriteId_++}function ug(h,l,c,g,I){yl(h,"set",{path:l.toString(),value:c,priority:g});const S=Mc(h),F=Or(c,g),te=Hu(h.serverSyncTree_,l),ve=tp(F,te,S),Ne=bh(h),Tt=q(h.serverSyncTree_,l,ve,Ne,!0);Rc(h.eventQueue_,Tt),h.server_.put(l.toString(),F.val(!0),(zt,Tn)=>{const $n="ok"===zt;$n||ji("set at "+l+" failed: "+zt);const Nr=st(h.serverSyncTree_,Ne,!$n);lo(h.eventQueue_,l,Nr),ea(0,I,zt,Tn)});const Ot=Ph(h,l);oc(h,Ot),lo(h.eventQueue_,Ot,[])}function Sh(h,l,c){h.server_.onDisconnectCancel(l.toString(),(g,I)=>{"ok"===g&&af(h.onDisconnect_,l),ea(0,c,g,I)})}function sc(h,l,c,g){const I=Or(c);h.server_.onDisconnectPut(l.toString(),I.val(!0),(S,F)=>{"ok"===S&&Ko(h.onDisconnect_,l,I),ea(0,g,S,F)})}function cp(h,l,c){let g;g=".info"===Rn(l._path)?ar(h.infoSyncTree_,l,c):ar(h.serverSyncTree_,l,c),Pc(h.eventQueue_,l._path,g)}function Bd(h){h.persistentConnection_&&h.persistentConnection_.interrupt(lg)}function yl(h,...l){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),Is(c,...l)}function ea(h,l,c,g){l&&Fs(()=>{if("ok"===c)l(null);else{const I=(c||"error").toUpperCase();let S=I;g&&(S+=": "+g);const F=new Error(S);F.code=I,l(F)}})}function up(h,l,c){return Hu(h.serverSyncTree_,l,c)||kr.EMPTY_NODE}function hu(h,l=h.transactionQueueTree_){if(l||Rh(h,l),rc(l)){const c=hp(h,l);(0,U.hu)(c.length>0,"Sending zero length transaction queue"),c.every(I=>0===I.status)&&function dp(h,l,c){const g=c.map(Ne=>Ne.currentWriteId),I=up(h,l,g);let S=I;const F=I.hash();for(let Ne=0;Ne<c.length;Ne++){const Tt=c[Ne];(0,U.hu)(0===Tt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Tt.status=1,Tt.retryCount++;const Ot=fo(l,Tt.path);S=S.updateChild(Ot,Tt.currentOutputSnapshotRaw)}const te=S.val(!0),ve=l;h.server_.put(ve.toString(),te,Ne=>{yl(h,"transaction put response",{path:ve.toString(),status:Ne});let Tt=[];if("ok"===Ne){const Ot=[];for(let zt=0;zt<c.length;zt++)c[zt].status=2,Tt=Tt.concat(st(h.serverSyncTree_,c[zt].currentWriteId)),c[zt].onComplete&&Ot.push(()=>c[zt].onComplete(null,!0,c[zt].currentOutputSnapshotResolved)),c[zt].unwatcher();Rh(h,Bl(h.transactionQueueTree_,l)),hu(h,h.transactionQueueTree_),lo(h.eventQueue_,l,Tt);for(let zt=0;zt<Ot.length;zt++)Fs(Ot[zt])}else{if("datastale"===Ne)for(let Ot=0;Ot<c.length;Ot++)c[Ot].status=3===c[Ot].status?4:0;else{ji("transaction at "+ve.toString()+" failed: "+Ne);for(let Ot=0;Ot<c.length;Ot++)c[Ot].status=4,c[Ot].abortReason=Ne}oc(h,l)}},F)}(h,Wu(l),c)}else og(l)&&Th(l,c=>{hu(h,c)})}function oc(h,l){const c=xc(h,l),g=Wu(c);return function dg(h,l,c){if(0===l.length)return;const g=[];let I=[];const F=l.filter(te=>0===te.status).map(te=>te.currentWriteId);for(let te=0;te<l.length;te++){const ve=l[te],Ne=fo(c,ve.path);let Ot,Tt=!1;if((0,U.hu)(null!==Ne,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ve.status)Tt=!0,Ot=ve.abortReason,I=I.concat(st(h.serverSyncTree_,ve.currentWriteId,!0));else if(0===ve.status)if(ve.retryCount>=Em)Tt=!0,Ot="maxretry",I=I.concat(st(h.serverSyncTree_,ve.currentWriteId,!0));else{const zt=up(h,ve.path,F);ve.currentInputSnapshot=zt;const Tn=l[te].update(zt.val());if(void 0!==Tn){Ld("transaction failed: Data returned ",Tn,ve.path);let $n=Or(Tn);"object"==typeof Tn&&null!=Tn&&(0,U.r3)(Tn,".priority")||($n=$n.updatePriority(zt.getPriority()));const Zr=ve.currentWriteId,Ao=Mc(h),yo=tp($n,zt,Ao);ve.currentOutputSnapshotRaw=$n,ve.currentOutputSnapshotResolved=yo,ve.currentWriteId=bh(h),F.splice(F.indexOf(Zr),1),I=I.concat(q(h.serverSyncTree_,ve.path,yo,ve.currentWriteId,ve.applyLocally)),I=I.concat(st(h.serverSyncTree_,Zr,!0))}else Tt=!0,Ot="nodata",I=I.concat(st(h.serverSyncTree_,ve.currentWriteId,!0))}lo(h.eventQueue_,c,I),I=[],Tt&&(l[te].status=2,setTimeout(l[te].unwatcher,Math.floor(0)),l[te].onComplete&&g.push("nodata"===Ot?()=>l[te].onComplete(null,!1,l[te].currentInputSnapshot):()=>l[te].onComplete(new Error(Ot),!1,null)))}Rh(h,h.transactionQueueTree_);for(let te=0;te<g.length;te++)Fs(g[te]);hu(h,h.transactionQueueTree_)}(h,hp(h,c),g),g}function xc(h,l){let c,g=h.transactionQueueTree_;for(c=Rn(l);null!==c&&void 0===rc(g);)g=Bl(g,c),c=Rn(l=gr(l));return g}function hp(h,l){const c=[];return fp(h,l,c),c.sort((g,I)=>g.order-I.order),c}function fp(h,l,c){const g=rc(l);if(g)for(let I=0;I<g.length;I++)c.push(g[I]);Th(l,I=>{fp(h,I,c)})}function Rh(h,l){const c=rc(l);if(c){let g=0;for(let I=0;I<c.length;I++)2!==c[I].status&&(c[g]=c[I],g++);c.length=g,sg(l,c.length>0?c:void 0)}Th(l,g=>{Rh(h,g)})}function Ph(h,l){const c=Wu(xc(h,l)),g=Bl(h.transactionQueueTree_,l);return function mm(h,l,c){let g=c?h:h.parent;for(;null!==g;){if(l(g))return!0;g=g.parent}}(g,I=>{Qu(h,I)}),Qu(h,g),rp(g,I=>{Qu(h,I)}),c}function Qu(h,l){const c=rc(l);if(c){const g=[];let I=[],S=-1;for(let F=0;F<c.length;F++)3===c[F].status||(1===c[F].status?((0,U.hu)(S===F-1,"All SENT items should be at beginning of queue."),S=F,c[F].status=3,c[F].abortReason="set"):((0,U.hu)(0===c[F].status,"Unexpected transaction status in abort"),c[F].unwatcher(),I=I.concat(st(h.serverSyncTree_,c[F].currentWriteId,!0)),c[F].onComplete&&g.push(c[F].onComplete.bind(null,new Error("set"),!1,null))));-1===S?sg(l,void 0):c.length=S+1,lo(h.eventQueue_,Wu(l),I);for(let F=0;F<g.length;F++)Fs(g[F])}}const $d=function(h,l){const c=wm(h),g=c.namespace;return"firebase.com"===c.domain&&Qs(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!g||"undefined"===g)&&"localhost"!==c.domain&&Qs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ji("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new fn(c.host,c.secure,g,"ws"===c.scheme||"wss"===c.scheme,l,"",g!==c.subdomain),path:new yt(c.pathString)}},wm=function(h){let l="",c="",g="",I="",S="",F=!0,te="https",ve=443;if("string"==typeof h){let Ne=h.indexOf("//");Ne>=0&&(te=h.substring(0,Ne-1),h=h.substring(Ne+2));let Tt=h.indexOf("/");-1===Tt&&(Tt=h.length);let Ot=h.indexOf("?");-1===Ot&&(Ot=h.length),l=h.substring(0,Math.min(Tt,Ot)),Tt<Ot&&(I=function Cm(h){let l="";const c=h.split("/");for(let g=0;g<c.length;g++)if(c[g].length>0){let I=c[g];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch{}l+="/"+I}return l}(h.substring(Tt,Ot)));const zt=function Mh(h){const l={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const g=c.split("=");2===g.length?l[decodeURIComponent(g[0])]=decodeURIComponent(g[1]):ji(`Invalid query segment '${c}' in query '${h}'`)}return l}(h.substring(Math.min(h.length,Ot)));Ne=l.indexOf(":"),Ne>=0?(F="https"===te||"wss"===te,ve=parseInt(l.substring(Ne+1),10)):Ne=l.length;const Tn=l.slice(0,Ne);if("localhost"===Tn.toLowerCase())c="localhost";else if(Tn.split(".").length<=2)c=Tn;else{const $n=l.indexOf(".");g=l.substring(0,$n).toLowerCase(),c=l.substring($n+1),S=g}"ns"in zt&&(S=zt.ns)}return{host:l,port:ve,domain:c,subdomain:g,secure:F,scheme:te,pathString:I,namespace:S}},Ef="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",If=function(){let h=0;const l=[];return function(c){const g=c===h;let I;h=c;const S=new Array(8);for(I=7;I>=0;I--)S[I]=Ef.charAt(c%64),c=Math.floor(c/64);(0,U.hu)(0===c,"Cannot push at time == 0");let F=S.join("");if(g){for(I=11;I>=0&&63===l[I];I--)l[I]=0;l[I]++}else for(I=0;I<12;I++)l[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)F+=Ef.charAt(l[I]);return(0,U.hu)(20===F.length,"nextPushId: Length should be 20."),F}}();class hg{constructor(l,c,g,I){this.eventType=l,this.eventRegistration=c,this.snapshot=g,this.prevName=I}getPath(){const l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class fu{constructor(l,c,g){this.eventRegistration=l,this.error=c,this.path=g}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jd{constructor(l,c){this.snapshotCallback=l,this.cancelCallback=c}onValue(l,c){this.snapshotCallback.call(null,l,c)}onCancel(l){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)}get hasCancelCallback(){return!!this.cancelCallback}matches(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context}}class fg{constructor(l,c){this._repo=l,this._path=c}cancel(){const l=new U.BH;return Sh(this._repo,this._path,l.wrapCallback(()=>{})),l.promise}remove(){vl("OnDisconnect.remove",this._path);const l=new U.BH;return sc(this._repo,this._path,null,l.wrapCallback(()=>{})),l.promise}set(l){vl("OnDisconnect.set",this._path),Va("OnDisconnect.set",l,this._path,!1);const c=new U.BH;return sc(this._repo,this._path,l,c.wrapCallback(()=>{})),c.promise}setWithPriority(l,c){vl("OnDisconnect.setWithPriority",this._path),Va("OnDisconnect.setWithPriority",l,this._path,!1),Ku("OnDisconnect.setWithPriority",c,!1);const g=new U.BH;return function vf(h,l,c,g,I){const S=Or(c,g);h.server_.onDisconnectPut(l.toString(),S.val(!0),(F,te)=>{"ok"===F&&Ko(h.onDisconnect_,l,S),ea(0,I,F,te)})}(this._repo,this._path,l,c,g.wrapCallback(()=>{})),g.promise}update(l){vl("OnDisconnect.update",this._path),gf("OnDisconnect.update",l,this._path,!1);const c=new U.BH;return function lp(h,l,c,g){if((0,U.xb)(c))return Is("onDisconnect().update() called with empty data.  Don't do anything."),void ea(0,g,"ok",void 0);h.server_.onDisconnectMerge(l.toString(),c,(I,S)=>{"ok"===I&&ur(c,(F,te)=>{const ve=Or(te);Ko(h.onDisconnect_,Pi(l,F),ve)}),ea(0,g,I,S)})}(this._repo,this._path,l,c.wrapCallback(()=>{})),c.promise}}class ya{constructor(l,c,g,I){this._repo=l,this._path=c,this._queryParams=g,this._orderByCalled=I}get key(){return dr(this._path)?null:gi(this._path)}get ref(){return new Ba(this._repo,this._path)}get _queryIdentifier(){const l=Xi(this._queryParams),c=Tr(l);return"{}"===c?"default":c}get _queryObject(){return Xi(this._queryParams)}isEqual(l){if(!((l=(0,U.m9)(l))instanceof ya))return!1;const c=this._repo===l._repo,g=da(this._path,l._path);return c&&g&&this._queryIdentifier===l._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hi(h){let l="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(l+="/"+encodeURIComponent(String(h.pieces_[c])));return l||"/"}(this._path)}}function Cf(h,l){if(!0===h._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function Oc(h){let l=null,c=null;if(h.hasStart()&&(l=h.getIndexStartValue()),h.hasEnd()&&(c=h.getIndexEndValue()),h.getIndex()===Wo){const g="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==j)throw new Error(g);if("string"!=typeof l)throw new Error(I)}if(h.hasEnd()){if(h.getIndexEndName()!==Ie)throw new Error(g);if("string"!=typeof c)throw new Error(I)}}else if(h.getIndex()===Vr){if(null!=l&&!Gs(l)||null!=c&&!Gs(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(h.getIndex()instanceof ha||h.getIndex()===fa,"unknown index type."),null!=l&&"object"==typeof l||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Hd(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ba extends ya{constructor(l,c){super(l,c,new Pl,!1)}get parent(){const l=Oa(this._path);return null===l?null:new Ba(this._repo,l)}get root(){let l=this;for(;null!==l.parent;)l=l.parent;return l}}class Ua{constructor(l,c,g){this._node=l,this.ref=c,this._index=g}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(l){const c=new yt(l),g=xh(this.ref,l);return new Ua(this._node.getChild(c),g,Vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(l){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(g,I)=>l(new Ua(I,xh(this.ref,g),Vr)))}hasChild(l){const c=new yt(l);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function vo(h,l){return(h=(0,U.m9)(h))._checkNotDeleted("ref"),void 0!==l?xh(h._root,l):h._root}function Tm(h,l){(h=(0,U.m9)(h))._checkNotDeleted("refFromURL");const c=$d(l,h._repo.repoInfo_.nodeAdmin);vm("refFromURL",c);const g=c.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&g.host!==h._repo.repoInfo_.host&&Qs("refFromURL: Host name does not match the current database: (found "+g.host+" but expected "+h._repo.repoInfo_.host+")"),vo(h,c.path.toString())}function xh(h,l){return null===Rn((h=(0,U.m9)(h))._path)?_m("child","path",l,!1):Dh("child","path",l,!1),new Ba(h._repo,Pi(h._path,l))}function gp(h,l){h=(0,U.m9)(h),vl("set",h._path),Va("set",l,h._path,!1);const c=new U.BH;return ug(h._repo,h._path,l,null,c.wrapCallback(()=>{})),c.promise}function Dm(h,l){gf("update",l,h._path,!1);const c=new U.BH;return function Im(h,l,c,g){yl(h,"update",{path:l.toString(),value:c});let I=!0;const S=Mc(h),F={};if(ur(c,(te,ve)=>{I=!1,F[te]=gm(Pi(l,te),Or(ve),h.serverSyncTree_,S)}),I)Is("update() called with empty data.  Don't do anything."),ea(0,g,"ok",void 0);else{const te=bh(h),ve=function ce(h,l,c,g){!function mh(h,l,c,g){(0,U.hu)(g>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:l,children:c,writeId:g,visible:!0}),h.visibleWrites=hl(h.visibleWrites,l,c),h.lastWriteId=g}(h.pendingWriteTree_,l,c,g);const I=Ni.fromObject(c);return Fl(h,new Kc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,I))}(h.serverSyncTree_,l,F,te);Rc(h.eventQueue_,ve),h.server_.merge(l.toString(),c,(Ne,Tt)=>{const Ot="ok"===Ne;Ot||ji("update at "+l+" failed: "+Ne);const zt=st(h.serverSyncTree_,te,!Ot),Tn=zt.length>0?oc(h,l):l;lo(h.eventQueue_,Tn,zt),ea(0,g,Ne,Tt)}),ur(c,Ne=>{const Tt=Ph(h,Pi(l,Ne));oc(h,Tt)}),lo(h.eventQueue_,l,[])}}(h._repo,h._path,l,c.wrapCallback(()=>{})),c.promise}function bm(h){h=(0,U.m9)(h);const l=new jd(()=>{}),c=new Gd(l);return function ap(h,l,c){const g=function _s(h,l){const c=l._path;let g=null;h.syncPointTree_.foreachOnPath(c,(Ne,Tt)=>{const Ot=fo(Ne,c);g=g||tc(Tt,Ot)});let I=h.syncPointTree_.get(c);I?g=g||tc(I,rn()):(I=new $u,h.syncPointTree_=h.syncPointTree_.set(c,I));const S=null!=g,F=S?new xl(g,!0,!1):null;return function Dc(h){return Qc(h.viewCache_)}(ml(I,l,wc(h.pendingWriteTree_,l._path),S?F.getNode():kr.EMPTY_NODE,S))}(h.serverSyncTree_,l);return null!=g?Promise.resolve(g):h.server_.get(l).then(I=>{const S=Or(I).withIndex(l._queryParams.getIndex());let F;if(lu(h.serverSyncTree_,l,c,!0),l._queryParams.loadsAllData())F=bt(h.serverSyncTree_,l._path,S);else{const te=Vl(h.serverSyncTree_,l);F=Vi(h.serverSyncTree_,l._path,S,te)}return lo(h.eventQueue_,l._path,F),ar(h.serverSyncTree_,l,c,null,!0),S},I=>(yl(h,"get for query "+(0,U.Wl)(l)+" failed: "+I),Promise.reject(new Error(I))))}(h._repo,h,c).then(g=>new Ua(g,new Ba(h._repo,h._path),h._queryParams.getIndex()))}class Gd{constructor(l){this.callbackContext=l}respondsTo(l){return"value"===l}createEvent(l,c){const g=c._queryParams.getIndex();return new hg("value",this,new Ua(l.snapshotNode,new Ba(c._repo,c._path),g))}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,null)}createCancelEvent(l,c){return this.callbackContext.hasCancelCallback?new fu(this,l,c):null}matches(l){return l instanceof Gd&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Oh{constructor(l,c){this.eventType=l,this.callbackContext=c}respondsTo(l){let c="children_added"===l?"child_added":l;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(l,c){return this.callbackContext.hasCancelCallback?new fu(this,l,c):null}createEvent(l,c){(0,U.hu)(null!=l.childName,"Child events should have a childName.");const g=xh(new Ba(c._repo,c._path),l.childName),I=c._queryParams.getIndex();return new hg(l.type,this,new Ua(l.snapshotNode,g,I),l.prevName)}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,l.prevName)}matches(l){return l instanceof Oh&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function pu(h,l,c,g,I){let S;if("object"==typeof g&&(S=void 0,I=g),"function"==typeof g&&(S=g),I&&I.onlyOnce){const ve=c,Ne=(Tt,Ot)=>{cp(h._repo,h,te),ve(Tt,Ot)};Ne.userCallback=c.userCallback,Ne.context=c.context,c=Ne}const F=new jd(c,S||void 0),te="value"===l?new Gd(F):new Oh(l,F);return function Jo(h,l,c){let g;g=".info"===Rn(l._path)?lu(h.infoSyncTree_,l,c):lu(h.serverSyncTree_,l,c),Pc(h.eventQueue_,l._path,g)}(h._repo,h,te),()=>cp(h._repo,h,te)}function Nh(h,l,c,g){return pu(h,"value",l,c,g)}function ac(h,l,c,g){return pu(h,"child_added",l,c,g)}function Xu(h,l,c,g){return pu(h,"child_changed",l,c,g)}function Am(h,l,c,g){return pu(h,"child_moved",l,c,g)}function Sm(h,l,c,g){return pu(h,"child_removed",l,c,g)}function F_(h,l,c){let g=null;const I=c?new jd(c):null;"value"===l?g=new Gd(I):l&&(g=new Oh(l,I)),cp(h._repo,h,g)}class lc{}class Rm extends lc{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){Va("endAt",this._value,l._path,!0);const c=sf(l._queryParams,this._value,this._key);if(Hd(c),Oc(c),l._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ya(l._repo,l._path,c,l._orderByCalled)}}class Mm extends lc{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){Va("endBefore",this._value,l._path,!1);const c=function Jp(h,l,c){let g;return g=sf(h,l,h.index_===Wo||c?c:j),g.endBeforeSet_=!0,g}(l._queryParams,this._value,this._key);if(Hd(c),Oc(c),l._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ya(l._repo,l._path,c,l._orderByCalled)}}class Om extends lc{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){Va("startAt",this._value,l._path,!0);const c=zf(l._queryParams,this._value,this._key);if(Hd(c),Oc(c),l._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ya(l._repo,l._path,c,l._orderByCalled)}}class V_ extends lc{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){Va("startAfter",this._value,l._path,!1);const c=function hm(h,l,c){let g;return g=zf(h,l,h.index_===Wo||c?c:Ie),g.startAfterSet_=!0,g}(l._queryParams,this._value,this._key);if(Hd(c),Oc(c),l._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ya(l._repo,l._path,c,l._orderByCalled)}}class $a extends lc{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ya(l._repo,l._path,function yd(h,l){const c=h.copy();return c.limitSet_=!0,c.limit_=l,c.viewFrom_="l",c}(l._queryParams,this._limit),l._orderByCalled)}}class bf extends lc{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ya(l._repo,l._path,function hh(h,l){const c=h.copy();return c.limitSet_=!0,c.limit_=l,c.viewFrom_="r",c}(l._queryParams,this._limit),l._orderByCalled)}}class gg extends lc{constructor(l){super(),this._path=l}_apply(l){Cf(l,"orderByChild");const c=new yt(this._path);if(dr(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const g=new ha(c),I=Us(l._queryParams,g);return Oc(I),new ya(l._repo,l._path,I,!0)}}class Zv extends lc{_apply(l){Cf(l,"orderByKey");const c=Us(l._queryParams,Wo);return Oc(c),new ya(l._repo,l._path,c,!0)}}class mg extends lc{_apply(l){Cf(l,"orderByPriority");const c=Us(l._queryParams,Vr);return Oc(c),new ya(l._repo,l._path,c,!0)}}class U_ extends lc{_apply(l){Cf(l,"orderByValue");const c=Us(l._queryParams,fa);return Oc(c),new ya(l._repo,l._path,c,!0)}}class mp extends lc{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){if(Va("equalTo",this._value,l._path,!1),l._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(l._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rm(this._value,this._key)._apply(new Om(this._value,this._key)._apply(l))}}function Ea(h,...l){let c=(0,U.m9)(h);for(const g of l)c=g._apply(c);return c}(function ao(h){(0,U.hu)(!ec,"__referenceConstructor has already been defined"),ec=h})(Ba),function C(h){(0,U.hu)(!Ac,"__referenceConstructor has already been defined"),Ac=h}(Ba);const Sf={};function yp(h,l,c,g,I){let S=g||h.options.databaseURL;void 0===S&&(h.options.projectId||Qs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Is("Using default host for project ",h.options.projectId),S=`${h.options.projectId}-default-rtdb.firebaseio.com`);let ve,Ne,F=$d(S,I),te=F.repoInfo;typeof process<"u"&&process.env&&(Ne=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Ne?(ve=!0,S=`http://${Ne}?ns=${te.namespace}`,F=$d(S,I),te=F.repoInfo):ve=!F.repoInfo.secure;const Tt=I&&ve?new Js(Js.OWNER):new ef(h.name,h.options,l);vm("Invalid Firebase Database URL",F),dr(F.path)||Qs("Database URL must point to the root of a Firebase Database (not including a child path).");const Ot=function Lm(h,l,c,g){let I=Sf[l.name];I||(I={},Sf[l.name]=I);let S=I[h.toURLString()];return S&&Qs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),S=new sp(h,false,c,g),I[h.toURLString()]=S,S}(te,h,Tt,new Qa(h.name,c));return new vg(Ot,h)}class vg{constructor(l,c){this._repoInternal=l,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function op(h,l,c){if(h.stats_=$c(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new cl(h.repoInfo_,(g,I,S,F)=>{mf(h,g,I,S,F)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>_f(h,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(c)}catch(g){throw new Error("Invalid authOverride provided: "+g)}}h.persistentConnection_=new _c(h.repoInfo_,l,(g,I,S,F)=>{mf(h,g,I,S,F)},g=>{_f(h,g)},g=>{!function Vd(h,l){ur(l,(c,g)=>{cg(h,c,g)})}(h,g)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(g=>{h.server_.refreshAuthToken(g)}),h.appCheckProvider_.addTokenChangeListener(g=>{h.server_.refreshAppCheckToken(g.token)}),h.statsReporter_=function Mn(h,l){const c=h.toString();return nr[c]||(nr[c]=l()),nr[c]}(h.repoInfo_,()=>new eg(h.stats_,h.server_)),h.infoData_=new ps,h.infoSyncTree_=new D({startListening:(g,I,S,F)=>{let te=[];const ve=h.infoData_.getNode(g._path);return ve.isEmpty()||(te=bt(h.infoSyncTree_,g._path,ve),setTimeout(()=>{F("ok")},0)),te},stopListening:()=>{}}),cg(h,"connected",!1),h.serverSyncTree_=new D({startListening:(g,I,S,F)=>(h.server_.listen(g,S,I,(te,ve)=>{const Ne=F(te,ve);lo(h.eventQueue_,g._path,Ne)}),[]),stopListening:(g,I)=>{h.server_.unlisten(g,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ba(this._repo,rn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _g(h,l){const c=Sf[l];(!c||c[h.key]!==h)&&Qs(`Database ${l}(${h.repoInfo_}) has already been deleted.`),Bd(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(l){null===this._rootInternal&&Qs("Cannot call "+l+" on a deleted database.")}}function Fm(){Go.IS_TRANSPORT_INITIALIZED&&ji("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Vm(){Fm(),rr.forceDisallow()}function xo(){Fm(),An.forceDisallow(),rr.forceAllow()}function Ip(h,l){bs(h,l)}const Xv={".sv":"timestamp"};class ey{constructor(l,c){this.committed=l,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_c.prototype.simpleListen=function(h,l){this.sendRequest("q",{p:h},l)},_c.prototype.echo=function(h,l){this.sendRequest("echo",{d:h},l)},function j_(h){Yi(nt.SDK_VERSION),(0,nt._registerComponent)(new rt.wA("database",(l,{instanceIdentifier:c})=>yp(l.getProvider("app").getImmediate(),l.getProvider("auth-internal"),l.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(Po,"1.0.1",h),(0,nt.registerVersion)(Po,"1.0.1","esm2017")}();const Vh=new jo.Yd("@firebase/database-compat"),Nc=function(h){Vh.warn("FIREBASE WARNING: "+h)};class Cp{constructor(l){this._delegate=l}cancel(l){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",l,!0);const c=this._delegate.cancel();return l&&c.then(()=>l(null),g=>l(g)),c}remove(l){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",l,!0);const c=this._delegate.remove();return l&&c.then(()=>l(null),g=>l(g)),c}set(l,c){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",c,!0);const g=this._delegate.set(l);return c&&g.then(()=>c(null),I=>c(I)),g}setWithPriority(l,c,g){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",g,!0);const I=this._delegate.setWithPriority(l,c);return g&&I.then(()=>g(null),S=>g(S)),I}update(l,c){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){const I={};for(let S=0;S<l.length;++S)I[""+S]=l[S];l=I,Nc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",c,!0);const g=this._delegate.update(l);return c&&g.then(()=>c(null),I=>c(I)),g}}class Bh{constructor(l,c){this.committed=l,this.snapshot=c}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ja{constructor(l,c){this._database=l,this._delegate=c}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(l){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),l=String(l),Dh("DataSnapshot.child","path",l,!1),new ja(this._database,this._delegate.child(l))}hasChild(l){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Dh("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(l){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(c=>l(new ja(this._database,c)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new ta(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cs{constructor(l,c){this.database=l,this._delegate=c}on(l,c,g,I){var S;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",c,!1);const F=Cs.getCancelAndContextArgs_("Query.on",g,I),te=(Ne,Tt)=>{c.call(F.context,new ja(this.database,Ne),Tt)};te.userCallback=c,te.context=F.context;const ve=null===(S=F.cancel)||void 0===S?void 0:S.bind(F.context);switch(l){case"value":return Nh(this._delegate,te,ve),c;case"child_added":return ac(this._delegate,te,ve),c;case"child_removed":return Sm(this._delegate,te,ve),c;case"child_changed":return Xu(this._delegate,te,ve),c;case"child_moved":return Am(this._delegate,te,ve),c;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(l,c,g){if((0,U.Dv)("Query.off",0,3,arguments.length),function(h,l,c){if(void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,l),(0,U.Wj)("Query.off","callback",c,!0),(0,U.lb)("Query.off","context",g,!0),c){const I=()=>{};I.userCallback=c,I.context=g,F_(this._delegate,l,I)}else F_(this._delegate,l)}get(){return bm(this._delegate).then(l=>new ja(this.database,l))}once(l,c,g,I){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",c,!0);const S=Cs.getCancelAndContextArgs_("Query.once",g,I),F=new U.BH,te=(Ne,Tt)=>{const Ot=new ja(this.database,Ne);c&&c.call(S.context,Ot,Tt),F.resolve(Ot)};te.userCallback=c,te.context=S.context;const ve=Ne=>{S.cancel&&S.cancel.call(S.context,Ne),F.reject(Ne)};switch(l){case"value":Nh(this._delegate,te,ve,{onlyOnce:!0});break;case"child_added":ac(this._delegate,te,ve,{onlyOnce:!0});break;case"child_removed":Sm(this._delegate,te,ve,{onlyOnce:!0});break;case"child_changed":Xu(this._delegate,te,ve,{onlyOnce:!0});break;case"child_moved":Am(this._delegate,te,ve,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return F.promise}limitToFirst(l){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Cs(this.database,Ea(this._delegate,function zd(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $a(h)}(l)))}limitToLast(l){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Cs(this.database,Ea(this._delegate,function pg(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bf(h)}(l)))}orderByChild(l){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Cs(this.database,Ea(this._delegate,function B_(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Dh("orderByChild","path",h,!1),new gg(h)}(l)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Cs(this.database,Ea(this._delegate,function km(){return new Zv}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Cs(this.database,Ea(this._delegate,function Af(){return new mg}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Cs(this.database,Ea(this._delegate,function $_(){return new U_}()))}startAt(l=null,c){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Cs(this.database,Ea(this._delegate,function Nm(h=null,l){return ic("startAt","key",l,!0),new Om(h,l)}(l,c)))}startAfter(l=null,c){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Cs(this.database,Ea(this._delegate,function Ju(h,l){return ic("startAfter","key",l,!0),new V_(h,l)}(l,c)))}endAt(l=null,c){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Cs(this.database,Ea(this._delegate,function Pm(h,l){return ic("endAt","key",l,!0),new Rm(h,l)}(l,c)))}endBefore(l=null,c){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Cs(this.database,Ea(this._delegate,function xm(h,l){return ic("endBefore","key",l,!0),new Mm(h,l)}(l,c)))}equalTo(l,c){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Cs(this.database,Ea(this._delegate,function _p(h,l){return ic("equalTo","key",l,!0),new mp(h,l)}(l,c)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(l){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(l instanceof Cs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(l._delegate)}static getCancelAndContextArgs_(l,c,g){const I={cancel:void 0,context:void 0};if(c&&g)I.cancel=c,(0,U.Wj)(l,"cancel",I.cancel,!0),I.context=g,(0,U.lb)(l,"context",I.context,!0);else if(c)if("object"==typeof c&&null!==c)I.context=c;else{if("function"!=typeof c)throw new Error((0,U.gK)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=c}return I}get ref(){return new ta(this.database,new Ba(this._delegate._repo,this._delegate._path))}}class ta extends Cs{constructor(l,c){super(l,new ya(c._repo,c._path,new Pl,!1)),this.database=l,this._delegate=c}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(l){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof l&&(l=String(l)),new ta(this.database,xh(this._delegate,l))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const l=this._delegate.parent;return l?new ta(this.database,l):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new ta(this.database,this._delegate.root)}set(l,c){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",c,!0);const g=gp(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}update(l,c){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(l)){const I={};for(let S=0;S<l.length;++S)I[""+S]=l[S];l=I,Nc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vl("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",c,!0);const g=Dm(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}setWithPriority(l,c,g){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",g,!0);const I=function Df(h,l,c){if(vl("setWithPriority",h._path),Va("setWithPriority",l,h._path,!1),Ku("setWithPriority",c,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const g=new U.BH;return ug(h._repo,h._path,l,c,g.wrapCallback(()=>{})),g.promise}(this._delegate,l,c);return g&&I.then(()=>g(null),S=>g(S)),I}remove(l){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",l,!0);const c=function wf(h){return vl("remove",h._path),gp(h,null)}(this._delegate);return l&&c.then(()=>l(null),g=>l(g)),c}transaction(l,c,g){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",l,!1),(0,U.Wj)("Reference.transaction","onComplete",c,!0),function(h,l,c,g){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,g);const I=function Lh(h,l,c){var g;if(h=(0,U.m9)(h),vl("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const I=null===(g=null==c?void 0:c.applyLocally)||void 0===g||g,S=new U.BH,te=Nh(h,()=>{});return function Ud(h,l,c,g,I,S){yl(h,"transaction on "+l);const F={path:l,update:c,onComplete:g,status:null,order:Au(),applyLocally:S,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},te=up(h,l,void 0);F.currentInputSnapshot=te;const ve=F.update(te.val());if(void 0===ve)F.unwatcher(),F.currentOutputSnapshotRaw=null,F.currentOutputSnapshotResolved=null,F.onComplete&&F.onComplete(null,!1,F.currentInputSnapshot);else{Ld("transaction failed: Data returned ",ve,F.path),F.status=0;const Ne=Bl(h.transactionQueueTree_,l),Tt=rc(Ne)||[];let Ot;Tt.push(F),sg(Ne,Tt),"object"==typeof ve&&null!==ve&&(0,U.r3)(ve,".priority")?(Ot=(0,U.DV)(ve,".priority"),(0,U.hu)(Gs(Ot),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ot=(Hu(h.serverSyncTree_,l)||kr.EMPTY_NODE).getPriority().val();const zt=Mc(h),Tn=Or(ve,Ot),$n=tp(Tn,te,zt);F.currentOutputSnapshotRaw=Tn,F.currentOutputSnapshotResolved=$n,F.currentWriteId=bh(h);const Nr=q(h.serverSyncTree_,l,$n,F.currentWriteId,F.applyLocally);lo(h.eventQueue_,l,Nr),hu(h,h.transactionQueueTree_)}}(h._repo,h._path,l,(ve,Ne,Tt)=>{let Ot=null;ve?S.reject(ve):(Ot=new Ua(Tt,new Ba(h._repo,h._path),Vr),S.resolve(new ey(Ne,Ot)))},te,I),S.promise}(this._delegate,l,{applyLocally:g}).then(S=>new Bh(S.committed,new ja(this.database,S.snapshot)));return c&&I.then(S=>c(null,S.committed,S.snapshot),S=>c(S,!1,null)),I}setPriority(l,c){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",c,!0);const g=function Tf(h,l){h=(0,U.m9)(h),vl("setPriority",h._path),Ku("setPriority",l,!1);const c=new U.BH;return ug(h._repo,Pi(h._path,".priority"),l,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}push(l,c){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",c,!0);const g=function pp(h,l){h=(0,U.m9)(h),vl("push",h._path),Va("push",l,h._path,!0);const c=Zu(h._repo),g=If(c),I=xh(h,g),S=xh(h,g);let F;return F=null!=l?gp(S,l).then(()=>S):Promise.resolve(S),I.then=F.then.bind(F),I.catch=F.then.bind(F,void 0),I}(this._delegate,l),I=g.then(F=>new ta(this.database,F));c&&I.then(()=>c(null),F=>c(F));const S=new ta(this.database,g);return S.then=I.then.bind(I),S.catch=I.catch.bind(I,void 0),S}onDisconnect(){return vl("Reference.onDisconnect",this._delegate._path),new Cp(new fg(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vu{constructor(l,c){this._delegate=l,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Vm,forceLongPolling:xo}}useEmulator(l,c,g={}){!function yg(h,l,c,g={}){(h=(0,U.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&Qs("Cannot call useEmulator() after instance has already been initialized.");const I=h._repoInternal;let S;if(I.repoInfo_.nodeAdmin)g.mockUserToken&&Qs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),S=new Js(Js.OWNER);else if(g.mockUserToken){const F="string"==typeof g.mockUserToken?g.mockUserToken:(0,U.Sg)(g.mockUserToken,h.app.options.projectId);S=new Js(F)}!function kh(h,l,c,g){h.repoInfo_=new fn(`${l}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),g&&(h.authTokenProvider_=g)}(I,l,c,S)}(this._delegate,l,c,g)}ref(l){if((0,U.Dv)("database.ref",0,1,arguments.length),l instanceof ta){const c=Tm(this._delegate,l.toString());return new ta(this,c)}{const c=vo(this._delegate,l);return new ta(this,c)}}refFromURL(l){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const g=Tm(this._delegate,l);return new ta(this,g)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function Ep(h){(h=(0,U.m9)(h))._checkNotDeleted("goOffline"),Bd(h._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function Pf(h){(h=(0,U.m9)(h))._checkNotDeleted("goOnline"),function yf(h){h.persistentConnection_&&h.persistentConnection_.resume(lg)}(h._repo)}(this._delegate)}}vu.ServerValue={TIMESTAMP:function Mf(){return Xv}(),increment:h=>function Jv(h){return{".sv":{increment:h}}}(h)};var Um=Object.freeze({__proto__:null,initStandalone:function Eg({app:h,url:l,version:c,customAuthImpl:g,customAppCheckImpl:I,namespace:S,nodeAdmin:F=!1}){Yi(c);const te=new rt.H0("database-standalone"),ve=new rt.zt("auth-internal",te);let Ne;return ve.setComponent(new rt.wA("auth-internal",()=>g,"PRIVATE")),I&&(Ne=new rt.zt("app-check-internal",te),Ne.setComponent(new rt.wA("app-check-internal",()=>I,"PRIVATE"))),{instance:new vu(yp(h,ve,Ne,l,F),h),namespace:S}}});const Ig=vu.ServerValue;function yu(h,l,c="on",g=qe.z){return new ot.y(I=>{let S=null;return S=h[c](l,(F,te)=>{g.schedule(()=>{I.next({snapshot:F,prevKey:te})}),"once"===c&&g.schedule(()=>I.complete())},F=>{g.schedule(()=>I.error(F))}),"on"===c?{unsubscribe(){null!=S&&h.off(l,S)}}:{unsubscribe(){}}}).pipe((0,Re.U)(I=>{const{snapshot:S,prevKey:F}=I;let te=null;return S.exists()&&(te=S.key),{type:l,payload:S,prevKey:F,key:te}}),(0,$o.B)())}function wg(h){return null==h}function Uh(h){return"function"==typeof h.set}function wp(h,l){return Uh(l)?l:h.ref(l)}function Of(h,l){if(function xf(h){return"string"==typeof h}(h))return l.stringCase();if(Uh(h))return l.firebaseCase();if(function Cg(h){return"function"==typeof h.exportVal}(h))return l.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function Tp(h){return(wg(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function Tg(h,l,c){const g=(l=Tp(l)).map(I=>yu(h,I,"on",c));return(0,uo.T)(...g)}function $m(h,l){return function(g,I){return Of(g,{stringCase:()=>h.child(g)[l](I),firebaseCase:()=>g[l](I),snapshotCase:()=>g.ref[l](I)})}}function Dp(h){return function(c){return c?Of(c,{stringCase:()=>h.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):h.remove()}}function Nf(h,l){const c=h.length;for(let g=0;g<c;g++)if(h[g].payload.key===l)return g;return-1}function Ag(h,l){var c;const{payload:g,prevKey:I,key:S}=l,F=Nf(h,S),te=function ny(h,l){if(wg(l))return 0;{const c=Nf(h,l);return-1===c?h.length:c+1}}(h,I);switch(l.type){case"value":if(null!==(c=l.payload)&&void 0!==c&&c.exists()){let ve=null;l.payload.forEach(Ne=>{const Tt={payload:Ne,type:"value",prevKey:ve,key:Ne.key};return ve=Ne.key,h=[...h,Tt],!1})}return h;case"child_added":if(F>-1){const ve=h[F-1];((null==ve?void 0:ve.key)||null)!==I&&(h=h.filter(Ne=>Ne.payload.key!==g.key)).splice(te,0,l)}else{if(null==I)return[l,...h];(h=h.slice()).splice(te,0,l)}return h;case"child_removed":return h.filter(ve=>ve.payload.key!==g.key);case"child_changed":return h.map(ve=>ve.payload.key===S?l:ve);case"child_moved":if(F>-1){const ve=h.splice(F,1)[0];return(h=h.slice()).splice(te,0,ve),h}return h;default:return h}}function jh(h,l,c){return function G_(h,l,c){return yu(h,"value","once",c).pipe((0,we.w)(g=>{const I=[(0,Dt.of)(g)];return l.forEach(S=>I.push(yu(h,S,"on",c))),(0,uo.T)(...I).pipe((0,Os.R)(Ag,[]))}),(0,Hl.x)())}(h,l=Tp(l),c)}function Eu(h,l){return function(){return yu(h,"value","on",l)}}!function H_(h){h.INTERNAL.registerComponent(new rt.wA("database-compat",(l,{instanceIdentifier:c})=>{const g=l.getProvider("app-compat").getImmediate(),I=l.getProvider("database").getImmediate({identifier:c});return new vu(I,g)},"PUBLIC").setServiceProps({Reference:ta,Query:Cs,Database:vu,DataSnapshot:ja,enableLogging:Ip,INTERNAL:Um,ServerValue:Ig}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","1.0.1")}(ye.Z);const Hh=new H.OlP("angularfire2.realtimeDatabaseURL"),Iu=new H.OlP("angularfire2.database.use-emulator");let Rg=(()=>{var h;class l{constructor(g,I,S,F,te,ve,Ne,Tt,Ot,zt,Tn,$n,Nr,Zr,Ao){(0,Xe.Z)(this,"schedulers",void 0),(0,Xe.Z)(this,"database",void 0),this.schedulers=ve;const yo=Ne,us=(0,Ge.on)(g,te,I);Tt&&(0,mt.nw)(us,te,Ot,Tn,$n,Nr,zt,Zr),this.database=(0,Ge.cc)(`${us.name}.database.${S}`,"AngularFireDatabase",us.name,()=>{const As=te.runOutsideAngular(()=>us.database(S||void 0));return yo&&As.useEmulator(...yo),As},[yo])}list(g,I){const S=this.schedulers.ngZone.runOutsideAngular(()=>wp(this.database,g));let F=S;return I&&(F=I(S)),function Sg(h,l){const c=l.schedulers.outsideAngular,g=l.schedulers.ngZone.run(()=>h.ref);return{query:h,update:$m(g,"update"),set:$m(g,"set"),push:I=>g.push(I),remove:Dp(g),snapshotChanges:I=>jh(h,I,c).pipe(Je.iC),stateChanges:I=>Tg(h,I,c).pipe(Je.iC),auditTrail:I=>function Dg(h,l,c){return function $h(h,l,c){return function bg(h,l){return yu(h,"value","on",l).pipe((0,Re.U)(c=>{let g;return c.payload.forEach(I=>(g=I.key,!1)),{data:c,lastKeyToLoad:g}}))}(h,c).pipe(function To(...h){const l=(0,Da.jO)(h);return(0,et.e)((c,g)=>{const I=h.length,S=new Array(I);let F=h.map(()=>!1),te=!1;for(let ve=0;ve<I;ve++)(0,wo.Xf)(h[ve]).subscribe((0,Fe.x)(g,Ne=>{S[ve]=Ne,!te&&!F[ve]&&(F[ve]=!0,(te=F.every(Ya.y))&&(F=null))},is.Z));c.subscribe((0,Fe.x)(g,ve=>{if(te){const Ne=[ve,...S];g.next(l?l(...Ne):Ne)}}))})}(l),(0,Re.U)(([I,S])=>{const F=I.lastKeyToLoad,te=S.map(ve=>ve.key);return{actions:S,lastKeyToLoad:F,loadedKeys:te}}),function Cr(h){return(0,et.e)((l,c)=>{let g=!1,I=0;l.subscribe((0,Fe.x)(c,S=>(g||(g=!h(S,I++)))&&c.next(S)))})}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,Re.U)(I=>I.actions))}(h,Tg(h,l).pipe((0,Os.R)((I,S)=>[...I,S],[])),c)}(h,I,c).pipe(Je.iC),valueChanges:(I,S)=>jh(h,I,c).pipe((0,Re.U)(te=>te.map(ve=>S&&S.idField?{...ve.payload.val(),[S.idField]:ve.key}:ve.payload.val())),Je.iC)}}(F,this)}object(g){return function Wd(h,l){return{query:h,snapshotChanges:()=>Eu(h,l.schedulers.outsideAngular)().pipe(Je.iC),update:c=>h.ref.update(c),set:c=>h.ref.set(c),remove:()=>h.ref.remove(),valueChanges:()=>Eu(h,l.schedulers.outsideAngular)().pipe(Je.iC,(0,Re.U)(g=>g.payload.exists()?g.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wp(this.database,g)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h=l,(0,Xe.Z)(l,"\u0275fac",function(g){return new(g||h)(H.LFG(Ge.Dh),H.LFG(Ge.xv,8),H.LFG(Hh,8),H.LFG(H.Lbi),H.LFG(H.R0b),H.LFG(Je.HU),H.LFG(Iu,8),H.LFG(mt.zQ,8),H.LFG(mt.Qv,8),H.LFG(mt.L6,8),H.LFG(mt._Q,8),H.LFG(mt.rT,8),H.LFG(mt.lh,8),H.LFG(mt.f7,8),H.LFG(Je.Rf,8))}),(0,Xe.Z)(l,"\u0275prov",H.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"})),l})(),Gh=(()=>{var h;class l{constructor(){hs.Z.registerVersion("angularfire",Je.q4.full,"rtdb-compat")}}return h=l,(0,Xe.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Xe.Z)(l,"\u0275mod",H.oAB({type:h})),(0,Xe.Z)(l,"\u0275inj",H.cJS({providers:[Rg]})),l})();const zh={apiKey:"AIzaSyD7YZmIbNf43yi2sFoJprkMWngp-lkyEIo",authDomain:"project-ionic-f4f64.firebaseapp.com",databaseURL:"https://project-ionic-f4f64-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project-ionic-f4f64",storageBucket:"project-ionic-f4f64.appspot.com",messagingSenderId:"1009580206799",appId:"1:1009580206799:web:830858afadc3928448a5ba",measurementId:"G-R300NNW907"};let Pg=(()=>{var h;class l{}return(h=l).\u0275fac=function(g){return new(g||h)},h.\u0275mod=H.oAB({type:h,bootstrap:[Te]}),h.\u0275inj=H.cJS({providers:[Qe.i,We.X,ge.w,Ke.b,Ae.d,de.eN,{provide:J.wN,useClass:xe.r4}],imports:[Ge.hO.initializeApp(zh),de.JF,mt.ww,rs.yb,ei,Gh,d.b2,re.Pc.forRoot(),He]}),l})();(0,H.G48)(),d.q6().bootstrapModule(Pg).catch(h=>console.log(h))},5619:(gn,ht,O)=>{"use strict";O.d(ht,{X:()=>H});var d=O(8645);class H extends d.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const xe=super._subscribe(de);return!xe.closed&&de.next(this._value),xe}getValue(){const{hasError:de,thrownError:xe,_value:re}=this;if(de)throw xe;return this._throwIfClosed(),re}next(de){super.next(this._value=de)}}},5592:(gn,ht,O)=>{"use strict";O.d(ht,{y:()=>We});var d=O(305),H=O(7394),J=O(4850),de=O(8407),xe=O(2653),re=O(4674),ge=O(1441);let We=(()=>{class Qe{constructor(He){He&&(this._subscribe=He)}lift(He){const Ge=new Qe;return Ge.source=this,Ge.operator=He,Ge}subscribe(He,Ge,mt){const Xe=function Te(Qe){return Qe&&Qe instanceof d.Lv||function Ae(Qe){return Qe&&(0,re.m)(Qe.next)&&(0,re.m)(Qe.error)&&(0,re.m)(Qe.complete)}(Qe)&&(0,H.Nn)(Qe)}(He)?He:new d.Hp(He,Ge,mt);return(0,ge.x)(()=>{const{operator:Je,source:ot}=this;Xe.add(Je?Je.call(Xe,ot):ot?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(He){try{return this._subscribe(He)}catch(Ge){He.error(Ge)}}forEach(He,Ge){return new(Ge=Ke(Ge))((mt,Xe)=>{const Je=new d.Hp({next:ot=>{try{He(ot)}catch(Dt){Xe(Dt),Je.unsubscribe()}},error:Xe,complete:mt});this.subscribe(Je)})}_subscribe(He){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(He)}[J.L](){return this}pipe(...He){return(0,de.U)(He)(this)}toPromise(He){return new(He=Ke(He))((Ge,mt)=>{let Xe;this.subscribe(Je=>Xe=Je,Je=>mt(Je),()=>Ge(Xe))})}}return Qe.create=ze=>new Qe(ze),Qe})();function Ke(Qe){var ze;return null!==(ze=null!=Qe?Qe:xe.config.Promise)&&void 0!==ze?ze:Promise}},8645:(gn,ht,O)=>{"use strict";O.d(ht,{x:()=>ge});var d=O(5592),H=O(7394);const de=(0,O(2306).d)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=O(9039),re=O(1441);let ge=(()=>{class Ke extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Qe=new We(this,this);return Qe.operator=Te,Qe}_throwIfClosed(){if(this.closed)throw new de}next(Te){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Qe of this.currentObservers)Qe.next(Te)}})}error(Te){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Qe}=this;for(;Qe.length;)Qe.shift().error(Te)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Qe,isStopped:ze,observers:He}=this;return Qe||ze?H.Lc:(this.currentObservers=null,He.push(Te),new H.w0(()=>{this.currentObservers=null,(0,xe.P)(He,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Qe,thrownError:ze,isStopped:He}=this;Qe?Te.error(ze):He&&Te.complete()}asObservable(){const Te=new d.y;return Te.source=this,Te}}return Ke.create=(Ae,Te)=>new We(Ae,Te),Ke})();class We extends ge{constructor(Ae,Te){super(),this.destination=Ae,this.source=Te}next(Ae){var Te,Qe;null===(Qe=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Qe||Qe.call(Te,Ae)}error(Ae){var Te,Qe;null===(Qe=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Qe||Qe.call(Te,Ae)}complete(){var Ae,Te;null===(Te=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.complete)||void 0===Te||Te.call(Ae)}_subscribe(Ae){var Te,Qe;return null!==(Qe=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ae))&&void 0!==Qe?Qe:H.Lc}}},305:(gn,ht,O)=>{"use strict";O.d(ht,{Hp:()=>mt,Lv:()=>Qe});var d=O(4674),H=O(7394),J=O(2653),de=O(3894),xe=O(2420);const re=Ke("C",void 0,void 0);function Ke(De,qe,et){return{kind:De,value:qe,error:et}}var Ae=O(7599),Te=O(1441);class Qe extends H.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,H.Nn)(qe)&&qe.add(this)):this.destination=Dt}static create(qe,et,Fe){return new mt(qe,et,Fe)}next(qe){this.isStopped?ot(function We(De){return Ke("N",De,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?ot(function ge(De){return Ke("E",void 0,De)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?ot(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function He(De,qe){return ze.call(De,qe)}class Ge{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:et}=this;if(et.next)try{et.next(qe)}catch(Fe){Xe(Fe)}}error(qe){const{partialObserver:et}=this;if(et.error)try{et.error(qe)}catch(Fe){Xe(Fe)}else Xe(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(et){Xe(et)}}}class mt extends Qe{constructor(qe,et,Fe){let me;if(super(),(0,d.m)(qe)||!qe)me={next:null!=qe?qe:void 0,error:null!=et?et:void 0,complete:null!=Fe?Fe:void 0};else{let Re;this&&J.config.useDeprecatedNextContext?(Re=Object.create(qe),Re.unsubscribe=()=>this.unsubscribe(),me={next:qe.next&&He(qe.next,Re),error:qe.error&&He(qe.error,Re),complete:qe.complete&&He(qe.complete,Re)}):me=qe}this.destination=new Ge(me)}}function Xe(De){J.config.useDeprecatedSynchronousErrorHandling?(0,Te.O)(De):(0,de.h)(De)}function ot(De,qe){const{onStoppedNotification:et}=J.config;et&&Ae.z.setTimeout(()=>et(De,qe))}const Dt={closed:!0,next:xe.Z,error:function Je(De){throw De},complete:xe.Z}},7394:(gn,ht,O)=>{"use strict";O.d(ht,{Lc:()=>re,w0:()=>xe,Nn:()=>ge});var d=O(4674);const J=(0,O(2306).d)(Ke=>function(Te){Ke(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Qe,ze)=>`${ze+1}) ${Qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var de=O(9039);class xe{constructor(Ae){this.initialTeardown=Ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ae;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const He of Te)He.remove(this);else Te.remove(this);const{initialTeardown:Qe}=this;if((0,d.m)(Qe))try{Qe()}catch(He){Ae=He instanceof J?He.errors:[He]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const He of ze)try{We(He)}catch(Ge){Ae=null!=Ae?Ae:[],Ge instanceof J?Ae=[...Ae,...Ge.errors]:Ae.push(Ge)}}if(Ae)throw new J(Ae)}}add(Ae){var Te;if(Ae&&Ae!==this)if(this.closed)We(Ae);else{if(Ae instanceof xe){if(Ae.closed||Ae._hasParent(this))return;Ae._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(Ae)}}_hasParent(Ae){const{_parentage:Te}=this;return Te===Ae||Array.isArray(Te)&&Te.includes(Ae)}_addParent(Ae){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(Ae),Te):Te?[Te,Ae]:Ae}_removeParent(Ae){const{_parentage:Te}=this;Te===Ae?this._parentage=null:Array.isArray(Te)&&(0,de.P)(Te,Ae)}remove(Ae){const{_finalizers:Te}=this;Te&&(0,de.P)(Te,Ae),Ae instanceof xe&&Ae._removeParent(this)}}xe.EMPTY=(()=>{const Ke=new xe;return Ke.closed=!0,Ke})();const re=xe.EMPTY;function ge(Ke){return Ke instanceof xe||Ke&&"closed"in Ke&&(0,d.m)(Ke.remove)&&(0,d.m)(Ke.add)&&(0,d.m)(Ke.unsubscribe)}function We(Ke){(0,d.m)(Ke)?Ke():Ke.unsubscribe()}},2653:(gn,ht,O)=>{"use strict";O.d(ht,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(gn,ht,O)=>{"use strict";O.d(ht,{a:()=>Ae});var d=O(5592),H=O(7453),J=O(2459),de=O(2737),xe=O(7400),re=O(4564),ge=O(2714),We=O(8251),Ke=O(7103);function Ae(...ze){const He=(0,re.yG)(ze),Ge=(0,re.jO)(ze),{args:mt,keys:Xe}=(0,H.D)(ze);if(0===mt.length)return(0,J.D)([],He);const Je=new d.y(function Te(ze,He,Ge=de.y){return mt=>{Qe(He,()=>{const{length:Xe}=ze,Je=new Array(Xe);let ot=Xe,Dt=Xe;for(let De=0;De<Xe;De++)Qe(He,()=>{const qe=(0,J.D)(ze[De],He);let et=!1;qe.subscribe((0,We.x)(mt,Fe=>{Je[De]=Fe,et||(et=!0,Dt--),Dt||mt.next(Ge(Je.slice()))},()=>{--ot||mt.complete()}))},mt)},mt)}}(mt,He,Xe?ot=>(0,ge.n)(Xe,ot):de.y));return Ge?Je.pipe((0,xe.Z)(Ge)):Je}function Qe(ze,He,Ge){ze?(0,Ke.f)(Ge,ze,He):He()}},5211:(gn,ht,O)=>{"use strict";O.d(ht,{z:()=>xe});var d=O(7537),J=O(4564),de=O(2459);function xe(...re){return function H(){return(0,d.J)(1)}()((0,de.D)(re,(0,J.yG)(re)))}},6232:(gn,ht,O)=>{"use strict";O.d(ht,{E:()=>H});const H=new(O(5592).y)(xe=>xe.complete())},2459:(gn,ht,O)=>{"use strict";O.d(ht,{D:()=>qe});var d=O(4829),H=O(3093),J=O(5137),re=O(5592),We=O(4971),Ke=O(4674),Ae=O(7103);function Qe(et,Fe){if(!et)throw new Error("Iterable cannot be null");return new re.y(me=>{(0,Ae.f)(me,Fe,()=>{const Re=et[Symbol.asyncIterator]();(0,Ae.f)(me,Fe,()=>{Re.next().then(we=>{we.done?me.complete():me.next(we.value)})},0,!0)})})}var ze=O(8382),He=O(4026),Ge=O(4266),mt=O(3664),Xe=O(5726),Je=O(9853),ot=O(541);function qe(et,Fe){return Fe?function De(et,Fe){if(null!=et){if((0,ze.c)(et))return function de(et,Fe){return(0,d.Xf)(et).pipe((0,J.R)(Fe),(0,H.Q)(Fe))}(et,Fe);if((0,Ge.z)(et))return function ge(et,Fe){return new re.y(me=>{let Re=0;return Fe.schedule(function(){Re===et.length?me.complete():(me.next(et[Re++]),me.closed||this.schedule())})})}(et,Fe);if((0,He.t)(et))return function xe(et,Fe){return(0,d.Xf)(et).pipe((0,J.R)(Fe),(0,H.Q)(Fe))}(et,Fe);if((0,Xe.D)(et))return Qe(et,Fe);if((0,mt.T)(et))return function Te(et,Fe){return new re.y(me=>{let Re;return(0,Ae.f)(me,Fe,()=>{Re=et[We.h](),(0,Ae.f)(me,Fe,()=>{let we,ye;try{({value:we,done:ye}=Re.next())}catch(ft){return void me.error(ft)}ye?me.complete():me.next(we)},0,!0)}),()=>(0,Ke.m)(null==Re?void 0:Re.return)&&Re.return()})}(et,Fe);if((0,ot.L)(et))return function Dt(et,Fe){return Qe((0,ot.Q)(et),Fe)}(et,Fe)}throw(0,Je.z)(et)}(et,Fe):(0,d.Xf)(et)}},2438:(gn,ht,O)=>{"use strict";O.d(ht,{R:()=>Ae});var d=O(4829),H=O(5592),J=O(1631),de=O(4266),xe=O(4674),re=O(7400);const ge=["addListener","removeListener"],We=["addEventListener","removeEventListener"],Ke=["on","off"];function Ae(Ge,mt,Xe,Je){if((0,xe.m)(Xe)&&(Je=Xe,Xe=void 0),Je)return Ae(Ge,mt,Xe).pipe((0,re.Z)(Je));const[ot,Dt]=function He(Ge){return(0,xe.m)(Ge.addEventListener)&&(0,xe.m)(Ge.removeEventListener)}(Ge)?We.map(De=>qe=>Ge[De](mt,qe,Xe)):function Qe(Ge){return(0,xe.m)(Ge.addListener)&&(0,xe.m)(Ge.removeListener)}(Ge)?ge.map(Te(Ge,mt)):function ze(Ge){return(0,xe.m)(Ge.on)&&(0,xe.m)(Ge.off)}(Ge)?Ke.map(Te(Ge,mt)):[];if(!ot&&(0,de.z)(Ge))return(0,J.z)(De=>Ae(De,mt,Xe))((0,d.Xf)(Ge));if(!ot)throw new TypeError("Invalid event target");return new H.y(De=>{const qe=(...et)=>De.next(1<et.length?et:et[0]);return ot(qe),()=>Dt(qe)})}function Te(Ge,mt){return Xe=>Je=>Ge[Xe](mt,Je)}},4829:(gn,ht,O)=>{"use strict";O.d(ht,{Xf:()=>ze});var d=O(7582),H=O(4266),J=O(4026),de=O(5592),xe=O(8382),re=O(5726),ge=O(9853),We=O(3664),Ke=O(541),Ae=O(4674),Te=O(3894),Qe=O(4850);function ze(De){if(De instanceof de.y)return De;if(null!=De){if((0,xe.c)(De))return function He(De){return new de.y(qe=>{const et=De[Qe.L]();if((0,Ae.m)(et.subscribe))return et.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(De);if((0,H.z)(De))return function Ge(De){return new de.y(qe=>{for(let et=0;et<De.length&&!qe.closed;et++)qe.next(De[et]);qe.complete()})}(De);if((0,J.t)(De))return function mt(De){return new de.y(qe=>{De.then(et=>{qe.closed||(qe.next(et),qe.complete())},et=>qe.error(et)).then(null,Te.h)})}(De);if((0,re.D)(De))return Je(De);if((0,We.T)(De))return function Xe(De){return new de.y(qe=>{for(const et of De)if(qe.next(et),qe.closed)return;qe.complete()})}(De);if((0,Ke.L)(De))return function ot(De){return Je((0,Ke.Q)(De))}(De)}throw(0,ge.z)(De)}function Je(De){return new de.y(qe=>{(function Dt(De,qe){var et,Fe,me,Re;return(0,d.mG)(this,void 0,void 0,function*(){try{for(et=(0,d.KL)(De);!(Fe=yield et.next()).done;)if(qe.next(Fe.value),qe.closed)return}catch(we){me={error:we}}finally{try{Fe&&!Fe.done&&(Re=et.return)&&(yield Re.call(et))}finally{if(me)throw me.error}}qe.complete()})})(De,qe).catch(et=>qe.error(et))})}},3019:(gn,ht,O)=>{"use strict";O.d(ht,{T:()=>re});var d=O(7537),H=O(4829),J=O(6232),de=O(4564),xe=O(2459);function re(...ge){const We=(0,de.yG)(ge),Ke=(0,de._6)(ge,1/0),Ae=ge;return Ae.length?1===Ae.length?(0,H.Xf)(Ae[0]):(0,d.J)(Ke)((0,xe.D)(Ae,We)):J.E}},2096:(gn,ht,O)=>{"use strict";O.d(ht,{of:()=>J});var d=O(4564),H=O(2459);function J(...de){const xe=(0,d.yG)(de);return(0,H.D)(de,xe)}},8251:(gn,ht,O)=>{"use strict";O.d(ht,{x:()=>H});var d=O(305);function H(de,xe,re,ge,We){return new J(de,xe,re,ge,We)}class J extends d.Lv{constructor(xe,re,ge,We,Ke,Ae){super(xe),this.onFinalize=Ke,this.shouldUnsubscribe=Ae,this._next=re?function(Te){try{re(Te)}catch(Qe){xe.error(Qe)}}:super._next,this._error=We?function(Te){try{We(Te)}catch(Qe){xe.error(Qe)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(Te){xe.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},6328:(gn,ht,O)=>{"use strict";O.d(ht,{b:()=>J});var d=O(1631),H=O(4674);function J(de,xe){return(0,H.m)(xe)?(0,d.z)(de,xe,1):(0,d.z)(de,1)}},3572:(gn,ht,O)=>{"use strict";O.d(ht,{d:()=>J});var d=O(9360),H=O(8251);function J(de){return(0,d.e)((xe,re)=>{let ge=!1;xe.subscribe((0,H.x)(re,We=>{ge=!0,re.next(We)},()=>{ge||re.next(de),re.complete()}))})}},3997:(gn,ht,O)=>{"use strict";O.d(ht,{x:()=>de});var d=O(2737),H=O(9360),J=O(8251);function de(re,ge=d.y){return re=null!=re?re:xe,(0,H.e)((We,Ke)=>{let Ae,Te=!0;We.subscribe((0,J.x)(Ke,Qe=>{const ze=ge(Qe);(Te||!re(Ae,ze))&&(Te=!1,Ae=ze,Ke.next(Qe))}))})}function xe(re,ge){return re===ge}},2181:(gn,ht,O)=>{"use strict";O.d(ht,{h:()=>J});var d=O(9360),H=O(8251);function J(de,xe){return(0,d.e)((re,ge)=>{let We=0;re.subscribe((0,H.x)(ge,Ke=>de.call(xe,Ke,We++)&&ge.next(Ke)))})}},4716:(gn,ht,O)=>{"use strict";O.d(ht,{x:()=>H});var d=O(9360);function H(J){return(0,d.e)((de,xe)=>{try{de.subscribe(xe)}finally{xe.add(J)}})}},1374:(gn,ht,O)=>{"use strict";O.d(ht,{P:()=>ge});var d=O(6973),H=O(2181),J=O(8180),de=O(3572),xe=O(3026),re=O(2737);function ge(We,Ke){const Ae=arguments.length>=2;return Te=>Te.pipe(We?(0,H.h)((Qe,ze)=>We(Qe,ze,Te)):re.y,(0,J.q)(1),Ae?(0,de.d)(Ke):(0,xe.T)(()=>new d.K))}},7398:(gn,ht,O)=>{"use strict";O.d(ht,{U:()=>J});var d=O(9360),H=O(8251);function J(de,xe){return(0,d.e)((re,ge)=>{let We=0;re.subscribe((0,H.x)(ge,Ke=>{ge.next(de.call(xe,Ke,We++))}))})}},7537:(gn,ht,O)=>{"use strict";O.d(ht,{J:()=>J});var d=O(1631),H=O(2737);function J(de=1/0){return(0,d.z)(H.y,de)}},1631:(gn,ht,O)=>{"use strict";O.d(ht,{z:()=>We});var d=O(7398),H=O(4829),J=O(9360),de=O(7103),xe=O(8251),ge=O(4674);function We(Ke,Ae,Te=1/0){return(0,ge.m)(Ae)?We((Qe,ze)=>(0,d.U)((He,Ge)=>Ae(Qe,He,ze,Ge))((0,H.Xf)(Ke(Qe,ze))),Te):("number"==typeof Ae&&(Te=Ae),(0,J.e)((Qe,ze)=>function re(Ke,Ae,Te,Qe,ze,He,Ge,mt){const Xe=[];let Je=0,ot=0,Dt=!1;const De=()=>{Dt&&!Xe.length&&!Je&&Ae.complete()},qe=Fe=>Je<Qe?et(Fe):Xe.push(Fe),et=Fe=>{He&&Ae.next(Fe),Je++;let me=!1;(0,H.Xf)(Te(Fe,ot++)).subscribe((0,xe.x)(Ae,Re=>{null==ze||ze(Re),He?qe(Re):Ae.next(Re)},()=>{me=!0},void 0,()=>{if(me)try{for(Je--;Xe.length&&Je<Qe;){const Re=Xe.shift();Ge?(0,de.f)(Ae,Ge,()=>et(Re)):et(Re)}De()}catch(Re){Ae.error(Re)}}))};return Ke.subscribe((0,xe.x)(Ae,qe,()=>{Dt=!0,De()})),()=>{null==mt||mt()}}(Qe,ze,Ke,Te)))}},3093:(gn,ht,O)=>{"use strict";O.d(ht,{Q:()=>de});var d=O(7103),H=O(9360),J=O(8251);function de(xe,re=0){return(0,H.e)((ge,We)=>{ge.subscribe((0,J.x)(We,Ke=>(0,d.f)(We,xe,()=>We.next(Ke),re),()=>(0,d.f)(We,xe,()=>We.complete(),re),Ke=>(0,d.f)(We,xe,()=>We.error(Ke),re)))})}},6699:(gn,ht,O)=>{"use strict";O.d(ht,{R:()=>de});var d=O(9360),H=O(8251);function de(xe,re){return(0,d.e)(function J(xe,re,ge,We,Ke){return(Ae,Te)=>{let Qe=ge,ze=re,He=0;Ae.subscribe((0,H.x)(Te,Ge=>{const mt=He++;ze=Qe?xe(ze,Ge,mt):(Qe=!0,Ge),We&&Te.next(ze)},Ke&&(()=>{Qe&&Te.next(ze),Te.complete()})))}}(xe,re,arguments.length>=2,!0))}},3020:(gn,ht,O)=>{"use strict";O.d(ht,{B:()=>xe});var d=O(4829),H=O(8645),J=O(305),de=O(9360);function xe(ge={}){const{connector:We=(()=>new H.x),resetOnError:Ke=!0,resetOnComplete:Ae=!0,resetOnRefCountZero:Te=!0}=ge;return Qe=>{let ze,He,Ge,mt=0,Xe=!1,Je=!1;const ot=()=>{null==He||He.unsubscribe(),He=void 0},Dt=()=>{ot(),ze=Ge=void 0,Xe=Je=!1},De=()=>{const qe=ze;Dt(),null==qe||qe.unsubscribe()};return(0,de.e)((qe,et)=>{mt++,!Je&&!Xe&&ot();const Fe=Ge=null!=Ge?Ge:We();et.add(()=>{mt--,0===mt&&!Je&&!Xe&&(He=re(De,Te))}),Fe.subscribe(et),!ze&&mt>0&&(ze=new J.Hp({next:me=>Fe.next(me),error:me=>{Je=!0,ot(),He=re(Dt,Ke,me),Fe.error(me)},complete:()=>{Xe=!0,ot(),He=re(Dt,Ae),Fe.complete()}}),(0,d.Xf)(qe).subscribe(ze))})(Qe)}}function re(ge,We,...Ke){if(!0===We)return void ge();if(!1===We)return;const Ae=new J.Hp({next:()=>{Ae.unsubscribe(),ge()}});return(0,d.Xf)(We(...Ke)).subscribe(Ae)}},7921:(gn,ht,O)=>{"use strict";O.d(ht,{O:()=>de});var d=O(5211),H=O(4564),J=O(9360);function de(...xe){const re=(0,H.yG)(xe);return(0,J.e)((ge,We)=>{(re?(0,d.z)(xe,ge,re):(0,d.z)(xe,ge)).subscribe(We)})}},5137:(gn,ht,O)=>{"use strict";O.d(ht,{R:()=>H});var d=O(9360);function H(J,de=0){return(0,d.e)((xe,re)=>{re.add(J.schedule(()=>xe.subscribe(re),de))})}},4664:(gn,ht,O)=>{"use strict";O.d(ht,{w:()=>de});var d=O(4829),H=O(9360),J=O(8251);function de(xe,re){return(0,H.e)((ge,We)=>{let Ke=null,Ae=0,Te=!1;const Qe=()=>Te&&!Ke&&We.complete();ge.subscribe((0,J.x)(We,ze=>{null==Ke||Ke.unsubscribe();let He=0;const Ge=Ae++;(0,d.Xf)(xe(ze,Ge)).subscribe(Ke=(0,J.x)(We,mt=>We.next(re?re(ze,mt,Ge,He++):mt),()=>{Ke=null,Qe()}))},()=>{Te=!0,Qe()}))})}},8180:(gn,ht,O)=>{"use strict";O.d(ht,{q:()=>de});var d=O(6232),H=O(9360),J=O(8251);function de(xe){return xe<=0?()=>d.E:(0,H.e)((re,ge)=>{let We=0;re.subscribe((0,J.x)(ge,Ke=>{++We<=xe&&(ge.next(Ke),xe<=We&&ge.complete())}))})}},9397:(gn,ht,O)=>{"use strict";O.d(ht,{b:()=>xe});var d=O(4674),H=O(9360),J=O(8251),de=O(2737);function xe(re,ge,We){const Ke=(0,d.m)(re)||ge||We?{next:re,error:ge,complete:We}:re;return Ke?(0,H.e)((Ae,Te)=>{var Qe;null===(Qe=Ke.subscribe)||void 0===Qe||Qe.call(Ke);let ze=!0;Ae.subscribe((0,J.x)(Te,He=>{var Ge;null===(Ge=Ke.next)||void 0===Ge||Ge.call(Ke,He),Te.next(He)},()=>{var He;ze=!1,null===(He=Ke.complete)||void 0===He||He.call(Ke),Te.complete()},He=>{var Ge;ze=!1,null===(Ge=Ke.error)||void 0===Ge||Ge.call(Ke,He),Te.error(He)},()=>{var He,Ge;ze&&(null===(He=Ke.unsubscribe)||void 0===He||He.call(Ke)),null===(Ge=Ke.finalize)||void 0===Ge||Ge.call(Ke)}))}):de.y}},3026:(gn,ht,O)=>{"use strict";O.d(ht,{T:()=>de});var d=O(6973),H=O(9360),J=O(8251);function de(re=xe){return(0,H.e)((ge,We)=>{let Ke=!1;ge.subscribe((0,J.x)(We,Ae=>{Ke=!0,We.next(Ae)},()=>Ke?We.complete():We.error(re())))})}function xe(){return new d.K}},1954:(gn,ht,O)=>{"use strict";O.d(ht,{o:()=>xe});var d=O(7394);class H extends d.w0{constructor(ge,We){super()}schedule(ge,We=0){return this}}const J={setInterval(re,ge,...We){const{delegate:Ke}=J;return null!=Ke&&Ke.setInterval?Ke.setInterval(re,ge,...We):setInterval(re,ge,...We)},clearInterval(re){const{delegate:ge}=J;return((null==ge?void 0:ge.clearInterval)||clearInterval)(re)},delegate:void 0};var de=O(9039);class xe extends H{constructor(ge,We){super(ge,We),this.scheduler=ge,this.work=We,this.pending=!1}schedule(ge,We=0){var Ke;if(this.closed)return this;this.state=ge;const Ae=this.id,Te=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(Te,Ae,We)),this.pending=!0,this.delay=We,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(Te,this.id,We),this}requestAsyncId(ge,We,Ke=0){return J.setInterval(ge.flush.bind(ge,this),Ke)}recycleAsyncId(ge,We,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return We;null!=We&&J.clearInterval(We)}execute(ge,We){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(ge,We);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,We){let Ae,Ke=!1;try{this.work(ge)}catch(Te){Ke=!0,Ae=Te||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:ge,scheduler:We}=this,{actions:Ke}=We;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ke,this),null!=ge&&(this.id=this.recycleAsyncId(We,ge,null)),this.delay=null,super.unsubscribe()}}}},2631:(gn,ht,O)=>{"use strict";O.d(ht,{v:()=>J});var d=O(4552);class H{constructor(xe,re=H.now){this.schedulerActionCtor=xe,this.now=re}schedule(xe,re=0,ge){return new this.schedulerActionCtor(this,xe).schedule(ge,re)}}H.now=d.l.now;class J extends H{constructor(xe,re=H.now){super(xe,re),this.actions=[],this._active=!1}flush(xe){const{actions:re}=this;if(this._active)return void re.push(xe);let ge;this._active=!0;do{if(ge=xe.execute(xe.state,xe.delay))break}while(xe=re.shift());if(this._active=!1,ge){for(;xe=re.shift();)xe.unsubscribe();throw ge}}}},6321:(gn,ht,O)=>{"use strict";O.d(ht,{z:()=>J});var d=O(1954);const J=new(O(2631).v)(d.o)},4552:(gn,ht,O)=>{"use strict";O.d(ht,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(gn,ht,O)=>{"use strict";O.d(ht,{z:()=>d});const d={setTimeout(H,J,...de){const{delegate:xe}=d;return null!=xe&&xe.setTimeout?xe.setTimeout(H,J,...de):setTimeout(H,J,...de)},clearTimeout(H){const{delegate:J}=d;return((null==J?void 0:J.clearTimeout)||clearTimeout)(H)},delegate:void 0}},4971:(gn,ht,O)=>{"use strict";O.d(ht,{h:()=>H});const H=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(gn,ht,O)=>{"use strict";O.d(ht,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(gn,ht,O)=>{"use strict";O.d(ht,{K:()=>H});const H=(0,O(2306).d)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(gn,ht,O)=>{"use strict";O.d(ht,{_6:()=>re,jO:()=>de,yG:()=>xe});var d=O(4674);function J(ge){return ge[ge.length-1]}function de(ge){return(0,d.m)(J(ge))?ge.pop():void 0}function xe(ge){return function H(ge){return ge&&(0,d.m)(ge.schedule)}(J(ge))?ge.pop():void 0}function re(ge,We){return"number"==typeof J(ge)?ge.pop():We}},7453:(gn,ht,O)=>{"use strict";O.d(ht,{D:()=>xe});const{isArray:d}=Array,{getPrototypeOf:H,prototype:J,keys:de}=Object;function xe(ge){if(1===ge.length){const We=ge[0];if(d(We))return{args:We,keys:null};if(function re(ge){return ge&&"object"==typeof ge&&H(ge)===J}(We)){const Ke=de(We);return{args:Ke.map(Ae=>We[Ae]),keys:Ke}}}return{args:ge,keys:null}}},9039:(gn,ht,O)=>{"use strict";function d(H,J){if(H){const de=H.indexOf(J);0<=de&&H.splice(de,1)}}O.d(ht,{P:()=>d})},2306:(gn,ht,O)=>{"use strict";function d(H){const de=H(xe=>{Error.call(xe),xe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}O.d(ht,{d:()=>d})},2714:(gn,ht,O)=>{"use strict";function d(H,J){return H.reduce((de,xe,re)=>(de[xe]=J[re],de),{})}O.d(ht,{n:()=>d})},1441:(gn,ht,O)=>{"use strict";O.d(ht,{O:()=>de,x:()=>J});var d=O(2653);let H=null;function J(xe){if(d.config.useDeprecatedSynchronousErrorHandling){const re=!H;if(re&&(H={errorThrown:!1,error:null}),xe(),re){const{errorThrown:ge,error:We}=H;if(H=null,ge)throw We}}else xe()}function de(xe){d.config.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=xe)}},7103:(gn,ht,O)=>{"use strict";function d(H,J,de,xe=0,re=!1){const ge=J.schedule(function(){de(),re?H.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(H.add(ge),!re)return ge}O.d(ht,{f:()=>d})},2737:(gn,ht,O)=>{"use strict";function d(H){return H}O.d(ht,{y:()=>d})},4266:(gn,ht,O)=>{"use strict";O.d(ht,{z:()=>d});const d=H=>H&&"number"==typeof H.length&&"function"!=typeof H},5726:(gn,ht,O)=>{"use strict";O.d(ht,{D:()=>H});var d=O(4674);function H(J){return Symbol.asyncIterator&&(0,d.m)(null==J?void 0:J[Symbol.asyncIterator])}},4674:(gn,ht,O)=>{"use strict";function d(H){return"function"==typeof H}O.d(ht,{m:()=>d})},8382:(gn,ht,O)=>{"use strict";O.d(ht,{c:()=>J});var d=O(4850),H=O(4674);function J(de){return(0,H.m)(de[d.L])}},3664:(gn,ht,O)=>{"use strict";O.d(ht,{T:()=>J});var d=O(4971),H=O(4674);function J(de){return(0,H.m)(null==de?void 0:de[d.h])}},4026:(gn,ht,O)=>{"use strict";O.d(ht,{t:()=>H});var d=O(4674);function H(J){return(0,d.m)(null==J?void 0:J.then)}},541:(gn,ht,O)=>{"use strict";O.d(ht,{L:()=>de,Q:()=>J});var d=O(7582),H=O(4674);function J(xe){return(0,d.FC)(this,arguments,function*(){const ge=xe.getReader();try{for(;;){const{value:We,done:Ke}=yield(0,d.qq)(ge.read());if(Ke)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(We)}}finally{ge.releaseLock()}})}function de(xe){return(0,H.m)(null==xe?void 0:xe.getReader)}},9360:(gn,ht,O)=>{"use strict";O.d(ht,{A:()=>H,e:()=>J});var d=O(4674);function H(de){return(0,d.m)(null==de?void 0:de.lift)}function J(de){return xe=>{if(H(xe))return xe.lift(function(re){try{return de(re,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(gn,ht,O)=>{"use strict";O.d(ht,{Z:()=>de});var d=O(7398);const{isArray:H}=Array;function de(xe){return(0,d.U)(re=>function J(xe,re){return H(re)?xe(...re):xe(re)}(xe,re))}},2420:(gn,ht,O)=>{"use strict";function d(){}O.d(ht,{Z:()=>d})},8407:(gn,ht,O)=>{"use strict";O.d(ht,{U:()=>J,z:()=>H});var d=O(2737);function H(...de){return J(de)}function J(de){return 0===de.length?d.y:1===de.length?de[0]:function(re){return de.reduce((ge,We)=>We(ge),re)}}},3894:(gn,ht,O)=>{"use strict";O.d(ht,{h:()=>J});var d=O(2653),H=O(7599);function J(de){H.z.setTimeout(()=>{const{onUnhandledError:xe}=d.config;if(!xe)throw de;xe(de)})}},9853:(gn,ht,O)=>{"use strict";function d(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ht,{z:()=>d})},863:(gn,ht,O)=>{var d={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9302,433],"./ion-datetime_3.entry.js":[7059,9302,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function H(J){if(!O.o(d,J))return Promise.resolve().then(()=>{var re=new Error("Cannot find module '"+J+"'");throw re.code="MODULE_NOT_FOUND",re});var de=d[J],xe=de[0];return Promise.all(de.slice(1).map(O.e)).then(()=>O(xe))}H.keys=()=>Object.keys(d),H.id=863,gn.exports=H},6814:(gn,ht,O)=>{"use strict";O.d(ht,{Do:()=>mt,EM:()=>Fo,HT:()=>de,JF:()=>Co,K0:()=>re,Mx:()=>At,O5:()=>ee,PM:()=>wa,S$:()=>ze,V_:()=>We,Ye:()=>Xe,b0:()=>Ge,bD:()=>Lo,ez:()=>jr,q:()=>J,sg:()=>En,tP:()=>Mt,w_:()=>xe});var d=O(9212);let H=null;function J(){return H}function de(P){H||(H=P)}class xe{}const re=new d.OlP("DocumentToken");let ge=(()=>{var P;class G{historyGo(j){throw new Error("Not implemented")}}return(P=G).\u0275fac=function(j){return new(j||P)},P.\u0275prov=d.Yz7({token:P,factory:()=>(0,d.f3M)(Ke),providedIn:"platform"}),G})();const We=new d.OlP("Location Initialized");let Ke=(()=>{var P;class G extends ge{constructor(){super(),this._doc=(0,d.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(j){const Ie=J().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("popstate",j,!1),()=>Ie.removeEventListener("popstate",j)}onHashChange(j){const Ie=J().getGlobalEventTarget(this._doc,"window");return Ie.addEventListener("hashchange",j,!1),()=>Ie.removeEventListener("hashchange",j)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(j){this._location.pathname=j}pushState(j,Ie,tt){this._history.pushState(j,Ie,tt)}replaceState(j,Ie,tt){this._history.replaceState(j,Ie,tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return(P=G).\u0275fac=function(j){return new(j||P)},P.\u0275prov=d.Yz7({token:P,factory:()=>new P,providedIn:"platform"}),G})();function Ae(P,G){if(0==P.length)return G;if(0==G.length)return P;let Be=0;return P.endsWith("/")&&Be++,G.startsWith("/")&&Be++,2==Be?P+G.substring(1):1==Be?P+G:P+"/"+G}function Te(P){const G=P.match(/#|\?|$/),Be=G&&G.index||P.length;return P.slice(0,Be-("/"===P[Be-1]?1:0))+P.slice(Be)}function Qe(P){return P&&"?"!==P[0]?"?"+P:P}let ze=(()=>{var P;class G{historyGo(j){throw new Error("Not implemented")}}return(P=G).\u0275fac=function(j){return new(j||P)},P.\u0275prov=d.Yz7({token:P,factory:()=>(0,d.f3M)(Ge),providedIn:"root"}),G})();const He=new d.OlP("appBaseHref");let Ge=(()=>{var P;class G extends ze{constructor(j,Ie){var tt,Gt,an;super(),this._platformLocation=j,this._removeListenerFns=[],this._baseHref=null!==(tt=null!==(Gt=null!=Ie?Ie:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Gt?Gt:null===(an=(0,d.f3M)(re).location)||void 0===an?void 0:an.origin)&&void 0!==tt?tt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return Ae(this._baseHref,j)}path(j=!1){const Ie=this._platformLocation.pathname+Qe(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&j?`${Ie}${tt}`:Ie}pushState(j,Ie,tt,Gt){const an=this.prepareExternalUrl(tt+Qe(Gt));this._platformLocation.pushState(j,Ie,an)}replaceState(j,Ie,tt,Gt){const an=this.prepareExternalUrl(tt+Qe(Gt));this._platformLocation.replaceState(j,Ie,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var Ie,tt;null===(Ie=(tt=this._platformLocation).historyGo)||void 0===Ie||Ie.call(tt,j)}}return(P=G).\u0275fac=function(j){return new(j||P)(d.LFG(ge),d.LFG(He,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),G})(),mt=(()=>{var P;class G extends ze{constructor(j,Ie){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=Ie&&(this._baseHref=Ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let Ie=this._platformLocation.hash;return null==Ie&&(Ie="#"),Ie.length>0?Ie.substring(1):Ie}prepareExternalUrl(j){const Ie=Ae(this._baseHref,j);return Ie.length>0?"#"+Ie:Ie}pushState(j,Ie,tt,Gt){let an=this.prepareExternalUrl(tt+Qe(Gt));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.pushState(j,Ie,an)}replaceState(j,Ie,tt,Gt){let an=this.prepareExternalUrl(tt+Qe(Gt));0==an.length&&(an=this._platformLocation.pathname),this._platformLocation.replaceState(j,Ie,an)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(j=0){var Ie,tt;null===(Ie=(tt=this._platformLocation).historyGo)||void 0===Ie||Ie.call(tt,j)}}return(P=G).\u0275fac=function(j){return new(j||P)(d.LFG(ge),d.LFG(He,8))},P.\u0275prov=d.Yz7({token:P,factory:P.\u0275fac}),G})(),Xe=(()=>{var P;class G{constructor(j){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=j;const Ie=this._locationStrategy.getBaseHref();this._basePath=function De(P){if(new RegExp("^(https?:)?//").test(P)){const[,Be]=P.split(/\/\/[^\/]+/);return Be}return P}(Te(Dt(Ie))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){var j;null===(j=this._urlChangeSubscription)||void 0===j||j.unsubscribe(),this._urlChangeListeners=[]}path(j=!1){return this.normalize(this._locationStrategy.path(j))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(j,Ie=""){return this.path()==this.normalize(j+Qe(Ie))}normalize(j){return G.stripTrailingSlash(function ot(P,G){if(!P||!G.startsWith(P))return G;const Be=G.substring(P.length);return""===Be||["/",";","?","#"].includes(Be[0])?Be:G}(this._basePath,Dt(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._locationStrategy.prepareExternalUrl(j)}go(j,Ie="",tt=null){this._locationStrategy.pushState(tt,"",j,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Qe(Ie)),tt)}replaceState(j,Ie="",tt=null){this._locationStrategy.replaceState(tt,"",j,Ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+Qe(Ie)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(j=0){var Ie,tt;null===(Ie=(tt=this._locationStrategy).historyGo)||void 0===Ie||Ie.call(tt,j)}onUrlChange(j){return this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Ie=>{this._notifyUrlChangeListeners(Ie.url,Ie.state)})),()=>{const Ie=this._urlChangeListeners.indexOf(j);var tt;this._urlChangeListeners.splice(Ie,1),0===this._urlChangeListeners.length&&(null===(tt=this._urlChangeSubscription)||void 0===tt||tt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(j="",Ie){this._urlChangeListeners.forEach(tt=>tt(j,Ie))}subscribe(j,Ie,tt){return this._subject.subscribe({next:j,error:Ie,complete:tt})}}return(P=G).normalizeQueryParams=Qe,P.joinWithSlash=Ae,P.stripTrailingSlash=Te,P.\u0275fac=function(j){return new(j||P)(d.LFG(ze))},P.\u0275prov=d.Yz7({token:P,factory:()=>function Je(){return new Xe((0,d.LFG)(ze))}(),providedIn:"root"}),G})();function Dt(P){return P.replace(/\/index.html$/,"")}function At(P,G){G=encodeURIComponent(G);for(const Be of P.split(";")){const j=Be.indexOf("="),[Ie,tt]=-1==j?[Be,""]:[Be.slice(0,j),Be.slice(j+1)];if(Ie.trim()===G)return decodeURIComponent(tt)}return null}class On{constructor(G,Be,j,Ie){this.$implicit=G,this.ngForOf=Be,this.index=j,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let En=(()=>{var P;class G{set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}constructor(j,Ie,tt){this._viewContainer=j,this._template=Ie,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const Ie=this._viewContainer;j.forEachOperation((tt,Gt,an)=>{if(null==tt.previousIndex)Ie.createEmbeddedView(this._template,new On(tt.item,this._ngForOf,-1,-1),null===an?void 0:an);else if(null==an)Ie.remove(null===Gt?void 0:Gt);else if(null!==Gt){const Tr=Ie.get(Gt);Ie.move(Tr,an),_e(Tr,tt)}});for(let tt=0,Gt=Ie.length;tt<Gt;tt++){const Tr=Ie.get(tt).context;Tr.index=tt,Tr.count=Gt,Tr.ngForOf=this._ngForOf}j.forEachIdentityChange(tt=>{_e(Ie.get(tt.currentIndex),tt)})}static ngTemplateContextGuard(j,Ie){return!0}}return(P=G).\u0275fac=function(j){return new(j||P)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function _e(P,G){P.context.$implicit=G.item}let ee=(()=>{var P;class G{constructor(j,Ie){this._viewContainer=j,this._context=new Se,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ie}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){pt("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){pt("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,Ie){return!0}}return(P=G).\u0275fac=function(j){return new(j||P)(d.Y36(d.s_b),d.Y36(d.Rgc))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class Se{constructor(){this.$implicit=null,this.ngIf=null}}function pt(P,G){if(G&&!G.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,d.AaK)(G)}'.`)}let Mt=(()=>{var P;class G{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(j){if(this._shouldRecreateView(j)){var Ie;const tt=this._viewContainerRef;if(this._viewRef&&tt.remove(tt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Gt=this._createContextForwardProxy();this._viewRef=tt.createEmbeddedView(this.ngTemplateOutlet,Gt,{injector:null!==(Ie=this.ngTemplateOutletInjector)&&void 0!==Ie?Ie:void 0})}}_shouldRecreateView(j){return!!j.ngTemplateOutlet||!!j.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(j,Ie,tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ie,tt),get:(j,Ie,tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ie,tt)}})}}return(P=G).\u0275fac=function(j){return new(j||P)(d.Y36(d.s_b))},P.\u0275dir=d.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),G})(),jr=(()=>{var P;class G{}return(P=G).\u0275fac=function(j){return new(j||P)},P.\u0275mod=d.oAB({type:P}),P.\u0275inj=d.cJS({}),G})();const Lo="browser",ds="server";function wa(P){return P===ds}let Fo=(()=>{var P;class G{}return(P=G).\u0275prov=(0,d.Yz7)({token:P,providedIn:"root",factory:()=>new Ro((0,d.LFG)(re),window)}),G})();class Ro{constructor(G,Be){this.document=G,this.window=Be,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const Be=function Ys(P,G){const Be=P.getElementById(G)||P.getElementsByName(G)[0];if(Be)return Be;if("function"==typeof P.createTreeWalker&&P.body&&"function"==typeof P.body.attachShadow){const j=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let Ie=j.currentNode;for(;Ie;){const tt=Ie.shadowRoot;if(tt){const Gt=tt.getElementById(G)||tt.querySelector(`[name="${G}"]`);if(Gt)return Gt}Ie=j.nextNode()}}return null}(this.document,G);Be&&(this.scrollToElement(Be),Be.focus())}setHistoryScrollRestoration(G){this.supportsScrolling()&&(this.window.history.scrollRestoration=G)}scrollToElement(G){const Be=G.getBoundingClientRect(),j=Be.left+this.window.pageXOffset,Ie=Be.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(j-tt[0],Ie-tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Co{}},9862:(gn,ht,O)=>{"use strict";O.d(ht,{JF:()=>Wn,eN:()=>K}),O(5861);var H=O(9212),J=O(2096),de=O(5592),xe=O(2459),re=O(6328),ge=O(2181),We=O(7398),Ke=O(4716),Ae=O(4664),Te=O(6814);class Qe{}class ze{}class He{constructor(Ye){this.normalizedNames=new Map,this.lazyUpdate=null,Ye?"string"==typeof Ye?this.lazyInit=()=>{this.headers=new Map,Ye.split("\n").forEach(At=>{const Et=At.indexOf(":");if(Et>0){const Ut=At.slice(0,Et),Wt=Ut.toLowerCase(),Cn=At.slice(Et+1).trim();this.maybeSetNormalizedName(Ut,Wt),this.headers.has(Wt)?this.headers.get(Wt).push(Cn):this.headers.set(Wt,[Cn])}})}:typeof Headers<"u"&&Ye instanceof Headers?(this.headers=new Map,Ye.forEach((At,Et)=>{this.setHeaderEntries(Et,At)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ye).forEach(([At,Et])=>{this.setHeaderEntries(At,Et)})}:this.headers=new Map}has(Ye){return this.init(),this.headers.has(Ye.toLowerCase())}get(Ye){this.init();const At=this.headers.get(Ye.toLowerCase());return At&&At.length>0?At[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ye){return this.init(),this.headers.get(Ye.toLowerCase())||null}append(Ye,At){return this.clone({name:Ye,value:At,op:"a"})}set(Ye,At){return this.clone({name:Ye,value:At,op:"s"})}delete(Ye,At){return this.clone({name:Ye,value:At,op:"d"})}maybeSetNormalizedName(Ye,At){this.normalizedNames.has(At)||this.normalizedNames.set(At,Ye)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ye=>this.applyUpdate(Ye)),this.lazyUpdate=null))}copyFrom(Ye){Ye.init(),Array.from(Ye.headers.keys()).forEach(At=>{this.headers.set(At,Ye.headers.get(At)),this.normalizedNames.set(At,Ye.normalizedNames.get(At))})}clone(Ye){const At=new He;return At.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,At.lazyUpdate=(this.lazyUpdate||[]).concat([Ye]),At}applyUpdate(Ye){const At=Ye.name.toLowerCase();switch(Ye.op){case"a":case"s":let Et=Ye.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(Ye.name,At);const Ut=("a"===Ye.op?this.headers.get(At):void 0)||[];Ut.push(...Et),this.headers.set(At,Ut);break;case"d":const Wt=Ye.value;if(Wt){let Cn=this.headers.get(At);if(!Cn)return;Cn=Cn.filter(yn=>-1===Wt.indexOf(yn)),0===Cn.length?(this.headers.delete(At),this.normalizedNames.delete(At)):this.headers.set(At,Cn)}else this.headers.delete(At),this.normalizedNames.delete(At)}}setHeaderEntries(Ye,At){const Et=(Array.isArray(At)?At:[At]).map(Wt=>Wt.toString()),Ut=Ye.toLowerCase();this.headers.set(Ut,Et),this.maybeSetNormalizedName(Ye,Ut)}forEach(Ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(At=>Ye(this.normalizedNames.get(At),this.headers.get(At)))}}class mt{encodeKey(Ye){return Dt(Ye)}encodeValue(Ye){return Dt(Ye)}decodeKey(Ye){return decodeURIComponent(Ye)}decodeValue(Ye){return decodeURIComponent(Ye)}}const Je=/%(\d[a-f0-9])/gi,ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dt(dt){return encodeURIComponent(dt).replace(Je,(Ye,At)=>{var Et;return null!==(Et=ot[At])&&void 0!==Et?Et:Ye})}function De(dt){return`${dt}`}class qe{constructor(Ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ye.encoder||new mt,Ye.fromString){if(Ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xe(dt,Ye){const At=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(Ut=>{const Wt=Ut.indexOf("="),[Cn,yn]=-1==Wt?[Ye.decodeKey(Ut),""]:[Ye.decodeKey(Ut.slice(0,Wt)),Ye.decodeValue(Ut.slice(Wt+1))],On=At.get(Cn)||[];On.push(yn),At.set(Cn,On)}),At}(Ye.fromString,this.encoder)}else Ye.fromObject?(this.map=new Map,Object.keys(Ye.fromObject).forEach(At=>{const Et=Ye.fromObject[At],Ut=Array.isArray(Et)?Et.map(De):[De(Et)];this.map.set(At,Ut)})):this.map=null}has(Ye){return this.init(),this.map.has(Ye)}get(Ye){this.init();const At=this.map.get(Ye);return At?At[0]:null}getAll(Ye){return this.init(),this.map.get(Ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ye,At){return this.clone({param:Ye,value:At,op:"a"})}appendAll(Ye){const At=[];return Object.keys(Ye).forEach(Et=>{const Ut=Ye[Et];Array.isArray(Ut)?Ut.forEach(Wt=>{At.push({param:Et,value:Wt,op:"a"})}):At.push({param:Et,value:Ut,op:"a"})}),this.clone(At)}set(Ye,At){return this.clone({param:Ye,value:At,op:"s"})}delete(Ye,At){return this.clone({param:Ye,value:At,op:"d"})}toString(){return this.init(),this.keys().map(Ye=>{const At=this.encoder.encodeKey(Ye);return this.map.get(Ye).map(Et=>At+"="+this.encoder.encodeValue(Et)).join("&")}).filter(Ye=>""!==Ye).join("&")}clone(Ye){const At=new qe({encoder:this.encoder});return At.cloneFrom=this.cloneFrom||this,At.updates=(this.updates||[]).concat(Ye),At}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ye=>this.map.set(Ye,this.cloneFrom.map.get(Ye))),this.updates.forEach(Ye=>{switch(Ye.op){case"a":case"s":const At=("a"===Ye.op?this.map.get(Ye.param):void 0)||[];At.push(De(Ye.value)),this.map.set(Ye.param,At);break;case"d":if(void 0===Ye.value){this.map.delete(Ye.param);break}{let Et=this.map.get(Ye.param)||[];const Ut=Et.indexOf(De(Ye.value));-1!==Ut&&Et.splice(Ut,1),Et.length>0?this.map.set(Ye.param,Et):this.map.delete(Ye.param)}}}),this.cloneFrom=this.updates=null)}}class Fe{constructor(){this.map=new Map}set(Ye,At){return this.map.set(Ye,At),this}get(Ye){return this.map.has(Ye)||this.map.set(Ye,Ye.defaultValue()),this.map.get(Ye)}delete(Ye){return this.map.delete(Ye),this}has(Ye){return this.map.has(Ye)}keys(){return this.map.keys()}}function Re(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function we(dt){return typeof Blob<"u"&&dt instanceof Blob}function ye(dt){return typeof FormData<"u"&&dt instanceof FormData}class nt{constructor(Ye,At,Et,Ut){let Wt;if(this.url=At,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ye.toUpperCase(),function me(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==Et?Et:null,Wt=Ut):Wt=Et,Wt&&(this.reportProgress=!!Wt.reportProgress,this.withCredentials=!!Wt.withCredentials,Wt.responseType&&(this.responseType=Wt.responseType),Wt.headers&&(this.headers=Wt.headers),Wt.context&&(this.context=Wt.context),Wt.params&&(this.params=Wt.params),this.transferCache=Wt.transferCache),this.headers||(this.headers=new He),this.context||(this.context=new Fe),this.params){const Cn=this.params.toString();if(0===Cn.length)this.urlWithParams=At;else{const yn=At.indexOf("?");this.urlWithParams=At+(-1===yn?"?":yn<At.length-1?"&":"")+Cn}}else this.params=new qe,this.urlWithParams=At}serializeBody(){return null===this.body?null:Re(this.body)||we(this.body)||ye(this.body)||function ft(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ye(this.body)?null:we(this.body)?this.body.type||null:Re(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ye={}){var At;const Et=Ye.method||this.method,Ut=Ye.url||this.url,Wt=Ye.responseType||this.responseType,Cn=void 0!==Ye.body?Ye.body:this.body,yn=void 0!==Ye.withCredentials?Ye.withCredentials:this.withCredentials,On=void 0!==Ye.reportProgress?Ye.reportProgress:this.reportProgress;let En=Ye.headers||this.headers,_e=Ye.params||this.params;const Oe=null!==(At=Ye.context)&&void 0!==At?At:this.context;return void 0!==Ye.setHeaders&&(En=Object.keys(Ye.setHeaders).reduce((ee,Se)=>ee.set(Se,Ye.setHeaders[Se]),En)),Ye.setParams&&(_e=Object.keys(Ye.setParams).reduce((ee,Se)=>ee.set(Se,Ye.setParams[Se]),_e)),new nt(Et,Ut,Cn,{params:_e,headers:En,context:Oe,reportProgress:On,responseType:Wt,withCredentials:yn})}}var U=function(dt){return dt[dt.Sent=0]="Sent",dt[dt.UploadProgress=1]="UploadProgress",dt[dt.ResponseHeader=2]="ResponseHeader",dt[dt.DownloadProgress=3]="DownloadProgress",dt[dt.Response=4]="Response",dt[dt.User=5]="User",dt}(U||{});class rt{constructor(Ye,At=200,Et="OK"){this.headers=Ye.headers||new He,this.status=void 0!==Ye.status?Ye.status:At,this.statusText=Ye.statusText||Et,this.url=Ye.url||null,this.ok=this.status>=200&&this.status<300}}class It extends rt{constructor(Ye={}){super(Ye),this.type=U.ResponseHeader}clone(Ye={}){return new It({headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class Ze extends rt{constructor(Ye={}){super(Ye),this.type=U.Response,this.body=void 0!==Ye.body?Ye.body:null}clone(Ye={}){return new Ze({body:void 0!==Ye.body?Ye.body:this.body,headers:Ye.headers||this.headers,status:void 0!==Ye.status?Ye.status:this.status,statusText:Ye.statusText||this.statusText,url:Ye.url||this.url||void 0})}}class oe extends rt{constructor(Ye){super(Ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ye.url||"(unknown url)"}`:`Http failure response for ${Ye.url||"(unknown url)"}: ${Ye.status} ${Ye.statusText}`,this.error=Ye.error||null}}function Q(dt,Ye){return{body:Ye,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials,transferCache:dt.transferCache}}let K=(()=>{var dt;class Ye{constructor(Et){this.handler=Et}request(Et,Ut,Wt={}){let Cn;if(Et instanceof nt)Cn=Et;else{let En,_e;En=Wt.headers instanceof He?Wt.headers:new He(Wt.headers),Wt.params&&(_e=Wt.params instanceof qe?Wt.params:new qe({fromObject:Wt.params})),Cn=new nt(Et,Ut,void 0!==Wt.body?Wt.body:null,{headers:En,context:Wt.context,params:_e,reportProgress:Wt.reportProgress,responseType:Wt.responseType||"json",withCredentials:Wt.withCredentials,transferCache:Wt.transferCache})}const yn=(0,J.of)(Cn).pipe((0,re.b)(En=>this.handler.handle(En)));if(Et instanceof nt||"events"===Wt.observe)return yn;const On=yn.pipe((0,ge.h)(En=>En instanceof Ze));switch(Wt.observe||"body"){case"body":switch(Cn.responseType){case"arraybuffer":return On.pipe((0,We.U)(En=>{if(null!==En.body&&!(En.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return En.body}));case"blob":return On.pipe((0,We.U)(En=>{if(null!==En.body&&!(En.body instanceof Blob))throw new Error("Response is not a Blob.");return En.body}));case"text":return On.pipe((0,We.U)(En=>{if(null!==En.body&&"string"!=typeof En.body)throw new Error("Response is not a string.");return En.body}));default:return On.pipe((0,We.U)(En=>En.body))}case"response":return On;default:throw new Error(`Unreachable: unhandled observe type ${Wt.observe}}`)}}delete(Et,Ut={}){return this.request("DELETE",Et,Ut)}get(Et,Ut={}){return this.request("GET",Et,Ut)}head(Et,Ut={}){return this.request("HEAD",Et,Ut)}jsonp(Et,Ut){return this.request("JSONP",Et,{params:(new qe).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Et,Ut={}){return this.request("OPTIONS",Et,Ut)}patch(Et,Ut,Wt={}){return this.request("PATCH",Et,Q(Wt,Ut))}post(Et,Ut,Wt={}){return this.request("POST",Et,Q(Wt,Ut))}put(Et,Ut,Wt={}){return this.request("PUT",Et,Q(Wt,Ut))}}return(dt=Ye).\u0275fac=function(Et){return new(Et||dt)(H.LFG(Qe))},dt.\u0275prov=H.Yz7({token:dt,factory:dt.\u0275fac}),Ye})();function St(dt,Ye){return Ye(dt)}function mn(dt,Ye){return(At,Et)=>Ye.intercept(At,{handle:Ut=>dt(Ut,Et)})}const Pt=new H.OlP(""),Nt=new H.OlP(""),Bt=new H.OlP(""),nn=new H.OlP("");function zn(){let dt=null;return(Ye,At)=>{var Et;null===dt&&(dt=(null!==(Et=(0,H.f3M)(Pt,{optional:!0}))&&void 0!==Et?Et:[]).reduceRight(mn,St));const Ut=(0,H.f3M)(H.HDt),Wt=Ut.add();return dt(Ye,At).pipe((0,Ke.x)(()=>Ut.remove(Wt)))}}let In=(()=>{var dt;class Ye extends Qe{constructor(Et,Ut){super(),this.backend=Et,this.injector=Ut,this.chain=null,this.pendingTasks=(0,H.f3M)(H.HDt);const Wt=(0,H.f3M)(nn,{optional:!0});this.backend=null!=Wt?Wt:Et}handle(Et){if(null===this.chain){const Wt=Array.from(new Set([...this.injector.get(Nt),...this.injector.get(Bt,[])]));this.chain=Wt.reduceRight((Cn,yn)=>function Kt(dt,Ye,At){return(Et,Ut)=>At.runInContext(()=>Ye(Et,Wt=>dt(Wt,Ut)))}(Cn,yn,this.injector),St)}const Ut=this.pendingTasks.add();return this.chain(Et,Wt=>this.backend.handle(Wt)).pipe((0,Ke.x)(()=>this.pendingTasks.remove(Ut)))}}return(dt=Ye).\u0275fac=function(Et){return new(Et||dt)(H.LFG(ze),H.LFG(H.lqb))},dt.\u0275prov=H.Yz7({token:dt,factory:dt.\u0275fac}),Ye})();const Ci=/^\)\]\}',?\n/;let pn=(()=>{var dt;class Ye{constructor(Et){this.xhrFactory=Et}handle(Et){if("JSONP"===Et.method)throw new H.vHH(-2800,!1);const Ut=this.xhrFactory;return(Ut.\u0275loadImpl?(0,xe.D)(Ut.\u0275loadImpl()):(0,J.of)(null)).pipe((0,Ae.w)(()=>new de.y(Cn=>{const yn=Ut.build();if(yn.open(Et.method,Et.urlWithParams),Et.withCredentials&&(yn.withCredentials=!0),Et.headers.forEach(($t,on)=>yn.setRequestHeader($t,on.join(","))),Et.headers.has("Accept")||yn.setRequestHeader("Accept","application/json, text/plain, */*"),!Et.headers.has("Content-Type")){const $t=Et.detectContentTypeHeader();null!==$t&&yn.setRequestHeader("Content-Type",$t)}if(Et.responseType){const $t=Et.responseType.toLowerCase();yn.responseType="json"!==$t?$t:"text"}const On=Et.serializeBody();let En=null;const _e=()=>{if(null!==En)return En;const $t=yn.statusText||"OK",on=new He(yn.getAllResponseHeaders()),Fn=function Ir(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(yn)||Et.url;return En=new It({headers:on,status:yn.status,statusText:$t,url:Fn}),En},Oe=()=>{let{headers:$t,status:on,statusText:Fn,url:dn}=_e(),wr=null;204!==on&&(wr=typeof yn.response>"u"?yn.responseText:yn.response),0===on&&(on=wr?200:0);let z=on>=200&&on<300;if("json"===Et.responseType&&"string"==typeof wr){const ne=wr;wr=wr.replace(Ci,"");try{wr=""!==wr?JSON.parse(wr):null}catch($e){wr=ne,z&&(z=!1,wr={error:$e,text:wr})}}z?(Cn.next(new Ze({body:wr,headers:$t,status:on,statusText:Fn,url:dn||void 0})),Cn.complete()):Cn.error(new oe({error:wr,headers:$t,status:on,statusText:Fn,url:dn||void 0}))},ee=$t=>{const{url:on}=_e(),Fn=new oe({error:$t,status:yn.status||0,statusText:yn.statusText||"Unknown Error",url:on||void 0});Cn.error(Fn)};let Se=!1;const pt=$t=>{Se||(Cn.next(_e()),Se=!0);let on={type:U.DownloadProgress,loaded:$t.loaded};$t.lengthComputable&&(on.total=$t.total),"text"===Et.responseType&&yn.responseText&&(on.partialText=yn.responseText),Cn.next(on)},Vt=$t=>{let on={type:U.UploadProgress,loaded:$t.loaded};$t.lengthComputable&&(on.total=$t.total),Cn.next(on)};return yn.addEventListener("load",Oe),yn.addEventListener("error",ee),yn.addEventListener("timeout",ee),yn.addEventListener("abort",ee),Et.reportProgress&&(yn.addEventListener("progress",pt),null!==On&&yn.upload&&yn.upload.addEventListener("progress",Vt)),yn.send(On),Cn.next({type:U.Sent}),()=>{yn.removeEventListener("error",ee),yn.removeEventListener("abort",ee),yn.removeEventListener("load",Oe),yn.removeEventListener("timeout",ee),Et.reportProgress&&(yn.removeEventListener("progress",pt),null!==On&&yn.upload&&yn.upload.removeEventListener("progress",Vt)),yn.readyState!==yn.DONE&&yn.abort()}})))}}return(dt=Ye).\u0275fac=function(Et){return new(Et||dt)(H.LFG(Te.JF))},dt.\u0275prov=H.Yz7({token:dt,factory:dt.\u0275fac}),Ye})();const sr=new H.OlP("XSRF_ENABLED"),$r=new H.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fi=new H.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gr{}let ri=(()=>{var dt;class Ye{constructor(Et,Ut,Wt){this.doc=Et,this.platform=Ut,this.cookieName=Wt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Et=this.doc.cookie||"";return Et!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Te.Mx)(Et,this.cookieName),this.lastCookieString=Et),this.lastToken}}return(dt=Ye).\u0275fac=function(Et){return new(Et||dt)(H.LFG(Te.K0),H.LFG(H.Lbi),H.LFG($r))},dt.\u0275prov=H.Yz7({token:dt,factory:dt.\u0275fac}),Ye})();function ii(dt,Ye){const At=dt.url.toLowerCase();if(!(0,H.f3M)(sr)||"GET"===dt.method||"HEAD"===dt.method||At.startsWith("http://")||At.startsWith("https://"))return Ye(dt);const Et=(0,H.f3M)(Gr).getToken(),Ut=(0,H.f3M)(fi);return null!=Et&&!dt.headers.has(Ut)&&(dt=dt.clone({headers:dt.headers.set(Ut,Et)})),Ye(dt)}var er=function(dt){return dt[dt.Interceptors=0]="Interceptors",dt[dt.LegacyInterceptors=1]="LegacyInterceptors",dt[dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dt[dt.NoXsrfProtection=3]="NoXsrfProtection",dt[dt.JsonpSupport=4]="JsonpSupport",dt[dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",dt[dt.Fetch=6]="Fetch",dt}(er||{});function mi(dt,Ye){return{\u0275kind:dt,\u0275providers:Ye}}function bi(...dt){const Ye=[K,pn,In,{provide:Qe,useExisting:In},{provide:ze,useExisting:pn},{provide:Nt,useValue:ii,multi:!0},{provide:sr,useValue:!0},{provide:Gr,useClass:ri}];for(const At of dt)Ye.push(...At.\u0275providers);return(0,H.MR2)(Ye)}const at=new H.OlP("LEGACY_INTERCEPTOR_FN");let Wn=(()=>{var dt;class Ye{}return(dt=Ye).\u0275fac=function(Et){return new(Et||dt)},dt.\u0275mod=H.oAB({type:dt}),dt.\u0275inj=H.cJS({providers:[bi(mi(er.LegacyInterceptors,[{provide:at,useFactory:zn},{provide:Nt,useExisting:at,multi:!0}]))]}),Ye})()},9212:(gn,ht,O)=>{"use strict";O.d(ht,{tb:()=>bI,AFp:()=>ju,ip1:()=>OT,hGG:()=>qR,z2F:()=>O_,Ojb:()=>bc,sBO:()=>Ty,Sil:()=>rR,EJc:()=>QS,Xts:()=>Fu,SBq:()=>Wd,lqb:()=>js,qLn:()=>Yh,vpe:()=>sd,XFs:()=>_e,GSi:()=>Eh,OlP:()=>dn,zs3:()=>Hs,ZZ4:()=>kc,aQg:()=>qd,soG:()=>ME,YKP:()=>Ww,h0i:()=>cm,R0b:()=>ys,FiY:()=>Ec,Lbi:()=>au,g9A:()=>tc,Qsj:()=>Rg,FYo:()=>Iu,JOm:()=>rc,tp0:()=>dl,Rgc:()=>$v,dDg:()=>SR,eoX:()=>HT,q4F:()=>Wh,GfV:()=>Pg,s_b:()=>pE,ifc:()=>qs,T8G:()=>l_,VuI:()=>pP,LMc:()=>mP,MMx:()=>Yw,Lck:()=>HA,eFA:()=>qT,G48:()=>$R,Gpc:()=>qr,f3M:()=>xr,X6Q:()=>UR,$WT:()=>Ms,MR2:()=>_h,_c5:()=>WR,qFp:()=>_P,r_H:()=>as,rg0:()=>S,c2e:()=>NT,zSh:()=>bd,HDt:()=>LT,wAp:()=>R_,vHH:()=>pn,lri:()=>$T,rWj:()=>jT,cg1:()=>X0,kuF:()=>sr,kL8:()=>NC,dqk:()=>$t,Z0I:()=>At,eJc:()=>gl,QGY:()=>tI,F4k:()=>aw,RDi:()=>ml,AaK:()=>Jn,qOj:()=>Vy,Xq5:()=>pv,TTD:()=>ks,_Bn:()=>zw,jDz:()=>Kw,xp6:()=>qm,uIk:()=>mv,ekj:()=>nE,Suo:()=>fT,Xpm:()=>Es,lG2:()=>Ps,Yz7:()=>Bn,cJS:()=>dt,oAB:()=>za,Yjl:()=>gc,Y36:()=>Zh,_UZ:()=>Y0,GkF:()=>Q0,qZA:()=>IE,TgZ:()=>EE,EpF:()=>MC,n5z:()=>qc,LFG:()=>zr,$8M:()=>ll,$Z:()=>uy,NdJ:()=>nI,CRH:()=>pT,oxw:()=>hw,Hsn:()=>pw,F$t:()=>fw,Q6J:()=>eE,DdM:()=>rT,iGM:()=>dT,MAs:()=>Tw,KtG:()=>rr,CHM:()=>zi,P3R:()=>Ip,YNc:()=>I_,_uU:()=>Nw,Oqu:()=>iI,hij:()=>bE,Gf:()=>hT});let H=null,de=1;function re(t){const n=H;return H=t,n}function ze(t){if((!et(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==de)){if(!t.producerMustRecompute(t)&&!ot(t))return t.dirty=!1,void(t.lastCleanEpoch=de);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=de}}function ot(t){Fe(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==s.version||(ze(s),a!==s.version))return!0}return!1}function qe(t,n){if(function me(t){var n,s;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}(t),Fe(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)qe(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];Fe(f),f.producerIndexOfThis[a]=n}}function et(t){var n,s;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>0}function Fe(t){var n,s,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let rt=null;var Pt=O(8645),Nt=O(7394),Bt=O(5592),nn=O(3019),zn=O(5619),Gn=O(2096),lr=O(3020),In=O(4664),Qn=O(3997);function bn(t){for(let n in t)if(t[n]===bn)return n;throw Error("Could not find renamed property on target object.")}function ci(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Jn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Jn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function cr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ui=bn({__forward_ref__:bn});function qr(t){return t.__forward_ref__=qr,t.toString=function(){return Jn(this())},t}function Sn(t){return Xr(t)?t():t}function Xr(t){return"function"==typeof t&&t.hasOwnProperty(ui)&&t.__forward_ref__===qr}function ir(t){return t&&!!t.\u0275providers}const Ir="https://g.co/ng/security#xss";class pn extends Error{constructor(n,s){super(sr(n,s)),this.code=n}}function sr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}const br=bn({\u0275cmp:bn}),$r=bn({\u0275dir:bn}),ki=bn({\u0275pipe:bn}),fi=bn({\u0275mod:bn}),Gr=bn({\u0275fac:bn}),ri=bn({__NG_ELEMENT_ID__:bn}),ii=bn({__NG_ENV_ID__:bn});function Zn(t){return"string"==typeof t?t:null==t?"":String(t)}function se(t,n){throw new pn(-201,!1)}function Rt(t,n){null==t&&function ct(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Bn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ye(t){return Et(t,Cn)||Et(t,On)}function At(t){return null!==Ye(t)}function Et(t,n){return t.hasOwnProperty(n)?t[n]:null}function Wt(t){return t&&(t.hasOwnProperty(yn)||t.hasOwnProperty(En))?t[yn]:null}const Cn=bn({\u0275prov:bn}),yn=bn({\u0275inj:bn}),On=bn({ngInjectableDef:bn}),En=bn({ngInjectorDef:bn});var _e=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_e||{});let Oe;function ee(){return Oe}function Se(t){const n=Oe;return Oe=t,n}function pt(t,n,s){const a=Ye(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&_e.Optional?null:void 0!==n?n:void se(Jn(t))}const $t=globalThis;class dn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Bn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vn={},Un="__NG_DI_FLAG__",pr="ngTempTokenPath",Jr=/\n/gm,Ee="__source";let V;function gt(t){const n=V;return V=t,n}function _r(t,n=_e.Default){if(void 0===V)throw new pn(-203,!1);return null===V?pt(t,void 0,n):V.get(t,n&_e.Optional?null:void 0,n)}function zr(t,n=_e.Default){return(ee()||_r)(Sn(t),n)}function xr(t,n=_e.Default){return zr(t,ts(n))}function ts(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ga(t){const n=[];for(let s=0;s<t.length;s++){const a=Sn(t[s]);if(Array.isArray(a)){if(0===a.length)throw new pn(900,!1);let f,m=_e.Default;for(let E=0;E<a.length;E++){const T=a[E],A=Ca(T);"number"==typeof A?-1===A?f=T.token:m|=A:f=T}n.push(zr(f,m))}else n.push(zr(a))}return n}function Ds(t,n){return t[Un]=n,t.prototype[Un]=n,t}function Ca(t){return t[Un]}function qi(t){return{toString:t}.toString()}var Ws=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ws||{}),qs=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(qs||{});const Ss={},jr=[];function Lo(t,n,s){let a=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===a||t.charCodeAt(f+m)<=32)return f}s=f+1}}function ds(t,n,s){let a=0;for(;a<s.length;){const f=s[a];if("number"==typeof f){if(0!==f)break;a++;const m=s[a++],E=s[a++],T=s[a++];t.setAttribute(n,E,T,m)}else{const m=f,E=s[++a];Rs(m)?t.setProperty(n,m,E):t.setAttribute(n,m,E),a++}}return a}function Io(t){return 3===t||4===t||6===t}function Rs(t){return 64===t.charCodeAt(0)}function ns(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const f=n[a];"number"==typeof f?s=f:0===s||wa(t,s,f,null,-1===s||2===s?n[++a]:null)}}return t}function wa(t,n,s,a,f){let m=0,E=t.length;if(-1===n)E=-1;else for(;m<t.length;){const T=t[m++];if("number"==typeof T){if(T===n){E=-1;break}if(T>n){E=m-1;break}}}for(;m<t.length;){const T=t[m];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==f&&(t[m+1]=f));if(a===t[m+1])return void(t[m+2]=f)}m++,null!==a&&m++,null!==f&&m++}-1!==E&&(t.splice(E,0,n),m=E+1),t.splice(m++,0,s),null!==a&&t.splice(m++,0,a),null!==f&&t.splice(m++,0,f)}const ia="ng-template";function xi(t,n,s){let a=0,f=!0;for(;a<t.length;){let m=t[a++];if("string"==typeof m&&f){const E=t[a++];if(s&&"class"===m&&-1!==Lo(E.toLowerCase(),n,0))return!0}else{if(1===m){for(;a<t.length&&"string"==typeof(m=t[a++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function sa(t){return 4===t.type&&t.value!==ia}function Fo(t,n,s){return n===(4!==t.type||s?t.value:ia)}function Ro(t,n,s){let a=4;const f=t.attrs||[],m=function wl(t){for(let n=0;n<t.length;n++)if(Io(t[n]))return n;return t.length}(f);let E=!1;for(let T=0;T<n.length;T++){const A=n[T];if("number"!=typeof A){if(!E)if(4&a){if(a=2|1&a,""!==A&&!Fo(t,A,s)||""===A&&1===n.length){if(Ys(a))return!1;E=!0}}else{const $=8&a?A:n[++T];if(8&a&&null!==t.attrs){if(!xi(t.attrs,$,s)){if(Ys(a))return!1;E=!0}continue}const ue=fc(8&a?"class":A,f,sa(t),s);if(-1===ue){if(Ys(a))return!1;E=!0;continue}if(""!==$){let Ue;Ue=ue>m?"":f[ue+1].toLowerCase();const ut=8&a?Ue:null;if(ut&&-1!==Lo(ut,$,0)||2&a&&$!==Ue){if(Ys(a))return!1;E=!0}}}}else{if(!E&&!Ys(a)&&!Ys(A))return!1;if(E&&Ys(A))continue;E=!1,a=A|1&a}}return Ys(a)||E}function Ys(t){return 0==(1&t)}function fc(t,n,s,a){if(null===n)return-1;let f=0;if(a||!s){let m=!1;for(;f<n.length;){const E=n[f];if(E===t)return f;if(3===E||6===E)m=!0;else{if(1===E||2===E){let T=n[++f];for(;"string"==typeof T;)T=n[++f];continue}if(4===E)break;if(0===E){f+=4;continue}}f+=m?1:2}return-1}return function nh(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function Co(t,n,s=!1){for(let a=0;a<n.length;a++)if(Ro(t,n[a],s))return!0;return!1}function co(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let f=0;f<t.length;f++)if(t[f]!==a[f])continue e;return!0}}return!1}function Vo(t,n){return t?":not("+n.trim()+")":n}function Ta(t){let n=t[0],s=1,a=2,f="",m=!1;for(;s<t.length;){let E=t[s];if("string"==typeof E)if(2&a){const T=t[++s];f+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?f+="."+E:4&a&&(f+=" "+E);else""!==f&&!Ys(E)&&(n+=Vo(m,f),f=""),a=E,m=m||!Ys(a);s++}return""!==f&&(n+=Vo(m,f)),n}function Es(t){return qi(()=>{var n;const s=Uo(t),a={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ws.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||qs.Emulated,styles:t.styles||jr,_:null,schemas:t.schemas||null,tView:null,id:""};Ks(a);const f=t.dependencies;return a.directiveDefs=Wa(f,!1),a.pipeDefs=Wa(f,!0),a.id=function qa(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function pc(t){return Ar(t)||Si(t)}function jl(t){return null!==t}function za(t){return qi(()=>({type:t.type,bootstrap:t.bootstrap||jr,declarations:t.declarations||jr,imports:t.imports||jr,exports:t.exports||jr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Uc(t,n){if(null==t)return Ss;const s={};for(const a in t)if(t.hasOwnProperty(a)){let f=t[a],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=a,n&&(n[f]=m)}return s}function Ps(t){return qi(()=>{const n=Uo(t);return Ks(n),n})}function gc(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ar(t){return t[br]||null}function Si(t){return t[$r]||null}function Gi(t){return t[ki]||null}function Ms(t){const n=Ar(t)||Si(t)||Gi(t);return null!==n&&n.standalone}function yi(t,n){const s=t[fi]||null;if(!s&&!0===n)throw new Error(`Type ${Jn(t)} does not have '\u0275mod' property.`);return s}function Uo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ss,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||jr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Uc(t.inputs,n),outputs:Uc(t.outputs),debugInfo:null}}function Ks(t){var n;null===(n=t.features)||void 0===n||n.forEach(s=>s(t))}function Wa(t,n){if(!t)return null;const s=n?Gi:pc;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(jl)}const Ri=0,wn=1,fr=2,yr=3,hs=4,Y=5,N=6,Ce=7,W=8,Me=9,hn=10,_n=11,Ei=12,xs=13,fs=14,ei=15,rs=16,$o=17,Os=18,wo=19,Ya=20,is=21,Da=22,To=23,Cr=25,Hl=1,ba=7,Po=9,$i=10;var Aa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Aa||{});function Yi(t){return Array.isArray(t)&&"object"==typeof t[Hl]}function ss(t){return Array.isArray(t)&&!0===t[Hl]}function aa(t){return 0!=(4&t.flags)}function Ho(t){return t.componentOffset>-1}function ho(t){return 1==(1&t.flags)}function Zs(t){return!!t.template}function Ns(t){return 0!=(512&t[fr])}function Fr(t,n){return t.hasOwnProperty(Gr)?t[Gr]:null}class Ji{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ks(){return Ls}function Ls(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xs),Za}function Za(){const t=Ra(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===Ss)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Xs(t,n,s,a){const f=this.declaredInputs[s],m=Ra(t)||function Do(t,n){return t[Fs]=n}(t,{previous:Ss,current:null}),E=m.current||(m.current={}),T=m.previous,A=T[f];E[f]=new Ji(A&&A.currentValue,n,T===Ss),t[a]=n}ks.ngInherit=!0;const Fs="__ngSimpleChanges__";function Ra(t){return t[Fs]||null}const Js=function(t,n,s){};function Li(t){for(;Array.isArray(t);)t=t[Ri];return t}function Pa(t,n){return Li(n[t])}function eo(t,n){return Li(n[t.index])}function Vs(t,n){return t.data[n]}function os(t,n){const s=n[t];return Yi(s)?s:s[Ri]}function fn(t){return 128==(128&t[fr])}function Ki(t,n){return null==n?null:t[n]}function dd(t){t[$o]=0}function Yn(t){1024&t[fr]||(t[fr]|=1024,fn(t)&&Mn(t))}function $c(t){9216&t[fr]&&Mn(t)}function Mn(t){let n=t[yr];for(;null!==n&&!(ss(n)&&n[fr]&Aa.HasChildViewsToRefresh||Yi(n)&&8192&n[fr]);){if(ss(n))n[fr]|=Aa.HasChildViewsToRefresh;else if(n[fr]|=8192,!fn(n))break;n=n[yr]}}function Lt(t,n){if(256==(256&t[fr]))throw new pn(911,!1);null===t[is]&&(t[is]=[]),t[is].push(n)}const or={lFrame:yt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Mu(){return or.bindingsEnabled}function zl(){return null!==or.skipHydrationRootTNode}function Qt(){return or.lFrame.lView}function ti(){return or.lFrame.tView}function zi(t){return or.lFrame.contextLView=t,t[W]}function rr(t){return or.lFrame.contextLView=null,t}function pi(){let t=si();for(;null!==t&&64===t.type;)t=t.parent;return t}function si(){return or.lFrame.currentTNode}function Kr(t,n){const s=or.lFrame;s.currentTNode=t,s.isParent=n}function An(){return or.lFrame.isParent}function Go(){or.lFrame.isParent=!1}function ua(){return or.lFrame.bindingIndex++}function Wl(t,n){const s=or.lFrame;s.bindingIndex=s.bindingRootIndex=t,M(n)}function M(t){or.lFrame.currentDirectiveIndex=t}function w(){return or.lFrame.currentQueryIndex}function B(t){or.lFrame.currentQueryIndex=t}function ae(t){const n=t[wn];return 2===n.type?n.declTNode:1===n.type?t[Y]:null}function Pe(t,n,s){if(s&_e.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||s&_e.Host||(f=ae(m),null===f||(m=m[fs],10&f.type))););if(null===f)return!1;n=f,t=m}const a=or.lFrame=cn();return a.currentTNode=n,a.lView=t,!0}function Ct(t){const n=cn(),s=t[wn];or.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function cn(){const t=or.lFrame,n=null===t?null:t.child;return null===n?yt(t):n}function yt(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function rn(){const t=or.lFrame;return or.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Rn=rn;function di(){const t=rn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gi(){return or.lFrame.selectedIndex}function Hi(t){or.lFrame.selectedIndex=t}function ni(){const t=or.lFrame;return Vs(t.tView,t.selectedIndex)}let da=!0;function to(){return da}function tl(t){da=t}function Hc(t,n){for(let $=n.directiveStart,X=n.directiveEnd;$<X;$++){const Ue=t.data[$].type.prototype,{ngAfterContentInit:ut,ngAfterContentChecked:Ft,ngAfterViewInit:sn,ngAfterViewChecked:Pn,ngOnDestroy:Kn}=Ue;var s,a,f,m,E,T,A;ut&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-$,ut),Ft&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push($,Ft),(null!==(f=t.contentCheckHooks)&&void 0!==f?f:t.contentCheckHooks=[]).push($,Ft)),sn&&(null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(-$,sn),Pn&&((null!==(E=t.viewHooks)&&void 0!==E?E:t.viewHooks=[]).push($,Pn),(null!==(T=t.viewCheckHooks)&&void 0!==T?T:t.viewCheckHooks=[]).push($,Pn)),null!=Kn&&(null!==(A=t.destroyHooks)&&void 0!==A?A:t.destroyHooks=[]).push($,Kn)}}function Gc(t,n,s){Sl(t,n,3,s)}function Al(t,n,s,a){(3&t[fr])===s&&Sl(t,n,s,a)}function zc(t,n){let s=t[fr];(3&s)===n&&(s&=16383,s+=1,t[fr]=s)}function Sl(t,n,s,a){const m=null!=a?a:-1,E=n.length-1;let T=0;for(let A=void 0!==a?65535&t[$o]:0;A<E;A++)if("number"==typeof n[A+1]){if(T=n[A],null!=a&&T>=a)break}else n[A]<0&&(t[$o]+=65536),(T<m||-1==m)&&(ah(t,s,n,A),t[$o]=(4294901760&t[$o])+A+2),A++}function mc(t,n){Js(4,t,n);const s=re(null);try{n.call(t)}finally{re(s),Js(5,t,n)}}function ah(t,n,s,a){const f=s[a]<0,m=s[a+1],T=t[f?-s[a]:s[a]];f?t[fr]>>14<t[$o]>>16&&(3&t[fr])===n&&(t[fr]+=16384,mc(T,m)):mc(T,m)}const xu=-1;class md{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Wo(t){return t!==xu}function ql(t){return 32767&t}function Wc(t,n){let s=function qo(t){return t>>16}(t),a=n;for(;s>0;)a=a[fs],s--;return a}let no=!0;function es(t){const n=no;return no=t,n}const nl=255,vd=5;let Fi=0;const bo={};function ai(t,n){const s=Yl(t,n);if(-1!==s)return s;const a=n[wn];a.firstCreatePass&&(t.injectorIndex=n.length,Nu(a.data,t),Nu(n,null),Nu(a.blueprint,null));const f=po(t,n),m=t.injectorIndex;if(Wo(f)){const E=ql(f),T=Wc(f,n),A=T[wn].data;for(let $=0;$<8;$++)n[m+$]=T[E+$]|A[E+$]}return n[m+8]=f,m}function Nu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Yl(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function po(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,f=n;for(;null!==f;){if(a=pa(f),null===a)return xu;if(s++,f=f[fs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return xu}function ch(t,n,s){!function ro(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ri)&&(a=s[ri]),null==a&&(a=s[ri]=Fi++);const f=a&nl;n.data[t+(f>>vd)]|=1<<f}(t,n,s)}function Vr(t,n,s){if(s&_e.Optional||void 0!==t)return t;se()}function Gf(t,n,s,a){if(s&_e.Optional&&void 0===a&&(a=null),!(s&(_e.Self|_e.Host))){const f=t[Me],m=Se(void 0);try{return f?f.get(n,a,s&_e.Optional):pt(n,a,s&_e.Optional)}finally{Se(m)}}return Vr(a,0,s)}function rl(t,n,s,a=_e.Default,f){if(null!==t){if(2048&n[fr]&&!(a&_e.Self)){const E=function rf(t,n,s,a,f){let m=t,E=n;for(;null!==m&&null!==E&&2048&E[fr]&&!(512&E[fr]);){const T=Qi(m,E,s,a|_e.Self,bo);if(T!==bo)return T;let A=m.parent;if(!A){const $=E[Ya];if($){const X=$.get(s,bo,a);if(X!==bo)return X}A=pa(E),E=E[fs]}m=A}return f}(t,n,s,a,bo);if(E!==bo)return E}const m=Qi(t,n,s,a,bo);if(m!==bo)return m}return Gf(n,s,a,f)}function Qi(t,n,s,a,f){const m=function sl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ri)?t[ri]:void 0;return"number"==typeof n?n>=0?n&nl:ha:n}(s);if("function"==typeof m){if(!Pe(n,t,a))return a&_e.Host?Vr(f,0,a):Gf(n,s,a,f);try{let E;if(E=m(a),null!=E||a&_e.Optional)return E;se()}finally{Rn()}}else if("number"==typeof m){let E=null,T=Yl(t,n),A=xu,$=a&_e.Host?n[ei][Y]:null;for((-1===T||a&_e.SkipSelf)&&(A=-1===T?po(t,n):n[T+8],A!==xu&&ol(a,!1)?(E=n[wn],T=ql(A),n=Wc(A,n)):T=-1);-1!==T;){const X=n[wn];if(kr(m,T,X.data)){const ue=il(T,n,s,E,a,$);if(ue!==bo)return ue}A=n[T+8],A!==xu&&ol(a,n[wn].data[T+8]===$)&&kr(m,T,n)?(E=X,T=ql(A),n=Wc(A,n)):T=-1}}return f}function il(t,n,s,a,f,m){const E=n[wn],T=E.data[t+8],X=Yo(T,E,s,null==a?Ho(T)&&no:a!=E&&0!=(3&T.type),f&_e.Host&&m===T);return null!==X?io(n,E,X,T):bo}function Yo(t,n,s,a,f){const m=t.providerIndexes,E=n.data,T=1048575&m,A=t.directiveStart,X=m>>20,Ue=f?T+X:t.directiveEnd;for(let ut=a?T:T+X;ut<Ue;ut++){const Ft=E[ut];if(ut<A&&s===Ft||ut>=A&&Ft.type===s)return ut}if(f){const ut=E[A];if(ut&&Zs(ut)&&ut.type===s)return A}return null}function io(t,n,s,a){let f=t[s];const m=n.data;if(function Xp(t){return t instanceof md}(f)){const E=f;E.resolving&&function Ui(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new pn(-200,`Circular dependency in DI detected for ${t}${s}`)}(function er(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Zn(t)}(m[s]));const T=es(E.canSeeViewProviders);E.resolving=!0;const $=E.injectImpl?Se(E.injectImpl):null;Pe(t,a,_e.Default);try{f=t[s]=E.factory(void 0,m,t,a),n.firstCreatePass&&s>=a.directiveStart&&function oh(t,n,s){const{ngOnChanges:a,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(a){var E,T;const ue=Ls(n);(null!==(E=s.preOrderHooks)&&void 0!==E?E:s.preOrderHooks=[]).push(t,ue),(null!==(T=s.preOrderCheckHooks)&&void 0!==T?T:s.preOrderCheckHooks=[]).push(t,ue)}var A,$,X;f&&(null!==(A=s.preOrderHooks)&&void 0!==A?A:s.preOrderHooks=[]).push(0-t,f),m&&((null!==($=s.preOrderHooks)&&void 0!==$?$:s.preOrderHooks=[]).push(t,m),(null!==(X=s.preOrderCheckHooks)&&void 0!==X?X:s.preOrderCheckHooks=[]).push(t,m))}(s,m[s],n)}finally{null!==$&&Se($),es(T),E.resolving=!1,Rn()}}return f}function kr(t,n,s){return!!(s[n+(t>>vd)]&1<<t)}function ol(t,n){return!(t&_e.Self||t&_e.Host&&n)}class Or{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return rl(this._tNode,this._lView,n,ts(a),s)}}function ha(){return new Or(pi(),Qt())}function qc(t){return qi(()=>{const n=t.prototype.constructor,s=n[Gr]||fa(n),a=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==a;){const m=f[Gr]||fa(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function fa(t){return Xr(t)?()=>{const n=fa(Sn(t));return n&&n()}:Fr(t)}function pa(t){const n=t[wn],s=n.type;return 2===s?n.declTNode:1===s?t[Y]:null}function ll(t){return function nf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let f=0;for(;f<a;){const m=s[f];if(Io(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<a&&"string"==typeof s[f];)f++;else{if(m===n)return s[f+1];f+=2}}}return null}(pi(),t)}const ga="__annotations__",Na="__parameters__",Rl="__prop__metadata__";function ka(t,n,s,a,f){return qi(()=>{const m=uh(n);function E(...T){if(this instanceof E)return m.call(this,...T),this;const A=new E(...T);return function(X){return f&&f(X,...T),(X.hasOwnProperty(ga)?X[ga]:Object.defineProperty(X,ga,{value:[]})[ga]).push(A),a&&a(X),X}}return s&&(E.prototype=Object.create(s.prototype)),E.prototype.ngMetadataName=t,E.annotationCls=E,E})}function uh(t){return function(...s){if(t){const a=t(...s);for(const f in a)this[f]=a[f]}}}function Pl(t,n,s){return qi(()=>{const a=uh(n);function f(...m){if(this instanceof f)return a.apply(this,m),this;const E=new f(...m);return T.annotation=E,T;function T(A,$,X){const ue=A.hasOwnProperty(Na)?A[Na]:Object.defineProperty(A,Na,{value:[]})[Na];for(;ue.length<=X;)ue.push(null);return(ue[X]=ue[X]||[]).push(E),A}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const yd=Pl("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>ll(t)}));function ps(t){const n=$t.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ed=Function;function Ko(t){return"function"==typeof t}function Wr(t,n){t.forEach(s=>Array.isArray(s)?Wr(s,n):n(s))}function Mi(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Ml(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Yc(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function oo(t,n,s){let a=ul(t,n);return a>=0?t[1|a]=s:(a=~a,function ma(t,n,s,a){let f=t.length;if(f==n)t.push(s,a);else if(1===f)t.push(a,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function ku(t,n){const s=ul(t,n);if(s>=0)return t[1|s]}function ul(t,n){return function Kl(t,n,s){let a=0,f=t.length>>s;for(;f!==a;){const m=a+(f-a>>1),E=t[m<<s];if(n===E)return m<<s;E>n?f=m:a=m+1}return~(f<<s)}(t,n,1)}const Kc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,xl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Wf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,fm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class qf{constructor(n){this._reflect=n||$t.Reflect}factory(n){return(...s)=>new n(...s)}_zipTypesAndAnnotations(n,s){let a;a=Yc(typeof n>"u"?s.length:n.length);for(let f=0;f<a.length;f++)a[f]=typeof n>"u"?[]:n[f]&&n[f]!=Object?[n[f]]:[],s&&null!=s[f]&&(a[f]=a[f].concat(s[f]));return a}_ownParameters(n,s){if(function Zc(t){return Kc.test(t)||fm.test(t)||xl.test(t)&&!Wf.test(t)}(n.toString()))return null;if(n.parameters&&n.parameters!==s.parameters)return n.parameters;const f=n.ctorParameters;if(f&&f!==s.ctorParameters){const T="function"==typeof f?f():f,A=T.map(X=>X&&X.type),$=T.map(X=>X&&yc(X.decorators));return this._zipTypesAndAnnotations(A,$)}const m=n.hasOwnProperty(Na)&&n[Na],E=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return E||m?this._zipTypesAndAnnotations(E,m):Yc(n.length)}parameters(n){if(!Ko(n))return[];const s=Zo(n);let a=this._ownParameters(n,s);return!a&&s!==Object&&(a=this.parameters(s)),a||[]}_ownAnnotations(n,s){if(n.annotations&&n.annotations!==s.annotations){let a=n.annotations;return"function"==typeof a&&a.annotations&&(a=a.annotations),a}return n.decorators&&n.decorators!==s.decorators?yc(n.decorators):n.hasOwnProperty(ga)?n[ga]:null}annotations(n){if(!Ko(n))return[];const s=Zo(n),a=this._ownAnnotations(n,s)||[];return(s!==Object?this.annotations(s):[]).concat(a)}_ownPropMetadata(n,s){if(n.propMetadata&&n.propMetadata!==s.propMetadata){let a=n.propMetadata;return"function"==typeof a&&a.propMetadata&&(a=a.propMetadata),a}if(n.propDecorators&&n.propDecorators!==s.propDecorators){const a=n.propDecorators,f={};return Object.keys(a).forEach(m=>{f[m]=yc(a[m])}),f}return n.hasOwnProperty(Rl)?n[Rl]:null}propMetadata(n){if(!Ko(n))return{};const s=Zo(n),a={};if(s!==Object){const m=this.propMetadata(s);Object.keys(m).forEach(E=>{a[E]=m[E]})}const f=this._ownPropMetadata(n,s);return f&&Object.keys(f).forEach(m=>{const E=[];a.hasOwnProperty(m)&&E.push(...a[m]),E.push(...f[m]),a[m]=E}),a}ownPropMetadata(n){return Ko(n)&&this._ownPropMetadata(n,Zo(n))||{}}hasLifecycleHook(n,s){return n instanceof Ed&&s in n.prototype}}function yc(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Zo(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const Ol=Ds(Pl("Inject",t=>({token:t})),-1),Ec=Ds(Pl("Optional"),8),Qc=Ds(Pl("Self"),2),dl=Ds(Pl("SkipSelf"),4),ph=Ds(Pl("Host"),1);let Nl=null;function $s(t){return Lu(function Ni(){return Nl=Nl||new qf}().parameters(t))}function Lu(t){return t.map(n=>function hl(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let s=0;s<t.length;s++){const a=t[s];if(void 0===a)continue;const f=Object.getPrototypeOf(a);if(a instanceof Ec||"Optional"===f.ngMetadataName)n.optional=!0;else if(a instanceof dl||"SkipSelf"===f.ngMetadataName)n.skipSelf=!0;else if(a instanceof Qc||"Self"===f.ngMetadataName)n.self=!0;else if(a instanceof ph||"Host"===f.ngMetadataName)n.host=!0;else if(a instanceof Ol)n.token=a.token;else if(a instanceof yd){if(void 0===a.attributeName)throw new pn(204,!1);n.attribute=a.attributeName}else n.token=a}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}const Fu=new dn("ENVIRONMENT_INITIALIZER"),kl=new dn("INJECTOR",-1),lf=new dn("INJECTOR_DEF_TYPES");class mo{get(n,s=vn){if(s===vn){const a=new Error(`NullInjectorError: No provider for ${Jn(n)}!`);throw a.name="NullInjectorError",a}return s}}function _h(t){return{\u0275providers:t}}function eu(...t){return{\u0275providers:Vu(0,t),\u0275fromNgModule:!0}}function Vu(t,...n){const s=[],a=new Set;let f;const m=E=>{s.push(E)};return Wr(n,E=>{const T=E;wd(T,m,[],a)&&(f||(f=[]),f.push(T))}),void 0!==f&&fl(f,m),s}function fl(t,n){for(let s=0;s<t.length;s++){const{ngModule:a,providers:f}=t[s];Td(f,m=>{n(m,a)})}}function wd(t,n,s,a){if(!(t=Sn(t)))return!1;let f=null,m=Wt(t);const E=!m&&Ar(t);if(m||E){if(E&&!E.standalone)return!1;f=t}else{const A=t.ngModule;if(m=Wt(A),!m)return!1;f=A}const T=a.has(f);if(E){if(T)return!1;if(a.add(f),E.dependencies){const A="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const $ of A)wd($,n,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!T){let $;a.add(f);try{Wr(m.imports,X=>{wd(X,n,s,a)&&($||($=[]),$.push(X))})}finally{}void 0!==$&&fl($,n)}if(!T){const $=Fr(f)||(()=>new f);n({provide:f,useFactory:$,deps:jr},f),n({provide:lf,useValue:f,multi:!0},f),n({provide:Fu,useValue:()=>zr(f),multi:!0},f)}const A=m.providers;if(null!=A&&!T){const $=t;Td(A,X=>{n(X,$)})}}}return f!==t&&void 0!==t.providers}function Td(t,n){for(let s of t)ir(s)&&(s=s.\u0275providers),Array.isArray(s)?Td(s,n):n(s)}const tg=bn({provide:String,useValue:bn});function Ur(t){return null!==t&&"object"==typeof t&&tg in t}function Zl(t){return"function"==typeof t}const bd=new dn("Set Injector scope."),Ql={},Kf={};let vh;function Ad(){return void 0===vh&&(vh=new mo),vh}class js{}class _a extends js{get destroyed(){return this._destroyed}constructor(n,s,a,f){super(),this.parent=s,this.source=a,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rd(n,E=>this.processProvider(E)),this.records.set(kl,iu(void 0,this)),f.has("environment")&&this.records.set(js,iu(void 0,this));const m=this.records.get(bd);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(lf,jr,_e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=gt(this),a=Se(void 0);try{return n()}finally{gt(s),Se(a)}}get(n,s=vn,a=_e.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ii))return n[ii](this);a=ts(a);const m=gt(this),E=Se(void 0);try{if(!(a&_e.SkipSelf)){let A=this.records.get(n);if(void 0===A){const $=function Sd(t){return"function"==typeof t||"object"==typeof t&&t instanceof dn}(n)&&Ye(n);A=$&&this.injectableDefInScope($)?iu(tu(n),Ql):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(a&_e.Self?Ad():this.parent).get(n,s=a&_e.Optional&&s===vn?null:s)}catch(T){if("NullInjectorError"===T.name){if((T[pr]=T[pr]||[]).unshift(Jn(n)),m)throw T;return function ko(t,n,s,a){const f=t[pr];throw n[Ee]&&f.unshift(n[Ee]),t.message=function So(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Jn(n);if(Array.isArray(n))f=n.map(Jn).join(" -> ");else if("object"==typeof n){let m=[];for(let E in n)if(n.hasOwnProperty(E)){let T=n[E];m.push(E+":"+("string"==typeof T?JSON.stringify(T):Jn(T)))}f=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${f}]: ${t.replace(Jr,"\n  ")}`}("\n"+t.message,f,s,a),t.ngTokenPath=f,t[pr]=null,t}(T,n,"R3InjectorError",this.source)}throw T}finally{Se(E),gt(m)}}resolveInjectorInitializers(){const n=gt(this),s=Se(void 0);try{const f=this.get(Fu,jr,_e.Self);for(const m of f)m()}finally{gt(n),Se(s)}}toString(){const n=[],s=this.records;for(const a of s.keys())n.push(Jn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pn(205,!1)}processProvider(n){let s=Zl(n=Sn(n))?n:Sn(n&&n.provide);const a=function Zf(t){return Ur(t)?iu(void 0,t.useValue):iu(ru(t),Ql)}(n);if(Zl(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=iu(void 0,Ql,!0),f.factory=()=>Ga(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,a)}hydrate(n,s){return s.value===Ql&&(s.value=Kf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Sn(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function tu(t){const n=Ye(t),s=null!==n?n.factory:Fr(t);if(null!==s)return s;if(t instanceof dn)throw new pn(204,!1);if(t instanceof Function)return function nu(t){const n=t.length;if(n>0)throw Yc(n,"?"),new pn(204,!1);const s=function Ut(t){return t&&(t[Cn]||t[On])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new pn(204,!1)}function ru(t,n,s){let a;if(Zl(t)){const f=Sn(t);return Fr(f)||tu(f)}if(Ur(t))a=()=>Sn(t.useValue);else if(function Uu(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ga(t.deps||[]));else if(function Tc(t){return!(!t||!t.useExisting)}(t))a=()=>zr(Sn(t.useExisting));else{const f=Sn(t&&(t.useClass||t.provide));if(!function yh(t){return!!t.deps}(t))return Fr(f)||tu(f);a=()=>new f(...Ga(t.deps))}return a}function iu(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Rd(t,n){for(const s of t)Array.isArray(s)?Rd(s,n):s&&ir(s)?Rd(s.\u0275providers,n):n(s)}function as(t,n){t instanceof _a&&t.assertNotDestroyed();const a=gt(t),f=Se(void 0);try{return n()}finally{gt(a),Se(f)}}const su={\u0275\u0275defineInjectable:Bn,\u0275\u0275defineInjector:dt,\u0275\u0275inject:zr,\u0275\u0275invalidFactoryDep:function Ti(t){throw new pn(202,!1)},resolveForwardRef:Sn};const Pd=bn({provide:String,useValue:bn});function ou(t){return void 0!==t.useClass}function Md(t){return void 0!==t.useFactory}const Eh=ka("Injectable",void 0,void 0,void 0,(t,n)=>function Xo(t,n){let s=null,a=null;t.hasOwnProperty(Cn)||Object.defineProperty(t,Cn,{get:()=>(null===s&&(s=ps().compileInjectable(su,`ng:///${t.name}/\u0275prov.js`,function Jl(t,n){const s=n||{providedIn:null},a={name:t.name,type:t,typeArgumentCount:0,providedIn:s.providedIn};return(ou(s)||Md(s))&&void 0!==s.deps&&(a.deps=Lu(s.deps)),ou(s)?a.useClass=s.useClass:function ng(t){return Pd in t}(s)?a.useValue=s.useValue:Md(s)?a.useFactory=s.useFactory:function Dc(t){return void 0!==t.useExisting}(s)&&(a.useExisting=s.useExisting),a}(t,n))),s)}),t.hasOwnProperty(Gr)||Object.defineProperty(t,Gr,{get:()=>{if(null===a){const f=ps();a=f.compileFactory(su,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:$s(t),target:f.FactoryTarget.Injectable})}return a},configurable:!0})}(t,n));function cf(t,n=null,s=null,a){const f=pl(t,n,s,a);return f.resolveInjectorInitializers(),f}function pl(t,n=null,s=null,a,f=new Set){const m=[s||jr,eu(t)];return a=a||("object"==typeof t?void 0:Jn(t)),new _a(m,n||Ad(),a||null,f)}let li,Hs=(()=>{var t;class n{static create(a,f){if(Array.isArray(a))return cf({name:""},f,a,"");{var m;const E=null!==(m=a.name)&&void 0!==m?m:"";return cf({name:E},a.parent,a.providers,E)}}}return(t=n).THROW_IF_NOT_FOUND=vn,t.NULL=new mo,t.\u0275prov=Bn({token:t,providedIn:"any",factory:()=>zr(kl)}),t.__NG_ELEMENT_ID__=-1,n})();function gl(t){return!!yi(t)}function ml(t){li=t}const ju=new dn("AppId",{providedIn:"root",factory:()=>Ih}),Ih="ng",tc=new dn("Platform Initializer"),au=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bc=new dn("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function va(){if(void 0!==li)return li;if(typeof document<"u")return document;throw new pn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function ce(t){return t instanceof Function?t():t}function _l(t){return 128==(128&t.flags)}var rc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rc||{});const sg=/^>|^->|<!--|-->|--!>|<!-$/g,og=/(<|>)/g,uu="\u200b$1\u200b";const rp=new Map;let mm=0;const ip="__ngContext__";function Gs(t,n){Yi(n)?(t[ip]=n[wo],function du(t){rp.set(t[wo],t)}(n)):t[ip]=n}let Rc;function Pc(t,n){return Rc(t,n)}function Fd(t){const n=t[yr];return ss(n)?n[yr]:n}function Em(t){return op(t[Ei])}function sp(t){return op(t[hs])}function op(t){for(;null!==t&&!ss(t);)t=t[hs];return t}function Zu(t,n,s,a,f){if(null!=a){let m,E=!1;ss(a)?m=a:Yi(a)&&(E=!0,a=a[Ri]);const T=Li(a);0===t&&null!==s?null==f?ea(n,s,T):yl(n,s,T,f||null,!0):1===t&&null!==s?yl(n,s,T,f||null,!0):2===t?function $d(t,n,s){const a=dp(t,n);a&&function up(t,n,s,a){t.removeChild(n,s,a)}(t,a,n,s)}(n,T,E):3===t&&n.destroyNode(T),null!=m&&function jd(t,n,s,a,f){const m=s[ba];m!==Li(s)&&Zu(n,t,a,m,f);for(let T=$i;T<s.length;T++){const A=s[T];If(A[wn],A,t,n,a,m)}}(n,t,m,s,f)}}function _f(t,n){return t.createComment(function Th(t){return t.replace(sg,n=>n.replace(og,uu))}(n))}function Vd(t,n,s){return t.createElement(n,s)}function Sh(t,n){const s=t[Po],a=s.indexOf(n);s.splice(a,1)}function sc(t,n){if(t.length<=$i)return;const s=$i+n,a=t[s];if(a){const f=a[rs];null!==f&&f!==t&&Sh(f,a),n>0&&(t[s-1][hs]=a[hs]);const m=Ml(t,$i+n);!function cg(t,n){If(t,n,n[_n],2,null,null),n[Ri]=null,n[Y]=null}(a[wn],a);const E=m[Os];null!==E&&E.detachView(m[wn]),a[yr]=null,a[hs]=null,a[fr]&=-129}return a}function vf(t,n){if(!(256&n[fr])){const s=n[_n];n[To]&&function Dt(t){if(Fe(t),et(t))for(let n=0;n<t.producerNode.length;n++)qe(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[To]),s.destroyNode&&If(t,n,s,3,null,null),function ug(t){let n=t[Ei];if(!n)return lp(t[wn],t);for(;n;){let s=null;if(Yi(n))s=n[Ei];else{const a=n[$i];a&&(s=a)}if(!s){for(;n&&!n[hs]&&n!==t;)Yi(n)&&lp(n[wn],n),n=n[yr];null===n&&(n=t),Yi(n)&&lp(n[wn],n),s=n&&n[hs]}n=s}}(n)}}function lp(t,n){if(!(256&n[fr])){n[fr]&=-129,n[fr]|=256,function cp(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const f=n[s[a]];if(!(f instanceof md)){const m=s[a+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const T=f[m[E]],A=m[E+1];Js(4,T,A);try{A.call(T)}finally{Js(5,T,A)}}else{Js(4,f,m);try{m.call(f)}finally{Js(5,f,m)}}}}}(t,n),function Jo(t,n){const s=t.cleanup,a=n[Ce];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const E=s[m+3];E>=0?a[E]():a[-E].unsubscribe(),m+=2}else s[m].call(a[s[m+1]]);null!==a&&(n[Ce]=null);const f=n[is];if(null!==f){n[is]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[wn].type&&n[_n].destroy();const s=n[rs];if(null!==s&&ss(n[yr])){s!==n[yr]&&Sh(s,n);const a=n[Os];null!==a&&a.detachView(t)}!function kd(t){rp.delete(t[wo])}(n)}}function Bd(t,n,s){return function yf(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[Ri];{const{componentOffset:f}=a;if(f>-1){const{encapsulation:m}=t.data[a.directiveStart+f];if(m===qs.None||m===qs.Emulated)return null}return eo(a,s)}}(t,n.parent,s)}function yl(t,n,s,a,f){t.insertBefore(n,s,a,f)}function ea(t,n,s){t.appendChild(n,s)}function Ud(t,n,s,a,f){null!==a?yl(t,n,s,a,f):ea(t,n,s)}function dp(t,n){return t.parentNode(n)}function dg(t,n,s){return hp(t,n,s)}let fp,pp,hp=function xc(t,n,s){return 40&t.type?eo(t,s):null};function Ph(t,n,s,a){const f=Bd(t,a,n),m=n[_n],T=dg(a.parent||n[Y],a,n);if(null!=f)if(Array.isArray(s))for(let A=0;A<s.length;A++)Ud(m,f,s[A],T,!1);else Ud(m,f,s,T,!1);void 0!==fp&&fp(m,a,n,s,f)}function Qu(t,n){if(null!==n){const s=n.type;if(3&s)return eo(n,t);if(4&s)return Mh(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Qu(t,a);{const f=t[n.index];return ss(f)?Mh(-1,f):Li(f)}}if(32&s)return Pc(n,t)()||Li(t[n.index]);{const a=Cm(t,n);return null!==a?Array.isArray(a)?a[0]:Qu(Fd(t[ei]),a):Qu(t,n.next)}}return null}function Cm(t,n){return null!==n?t[ei][Y].projection[n.projection]:null}function Mh(t,n){const s=$i+t+1;if(s<n.length){const a=n[s],f=a[wn].firstChild;if(null!==f)return Qu(a,f)}return n[ba]}function Ef(t,n,s,a,f,m,E){for(;null!=s;){const T=a[s.index],A=s.type;if(E&&0===n&&(T&&Gs(Li(T),a),s.flags|=2),32!=(32&s.flags))if(8&A)Ef(t,n,s.child,a,f,m,!1),Zu(n,t,f,T,m);else if(32&A){const $=Pc(s,a);let X;for(;X=$();)Zu(n,t,f,X,m);Zu(n,t,f,T,m)}else 16&A?fu(t,n,a,s,f,m):Zu(n,t,f,T,m);s=E?s.projectionNext:s.next}}function If(t,n,s,a,f,m){Ef(s,a,t.firstChild,n,f,m,!1)}function fu(t,n,s,a,f,m){const E=s[ei],A=E[Y].projection[a.projection];if(Array.isArray(A))for(let $=0;$<A.length;$++)Zu(n,t,f,A[$],m);else{let $=A;const X=E[yr];_l(a)&&($.flags|=128),Ef(t,n,$,X,f,m,!0)}}function Cf(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function Oc(t,n,s){const{mergedAttrs:a,classes:f,styles:m}=s;null!==a&&ds(t,n,a),null!==f&&Cf(t,n,f),null!==m&&function ya(t,n,s){t.setAttribute(n,"style",s)}(t,n,m)}function Df(t){var n;return(null===(n=function wf(){if(void 0===pp&&(pp=null,$t.trustedTypes))try{pp=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pp}())||void 0===n?void 0:n.createScriptURL(t))||t}class Dm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ir})`}}function ac(t){return t instanceof Dm?t.changingThisBreaksApplicationSecurity:t}function Xu(t,n){const s=function Am(t){return t instanceof Dm&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Ir})`)}return s===n}const V_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gu||{});function Vm(t){const n=Mf();return n?n.sanitize(gu.URL,t)||"":Xu(t,"URL")?ac(t):function Ju(t){return(t=String(t)).match(V_)?t:"unsafe:"+t}(Zn(t))}function xo(t){const n=Mf();if(n)return Df(n.sanitize(gu.RESOURCE_URL,t)||"");if(Xu(t,"ResourceURL"))return Df(ac(t));throw new pn(904,!1)}function Ip(t,n,s){return function Pf(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?xo:Vm}(n,s)(t)}function Mf(){const t=Qt();return t&&t[hn].sanitizer}let Um=(t,n,s)=>null;function yu(t,n,s=!1){return Um(t,n,s)}class $m{}class Dp{}class Ag{resolveComponentFactory(n){throw function G_(t){const n=Error(`No component factory found for ${Jn(t)}.`);return n.ngComponent=t,n}(n)}}let jh=(()=>{class n{}return n.NULL=new Ag,n})();function Sg(){return Eu(pi(),Qt())}function Eu(t,n){return new Wd(eo(t,n))}let Wd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Sg,n})();function Hh(t){return t instanceof Wd?t.nativeElement:t}class Iu{}let Rg=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Gh(){const t=Qt(),s=os(pi().index,t);return(Yi(s)?s:t)[_n]}(),n})(),zh=(()=>{var t;class n{}return(t=n).\u0275prov=Bn({token:t,providedIn:"root",factory:()=>null}),n})();class Pg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Wh=new Pg("17.0.4"),h={};function S(t){const n=re(null);try{return t()}finally{re(n)}}function te(t){return!!Tt(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Tt(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Ot{constructor(){}supports(n){return te(n)}create(n){return new Tn(n)}}const zt=(t,n)=>n;class Tn{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||zt}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,f=0,m=null;for(;s||a;){const E=!a||s&&s.currentIndex<Ao(a,f,m)?s:a,T=Ao(E,f,m),A=E.currentIndex;if(E===a)f--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)f++;else{m||(m=[]);const $=T-f,X=A-f;if($!=X){for(let Ue=0;Ue<$;Ue++){const ut=Ue<m.length?m[Ue]:m[Ue]=0,Ft=ut+Ue;X<=Ft&&Ft<$&&(m[Ue]=ut+1)}m[E.previousIndex]=X-$}}T!==A&&n(E,T,A)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!te(n))throw new pn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,E,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let T=0;T<this.length;T++)m=n[T],E=this._trackByFn(T,m),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,m,E,T)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,E,T),a=!0),s=s._next}else f=0,function Ne(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,T=>{E=this._trackByFn(f,T),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,T,E,f)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,E,f),a=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,m,f)):n=this._addAfter(new $n(s,a),m,f),n}_verifyReinsertion(n,s,a,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new Zr),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zr),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class $n{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nr{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Zr{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new Nr,this.map.set(s,a)),a.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ao(t,n,s){const a=t.previousIndex;if(null===a)return a;let f=0;return s&&a<s.length&&(f=s[a]),a+n+f}class yo{constructor(){}supports(n){return n instanceof Map||Tt(n)}create(){return new us}}class us{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Tt(n)))throw new pn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const m=f._prev,E=f._next;return m&&(m._next=E),E&&(E._prev=m),f._next=null,f._prev=null,f}const a=new As(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class As{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cu(){return new kc([new Ot])}let kc=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,f){if(null!=f){const m=f.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||Cu()),deps:[[n,new dl,new Ec]]}}find(a){const f=this.factories.find(m=>m.supports(a));if(null!=f)return f;throw new pn(901,!1)}}return(t=n).\u0275prov=Bn({token:t,providedIn:"root",factory:Cu}),n})();function qh(){return new qd([new yo])}let qd=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,f){if(f){const m=f.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||qh()),deps:[[n,new dl,new Ec]]}}find(a){const f=this.factories.find(m=>m.supports(a));if(f)return f;throw new pn(901,!1)}}return(t=n).\u0275prov=Bn({token:t,providedIn:"root",factory:qh}),n})();function kf(t,n,s,a,f=!1){for(;null!==s;){const m=n[s.index];null!==m&&a.push(Li(m)),ss(m)&&z_(m,a);const E=s.type;if(8&E)kf(t,n,s.child,a);else if(32&E){const T=Pc(s,n);let A;for(;A=T();)a.push(A)}else if(16&E){const T=Cm(n,s);if(Array.isArray(T))a.push(...T);else{const A=Fd(n[ei]);kf(A[wn],A,T,a,!0)}}s=f?s.projectionNext:s.next}return a}function z_(t,n){for(let s=$i;s<t.length;s++){const a=t[s],f=a[wn].firstChild;null!==f&&kf(a[wn],a,f,n)}t[ba]!==t[Ri]&&n.push(t[ba])}let jm=[];const jE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mn(t.lView)},consumerOnSignalRead(){this.lView[To]=this}};function Mg(t){return t.ngOriginalError}class Yh{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&Mg(n);for(;s&&Mg(s);)s=Mg(s);return s||null}}const zm=new dn("",{providedIn:"root",factory:()=>!1}),Qr={};function qm(t){cy(ti(),Qt(),gi()+t,!1)}function cy(t,n,s,a){if(!a)if(3==(3&n[fr])){const m=t.preOrderCheckHooks;null!==m&&Gc(n,m,s)}else{const m=t.preOrderHooks;null!==m&&Al(n,m,0,s)}Hi(s)}function Zh(t,n=_e.Default){const s=Qt();return null===s?zr(t,n):rl(pi(),s,Sn(t),n)}function uy(){throw new Error("invalid")}function xg(t,n,s,a,f,m,E,T,A,$,X){const ue=n.blueprint.slice();return ue[Ri]=f,ue[fr]=140|a,(null!==$||t&&2048&t[fr])&&(ue[fr]|=2048),dd(ue),ue[yr]=ue[fs]=t,ue[W]=s,ue[hn]=E||t&&t[hn],ue[_n]=T||t&&t[_n],ue[Me]=A||t&&t[Me]||null,ue[Y]=m,ue[wo]=function Wu(){return mm++}(),ue[N]=X,ue[Ya]=$,ue[ei]=2==n.type?t[ei]:ue,ue}function Qh(t,n,s,a,f){let m=t.data[n];if(null===m)m=function Ym(t,n,s,a,f){const m=si(),E=An(),A=t.data[n]=function Qm(t,n,s,a,f,m){let E=n?n.injectorIndex:-1,T=0;return zl()&&(T|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:T,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,s,n,a,f);return null===t.firstChild&&(t.firstChild=A),null!==m&&(E?null==m.child&&null!==A.parent&&(m.child=A):null===m.next&&(m.next=A,A.prev=m)),A}(t,n,s,a,f),function zo(){return or.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=a,m.attrs=f;const E=function Dl(){const t=or.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Kr(m,!0),m}function Og(t,n,s,a){if(0===s)return-1;const f=n.length;for(let m=0;m<s;m++)n.push(a),t.blueprint.push(a),t.data.push(null);return f}function dy(t,n,s,a,f){const m=gi(),E=2&a;try{Hi(-1),E&&n.length>Cr&&cy(t,n,Cr,!1),Js(E?2:0,f),s(a,f)}finally{Hi(m),Js(E?3:1,f)}}function Ng(t,n,s){if(aa(n)){const a=re(null);try{const m=n.directiveEnd;for(let E=n.directiveStart;E<m;E++){const T=t.data[E];T.contentQueries&&T.contentQueries(1,s[E],E)}}finally{re(a)}}}function Z_(t,n,s){Mu()&&(function ev(t,n,s,a){const f=s.directiveStart,m=s.directiveEnd;Ho(s)&&function KE(t,n,s){const a=eo(n,t),f=Km(s);let E=16;s.signals?E=4096:s.onPush&&(E=64);const T=n_(t,xg(t,f,null,E,a,n,null,t[hn].rendererFactory.createRenderer(a,s),null,null,null));t[n.index]=T}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ai(s,n),Gs(a,n);const E=s.initialInputs;for(let T=f;T<m;T++){const A=t.data[T],$=io(n,t,T,s);Gs($,n),null!==E&&ZE(0,T-f,$,A,0,E),Zs(A)&&(os(s.index,n)[W]=io(n,t,T,s))}}(t,n,s,eo(s,n)),64==(64&s.flags)&&tv(t,n,s))}function kg(t,n,s=eo){const a=n.localNames;if(null!==a){let f=n.index+1;for(let m=0;m<a.length;m+=2){const E=a[m+1],T=-1===E?s(n,t):t[E];t[f++]=T}}}function Km(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Lg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Lg(t,n,s,a,f,m,E,T,A,$,X){const ue=Cr+a,Ue=ue+f,ut=function GE(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:Qr);return s}(ue,Ue),Ft="function"==typeof $?$():$;return ut[wn]={type:t,blueprint:ut,template:s,queries:null,viewQuery:T,declTNode:n,data:ut.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:A,consts:Ft,incompleteFirstPass:!1,ssrId:X}}let Zm=t=>null;function py(t,n,s,a){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===a?gy(s,n,f,m):a.hasOwnProperty(f)&&gy(s,n,a[f],m)}return s}function gy(t,n,s,a){t.hasOwnProperty(s)?t[s].push(n,a):t[s]=[n,a]}function Xm(t,n,s,a){if(Mu()){const f=null===a?null:{"":-1},m=function _y(t,n){const s=t.directiveRegistry;let a=null,f=null;if(s)for(let E=0;E<s.length;E++){const T=s[E];if(Co(n,T.selectors,!1))if(a||(a=[]),Zs(T))if(null!==T.findHostDirectiveDefs){const A=[];f=f||new Map,T.findHostDirectiveDefs(T,A,f),a.unshift(...A,T),Vg(t,n,A.length)}else a.unshift(T),Vg(t,n,0);else{var m;f=f||new Map,null===(m=T.findHostDirectiveDefs)||void 0===m||m.call(T,T,a,f),a.push(T)}}return null===a?null:[a,f]}(t,s);let E,T;null===m?E=T=null:[E,T]=m,null!==E&&Jm(t,n,s,E,f,T),f&&function vy(t,n,s){if(n){const a=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=s[n[f+1]];if(null==m)throw new pn(-301,!1);a.push(n[f],m)}}}(s,a,f)}s.mergedAttrs=ns(s.mergedAttrs,s.attrs)}function Jm(t,n,s,a,f,m){for(let ue=0;ue<a.length;ue++)ch(ai(s,n),t,a[ue].type);!function nv(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,a.length);for(let ue=0;ue<a.length;ue++){const Ue=a[ue];Ue.providersResolver&&Ue.providersResolver(Ue)}let E=!1,T=!1,A=Og(t,n,a.length,null);for(let ue=0;ue<a.length;ue++){const Ue=a[ue];s.mergedAttrs=ns(s.mergedAttrs,Ue.hostAttrs),YE(t,s,n,A,Ue),Mp(A,Ue,f),null!==Ue.contentQueries&&(s.flags|=4),(null!==Ue.hostBindings||null!==Ue.hostAttrs||0!==Ue.hostVars)&&(s.flags|=64);const ut=Ue.type.prototype;var $,X;!E&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((null!==($=t.preOrderHooks)&&void 0!==$?$:t.preOrderHooks=[]).push(s.index),E=!0),T||!ut.ngOnChanges&&!ut.ngDoCheck||((null!==(X=t.preOrderCheckHooks)&&void 0!==X?X:t.preOrderCheckHooks=[]).push(s.index),T=!0),A++}!function WE(t,n,s){const f=n.directiveEnd,m=t.data,E=n.attrs,T=[];let A=null,$=null;for(let X=n.directiveStart;X<f;X++){const ue=m[X],Ue=s?s.get(ue):null,Ft=Ue?Ue.outputs:null;A=py(ue.inputs,X,A,Ue?Ue.inputs:null),$=py(ue.outputs,X,$,Ft);const sn=null===A||null===E||sa(n)?null:QE(A,X,E);T.push(sn)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=8),A.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=T,n.inputs=A,n.outputs=$}(t,s,m)}function tv(t,n,s){const a=s.directiveStart,f=s.directiveEnd,m=s.index,E=function b(){return or.lFrame.currentDirectiveIndex}();try{Hi(m);for(let T=a;T<f;T++){const A=t.data[T],$=n[T];M(T),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Pp(A,$)}}finally{Hi(-1),M(E)}}function Pp(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Vg(t,n,s){var a;n.componentOffset=s,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Mp(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Zs(n)&&(s[""]=t)}}function YE(t,n,s,a,f){t.data[a]=f;const m=f.factory||(f.factory=Fr(f.type)),E=new md(m,Zs(f),Zh);t.blueprint[a]=E,s[a]=E,function J_(t,n,s,a,f){const m=f.hostBindings;if(m){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const T=~n.index;(function e_(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(E)!=T&&E.push(T),E.push(s,a,m)}}(t,n,a,Og(t,s,f.hostVars,Qr),f)}function nd(t,n,s,a,f,m){const E=eo(t,n);!function t_(t,n,s,a,f,m,E){if(null==m)t.removeAttribute(n,f,s);else{const T=null==E?Zn(m):E(m,a||"",f);t.setAttribute(n,f,T,s)}}(n[_n],E,m,t.value,s,a,f)}function ZE(t,n,s,a,f,m){const E=m[n];if(null!==E)for(let T=0;T<E.length;)rv(a,s,E[T++],E[T++],E[T++])}function rv(t,n,s,a,f){const m=re(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(a)&&(f=E[a].call(n,f)),null!==t.setInput?t.setInput(n,f,s,a):n[a]=f}finally{re(m)}}function QE(t,n,s){let a=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===a&&(a=[]);const E=t[m];for(let T=0;T<E.length;T+=2)if(E[T]===n){a.push(m,E[T+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return a}function yy(t,n,s,a){return[t,!0,0,n,null,a,null,s,null,null]}function Ey(t,n){const s=t.contentQueries;if(null!==s){const a=re(null);try{for(let f=0;f<s.length;f+=2){const E=s[f+1];if(-1!==E){const T=t.data[E];B(s[f]),T.contentQueries(2,n[E],E)}}}finally{re(a)}}}function n_(t,n){return t[Ei]?t[xs][hs]=n:t[Ei]=n,t[xs]=n,n}function iv(t,n,s){B(0);const a=re(null);try{n(t,s)}finally{re(a)}}function sv(t){return t[Ce]||(t[Ce]=[])}function ov(t){return t.cleanup||(t.cleanup=[])}function Bg(t,n){const s=t[Me],a=s?s.get(Yh,null):null;a&&a.handleError(n)}function i_(t,n,s,a,f){for(let m=0;m<s.length;){const E=s[m++],T=s[m++];rv(t.data[E],n[E],a,T,f)}}function xp(t,n,s,a){var f;const m=n[fr];if(256==(256&m))return;null===(f=n[hn].inlineEffectRunner)||void 0===f||f.flush(),Ct(n);let T=null,A=null;(function Cy(t){return 2!==t.type})(t)&&(A=function ry(t){var n;return null!==(n=t[To])&&void 0!==n?n:function $E(t){var n;const s=null!==(n=jm.pop())&&void 0!==n?n:Object.create(jE);return s.lView=t,s}(t)}(n),T=function Xe(t){return t&&(t.nextProducerIndex=0),re(t)}(A));try{dd(n),function Ja(t){return or.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&dy(t,n,s,2,a);const $=3==(3&m);if($){const Ue=t.preOrderCheckHooks;null!==Ue&&Gc(n,Ue,null)}else{const Ue=t.preOrderHooks;null!==Ue&&Al(n,Ue,0,null),zc(n,0)}if(function ws(t){for(let n=Em(t);null!==n;n=sp(n)){if(!(n[fr]&Aa.HasTransplantedViews))continue;const s=n[Po];for(let a=0;a<s.length;a++){Yn(s[a])}}}(n),na(n,0),null!==t.contentQueries&&Ey(t,n),$){const Ue=t.contentCheckHooks;null!==Ue&&Gc(n,Ue)}else{const Ue=t.contentHooks;null!==Ue&&Al(n,Ue,1),zc(n,1)}!function K_(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const f=s[a];if(f<0)Hi(~f);else{const m=f,E=s[++a],T=s[++a];Wl(E,m),T(2,n[m])}}}finally{Hi(-1)}}(t,n);const X=t.components;null!==X&&Ug(n,X,0);const ue=t.viewQuery;if(null!==ue&&iv(2,ue,a),$){const Ue=t.viewCheckHooks;null!==Ue&&Gc(n,Ue)}else{const Ue=t.viewHooks;null!==Ue&&Al(n,Ue,2),zc(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Da]){for(const Ue of n[Da])Ue();n[Da]=null}n[fr]&=-73}catch($){throw Mn(n),$}finally{null!==A&&(function Je(t,n){if(re(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(et(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)qe(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(A,T),function W_(t){t.lView[To]!==t&&(t.lView=null,jm.push(t))}(A)),di()}}function na(t,n){for(let s=Em(t);null!==s;s=sp(s)){s[fr]&=~Aa.HasChildViewsToRefresh;for(let a=$i;a<s.length;a++)av(s[a],n)}}function id(t,n,s){av(os(n,t),s)}function av(t,n){fn(t)&&wy(t,n)}function wy(t,n){const a=t[wn],f=t[fr],m=t[To];let E=!!(0===n&&16&f);if(E||(E=!!(64&f&&0===n)),E||(E=!!(1024&f)),E||(E=!(null==m||!m.dirty||!ot(m))),m&&(m.dirty=!1),t[fr]&=-9217,E)xp(a,t,a.template,t[W]);else if(8192&f){na(t,1);const T=a.components;null!==T&&Ug(t,T,1)}}function Ug(t,n,s){for(let a=0;a<n.length;a++)id(t,n[a],s)}function Op(t){for(;t;){t[fr]|=64;const n=Fd(t);if(Ns(t)&&!n)return t;t=n}return null}class Lf{get rootNodes(){const n=this._lView,s=n[wn];return kf(s,n,s.firstChild,[])}constructor(n,s,a=!0){this._lView=n,this._cdRefInjectingView=s,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[W]}set context(n){this._lView[W]=n}get destroyed(){return 256==(256&this._lView[fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[yr];if(ss(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(sc(n,a),Ml(s,a))}this._attachedToViewContainer=!1}vf(this._lView[wn],this._lView)}onDestroy(n){Lt(this._lView,n)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[fr]&=-129}reattach(){$c(this._lView),this._lView[fr]|=128}detectChanges(){!function _i(t,n=!0){const s=t[hn],a=s.rendererFactory,f=s.afterRenderEventManager;var E;null===(E=a.begin)||void 0===E||E.call(a),null==f||f.begin();try{const $=t[wn];xp($,t,$.template,t[W]),function Iy(t){let n=0;for(;9216&t[fr]||null!==(s=t[To])&&void 0!==s&&s.dirty;){var s;if(100===n)throw new pn(103,!1);n++,wy(t,1)}}(t)}catch($){throw n&&Bg(t,$),$}finally{var T,A;null===(T=a.end)||void 0===T||T.call(a),null===(A=s.inlineEffectRunner)||void 0===A||A.flush(),null==f||f.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ap(t,n){If(t,n,n[_n],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new pn(902,!1);this._appRef=n}}let Ty=(()=>{class n{}return n.__NG_ELEMENT_ID__=lv,n})();function lv(t){return function JE(t,n,s){if(Ho(t)&&!s){const a=os(t.index,n);return new Lf(a,a)}return 47&t.type?new Lf(n[ei],n):null}(pi(),Qt(),16==(16&t))}let Ts=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=t0,t.__NG_ENV_ID__=s=>s,n})();class Dy extends Ts{constructor(n){super(),this._lView=n}onDestroy(n){return Lt(this._lView,n),()=>function en(t,n){if(null===t[is])return;const s=t[is].indexOf(n);-1!==s&&t[is].splice(s,1)}(this._lView,n)}}function t0(){return new Dy(Qt())}const Ay=new Set;function Ff(t){var n,s;Ay.has(t)||(Ay.add(t),null===(n=performance)||void 0===n||null===(s=n.mark)||void 0===s||s.call(n,"mark_use_counter",{detail:{feature:t}}))}function Vf(t){return n=>{setTimeout(t,void 0,n)}}const sd=class Sy extends Pt.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){let f=n,m=s||(()=>null),E=a;if(n&&"object"==typeof n){var T,A,$;const ue=n;f=null===(T=ue.next)||void 0===T?void 0:T.bind(ue),m=null===(A=ue.error)||void 0===A?void 0:A.bind(ue),E=null===($=ue.complete)||void 0===$?void 0:$.bind(ue)}this.__isAsync&&(m=Vf(m),f&&(f=Vf(f)),E&&(E=Vf(E)));const X=super.subscribe({next:f,error:m,complete:E});return n instanceof Nt.w0&&n.add(X),X}};function wu(...t){}class ys{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sd(!1),this.onMicrotaskEmpty=new sd(!1),this.onStable=new sd(!1),this.onError=new sd(!1),typeof Zone>"u")throw new pn(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&s,f.shouldCoalesceRunChangeDetection=a,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Yd(){const t="function"==typeof $t.requestAnimationFrame;let n=$t[t?"requestAnimationFrame":"setTimeout"],s=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ry(t){const n=()=>{!function a0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,a_(t),t.isCheckStableRunning=!0,cv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),a_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,f,m,E,T)=>{if(function My(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(T))return s.invokeTask(f,m,E,T);try{return $g(t),s.invokeTask(f,m,E,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),Py(t)}},onInvoke:(s,a,f,m,E,T,A)=>{try{return $g(t),s.invoke(f,m,E,T,A)}finally{t.shouldCoalesceRunChangeDetection&&n(),Py(t)}},onHasTask:(s,a,f,m)=>{s.hasTask(f,m),a===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,a_(t),cv(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new pn(909,!1)}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new pn(909,!1)}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,f){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+f,n,o_,wu,wu);try{return m.runTask(E,s,a)}finally{m.cancelTask(E)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const o_={};function cv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function a_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $g(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Py(t){t._nesting--,cv(t)}class Bf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sd,this.onMicrotaskEmpty=new sd,this.onStable=new sd,this.onError=new sd}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,f){return n.apply(s,a)}}const jg=new dn("",{providedIn:"root",factory:Np});function Np(){const t=xr(ys);let n=!0;const s=new Bt.y(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),a=new Bt.y(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const E=t.onUnstable.subscribe(()=>{ys.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),E.unsubscribe()}});return(0,nn.T)(s,a.pipe((0,lr.B)()))}var Kd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kd||{});const xy={destroy(){}};function l_(t,n){var s,a,f;!n&&function Xl(t){if(!ee()&&!function be(){return V}())throw new pn(-203,!1)}();const m=null!==(s=null==n?void 0:n.injector)&&void 0!==s?s:xr(Hs);if(!function st(t){return"browser"===(null!=t?t:xr(Hs)).get(au)}(m))return xy;Ff("NgAfterNextRender");const E=m.get(od),T=null!==(a=E.handler)&&void 0!==a?a:E.handler=new uv,A=null!==(f=null==n?void 0:n.phase)&&void 0!==f?f:Kd.MixedReadWrite,$=()=>{T.unregister(ue),X()},X=m.get(Ts).onDestroy($),ue=new c_(m,A,()=>{$(),t()});return T.register(ue),{destroy:$}}class c_{constructor(n,s,a){this.phase=s,this.callbackFn=a,this.zone=n.get(ys),this.errorHandler=n.get(Yh,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(s)}}}class uv{constructor(){this.executingCallbacks=!1,this.buckets={[Kd.EarlyRead]:new Set,[Kd.Write]:new Set,[Kd.MixedReadWrite]:new Set,[Kd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new pn(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const s of n)s.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let od=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){var a;for(const f of this.internalCallbacks)f();this.internalCallbacks.length=0,null===(a=this.handler)||void 0===a||a.execute()}}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Bn({token:t,providedIn:"root",factory:()=>new t}),n})();function Ny(t,n){const s=os(n,t),a=s[wn];!function ky(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(a,s);const f=s[Ri];null!==f&&null===s[N]&&(s[N]=yu(f,s[Me])),Hg(a,s,s[W])}function Hg(t,n,s){Ct(n);try{const a=t.viewQuery;null!==a&&iv(1,a,s);const f=t.template;null!==f&&dy(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ey(t,n),t.staticViewQueries&&iv(2,t.viewQuery,s);const m=t.components;null!==m&&function Gg(t,n){for(let s=0;s<n.length;s++)Ny(t,n[s])}(n,m)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[fr]&=-5,di()}}function u_(t,n,s){let a=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==n)for(let E=0;E<n.length;E++){const T=n[E];"number"==typeof T?m=T:1==m?f=cr(f,T):2==m&&(a=cr(a,T+": "+n[++E]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=f:t.classesWithoutHost=f}class zg extends jh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Ar(n);return new Yg(s,this.ngModule)}}function Wg(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class qg{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,a){a=ts(a);const f=this.injector.get(n,h,a);return f!==h||s===h?f:this.parentInjector.get(n,s,a)}}class Yg extends Dp{get inputs(){const n=this.componentDef,s=n.inputTransforms,a=Wg(n.inputs);if(null!==s)for(const f of a)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return a}get outputs(){return Wg(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function Oi(t){return t.map(Ta).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,a,f){var E;let T=(f=f||this.ngModule)instanceof js?f:null===(E=f)||void 0===E?void 0:E.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const A=T?new qg(n,T):n,$=A.get(Iu,null);if(null===$)throw new pn(407,!1);const Ue={rendererFactory:$,sanitizer:A.get(zh,null),inlineEffectRunner:null,afterRenderEventManager:A.get(od,null)},ut=$.createRenderer(null,this.componentDef),Ft=this.componentDef.selectors[0][0]||"div",sn=a?function Fg(t,n,s,a){const m=a.get(zm,!1)||s===qs.ShadowDom,E=t.selectRootElement(n,m);return function zE(t){Zm(t)}(E),E}(ut,a,this.componentDef.encapsulation,A):Vd(ut,Ft,function Ly(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Ft)),un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Hr=null;null!==sn&&(Hr=yu(sn,A,!0));const vi=Lg(0,null,null,1,0,null,null,null,null,null,null),Ai=xg(null,vi,null,un,null,null,Ue,ut,A,null,Hr);let $l,qv;Ct(Ai);try{const Zp=this.componentDef;let k_,FI=null;Zp.findHostDirectiveDefs?(k_=[],FI=new Map,Zp.findHostDirectiveDefs(Zp,k_,FI),k_.push(Zp)):k_=[Zp];const vP=function Fy(t,n){const s=t[wn],a=Cr;return t[a]=n,Qh(s,a,2,"#host",null)}(Ai,sn),yP=function dv(t,n,s,a,f,m,E){const T=f[wn];!function Kg(t,n,s,a){for(const f of t)n.mergedAttrs=ns(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(u_(n,n.mergedAttrs,!0),null!==s&&Oc(a,s,n))}(a,t,n,E);let A=null;null!==n&&(A=yu(n,f[Me]));const $=m.rendererFactory.createRenderer(n,s);let X=16;s.signals?X=4096:s.onPush&&(X=64);const ue=xg(f,Km(s),null,X,f[t.index],t,m,$,null,null,A);return T.firstCreatePass&&Vg(T,t,a.length-1),n_(f,ue),f[t.index]=ue}(vP,sn,Zp,k_,Ai,Ue,ut);qv=Vs(vi,Cr),sn&&function Zg(t,n,s,a){if(a)ds(t,s,["ng-version",Wh.full]);else{const{attrs:f,classes:m}=function Bo(t){const n=[],s=[];let a=1,f=2;for(;a<t.length;){let m=t[a];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++a]):8===f&&s.push(m);else{if(!Ys(f))break;f=m}a++}return{attrs:n,classes:s}}(n.selectors[0]);f&&ds(t,s,f),m&&m.length>0&&Cf(t,s,m.join(" "))}}(ut,Zp,sn,a),void 0!==s&&function c0(t,n,s){const a=t.projection=[];for(let f=0;f<n.length;f++){const m=s[f];a.push(null!=m?Array.from(m):null)}}(qv,this.ngContentSelectors,s),$l=function Xh(t,n,s,a,f,m){const E=pi(),T=f[wn],A=eo(E,f);Jm(T,f,E,s,null,a);for(let X=0;X<s.length;X++)Gs(io(f,T,E.directiveStart+X,E),f);tv(T,f,E),A&&Gs(A,f);const $=io(f,T,E.directiveStart+E.componentOffset,E);if(t[W]=f[W]=$,null!==m)for(const X of m)X($,n);return Ng(T,E,t),$}(yP,Zp,k_,FI,Ai,[kp]),Hg(vi,Ai,null)}finally{di()}return new d_(this.componentType,$l,Eu(qv,Ai),Ai,qv)}}class d_ extends $m{constructor(n,s,a,f,m){super(),this.location=a,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Lf(f,void 0,!1),this.componentType=n}setInput(n,s){const a=this._tNode.inputs;let f;if(null!==a&&(f=a[n])){var m;if(null!==(m=this.previousInputValues)&&void 0!==m||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const E=this._rootLView;i_(E[wn],E,f,n,s),this.previousInputValues.set(n,s),Op(os(this._tNode.index,E))}}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function kp(){const t=pi();Hc(Qt()[wn],t)}function Vy(t){let n=function u0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let f;if(Zs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new pn(903,!1);f=n.\u0275dir}if(f){if(s){a.push(f);const E=t;E.inputs=h_(t.inputs),E.inputTransforms=h_(t.inputTransforms),E.declaredInputs=h_(t.declaredInputs),E.outputs=h_(t.outputs);const T=f.hostBindings;T&&h0(t,T);const A=f.viewQuery,$=f.contentQueries;if(A&&f_(t,A),$&&d0(t,$),ci(t.inputs,f.inputs),ci(t.declaredInputs,f.declaredInputs),ci(t.outputs,f.outputs),null!==f.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),ci(E.inputTransforms,f.inputTransforms)),Zs(f)&&f.data.animation){const X=t.data;X.animation=(X.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let E=0;E<m.length;E++){const T=m[E];T&&T.ngInherit&&T(t),T===Vy&&(s=!1)}}n=Object.getPrototypeOf(n)}!function hv(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const f=t[a];f.hostVars=n+=f.hostVars,f.hostAttrs=ns(f.hostAttrs,s=ns(s,f.hostAttrs))}}(a)}function h_(t){return t===Ss?{}:t===jr?[]:t}function f_(t,n){const s=t.viewQuery;t.viewQuery=s?(a,f)=>{n(a,f),s(a,f)}:n}function d0(t,n){const s=t.contentQueries;t.contentQueries=s?(a,f,m)=>{n(a,f,m),s(a,f,m)}:n}function h0(t,n){const s=t.hostBindings;t.hostBindings=s?(a,f)=>{n(a,f),s(a,f)}:n}function pv(t){const n=t.inputConfig,s={};for(const a in n)if(n.hasOwnProperty(a)){const f=n[a];Array.isArray(f)&&f[2]&&(s[a]=f[2])}t.inputTransforms=s}function zs(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function mv(t,n,s,a){const f=Qt();return zs(f,ua(),n)&&(ti(),nd(ni(),f,t,n,s,a)),mv}function m_(t,n){return t<<17|n<<2}function Qd(t){return t>>17&32767}function Jg(t){return 2|t}function Bp(t){return(131068&t)>>2}function yv(t,n){return-131069&t|n<<2}function Ev(t){return 1|t}function v0(t,n,s,a,f){const m=t[s+1],E=null===n;let T=a?Qd(m):Bp(m),A=!1;for(;0!==T&&(!1===A||E);){const X=t[T+1];qI(t[T],n)&&(A=!0,t[T+1]=a?Ev(X):Jg(X)),T=a?Qd(X):Bp(X)}A&&(t[s+1]=a?Jg(m):Ev(m))}function qI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&ul(t,n)>=0}function eE(t,n,s){const a=Qt();return zs(a,ua(),n)&&function Ha(t,n,s,a,f,m,E,T){const A=eo(n,s);let X,$=n.inputs;!T&&null!=$&&(X=$[a])?(i_(t,s,X,a,f),Ho(n)&&function Q_(t,n){const s=os(n,t);16&s[fr]||(s[fr]|=64)}(s,n.index)):3&n.type&&(a=function qE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),f=null!=E?E(f,n.value||"",a):f,m.setProperty(A,a,f))}(ti(),ni(),a,t,n,a[_n],s,!1),eE}function __(t,n,s,a,f){const E=f?"class":"style";i_(t,s,n.inputs[E],E,a)}function nE(t,n){return function Fc(t,n,s,a){const f=Qt(),m=ti(),E=function xa(t){const n=or.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);m.firstUpdatePass&&function em(t,n,s,a){const f=t.data;if(null===f[s+1]){const m=f[gi()],E=function v_(t,n){return n>=t.expandoStartIndex}(t,s);(function Jh(t,n){return 0!=(t.flags&(n?8:16))})(m,a)&&null===n&&!E&&(n=!1),n=function w0(t,n,s,a){const f=function k(t){const n=or.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=a?n.residualClasses:n.residualStyles;if(null===f)0===(a?n.classBindings:n.styleBindings)&&(s=eh(s=y_(null,t,n,s,a),n.attrs,a),m=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==f)if(s=y_(f,t,n,s,a),null===m){let A=function T0(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Bp(a))return t[Qd(a)]}(t,n,a);void 0!==A&&Array.isArray(A)&&(A=y_(null,t,n,A[1],a),A=eh(A,n.attrs,a),function Iv(t,n,s,a){t[Qd(s?n.classBindings:n.styleBindings)]=a}(t,n,a,A))}else m=function rE(t,n,s){let a;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)a=eh(a,t[m].hostAttrs,s);return eh(a,n.attrs,s)}(t,n,a)}return void 0!==m&&(a?n.residualClasses=m:n.residualStyles=m),s}(f,m,n,a),function zI(t,n,s,a,f,m){let E=m?n.classBindings:n.styleBindings,T=Qd(E),A=Bp(E);t[a]=s;let X,$=!1;if(Array.isArray(s)?(X=s[1],(null===X||ul(s,X)>0)&&($=!0)):X=s,f)if(0!==A){const Ue=Qd(t[T+1]);t[a+1]=m_(Ue,T),0!==Ue&&(t[Ue+1]=yv(t[Ue+1],a)),t[T+1]=function Vp(t,n){return 131071&t|n<<17}(t[T+1],a)}else t[a+1]=m_(T,0),0!==T&&(t[T+1]=yv(t[T+1],a)),T=a;else t[a+1]=m_(A,0),0===T?T=a:t[A+1]=yv(t[A+1],a),A=a;$&&(t[a+1]=Jg(t[a+1])),v0(t,X,a,!0),v0(t,X,a,!1),function WI(t,n,s,a,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&ul(m,n)>=0&&(s[a+1]=Ev(s[a+1]))}(n,X,t,a,m),E=m_(T,A),m?n.classBindings=E:n.styleBindings=E}(f,m,n,s,E,a)}}(m,t,E,a),n!==Qr&&zs(f,E,n)&&function tm(t,n,s,a,f,m,E,T){if(!(3&n.type))return;const A=t.data,$=A[T+1],X=function _0(t){return 1==(1&t)}($)?oE(A,n,s,f,Bp($),E):void 0;nm(X)||(nm(m)||function m0(t){return 2==(2&t)}($)&&(m=oE(A,null,s,f,T,E)),function fg(t,n,s,a,f){if(n)f?t.addClass(s,a):t.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:rc.DashCase;null==f?t.removeStyle(s,a,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=rc.Important),t.setStyle(s,a,f,m))}}(a,E,Pa(gi(),s),f,m))}(m,m.data[gi()],f,f[_n],t,f[E+1]=function aE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Jn(ac(t)))),t}(n,s),a,E)}(t,n,null,!0),nE}function y_(t,n,s,a,f){let m=null;const E=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<E&&(m=n[T],a=eh(a,m.hostAttrs,f),m!==t);)T++;return null!==t&&(s.directiveStylingLast=T),a}function eh(t,n,s){const a=s?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const E=n[m];"number"==typeof E?f=E:f===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),oo(t,E,!!s||n[++m]))}return void 0===t?null:t}function oE(t,n,s,a,f,m){const E=null===n;let T;for(;f>0;){const A=t[f],$=Array.isArray(A),X=$?A[1]:A,ue=null===X;let Ue=s[f+1];Ue===Qr&&(Ue=ue?jr:void 0);let ut=ue?ku(Ue,a):X===a?Ue:void 0;if($&&!nm(ut)&&(ut=ku(A,a)),nm(ut)&&(T=ut,E))return T;const Ft=t[f+1];f=E?Qd(Ft):Bp(Ft)}if(null!==n){let A=m?n.residualClasses:n.residualStyles;null!=A&&(T=ku(A,a))}return T}function nm(t){return void 0!==t}function E_(t,n){return!n||_l(t)}function Pv(t,n,s,a=!0){const f=n[wn];if(function Im(t,n,s,a){const f=$i+a,m=s.length;a>0&&(s[f-1][hs]=n),a<m-$i?(n[hs]=s[f],Mi(s,$i+a,n)):(s.push(n),n[hs]=null),n[yr]=s;const E=n[rs];null!==E&&s!==E&&function Ah(t,n){const s=t[Po];n[ei]!==n[yr][yr][ei]&&(t[fr]|=Aa.HasTransplantedViews),null===s?t[Po]=[n]:s.push(n)}(E,n);const T=n[Os];null!==T&&T.insertView(t),$c(n),n[fr]|=128}(f,n,t,s),a){const m=Mh(s,t),E=n[_n],T=dp(E,t[ba]);null!==T&&function bh(t,n,s,a,f,m){a[Ri]=f,a[Y]=n,If(t,a,s,1,f,m)}(f,t[Y],E,n,T,m)}}let pE=(()=>{class n{}return n.__NG_ELEMENT_ID__=SD,n})();function SD(){return tC(pi(),Qt())}const RD=pE,JI=class extends RD{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return Eu(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){const n=po(this._hostTNode,this._hostLView);if(Wo(n)){const s=Wc(n,this._hostLView),a=ql(n);return new Or(s[wn].data[a+8],s)}return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=eC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(n,s,a){let f,m;"number"==typeof a?f=a:null!=a&&(f=a.index,m=a.injector);const T=n.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(T,f,E_(this._hostTNode,null)),T}createComponent(n,s,a,f,m){var E,A;const $=n&&!Ko(n);let X;if($)X=s;else{const Kn=s||{};X=Kn.index,a=Kn.injector,f=Kn.projectableNodes,m=Kn.environmentInjector||Kn.ngModuleRef}const ue=$?n:new Yg(Ar(n)),Ue=a||this.parentInjector;if(!m&&null==ue.ngModule){const un=($?Ue:this.parentInjector).get(js,null);un&&(m=un)}const ut=Ar(null!==(E=ue.componentType)&&void 0!==E?E:{}),Ft=(null==ut?void 0:ut.id,null),sn=null!==(A=null==Ft?void 0:Ft.firstChild)&&void 0!==A?A:null,Pn=ue.create(Ue,f,sn,m);return this.insertImpl(Pn.hostView,X,E_(this._hostTNode,Ft)),Pn}insert(n,s){return this.insertImpl(n,s,!0)}insertImpl(n,s,a){const f=n._lView;if(function ls(t){return ss(t[yr])}(f)){const T=this.indexOf(n);if(-1!==T)this.detach(T);else{const A=f[yr],$=new JI(A,A[Y],A[yr]);$.detach($.indexOf(n))}}const m=this._adjustIndex(s),E=this._lContainer;return Pv(E,f,m,a),n.attachToViewContainerRef(),Mi(L0(E),m,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=eC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=sc(this._lContainer,s);a&&(Ml(L0(this._lContainer),s),vf(a[wn],a))}detach(n){const s=this._adjustIndex(n,-1),a=sc(this._lContainer,s);return a&&null!=Ml(L0(this._lContainer),s)?new Lf(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function eC(t){return t[8]}function L0(t){return t[8]||(t[8]=[])}function tC(t,n){let s;const a=n[t.index];return ss(a)?s=a:(s=yy(a,n,null,t),n[t.index]=s,n_(n,s)),nC(s,n,t,a),new JI(s,t,n)}let nC=function iC(t,n,s,a){if(t[ba])return;let f;f=8&s.type?Li(a):function PD(t,n){const s=t[_n],a=s.createComment(""),f=eo(n,t);return yl(s,dp(s,f),a,function oc(t,n){return t.nextSibling(n)}(s,f),!1),a}(n,s),t[ba]=f},F0=(t,n,s)=>!1;function I_(t,n,s,a,f,m,E,T){const A=Qt(),$=ti(),X=t+Cr,ue=$.firstCreatePass?function ND(t,n,s,a,f,m,E,T,A){const $=n.consts,X=Qh(n,t,4,E||null,Ki($,T));Xm(n,s,X,Ki($,A)),Hc(n,X);const ue=X.tView=Lg(2,X,a,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,$,null);return null!==n.queries&&(n.queries.template(n,X),ue.queries=n.queries.embeddedTView(X)),X}(X,$,A,n,s,a,f,m,E):$.data[X];Kr(ue,!1);const Ue=sC($,A,ue,t);to()&&Ph($,A,Ue,ue),Gs(Ue,A);const ut=yy(Ue,A,Ue,ue);return A[X]=ut,n_(A,ut),function rC(t,n,s){return F0(t,n,s)}(ut,ue,A),ho(ue)&&Z_($,A,ue),null!=E&&kg(A,ue,T),I_}let sC=function oC(t,n,s,a){return tl(!0),n[_n].createComment("")};function EE(t,n,s,a){const f=Qt(),m=ti(),E=Cr+t,T=f[_n],A=m.firstCreatePass?function wb(t,n,s,a,f,m){const E=n.consts,A=Qh(n,t,2,a,Ki(E,f));return Xm(n,s,A,Ki(E,m)),null!==A.attrs&&u_(A,A.attrs,!1),null!==A.mergedAttrs&&u_(A,A.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,A),A}(E,m,f,n,s,a):m.data[E],$=RC(m,f,A,T,n,t);f[E]=$;const X=ho(A);return Kr(A,!0),Oc(T,$,A),32!=(32&A.flags)&&to()&&Ph(m,f,$,A),0===function Pu(){return or.lFrame.elementDepthCount}()&&Gs($,f),function sh(){or.lFrame.elementDepthCount++}(),X&&(Z_(m,f,A),Ng(m,A,f)),null!==a&&kg(f,A),EE}function IE(){let t=pi();An()?Go():(t=t.parent,Kr(t,!1));const n=t;(function jc(t){return or.skipHydrationRootTNode===t})(n)&&function Sr(){or.skipHydrationRootTNode=null}(),function Ma(){or.lFrame.elementDepthCount--}();const s=ti();return s.firstCreatePass&&(Hc(s,t),aa(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function oi(t){return 0!=(8&t.flags)}(n)&&__(s,n,Qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function lh(t){return 0!=(16&t.flags)}(n)&&__(s,n,Qt(),n.stylesWithoutHost,!1),IE}function Y0(t,n,s,a){return EE(t,n,s,a),IE(),Y0}let RC=(t,n,s,a,f,m)=>(tl(!0),Vd(a,f,function el(){return or.lFrame.currentNamespace}()));function K0(t,n,s){const a=Qt(),f=ti(),m=t+Cr,E=f.firstCreatePass?function bb(t,n,s,a,f){const m=n.consts,E=Ki(m,a),T=Qh(n,t,8,"ng-container",E);return null!==E&&u_(T,E,!0),Xm(n,s,T,Ki(m,f)),null!==n.queries&&n.queries.elementStart(n,T),T}(m,f,a,n,s):f.data[m];Kr(E,!0);const T=PC(f,a,E,t);return a[m]=T,to()&&Ph(f,a,T,E),Gs(T,a),ho(E)&&(Z_(f,a,E),Ng(f,E,a)),null!=s&&kg(a,E),K0}function Z0(){let t=pi();const n=ti();return An()?Go():(t=t.parent,Kr(t,!1)),n.firstCreatePass&&(Hc(n,t),aa(t)&&n.queries.elementEnd(t)),Z0}function Q0(t,n,s){return K0(t,n,s),Z0(),Q0}let PC=(t,n,s,a)=>(tl(!0),_f(n[_n],""));function MC(){return Qt()}const lm=void 0;var Pb=["en",[["a","p"],["AM","PM"],lm],[["AM","PM"],lm,lm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lm,"{1} 'at' {0}",lm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rb(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let S_={};function X0(t){const n=function Mb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=kC(n);if(s)return s;const a=n.split("-")[0];if(s=kC(a),s)return s;if("en"===a)return Pb;throw new pn(701,!1)}function NC(t){return X0(t)[R_.PluralCase]}function kC(t){return t in S_||(S_[t]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[t]),S_[t]}var R_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(R_||{});const P_="en-US";let LC=P_;function tI(t){return!!t&&"function"==typeof t.then}function aw(t){return!!t&&"function"==typeof t.subscribe}function nI(t,n,s,a){const f=Qt(),m=ti(),E=pi();return function cw(t,n,s,a,f,m,E){const T=ho(a),$=t.firstCreatePass&&ov(t),X=n[W],ue=sv(n);let Ue=!0;if(3&a.type||E){const sn=eo(a,n),Pn=E?E(sn):sn,Kn=ue.length,un=E?vi=>E(Li(vi[a.index])):a.index;let Hr=null;if(!E&&T&&(Hr=function DA(t,n,s,a){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const E=f[m];if(E===s&&f[m+1]===a){const T=n[Ce],A=f[m+2];return T.length>A?T[A]:null}"string"==typeof E&&(m+=2)}return null}(t,n,f,a.index)),null!==Hr)(Hr.__ngLastListenerFn__||Hr).__ngNextListenerFn__=m,Hr.__ngLastListenerFn__=m,Ue=!1;else{m=dw(a,n,X,m,!1);const vi=s.listen(Pn,f,m);ue.push(m,vi),$&&$.push(f,un,Kn,Kn+1)}}else m=dw(a,n,X,m,!1);const ut=a.outputs;let Ft;if(Ue&&null!==ut&&(Ft=ut[f])){const sn=Ft.length;if(sn)for(let Pn=0;Pn<sn;Pn+=2){const Ai=n[Ft[Pn]][Ft[Pn+1]].subscribe(m),$l=ue.length;ue.push(m,Ai),$&&$.push(f,a.index,$l,-($l+1))}}}(m,f,f[_n],E,t,n,a),nI}function uw(t,n,s,a){try{return Js(6,n,s),!1!==s(a)}catch(f){return Bg(t,f),!1}finally{Js(7,n,s)}}function dw(t,n,s,a,f){return function m(E){if(E===Function)return a;Op(t.componentOffset>-1?os(t.index,n):n);let A=uw(n,s,a,E),$=m.__ngNextListenerFn__;for(;$;)A=uw(n,s,$,E)&&A,$=$.__ngNextListenerFn__;return f&&!1===A&&E.preventDefault(),A}}function hw(t=1){return function gr(t){return(or.lFrame.contextLView=function nr(t,n){for(;t>0;)n=n[fs],t--;return n}(t,or.lFrame.contextLView))[W]}(t)}function bA(t,n){let s=null;const a=function Cl(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(t);for(let f=0;f<n.length;f++){const m=n[f];if("*"!==m){if(null===a?Co(t,m,!0):co(a,m))return f}else s=f}return s}function fw(t){const n=Qt()[ei][Y];if(!n.projection){const a=n.projection=Yc(t?t.length:1,null),f=a.slice();let m=n.child;for(;null!==m;){const E=t?bA(m,t):0;null!==E&&(f[E]?f[E].projectionNext=m:a[E]=m,f[E]=m),m=m.next}}}function pw(t,n=0,s){const a=Qt(),f=ti(),m=Qh(f,Cr+t,16,null,s||null);null===m.projection&&(m.projection=n),Go(),(!a[N]||zl())&&32!=(32&m.flags)&&function hg(t,n,s){fu(n[_n],0,n,s,Bd(t,s,n),dg(s.parent||n[Y],s,n))}(f,a,m)}function Tw(t){return function Bs(t,n){return t[n]}(function fd(){return or.lFrame.contextLView}(),Cr+t)}function Nw(t,n=""){const s=Qt(),a=ti(),f=t+Cr,m=a.firstCreatePass?Qh(a,f,1,n,null):a.data[f],E=kw(a,s,m,n,t);s[f]=E,to()&&Ph(a,s,E,m),Kr(m,!1)}let kw=(t,n,s,a,f)=>(tl(!0),function Mc(t,n){return t.createText(n)}(n[_n],a));function iI(t){return bE("",t,""),iI}function bE(t,n,s){const a=Qt(),f=function Xg(t,n,s,a){return zs(t,ua(),s)?n+Zn(s)+a:Qr}(a,t,n,s);return f!==Qr&&function rd(t,n,s){const a=Pa(n,t);!function mf(t,n,s){t.setValue(n,s)}(t[_n],a,s)}(a,gi(),f),bE}function sI(t,n,s,a,f){if(t=Sn(t),Array.isArray(t))for(let m=0;m<t.length;m++)sI(t[m],n,s,a,f);else{const m=ti(),E=Qt(),T=pi();let A=Zl(t)?t:Sn(t.provide);const $=ru(t),X=1048575&T.providerIndexes,ue=T.directiveStart,Ue=T.providerIndexes>>20;if(Zl(t)||!t.multi){const ut=new md($,f,Zh),Ft=aI(A,n,f?X:X+Ue,ue);-1===Ft?(ch(ai(T,E),m,A),oI(m,t,n.length),n.push(A),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),s.push(ut),E.push(ut)):(s[Ft]=ut,E[Ft]=ut)}else{const ut=aI(A,n,X+Ue,ue),Ft=aI(A,n,X,X+Ue),Pn=Ft>=0&&s[Ft];if(f&&!Pn||!f&&!(ut>=0&&s[ut])){ch(ai(T,E),m,A);const Kn=function jA(t,n,s,a,f){const m=new md(t,s,Zh);return m.multi=[],m.index=n,m.componentProviders=0,Gw(m,f,a&&!s),m}(f?$A:UA,s.length,f,a,$);!f&&Pn&&(s[Ft].providerFactory=Kn),oI(m,t,n.length,0),n.push(A),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),s.push(Kn),E.push(Kn)}else oI(m,t,ut>-1?ut:Ft,Gw(s[f?Ft:ut],$,!f&&a));!f&&a&&Pn&&s[Ft].componentProviders++}}}function oI(t,n,s,a){const f=Zl(n),m=function Dd(t){return!!t.useClass}(n);if(f||m){const A=(m?Sn(n.useClass):n).prototype.ngOnDestroy;if(A){const $=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const X=$.indexOf(s);-1===X?$.push(s,[a,A]):$[X+1].push(a,A)}else $.push(s,A)}}}function Gw(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function aI(t,n,s,a){for(let f=s;f<a;f++)if(n[f]===t)return f;return-1}function UA(t,n,s,a){return lI(this.multi,[])}function $A(t,n,s,a){const f=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=io(s,s[wn],this.providerFactory.index,a);m=T.slice(0,E),lI(f,m);for(let A=E;A<T.length;A++)m.push(T[A])}else m=[],lI(f,m);return m}function lI(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function zw(t,n=[]){return s=>{s.providersResolver=(a,f)=>function BA(t,n,s){const a=ti();if(a.firstCreatePass){const f=Zs(t);sI(s,a.data,a.blueprint,f,!0),sI(n,a.data,a.blueprint,f,!1)}}(a,f?f(t):t,n)}}class cm{}class Ww{}function HA(t,n){return new cI(t,null!=n?n:null,[])}class cI extends cm{constructor(n,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zg(this);const f=yi(n);this._bootstrapComponents=ce(f.bootstrap),this._r3Injector=pl(n,s,[{provide:cm,useValue:this},{provide:jh,useValue:this.componentFactoryResolver},...a],Jn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class uI extends Ww{constructor(n){super(),this.moduleType=n}create(n){return new cI(this.moduleType,n,[])}}class qw extends cm{constructor(n){super(),this.componentFactoryResolver=new zg(this),this.instance=null;const s=new _a([...n.providers,{provide:cm,useValue:this},{provide:jh,useValue:this.componentFactoryResolver}],n.parent||Ad(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Yw(t,n,s=null){return new qw({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let zA=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const f=Vu(0,a.type),m=f.length>0?Yw([f],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,m)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Bn({token:t,providedIn:"environment",factory:()=>new t(zr(js))}),n})();function Kw(t){Ff("NgStandalone"),t.getStandaloneInjector=n=>n.get(zA).getOrCreateStandaloneInjector(t)}function rT(t,n,s){const a=function Zi(){const t=or.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,f=Qt();return f[a]===Qr?function Tu(t,n,s){return t[n]=s}(f,a,s?n.call(s):n()):function Uf(t,n){return t[n]}(f,a)}function vS(){return this._results[Symbol.iterator]()}class hI{get changes(){return this._changes||(this._changes=new sd)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=hI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=vS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){this.dirty=!1;const a=function go(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function af(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let f=t[a],m=n[a];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(this._results,a,s))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $v=(()=>{class n{}return n.__NG_ELEMENT_ID__=IS,n})();const yS=$v,ES=class extends yS{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,a){const f=function om(t,n,s,a){var f,m;const E=n.tView,$=xg(t,E,s,4096&t[fr]?4096:16,null,n,null,null,null,null!==(f=null==a?void 0:a.injector)&&void 0!==f?f:null,null!==(m=null==a?void 0:a.dehydratedView)&&void 0!==m?m:null);$[rs]=t[n.index];const ue=t[Os];return null!==ue&&($[Os]=ue.createEmbeddedView(E)),Hg(E,$,s),$}(this._declarationLView,this._declarationTContainer,n,{injector:s,dehydratedView:a});return new Lf(f)}};function IS(){return RE(pi(),Qt())}function RE(t,n){return 4&t.type?new ES(n,t,Eu(t,n)):null}class fI{constructor(n){this.queryList=n,this.matches=null}clone(){return new fI(this.queryList)}setDirty(){this.queryList.setDirty()}}class pI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let m=0;m<a;m++){const E=s.getByIndex(m);f.push(this.queries[E.indexInDeclarationView].clone())}return new pI(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==_T(n,s).matches&&this.queries[s].setDirty()}}class cT{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class gI{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const f=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(n,f);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new gI(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class mI{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new mI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let f=0;f<a.length;f++){const m=a[f];this.matchTNodeWithReadOption(n,s,CS(s,m)),this.matchTNodeWithReadOption(n,s,Yo(s,n,m,!1,!1))}else a===$v?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,Yo(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const f=this.metadata.read;if(null!==f)if(f===Wd||f===pE||f===$v&&4&s.type)this.addMatch(s.index,-2);else{const m=Yo(s,n,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function CS(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function TS(t,n,s,a){return-1===s?function wS(t,n){return 11&t.type?Eu(t,n):4&t.type?RE(t,n):null}(n,t):-2===s?function DS(t,n,s){return s===Wd?Eu(n,t):s===$v?RE(n,t):s===pE?tC(n,t):void 0}(t,n,a):io(t,t[wn],s,n)}function uT(t,n,s,a){const f=n[Os].queries[a];if(null===f.matches){const m=t.data,E=s.matches,T=[];for(let A=0;A<E.length;A+=2){const $=E[A];T.push($<0?null:TS(n,m[$],E[A+1],s.metadata.read))}f.matches=T}return f.matches}function _I(t,n,s,a){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const E=uT(t,n,f,s);for(let T=0;T<m.length;T+=2){const A=m[T];if(A>0)a.push(E[T/2]);else{const $=m[T+1],X=n[-A];for(let ue=$i;ue<X.length;ue++){const Ue=X[ue];Ue[rs]===Ue[yr]&&_I(Ue[wn],Ue,$,a)}if(null!==X[Po]){const ue=X[Po];for(let Ue=0;Ue<ue.length;Ue++){const ut=ue[Ue];_I(ut[wn],ut,$,a)}}}}}return a}function dT(t){const n=Qt(),s=ti(),a=w();B(a+1);const f=_T(s,a);if(t.dirty&&function rh(t){return 4==(4&t[fr])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?_I(s,n,a,[]):uT(s,n,f,a);t.reset(m,Hh),t.notifyOnChanges()}return!0}return!1}function hT(t,n,s){const a=ti();a.firstCreatePass&&(mT(a,new cT(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),gT(a,Qt(),n)}function fT(t,n,s,a){const f=ti();if(f.firstCreatePass){const m=pi();mT(f,new cT(n,s,a),m.index),function AS(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}gT(f,Qt(),s)}function pT(){return function bS(t,n){return t[Os].queries[n].queryList}(Qt(),w())}function gT(t,n,s){const a=new hI(4==(4&s));(function fy(t,n,s,a){const f=sv(n);f.push(s),t.firstCreatePass&&ov(t).push(a,f.length-1)})(t,n,a,a.destroy),null===n[Os]&&(n[Os]=new pI),n[Os].queries.push(new fI(a))}function mT(t,n,s){null===t.queries&&(t.queries=new gI),t.queries.track(new mI(n,s))}function _T(t,n){return t.queries.getByIndex(n)}const OT=new dn("Application Initializer");let CI=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m}),this.appInits=null!==(a=xr(OT,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const m of this.appInits){const E=m();if(tI(E))a.push(E);else if(aw(E)){const T=new Promise((A,$)=>{E.subscribe({complete:A,error:$})});a.push(T)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{f()}).catch(m=>{this.reject(m)}),0===a.length&&f(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const ME=new dn("LocaleId",{providedIn:"root",factory:()=>xr(ME,_e.Optional|_e.SkipSelf)||function ZS(){return typeof $localize<"u"&&$localize.locale||P_}()}),QS=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let LT=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zn.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();class nR{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let rR=(()=>{var t;class n{compileModuleSync(a){return new uI(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const f=this.compileModuleSync(a),E=ce(yi(a).declarations).reduce((T,A)=>{const $=Ar(A);return $&&T.push(new Yg($)),T},[]);return new nR(f,E)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const $T=new dn(""),jT=new dn("");let TI,SR=(()=>{var t;class n{constructor(a,f,m){this._ngZone=a,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TI||(function RR(t){TI=t}(m),m.addToWindow(f)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(a)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,f,m){let E=-1;f&&f>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==E),a(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:a,timeoutId:E,updateCb:m})}whenStable(a,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,f,m){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(zr(ys),zr(HT),zr(jT))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac}),n})(),HT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,f){this._applications.set(a,f)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,f=!0){var m,E;return null!==(m=null===(E=TI)||void 0===E?void 0:E.findTestabilityInTree(this,a,f))&&void 0!==m?m:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Kp=null;const GT=new dn("AllowMultipleToken"),DI=new dn("PlatformDestroyListeners"),bI=new dn("appBootstrapListener");function qT(t,n,s=[]){const a=`Platform: ${n}`,f=new dn(a);return(m=[])=>{let E=AI();if(!E||E.injector.get(GT,!1)){const T=[...s,...m,{provide:f,useValue:!0}];t?t(T):function xR(t){if(Kp&&!Kp.get(GT,!1))throw new pn(400,!1);(function zT(){!function Ze(t){rt=t}(()=>{throw new pn(600,!1)})})(),Kp=t;const n=t.get(KT);(function WT(t){const n=t.get(tc,null);null==n||n.forEach(s=>s())})(t)}(function YT(t=[],n){return Hs.create({name:n,providers:[{provide:bd,useValue:"platform"},{provide:DI,useValue:new Set([()=>Kp=null])},...t]})}(T,a))}return function NR(t){const n=AI();if(!n)throw new pn(401,!1);return n}()}}function AI(){var t,n;return null!==(t=null===(n=Kp)||void 0===n?void 0:n.get(KT))&&void 0!==t?t:null}let KT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,f){const m=function kR(t="zone.js",n){return"noop"===t?new Bf:"zone.js"===t?new ys(n):t}(null==f?void 0:f.ngZone,function ZT(t){var n,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==f?void 0:f.ngZoneEventCoalescing,runCoalescing:null==f?void 0:f.ngZoneRunCoalescing}));return m.run(()=>{const E=function GA(t,n,s){return new cI(t,n,s)}(a.moduleType,this.injector,function tD(t){return[{provide:ys,useFactory:t},{provide:Fu,multi:!0,useFactory:()=>{const n=xr(FR,{optional:!0});return()=>n.initialize()}},{provide:eD,useFactory:LR},{provide:jg,useFactory:Np}]}(()=>m)),T=E.injector.get(Yh,null);return m.runOutsideAngular(()=>{const A=m.onError.subscribe({next:$=>{T.handleError($)}});E.onDestroy(()=>{OE(this._modules,E),A.unsubscribe()})}),function QT(t,n,s){try{const a=s();return tI(a)?a.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(T,m,()=>{const A=E.injector.get(CI);return A.runInitializers(),A.donePromise.then(()=>(function FC(t){Rt(t,"Expected localeId to be defined"),"string"==typeof t&&(LC=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(ME,P_)||P_),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,f=[]){const m=XT({},f);return function PR(t,n,s){const a=new uI(s);return Promise.resolve(a)}(0,0,a).then(E=>this.bootstrapModuleFactory(E,m))}_moduleDoBootstrap(a){const f=a.injector.get(O_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new pn(-403,!1);a.instance.ngDoBootstrap(f)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pn(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const a=this._injector.get(DI,null);a&&(a.forEach(f=>f()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(zr(Hs))},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function XT(t,n){return Array.isArray(n)?n.reduce(XT,t):{...t,...n}}let O_=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xr(eD),this.zoneIsStable=xr(jg),this.componentTypes=[],this.components=[],this.isStable=xr(LT).hasPendingTasks.pipe((0,In.w)(a=>a?(0,Gn.of)(!1):this.zoneIsStable),(0,Qn.x)(),(0,lr.B)()),this._injector=xr(js)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,f){const m=a instanceof Dp;if(!this._injector.get(CI).done)throw!m&&Ms(a),new pn(405,!1);let T;T=m?a:this._injector.get(jh).resolveComponentFactory(a),this.componentTypes.push(T.componentType);const A=function MR(t){return t.isBoundToModule}(T)?void 0:this._injector.get(cm),X=T.create(Hs.NULL,[],f||T.selector,A),ue=X.location.nativeElement,Ue=X.injector.get($T,null);return null==Ue||Ue.registerApplication(ue),X.onDestroy(()=>{this.detachView(X.hostView),OE(this.components,X),null==Ue||Ue.unregisterApplication(ue)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new pn(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const f=a;this._views.push(f),f.attachToAppRef(this)}detachView(a){const f=a;OE(this._views,f),f.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const f=this._injector.get(bI,[]);[...this._bootstrapListeners,...f].forEach(m=>m(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>OE(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new pn(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function OE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const eD=new dn("",{providedIn:"root",factory:()=>xr(Yh).handleError.bind(void 0)});function LR(){const t=xr(ys),n=xr(Yh);return s=>t.runOutsideAngular(()=>n.handleError(s))}let FR=(()=>{var t;class n{constructor(){this.zone=xr(ys),this.applicationRef=xr(O_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Bn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function UR(){return!1}function $R(){}const WR=qT(null,"core",[]);let qR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(zr(O_))},t.\u0275mod=za({type:t}),t.\u0275inj=dt({}),n})();function pP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function mP(t,n){const s=Ar(t),a=n.elementInjector||Ad();return new Yg(s).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function _P(t){const n=Ar(t);if(!n)return null;const s=new Yg(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(gn,ht,O)=>{"use strict";O.d(ht,{zQ:()=>It,ww:()=>Ze,rT:()=>ft,f7:()=>U,L6:()=>we,_Q:()=>ye,lh:()=>nt,Qv:()=>Re,nw:()=>rt});var d=O(1180),J=(O(8313),O(6814)),de=O(9212),xe=O(9230),re=O(7217),ge=O(8645),We=O(2096),Ke=O(5592),Ae=O(2459),Te=O(3019),Qe=O(3093),ze=O(4664),He=O(7398),Ge=O(4552);class mt extends ge.x{constructor(Q=1/0,K=1/0,ie=Ge.l){super(),this._bufferSize=Q,this._windowTime=K,this._timestampProvider=ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=K===1/0,this._bufferSize=Math.max(1,Q),this._windowTime=Math.max(1,K)}next(Q){const{isStopped:K,_buffer:ie,_infiniteTimeWindow:he,_timestampProvider:Ve,_windowTime:je}=this;K||(ie.push(Q),!he&&ie.push(Ve.now()+je)),this._trimBuffer(),super.next(Q)}_subscribe(Q){this._throwIfClosed(),this._trimBuffer();const K=this._innerSubscribe(Q),{_infiniteTimeWindow:ie,_buffer:he}=this,Ve=he.slice();for(let je=0;je<Ve.length&&!Q.closed;je+=ie?1:2)Q.next(Ve[je]);return this._checkFinalizedStatuses(Q),K}_trimBuffer(){const{_bufferSize:Q,_timestampProvider:K,_buffer:ie,_infiniteTimeWindow:he}=this,Ve=(he?1:2)*Q;if(Q<1/0&&Ve<ie.length&&ie.splice(0,ie.length-Ve),!he){const je=K.now();let wt=0;for(let jt=1;jt<ie.length&&ie[jt]<=je;jt+=2)wt=jt;wt&&ie.splice(0,wt+1)}}}var Xe=O(3020);function Je(oe,Q,K){let ie,he=!1;return oe&&"object"==typeof oe?({bufferSize:ie=1/0,windowTime:Q=1/0,refCount:he=!1,scheduler:K}=oe):ie=null!=oe?oe:1/0,(0,Xe.B)({connector:()=>new mt(ie,Q,K),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:he})}var ot=O(1374),Dt=O(4674);function De(oe,Q){return(0,Dt.m)(Q)?(0,ze.w)(()=>oe,Q):(0,ze.w)(()=>oe)}var qe=O(5137),et=O(2181),Fe=O(120);const Re=new de.OlP("angularfire2.auth.use-emulator"),we=new de.OlP("angularfire2.auth.settings"),ye=new de.OlP("angularfire2.auth.tenant-id"),ft=new de.OlP("angularfire2.auth.langugage-code"),nt=new de.OlP("angularfire2.auth.use-device-language"),U=new de.OlP("angularfire.auth.persistence"),rt=(oe,Q,K,ie,he,Ve,je,wt)=>(0,re.cc)(`${oe.name}.auth`,"AngularFireAuth",oe.name,()=>{const jt=Q.runOutsideAngular(()=>oe.auth());if(K&&jt.useEmulator(...K),ie&&(jt.tenantId=ie),jt.languageCode=he,Ve&&jt.useDeviceLanguage(),je)for(const[Ht,St]of Object.entries(je))jt.settings[Ht]=St;return wt&&jt.setPersistence(wt),jt},[K,ie,he,Ve,je,wt]);let It=(()=>{var oe;class Q{constructor(ie,he,Ve,je,wt,jt,Ht,St,mn,Kt,Pt,Nt){(0,d.Z)(this,"authState",void 0),(0,d.Z)(this,"idToken",void 0),(0,d.Z)(this,"user",void 0),(0,d.Z)(this,"idTokenResult",void 0),(0,d.Z)(this,"credential",void 0);const Bt=new ge.x,nn=(0,We.of)(void 0).pipe((0,Qe.Q)(wt.outsideAngular),(0,ze.w)(()=>je.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8313)))),(0,He.U)(()=>(0,re.on)(ie,je,he)),(0,He.U)(zn=>rt(zn,je,jt,St,mn,Kt,Ht,Pt)),Je({bufferSize:1,refCount:!1}));if((0,J.PM)(Ve))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,We.of)(null);else{nn.pipe((0,ot.P)()).subscribe();const zn=nn.pipe((0,ze.w)(In=>In.getRedirectResult().then(Qn=>Qn,()=>null)),xe.iC,Je({bufferSize:1,refCount:!1})),Gn=nn.pipe((0,ze.w)(In=>new Ke.y(Qn=>({unsubscribe:je.runOutsideAngular(()=>In.onAuthStateChanged(bn=>Qn.next(bn),bn=>Qn.error(bn),()=>Qn.complete()))})))),lr=nn.pipe((0,ze.w)(In=>new Ke.y(Qn=>({unsubscribe:je.runOutsideAngular(()=>In.onIdTokenChanged(bn=>Qn.next(bn),bn=>Qn.error(bn),()=>Qn.complete()))}))));this.authState=zn.pipe(De(Gn),(0,qe.R)(wt.outsideAngular),(0,Qe.Q)(wt.insideAngular)),this.user=zn.pipe(De(lr),(0,qe.R)(wt.outsideAngular),(0,Qe.Q)(wt.insideAngular)),this.idToken=this.user.pipe((0,ze.w)(In=>In?(0,Ae.D)(In.getIdToken()):(0,We.of)(null))),this.idTokenResult=this.user.pipe((0,ze.w)(In=>In?(0,Ae.D)(In.getIdTokenResult()):(0,We.of)(null))),this.credential=(0,Te.T)(zn,Bt,this.authState.pipe((0,et.h)(In=>!In))).pipe((0,He.U)(In=>null!=In&&In.user?In:null),(0,qe.R)(wt.outsideAngular),(0,Qe.Q)(wt.insideAngular))}return(0,re.pX)(this,nn,je,{spy:{apply:(zn,Gn,lr)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&lr.then(In=>Bt.next(In))}}})}}return oe=Q,(0,d.Z)(Q,"\u0275fac",function(ie){return new(ie||oe)(de.LFG(re.Dh),de.LFG(re.xv,8),de.LFG(de.Lbi),de.LFG(de.R0b),de.LFG(xe.HU),de.LFG(Re,8),de.LFG(we,8),de.LFG(ye,8),de.LFG(ft,8),de.LFG(nt,8),de.LFG(U,8),de.LFG(xe.Rf,8))}),(0,d.Z)(Q,"\u0275prov",de.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"any"})),Q})(),Ze=(()=>{var oe;class Q{constructor(){Fe.Z.registerVersion("angularfire",xe.q4.full,"auth-compat")}}return oe=Q,(0,d.Z)(Q,"\u0275fac",function(ie){return new(ie||oe)}),(0,d.Z)(Q,"\u0275mod",de.oAB({type:oe})),(0,d.Z)(Q,"\u0275inj",de.cJS({providers:[It]})),Q})()},2736:(gn,ht,O)=>{"use strict";O.d(ht,{ST:()=>fE,yb:()=>N0});var d=O(1180),H=O(6814),J=O(9212),de=O(9230),xe=O(7217),re=O(7213),ge=O(6321),We=O(5592),Ke=O(2459),Ae=O(2096),Te=O(7921),Qe=O(9360),ze=O(8251);function He(){return(0,Qe.e)((i,e)=>{let r,o=!1;i.subscribe((0,ze.x)(e,u=>{const p=r;r=u,o&&e.next([p,u]),o=!0}))})}var ye,Ge=O(7398),mt=O(6699),Xe=O(3997),Je=O(2181),Dt=(O(8313),O(3399)),De=O(5861),qe=O(9823),et=O(6820),Fe=O(7879),me=O(229),Re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={},ft=ft||{},nt=Re||self;function U(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function rt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),oe=0;function Q(i,e,r){return i.call.apply(i.bind,arguments)}function K(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ie(i,e,r){return(ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Q:K).apply(null,arguments)}function he(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ve(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(o,u,p){for(var y=Array(arguments.length-2),x=2;x<arguments.length;x++)y[x-2]=arguments[x];return e.prototype[u].apply(o,y)}}function je(){this.s=this.s,this.o=this.o}je.prototype.s=!1,je.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function It(i){Object.prototype.hasOwnProperty.call(i,Ze)&&i[Ze]||(i[Ze]=++oe)}(this)},je.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function Ht(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function St(i,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(U(o)){const u=i.length||0,p=o.length||0;i.length=u+p;for(let y=0;y<p;y++)i[u+y]=o[y]}else i.push(o)}}function mn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}mn.prototype.h=function(){this.defaultPrevented=!0};var Kt=function(){if(!nt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{nt.addEventListener("test",()=>{},e),nt.removeEventListener("test",()=>{},e)}catch{}return i}();function Pt(i){return/^[\s\xa0]*$/.test(i)}function Nt(){var i=nt.navigator;return i&&(i=i.userAgent)?i:""}function Bt(i){return-1!=Nt().indexOf(i)}function nn(i){return nn[" "](i),i}nn[" "]=function(){};var cr,i,Gn=Bt("Opera"),lr=Bt("Trident")||Bt("MSIE"),In=Bt("Edge"),Qn=In||lr,bn=Bt("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),ci=-1!=Nt().toLowerCase().indexOf("webkit")&&!Bt("Edge");function Jn(){var i=nt.document;return i?i.documentMode:void 0}e:{var xn="",ui=(i=Nt(),bn?/rv:([^\);]+)(\)|;)/.exec(i):In?/Edge\/([\d\.]+)/.exec(i):lr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ci?/WebKit\/(\S+)/.exec(i):Gn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ui&&(xn=ui?ui[1]:""),lr){var qr=Jn();if(null!=qr&&qr>parseFloat(xn)){cr=String(qr);break e}}cr=xn}var ir=nt.document&&lr&&(Jn()||parseInt(cr,10))||void 0;function Ci(i,e){if(mn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(bn){e:{try{nn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ir[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ci.$.h.call(this)}}Ve(Ci,mn);var Ir={2:"touch",3:"pen",4:"mouse"};Ci.prototype.h=function(){Ci.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var pn="closure_listenable_"+(1e6*Math.random()|0),sr=0;function br(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.la=u,this.key=++sr,this.fa=this.ia=!1}function $r(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ki(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Gr(i){const e={};for(const r in i)e[r]=i[r];return e}const ri="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ii(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let p=0;p<ri.length;p++)r=ri[p],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Zn(i){this.src=i,this.g={},this.h=0}function er(i,e){var r=e.type;if(r in i.g){var p,o=i.g[r],u=jt(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&($r(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function mi(i,e,r,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.fa&&p.listener==e&&p.capture==!!r&&p.la==o)return u}return-1}Zn.prototype.add=function(i,e,r,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var y=mi(i,e,o,u);return-1<y?(e=i[y],r||(e.ia=!1)):((e=new br(e,this.src,p,!!o,u)).ia=r,i.push(e)),e};var bi="closure_lm_"+(1e6*Math.random()|0),Ui={};function at(i,e,r,o,u){if(o&&o.once)return ke(i,e,r,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)at(i,e[p],r,o,u);return null}return r=mr(r),i&&i[pn]?i.O(e,r,rt(o)?!!o.capture:!!o,u):pe(i,e,r,!1,o,u)}function pe(i,e,r,o,u,p){if(!e)throw Error("Invalid event type");var y=rt(u)?!!u.capture:!!u,x=Wn(i);if(x||(i[bi]=x=new Zn(i)),(r=x.add(e,r,o,y,p)).proxy)return r;if(o=function se(){const e=Yt;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Kt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(xt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function ke(i,e,r,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)ke(i,e[p],r,o,u);return null}return r=mr(r),i&&i[pn]?i.P(e,r,rt(o)?!!o.capture:!!o,u):pe(i,e,r,!0,o,u)}function le(i,e,r,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)le(i,e[p],r,o,u);else o=rt(o)?!!o.capture:!!o,r=mr(r),i&&i[pn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=mi(p=i.g[e],r,o,u))&&($r(p[r]),Array.prototype.splice.call(p,r,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=Wn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=mi(e,r,o,u)),(r=-1<i?e[i]:null)&&lt(r))}function lt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[pn])er(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(xt(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=Wn(e))?(er(r,i),0==r.h&&(r.src=null,e[bi]=null)):$r(i)}}}function xt(i){return i in Ui?Ui[i]:Ui[i]="on"+i}function Yt(i,e){if(i.fa)i=!0;else{e=new Ci(e,this);var r=i.listener,o=i.la||i.src;i.ia&&lt(i),i=r.call(o,e)}return i}function Wn(i){return(i=i[bi])instanceof Zn?i:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(i){return"function"==typeof i?i:(i[Xn]||(i[Xn]=function(e){return i.handleEvent(e)}),i[Xn])}function kn(){je.call(this),this.i=new Zn(this),this.S=this,this.J=null}function hr(i,e){var r,o=i.J;if(o)for(r=[];o;o=o.J)r.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new mn(e,i);else if(e instanceof mn)e.target=e.target||i;else{var u=e;ii(e=new mn(o,i),u)}if(u=!0,r)for(var p=r.length-1;0<=p;p--){var y=e.g=r[p];u=wi(y,o,!0,e)&&u}if(u=wi(y=e.g=i,o,!0,e)&&u,u=wi(y,o,!1,e)&&u,r)for(p=0;p<r.length;p++)u=wi(y=e.g=r[p],o,!1,e)&&u}function wi(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var y=e[p];if(y&&!y.fa&&y.capture==r){var x=y.listener,L=y.la||y.src;y.ia&&er(i.i,y),u=!1!==x.call(L,o)&&u}}return u&&!o.defaultPrevented}Ve(kn,je),kn.prototype[pn]=!0,kn.prototype.removeEventListener=function(i,e,r,o){le(this,i,e,r,o)},kn.prototype.N=function(){if(kn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)$r(r[o]);delete i.g[e],i.h--}}this.J=null},kn.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},kn.prototype.P=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var Pr=nt.JSON.stringify;function Rt(){var i=dt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Jt=new class Wi{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Hn,i=>i.reset());class Hn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function jn(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function qn(i){nt.setTimeout(()=>{throw i},0)}let Bn,Yr=!1,dt=new class ct{constructor(){this.h=this.g=null}add(e,r){const o=Jt.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}},Ye=()=>{const i=nt.Promise.resolve(void 0);Bn=()=>{i.then(At)}};var At=()=>{for(var i;i=Rt();){try{i.h.call(i.g)}catch(r){qn(r)}var e=Jt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Yr=!1};function Et(i,e){kn.call(this),this.h=i||1,this.g=e||nt,this.j=ie(this.qb,this),this.l=Date.now()}function Ut(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Wt(i,e,r){if("function"==typeof i)r&&(i=ie(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ie(i.handleEvent,i)}return 2147483647<Number(e)?-1:nt.setTimeout(i,e||0)}function Cn(i){i.g=Wt(()=>{i.g=null,i.i&&(i.i=!1,Cn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ve(Et,kn),(ye=Et.prototype).ga=!1,ye.T=null,ye.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),hr(this,"tick"),this.ga&&(Ut(this),this.start()))}},ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.N=function(){Et.$.N.call(this),Ut(this),delete this.g};class yn extends je{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(i){je.call(this),this.h=i,this.g={}}Ve(On,je);var En=[];function _e(i,e,r,o){Array.isArray(r)||(r&&(En[0]=r.toString()),r=En);for(var u=0;u<r.length;u++){var p=at(e,r[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Oe(i){ki(i.g,function(e,r){this.g.hasOwnProperty(r)&&lt(e)},i),i.g={}}function ee(){this.g=!0}function Vt(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function on(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var y=1;y<u.length;y++)u[y]=""}}}return Pr(r)}catch{return e}}(i,r)+(o?" "+o:"")})}On.prototype.N=function(){On.$.N.call(this),Oe(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ee.prototype.Ea=function(){this.g=!1},ee.prototype.info=function(){};var Fn={},dn=null;function wr(){return dn=dn||new kn}function z(i){mn.call(this,Fn.Ta,i)}function ne(i){const e=wr();hr(e,new z(e))}function $e(i,e){mn.call(this,Fn.STAT_EVENT,i),this.stat=e}function it(i){const e=wr();hr(e,new $e(e,i))}function Mt(i,e){mn.call(this,Fn.Ua,i),this.size=e}function vt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return nt.setTimeout(function(){i()},e)}Fn.Ta="serverreachability",Ve(z,mn),Fn.STAT_EVENT="statevent",Ve($e,mn),Fn.Ua="timingevent",Ve(Mt,mn);var Zt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ln={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xt(){}function vn(){}Xt.prototype.h=null;var Jr,Un={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pr(){mn.call(this,"d")}function Mr(){mn.call(this,"c")}function R(){}function Ee(i,e,r,o){this.l=i,this.j=e,this.m=r,this.W=o||1,this.U=new On(this),this.P=be,this.V=new Et(i=Qn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new V}function V(){this.i=null,this.g="",this.h=!1}Ve(pr,mn),Ve(Mr,mn),Ve(R,Xt),R.prototype.g=function(){return new XMLHttpRequest},R.prototype.i=function(){return{}},Jr=new R;var be=45e3,gt={},_r={};function zr(i,e,r){i.L=1,i.v=sa(Rs(e)),i.s=r,i.S=!0,Ti(i,null)}function Ti(i,e){i.G=Date.now(),Ds(i),i.A=Rs(i.v);var r=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Bo(r.i,"t",o),i.C=0,r=i.l.J,i.h=new V,i.g=la(i.l,r?e:null,!i.s),0<i.O&&(i.M=new yn(ie(i.Pa,i,i.g),i.O)),_e(i.U,i.g,"readystatechange",i.nb),e=i.I?Gr(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ne(),function Se(i,e,r,o,u,p){i.info(function(){if(i.g)if(p)for(var y="",x=p.split("&"),L=0;L<x.length;L++){var Z=x[L].split("=");if(1<Z.length){var fe=Z[0];Z=Z[1];var Le=fe.split("_");y=2<=Le.length&&"type"==Le[1]?y+(fe+"=")+Z+"&":y+(fe+"=redacted&")}}else y=null;else y=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+y})}(i.j,i.u,i.A,i.m,i.W,i.s)}function xr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function ts(i,e,r){let u,o=!0;for(;!i.J&&i.C<r.length;){if(u=Ga(i,r),u==_r){4==e&&(i.o=4,it(14),o=!1),Vt(i.j,i.m,null,"[Incomplete Response]");break}if(u==gt){i.o=4,it(15),Vt(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Vt(i.j,i.m,u,null),Ws(i,u)}xr(i)&&u!=_r&&u!=gt&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,it(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),ss(e),e.M=!0,it(11))):(Vt(i.j,i.m,r,"[Invalid Chunked Response]"),qi(i),So(i))}function Ga(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?_r:(r=Number(e.substring(r,o)),isNaN(r)?gt:(o+=1)+r>e.length?_r:(e=e.slice(o,o+r),i.C=o+r,e))}function Ds(i){i.Y=Date.now()+i.P,Ca(i,i.P)}function Ca(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=vt(ie(i.lb,i),e)}function ko(i){i.B&&(nt.clearTimeout(i.B),i.B=null)}function So(i){0==i.l.H||i.J||ho(i.l,i)}function qi(i){ko(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ut(i.V),Oe(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ws(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Ar(r.i,i)))if(!i.K&&Ar(r.i,i)&&3==r.H){try{var o=r.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;Ho(r),Cr(r)}Yi(r),it(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&0==r.A&&!r.v&&(r.v=vt(ie(r.ib,r),6e3));if(1>=gc(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Ns(r,11)}else if((i.K||r.g==i)&&Ho(r),!Pt(e))for(u=r.Ja.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(r.V=Z[0],Z=Z[1],2==r.H)if("c"==Z[0]){r.K=Z[1],r.pa=Z[2];const fe=Z[3];null!=fe&&(r.ra=fe,r.l.info("VER="+r.ra));const Le=Z[4];null!=Le&&(r.Ga=Le,r.l.info("SVER="+r.Ga));const _t=Z[5];null!=_t&&"number"==typeof _t&&0<_t&&(r.L=o=1.5*_t,r.l.info("backChannelRequestTimeoutMs_="+o)),o=r;const kt=i.g;if(kt){const Dn=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dn){var p=o.i;p.g||-1==Dn.indexOf("spdy")&&-1==Dn.indexOf("quic")&&-1==Dn.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(Si(p,p.h),p.h=null))}if(o.F){const Ln=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ln&&(o.Da=Ln,xi(o.I,o.F,Ln))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var y=i;if((o=r).wa=Su(o,o.J?o.pa:null,o.Y),y.K){Gi(o.i,y);var x=y,L=o.L;L&&x.setTimeout(L),x.B&&(ko(x),Ds(x)),o.g=y}else Aa(o);0<r.j.length&&uo(r)}else"stop"!=Z[0]&&"close"!=Z[0]||Ns(r,7);else 3==r.H&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Ns(r,7):To(r):"noop"!=Z[0]&&r.h&&r.h.Aa(Z),r.A=0)}ne()}catch{}}function jr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(U(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function Ss(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(U(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const o in i)e[r++]=o;return e}}}(i),o=function qs(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(U(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],r&&r[p],i)}(ye=Ee.prototype).setTimeout=function(i){this.P=i},ye.nb=function(i){i=i.target;const e=this.M;e&&3==rs(i)?e.l():this.Pa(i)},ye.Pa=function(i){try{if(i==this.g)e:{const fe=rs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>fe)&&(3!=fe||Qn||this.g&&(this.h.h||this.g.ja()||$o(this.g)))){this.J||4!=fe||7==e||ne(),ko(this);var r=this.g.da();this.ca=r;t:if(xr(this)){var o=$o(this.g);i="";var u=o.length,p=4==rs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),So(this);var y="";break t}this.h.i=new nt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==r,function pt(i,e,r,o,u,p,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+p+" "+y})}(this.j,this.u,this.A,this.m,this.W,fe,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var x,L=this.g;if((x=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(x)){var Z=x;break t}}Z=null}if(!(r=Z)){this.i=!1,this.o=3,it(12),qi(this),So(this);break e}Vt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ws(this,r)}this.S?(ts(this,fe,y),Qn&&this.i&&3==fe&&(_e(this.U,this.V,"tick",this.mb),this.V.start())):(Vt(this.j,this.m,y,null),Ws(this,y)),4==fe&&qi(this),this.i&&!this.J&&(4==fe?ho(this.l,this):(this.i=!1,Ds(this)))}else(function Os(i){const e={};i=(i.g&&2<=rs(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Pt(i[o]))continue;var r=jn(i[o]);const u=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const p=e[u]||[];e[u]=p,p.push(r)}!function fi(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(o){return o.join(", ")})})(this.g),400==r&&0<y.indexOf("Unknown SID")?(this.o=3,it(12)):(this.o=0,it(13)),qi(this),So(this)}}}catch{}},ye.mb=function(){if(this.g){var i=rs(this.g),e=this.g.ja();this.C<e.length&&(ko(this),ts(this,i,e),this.i&&4!=i&&Ds(this))}},ye.cancel=function(){this.J=!0,qi(this)},ye.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function $t(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ne(),it(17)),qi(this),this.o=2,So(this)):Ca(this,this.Y-i)};var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Io){this.h=i.h,ns(this,i.j),this.s=i.s,this.g=i.g,wa(this,i.m),this.l=i.l;var e=i.i,r=new co;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),ia(this,r),this.o=i.o}else i&&(e=String(i).match(Lo))?(this.h=!1,ns(this,e[1]||"",!0),this.s=Fo(e[2]||""),this.g=Fo(e[3]||"",!0),wa(this,e[4]),this.l=Fo(e[5]||"",!0),ia(this,e[6]||"",!0),this.o=Fo(e[7]||"")):(this.h=!1,this.i=new co(null,this.h))}function Rs(i){return new Io(i)}function ns(i,e,r){i.j=r?Fo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function wa(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ia(i,e,r){e instanceof co?(i.i=e,function pc(i,e){e&&!i.j&&(Vo(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(Ta(this,o),Bo(this,u,r))},i)),i.j=e}(i.i,i.h)):(r||(e=Ro(e,wl)),i.i=new co(e,i.h))}function xi(i,e,r){i.i.set(e,r)}function sa(i){return xi(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Fo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ro(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Ys),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ys(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Io.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ro(e,fc,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ro(e,fc,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(Ro(r,"/"==r.charAt(0)?Cl:Co,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Ro(r,nh)),i.join("")};var fc=/[#\/\?@]/g,Co=/[#\?:]/g,Cl=/[#\?]/g,wl=/[#\?@]/g,nh=/#/g;function co(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vo(i){i.g||(i.g=new Map,i.h=0,i.i&&function ds(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var p=i[r].substring(0,o);u=i[r].substring(o+1)}else p=i[r];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Ta(i,e){Vo(i),e=Es(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Oi(i,e){return Vo(i),e=Es(i,e),i.g.has(e)}function Bo(i,e,r){Ta(i,e),0<r.length&&(i.i=null,i.g.set(Es(i,e),Ht(r)),i.h+=r.length)}function Es(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(ye=co.prototype).add=function(i,e){Vo(this),this.i=null,i=Es(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ye.forEach=function(i,e){Vo(this),this.g.forEach(function(r,o){r.forEach(function(u){i.call(e,u,o,this)},this)},this)},ye.ta=function(){Vo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const u=i[o];for(let p=0;p<u.length;p++)r.push(e[o])}return r},ye.Z=function(i){Vo(this);let e=[];if("string"==typeof i)Oi(this,i)&&(e=e.concat(this.g.get(Es(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},ye.set=function(i,e){return Vo(this),this.i=null,Oi(this,i=Es(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ye.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const p=encodeURIComponent(String(o)),y=this.Z(o);for(o=0;o<y.length;o++){var u=p;""!==y[o]&&(u+="="+encodeURIComponent(String(y[o]))),i.push(u)}}return this.i=i.join("&")};var jl=class{constructor(i,e){this.g=i,this.map=e}};function za(i){this.l=i||Uc,i=nt.PerformanceNavigationTiming?0<(i=nt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(nt.g&&nt.g.Ka&&nt.g.Ka()&&nt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Uc=10;function Ps(i){return!!i.h||!!i.g&&i.g.size>=i.j}function gc(i){return i.h?1:i.g?i.g.size:0}function Ar(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Si(i,e){i.g?i.g.add(e):i.h=e}function Gi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ms(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return Ht(i.i)}za.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var yi=class{stringify(i){return nt.JSON.stringify(i,void 0)}parse(i){return nt.JSON.parse(i,void 0)}};function Uo(){this.g=new yi}function Ks(i,e,r){const o=r||"";try{jr(i,function(u,p){let y=u;rt(u)&&(y=Pr(u)),e.push(o+p+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function oa(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function qa(i){this.l=i.ec||null,this.j=i.ob||!1}function Ri(i,e){kn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ve(qa,Xt),qa.prototype.g=function(){return new Ri(this.l,this.j)},qa.prototype.i=function(i){return function(){return i}}({}),Ve(Ri,kn);var wn=0;function fr(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function yr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,hs(i)}function hs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ye=Ri.prototype).open=function(i,e){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,hs(this)},ye.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yr(this)),this.readyState=wn},ye.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fr(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ye.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?yr(this):hs(this),3==this.readyState&&fr(this)}},ye.Za=function(i){this.g&&(this.response=this.responseText=i,yr(this))},ye.Ya=function(i){this.g&&(this.response=i,yr(this))},ye.ka=function(){this.g&&yr(this)},ye.setRequestHeader=function(i,e){this.v.append(i,e)},ye.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Y=nt.JSON.parse;function N(i){kn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ce,this.L=this.M=!1}Ve(N,kn);var Ce="",W=/^https?$/i,Me=["POST","PUT"];function _n(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ei(i),fs(i)}function Ei(i){i.F||(i.F=!0,hr(i,"complete"),hr(i,"error"))}function xs(i){if(i.h&&typeof ft<"u"&&(!i.C[1]||4!=rs(i)||2!=i.da()))if(i.v&&4==rs(i))Wt(i.La,0,i);else if(hr(i,"readystatechange"),4==rs(i)){i.h=!1;try{const y=i.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===y){var u=String(i.I).match(Lo)[1]||null;!u&&nt.self&&nt.self.location&&(u=nt.self.location.protocol.slice(0,-1)),o=!W.test(u?u.toLowerCase():"")}r=o}if(r)hr(i,"complete"),hr(i,"success");else{i.m=6;try{var p=2<rs(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.da()+"]",Ei(i)}}finally{fs(i)}}}function fs(i,e){if(i.g){ei(i);const r=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||hr(i,"ready");try{r.onreadystatechange=o}catch{}}}function ei(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(nt.clearTimeout(i.A),i.A=null)}function rs(i){return i.g?i.g.readyState:0}function $o(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ce:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(i){let e="";return ki(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}function Ya(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=wo(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):xi(i,e,r))}function is(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Da(i){this.Ga=0,this.j=[],this.l=new ee,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=is("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=is("baseRetryDelayMs",5e3,i),this.hb=is("retryDelaySeedMs",1e4,i),this.eb=is("forwardChannelMaxRetries",2,i),this.xa=is("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new za(i&&i.concurrentRequestLimit),this.Ja=new Uo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function To(i){if(Hl(i),3==i.H){var e=i.W++,r=Rs(i.I);if(xi(r,"SID",i.K),xi(r,"RID",e),xi(r,"TYPE","terminate"),Po(i,r),(e=new Ee(i,i.l,e)).L=2,e.v=sa(Rs(r)),r=!1,nt.navigator&&nt.navigator.sendBeacon)try{r=nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&nt.Image&&((new Image).src=e.v,r=!0),r||(e.g=la(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ds(e)}Au(i)}function Cr(i){i.g&&(ss(i),i.g.cancel(),i.g=null)}function Hl(i){Cr(i),i.u&&(nt.clearTimeout(i.u),i.u=null),Ho(i),i.i.cancel(),i.m&&("number"==typeof i.m&&nt.clearTimeout(i.m),i.m=null)}function uo(i){if(!Ps(i.i)&&!i.m){i.m=!0;var e=i.Na;Bn||Ye(),Yr||(Bn(),Yr=!0),dt.add(e,i),i.C=0}}function jo(i,e){var r;r=e?e.m:i.W++;const o=Rs(i.I);xi(o,"SID",i.K),xi(o,"RID",r),xi(o,"AID",i.V),Po(i,o),i.o&&i.s&&Ya(o,i.o,i.s),r=new Ee(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=$i(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Si(i.i,r),zr(r,o,e)}function Po(i,e){i.na&&ki(i.na,function(r,o){xi(e,o,r)}),i.h&&jr({},function(r,o){xi(e,o,r)})}function $i(i,e,r){r=Math.min(i.j.length,r);var o=i.h?ie(i.h.Va,i.h,i):null;e:{var u=i.j;let p=-1;for(;;){const y=["count="+r];-1==p?0<r?(p=u[0].g,y.push("ofs="+p)):p=0:y.push("ofs="+p);let x=!0;for(let L=0;L<r;L++){let Z=u[L].g;const fe=u[L].map;if(Z-=p,0>Z)p=Math.max(0,u[L].g-100),x=!1;else try{Ks(fe,y,"req"+Z+"_")}catch{o&&o(fe)}}if(x){o=y.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,o}function Aa(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Bn||Ye(),Yr||(Bn(),Yr=!0),dt.add(e,i),i.A=0}}function Yi(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=vt(ie(i.Ma,i),Zs(i,i.A)),i.A++,0))}function ss(i){null!=i.B&&(nt.clearTimeout(i.B),i.B=null)}function aa(i){i.g=new Ee(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Rs(i.wa);xi(e,"RID","rpc"),xi(e,"SID",i.K),xi(e,"AID",i.V),xi(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&xi(e,"TO",i.qa),xi(e,"TYPE","xmlhttp"),Po(i,e),i.o&&i.s&&Ya(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.v=sa(Rs(e)),r.s=null,r.S=!0,Ti(r,i)}function Ho(i){null!=i.v&&(nt.clearTimeout(i.v),i.v=null)}function ho(i,e){var r=null;if(i.g==e){Ho(i),ss(i),i.g=null;var o=2}else{if(!Ar(i.i,e))return;r=e.F,Gi(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;hr(o=wr(),new Mt(o,r)),uo(i)}else Aa(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function ba(i,e){return!(gc(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=vt(ie(i.Na,i,e),Zs(i,i.C)),i.C++,0)))}(i,e)||2==o&&Yi(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:Ns(i,5);break;case 4:Ns(i,10);break;case 3:Ns(i,6);break;default:Ns(i,2)}}function Zs(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Ns(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var o=ie(i.pb,i);r||(r=new Io("//www.google.com/images/cleardot.gif"),nt.location&&"http"==nt.location.protocol||ns(r,"https"),sa(r)),function Wa(i,e){const r=new ee;if(nt.Image){const o=new Image;o.onload=he(oa,r,o,"TestLoadImage: loaded",!0,e),o.onerror=he(oa,r,o,"TestLoadImage: error",!1,e),o.onabort=he(oa,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=he(oa,r,o,"TestLoadImage: timeout",!1,e),nt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else it(2);i.H=0,i.h&&i.h.za(e),Au(i),Hl(i)}function Au(i){if(i.H=0,i.ma=[],i.h){const e=Ms(i.i);(0!=e.length||0!=i.j.length)&&(St(i.ma,e),St(i.ma,i.j),i.i.i.length=0,Ht(i.j),i.j.length=0),i.h.ya()}}function Su(i,e,r){var o=r instanceof Io?Rs(r):new Io(r);if(""!=o.g)e&&(o.g=e+"."+o.g),wa(o,o.m);else{var u=nt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Io(null);o&&ns(p,o),e&&(p.g=e),u&&wa(p,u),r&&(p.l=r),o=p}return e=i.Da,(r=i.F)&&e&&xi(o,r,e),xi(o,"VER",i.ra),Po(i,o),o}function la(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new N(r&&i.Ha&&!i.va?new qa({ob:!0}):i.va)).Oa(i.J),e}function Sa(){}function Gl(){if(lr&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function bs(i,e){kn.call(this),this.g=new Da(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Pt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ka(this)}function Is(i){pr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Tl(){Mr.call(this),this.status=1}function Ka(i){this.g=i}function ji(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P(i,e,r){r||(r=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(u=0;16>u;++u)o[u]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var p=i.g[3],y=(e=i.g[0])+(p^(r=i.g[1])&((u=i.g[2])^p))+o[0]+3614090360&4294967295;y=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=r+(y<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(u^p&(r^u))+o[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(r^u^p)+o[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(u^(r|~p))+o[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(r|~p))+o[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(r|~p))+o[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((p=(e=r+((y=e+(u^(r|~p))+o[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((u=p+((y=u+(e^(p|~r))+o[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(y<<21&4294967295|y>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+p&4294967295}function G(i,e){this.h=e;for(var r=[],o=!0,u=i.length-1;0<=u;u--){var p=0|i[u];o&&p==e||(r[u]=p,o=!1)}this.g=r}(ye=N.prototype).Oa=function(i){this.M=i},ye.ha=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=function qt(i){return i.h||(i.h=i.i())}(this.u?this.u:Jr),this.g.onreadystatechange=ie(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(p){return void _n(this,p)}if(i=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)r.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())r.set(p,o.get(p))}o=Array.from(r.keys()).find(p=>"content-type"==p.toLowerCase()),u=nt.FormData&&i instanceof nt.FormData,!(0<=jt(Me,e))||o||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,y]of r)this.g.setRequestHeader(p,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ei(this),0<this.B&&((this.L=function hn(i){return lr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ie(this.ua,this)):this.A=Wt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){_n(this,p)}},ye.ua=function(){typeof ft<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hr(this,"timeout"),this.abort(8))},ye.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,hr(this,"complete"),hr(this,"abort"),fs(this))},ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fs(this,!0)),N.$.N.call(this)},ye.La=function(){this.s||(this.G||this.v||this.l?xs(this):this.kb())},ye.kb=function(){xs(this)},ye.isActive=function(){return!!this.g},ye.da=function(){try{return 2<rs(this)?this.g.status:-1}catch{return-1}},ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ye.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Y(e)}},ye.Ia=function(){return this.m},ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=Da.prototype).ra=8,ye.H=1,ye.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Ee(this,this.l,i);let p=this.s;if(this.U&&(p?(p=Gr(p),ii(p,this.U)):p=this.U),null!==this.o||this.O||(u.I=p,p=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var o=this.j[r];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=$i(this,u,e),xi(r=Rs(this.I),"RID",i),xi(r,"CVER",22),this.F&&xi(r,"X-HTTP-Session-Id",this.F),Po(this,r),p&&(this.O?e="headers="+encodeURIComponent(String(wo(p)))+"&"+e:this.o&&Ya(r,this.o,p)),Si(this.i,u),this.bb&&xi(r,"TYPE","init"),this.P?(xi(r,"$req",e),xi(r,"SID","null"),u.aa=!0,zr(u,r,null)):zr(u,r,e),this.H=2}}else 3==this.H&&(i?jo(this,i):0==this.j.length||Ps(this.i)||jo(this))},ye.Ma=function(){if(this.u=null,aa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=vt(ie(this.jb,this),i)}},ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,it(10),Cr(this),aa(this))},ye.ib=function(){null!=this.v&&(this.v=null,Cr(this),Yi(this),it(19))},ye.pb=function(i){i?(this.l.info("Successfully pinged google.com"),it(2)):(this.l.info("Failed to ping google.com"),it(1))},ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(ye=Sa.prototype).Ba=function(){},ye.Aa=function(){},ye.za=function(){},ye.ya=function(){},ye.isActive=function(){return!0},ye.Va=function(){},Gl.prototype.g=function(i,e){return new bs(i,e)},Ve(bs,kn),bs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;it(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=Su(i,null,i.Y),uo(i)},bs.prototype.close=function(){To(this.g)},bs.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=Pr(i),i=r);e.j.push(new jl(e.fb++,i)),3==e.H&&uo(e)},bs.prototype.N=function(){this.g.h=null,delete this.j,To(this.g),delete this.g,bs.$.N.call(this)},Ve(Is,pr),Ve(Tl,Mr),Ve(Ka,Sa),Ka.prototype.Ba=function(){hr(this.g,"a")},Ka.prototype.Aa=function(i){hr(this.g,new Is(i))},Ka.prototype.za=function(i){hr(this.g,new Tl)},Ka.prototype.ya=function(){hr(this.g,"b")},Ve(ji,function Qs(){this.blockSize=-1}),ji.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ji.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,o=this.m,u=this.h,p=0;p<e;){if(0==u)for(;p<=r;)P(this,i,p),p+=this.blockSize;if("string"==typeof i){for(;p<e;)if(o[u++]=i.charCodeAt(p++),u==this.blockSize){P(this,o),u=0;break}}else for(;p<e;)if(o[u++]=i[p++],u==this.blockSize){P(this,o),u=0;break}}this.h=u,this.i+=e},ji.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var o=0;32>o;o+=8)i[r++]=this.g[e]>>>o&255;return i};var Be={};function j(i){return-128<=i&&128>i?function zn(i,e){var r=Be;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new G([0|e],0>e?-1:0)}):new G([0|i],0>i?-1:0)}function Ie(i){if(isNaN(i)||!isFinite(i))return an;if(0>i)return Dr(Ie(-i));for(var e=[],r=1,o=0;i>=r;o++)e[o]=i/r|0,r*=Gt;return new G(e,0)}var Gt=4294967296,an=j(0),Tr=j(1),Br=j(16777216);function ur(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function vr(i){return-1==i.h}function Dr(i){for(var e=i.g.length,r=[],o=0;o<e;o++)r[o]=~i.g[o];return new G(r,~i.h).add(Tr)}function Fr(i,e){return i.add(Dr(e))}function Ji(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ks(i,e){this.g=i,this.h=e}function Ls(i,e){if(ur(e))throw Error("division by zero");if(ur(i))return new ks(an,an);if(vr(i))return e=Ls(Dr(i),e),new ks(Dr(e.g),Dr(e.h));if(vr(e))return e=Ls(i,Dr(e)),new ks(Dr(e.g),e.h);if(30<i.g.length){if(vr(i)||vr(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Tr,o=e;0>=o.X(i);)r=Za(r),o=Za(o);var u=Xs(r,1),p=Xs(o,1);for(o=Xs(o,2),r=Xs(r,2);!ur(o);){var y=p.add(o);0>=y.X(i)&&(u=u.add(r),p=y),o=Xs(o,1),r=Xs(r,1)}return e=Fr(i,u.R(e)),new ks(u,e)}for(u=an;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,o-48),y=(p=Ie(r)).R(e);vr(y)||0<y.X(i);)y=(p=Ie(r-=o)).R(e);ur(p)&&(p=Tr),u=u.add(p),i=Fr(i,y)}return new ks(u,i)}function Za(i){for(var e=i.g.length+1,r=[],o=0;o<e;o++)r[o]=i.D(o)<<1|i.D(o-1)>>>31;return new G(r,i.h)}function Xs(i,e){var r=e>>5;e%=32;for(var o=i.g.length-r,u=[],p=0;p<o;p++)u[p]=0<e?i.D(p+r)>>>e|i.D(p+r+1)<<32-e:i.D(p+r);return new G(u,i.h)}(ye=G.prototype).ea=function(){if(vr(this))return-Dr(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var o=this.D(r);i+=(0<=o?o:Gt+o)*e,e*=Gt}return i},ye.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(ur(this))return"0";if(vr(this))return"-"+Dr(this).toString(i);for(var e=Ie(Math.pow(i,6)),r=this,o="";;){var u=Ls(r,e).g,p=((0<(r=Fr(r,u.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(ur(r=u))return p+o;for(;6>p.length;)p="0"+p;o=p+o}},ye.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ye.X=function(i){return vr(i=Fr(this,i))?-1:ur(i)?0:1},ye.abs=function(){return vr(this)?Dr(this):this},ye.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0,u=0;u<=e;u++){var p=o+(65535&this.D(u))+(65535&i.D(u)),y=(p>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=y>>>16,r[u]=(y&=65535)<<16|(p&=65535)}return new G(r,-2147483648&r[r.length-1]?-1:0)},ye.R=function(i){if(ur(this)||ur(i))return an;if(vr(this))return vr(i)?Dr(this).R(Dr(i)):Dr(Dr(this).R(i));if(vr(i))return Dr(this.R(Dr(i)));if(0>this.X(Br)&&0>i.X(Br))return Ie(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],o=0;o<2*e;o++)r[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var p=this.D(o)>>>16,y=65535&this.D(o),x=i.D(u)>>>16,L=65535&i.D(u);r[2*o+2*u]+=y*L,Ji(r,2*o+2*u),r[2*o+2*u+1]+=p*L,Ji(r,2*o+2*u+1),r[2*o+2*u+1]+=y*x,Ji(r,2*o+2*u+1),r[2*o+2*u+2]+=p*x,Ji(r,2*o+2*u+2)}for(o=0;o<e;o++)r[o]=r[2*o+1]<<16|r[2*o];for(o=e;o<2*e;o++)r[o]=0;return new G(r,0)},ye.gb=function(i){return Ls(this,i).h},ye.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)&i.D(o);return new G(r,this.h&i.h)},ye.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)|i.D(o);return new G(r,this.h|i.h)},ye.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)^i.D(o);return new G(r,this.h^i.h)},Gl.prototype.createWebChannel=Gl.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,Zt.NO_ERROR=0,Zt.TIMEOUT=8,Zt.HTTP_ERROR=6,ln.COMPLETE="complete",vn.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",kn.prototype.listen=kn.prototype.O,N.prototype.listenOnce=N.prototype.P,N.prototype.getLastError=N.prototype.Sa,N.prototype.getLastErrorCode=N.prototype.Ia,N.prototype.getStatus=N.prototype.da,N.prototype.getResponseJson=N.prototype.Wa,N.prototype.getResponseText=N.prototype.ja,N.prototype.send=N.prototype.ha,N.prototype.setWithCredentials=N.prototype.Oa,ji.prototype.digest=ji.prototype.l,ji.prototype.reset=ji.prototype.reset,ji.prototype.update=ji.prototype.j,G.prototype.add=G.prototype.add,G.prototype.multiply=G.prototype.R,G.prototype.modulo=G.prototype.gb,G.prototype.compare=G.prototype.X,G.prototype.toNumber=G.prototype.ea,G.prototype.toString=G.prototype.toString,G.prototype.getBits=G.prototype.D,G.fromNumber=Ie,G.fromString=function tt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Dr(tt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ie(Math.pow(e,8)),o=an,u=0;u<i.length;u+=8){var p=Math.min(8,i.length-u),y=parseInt(i.substring(u,u+p),e);8>p?(p=Ie(Math.pow(e,p)),o=o.R(p).add(Ie(y))):o=(o=o.R(r)).add(Ie(y))}return o};var Fs=we.createWebChannelTransport=function(){return new Gl},Ra=we.getStatEventTarget=function(){return wr()},Do=we.ErrorCode=Zt,Qa=we.EventType=ln,ef=we.Event=Fn,Js=we.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ru=we.FetchXmlHttpFactory=qa,Xa=we.WebChannel=vn,Li=we.XhrIo=N,ud=we.Md5=ji,Pa=we.Integer=G;const eo="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Vs="10.5.2";const Bs=new Fe.Yd("@firebase/firestore");function os(){return Bs.logLevel}function fn(i,...e){if(Bs.logLevel<=Fe.in.DEBUG){const r=e.map(dd);Bs.debug(`Firestore (${Vs}): ${i}`,...r)}}function ls(i,...e){if(Bs.logLevel<=Fe.in.ERROR){const r=e.map(dd);Bs.error(`Firestore (${Vs}): ${i}`,...r)}}function Ki(i,...e){if(Bs.logLevel<=Fe.in.WARN){const r=e.map(dd);Bs.warn(`Firestore (${Vs}): ${i}`,...r)}}function dd(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Yn(i="Unexpected state"){const e=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: `+i;throw ls(e),new Error(e)}function nr(i,e){i||Yn()}function Mn(i,e){return i}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends me.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class ih{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ii.UNAUTHENTICATED))}shutdown(){}}class Pu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class sh{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const p=Z=>this.i!==u?(u=this.i,r(Z)):Promise.resolve();let y=new or;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new or,e.enqueueRetryable(()=>p(this.currentUser))};const x=()=>{const Z=y;e.enqueueRetryable((0,De.Z)(function*(){yield Z.promise,yield p(o.currentUser)}))},L=Z=>{fn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Z=>L(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?L(Z):(fn("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new or)}},0),x()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(fn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(nr("string"==typeof o.accessToken),new ih(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nr(null===e||"string"==typeof e),new Ii(e)}}class Ma{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Mu{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Ma(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=p=>{null!=p.error&&fn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const y=p.token!==this.R;return this.R=p.token,fn("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{fn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):fn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(nr("string"==typeof r.token),this.R=r.token,new zl(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cs(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}class hd{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=cs(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function Sr(i,e){return i<e?-1:i>e?1:0}function Qt(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function ti(i){return i+"\0"}class zi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new en(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new en(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new en(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new en(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new zi(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sr(this.nanoseconds,e.nanoseconds):Sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rr(e)}static min(){return new rr(new zi(0,0))}static max(){return new rr(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pi{constructor(e,r,o){void 0===r?r=0:r>e.length&&Yn(),void 0===o?o=e.length-r:o>e.length-r&&Yn(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===pi.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const p=e.get(u),y=r.get(u);if(p<y)return-1;if(p>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class si extends pi{construct(e,r,o){return new si(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new en(Lt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new si(r)}static emptyPath(){return new si([])}}const Dl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends pi{construct(e,r,o){return new Kr(e,r,o)}static isValidIdentifier(e){return Dl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const p=()=>{if(0===o.length)throw new en(Lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let y=!1;for(;u<e.length;){const x=e[u];if("\\"===x){if(u+1===e.length)throw new en(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new en(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===x?(y=!y,u++):"."!==x||y?(o+=x,u++):(p(),u++)}if(p(),y)throw new en(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(r)}static emptyPath(){return new Kr([])}}class An{constructor(e){this.path=e}static fromPath(e){return new An(si.fromString(e))}static fromName(e){return new An(si.fromString(e).popFirst(5))}static empty(){return new An(si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===si.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return si.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new An(new si(e.slice()))}}class Go{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function fd(i){return i.fields.find(e=>2===e.kind)}function bl(i){return i.fields.filter(e=>2!==e.kind)}Go.UNKNOWN_ID=-1;class Zi{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ja{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ja(0,zo.min())}}function ua(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=rr.fromTimestamp(1e9===o?new zi(r+1,0):new zi(r,o));return new zo(u,An.empty(),e)}function xa(i){return new zo(i.readTime,i.key,-1)}class zo{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new zo(rr.min(),An.empty(),-1)}static max(){return new zo(rr.max(),An.empty(),-1)}}function gd(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=An.comparator(i.documentKey,e.documentKey),0!==r?r:Sr(i.largestBatchId,e.largestBatchId))}const Wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class b{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function M(i){return k.apply(this,arguments)}function k(){return k=(0,De.Z)(function*(i){if(i.code!==Lt.FAILED_PRECONDITION||i.message!==Wl)throw i;fn("LocalStore","Unexpectedly lost primary lease")}),k.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Yn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new w((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof w?r:w.resolve(r)}catch(r){return w.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):w.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):w.reject(r)}static resolve(e){return new w((r,o)=>{r(e)})}static reject(e){return new w((r,o)=>{o(e)})}static waitFor(e){return new w((r,o)=>{let u=0,p=0,y=!1;e.forEach(x=>{++u,x.next(()=>{++p,y&&p===u&&r()},L=>o(L))}),y=!0,p===u&&r()})}static or(e){let r=w.resolve(!1);for(const o of e)r=r.next(u=>u?w.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,p)=>{o.push(r.call(this,u,p))}),this.waitFor(o)}static mapArray(e,r){return new w((o,u)=>{const p=e.length,y=new Array(p);let x=0;for(let L=0;L<p;L++){const Z=L;r(e[Z]).next(fe=>{y[Z]=fe,++x,x===p&&o(y)},fe=>u(fe))}})}static doWhile(e,r){return new w((o,u)=>{const p=()=>{!0===e()?r().next(()=>{p()},u):o()};p()})}}class B{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new or,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ct(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=di(o.target.error);this.V.reject(new Ct(e,u))}}static open(e,r,o,u){try{return new B(r,e.transaction(u,o))}catch(p){throw new Ct(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(fn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new yt(r)}}class ae{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===ae.S((0,me.z$)())&&ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fn("SimpleDb","Removing database:",e),rn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,me.hl)())return!1;if(ae.C())return!0;const e=(0,me.z$)(),r=ae.S(e),o=0<r&&r<10,u=ae.v(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var r=this;return(0,De.Z)(function*(){return r.db||(fn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=y=>{o(y.target.result)},p.onblocked=()=>{u(new Ct(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=y=>{const x=y.target.error;u("VersionError"===x.name?new en(Lt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new en(Lt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new Ct(e,x))},p.onupgradeneeded=y=>{fn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.N(y.target.result,p.transaction,y.oldVersion,r.version).next(()=>{fn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=o=>r.B(o)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var p=this;return(0,De.Z)(function*(){const y="readonly"===r;let x=0;for(;;){++x;try{p.db=yield p.O(e);const L=B.open(p.db,e,y?"readonly":"readwrite",o),Z=u(L).next(fe=>(L.g(),fe)).catch(fe=>(L.abort(fe),w.reject(fe))).toPromise();return Z.catch(()=>{}),yield L.m,Z}catch(L){const Z=L,fe="FirebaseError"!==Z.name&&x<3;if(fn("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",fe),p.close(),!fe)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Pe{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return rn(this.k.delete())}}class Ct extends en{constructor(e,r){super(Lt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function cn(i){return"IndexedDbTransactionError"===i.name}class yt{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(fn("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(fn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),rn(o)}add(e){return fn("SimpleDb","ADD",this.store.name,e,e),rn(this.store.add(e))}get(e){return rn(this.store.get(e)).next(r=>(void 0===r&&(r=null),fn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return fn("SimpleDb","DELETE",this.store.name,e),rn(this.store.delete(e))}count(){return fn("SimpleDb","COUNT",this.store.name),rn(this.store.count())}W(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.G(u,(y,x)=>{p.push(x)}).next(()=>p)}{const u=this.store.getAll(o.range);return new w((p,y)=>{u.onerror=x=>{y(x.target.error)},u.onsuccess=x=>{p(x.target.result)}})}}j(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new w((u,p)=>{o.onerror=y=>{p(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}H(e,r){fn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.J=!1;const u=this.cursor(o);return this.G(u,(p,y,x)=>x.delete())}Y(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.G(u,r)}Z(e){const r=this.cursor({});return new w((o,u)=>{r.onerror=p=>{const y=di(p.target.error);u(y)},r.onsuccess=p=>{const y=p.target.result;y?e(y.primaryKey,y.value).next(x=>{x?y.continue():o()}):o()}})}G(e,r){const o=[];return new w((u,p)=>{e.onerror=y=>{p(y.target.error)},e.onsuccess=y=>{const x=y.target.result;if(!x)return void u();const L=new Pe(x),Z=r(x.primaryKey,x.value,L);if(Z instanceof w){const fe=Z.catch(Le=>(L.done(),w.reject(Le)));o.push(fe)}L.isDone?u():null===L.$?x.continue():x.continue(L.$)}}).next(()=>w.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function rn(i){return new w((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=di(o.target.error);r(u)}})}let Rn=!1;function di(i){const e=ae.S((0,me.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new en("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rn||(Rn=!0,setTimeout(()=>{throw o},0)),o}}return i}class gr{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;fn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){r.task=null;try{fn("IndexBackiller",`Documents written: ${yield r.X.te()}`)}catch(o){cn(o)?fn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield M(o)}yield r.ee(6e4)}))}}class gi{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,De.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.ne(o,e))})()}ne(e,r){const o=new Set;let u=r,p=!0;return w.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!o.has(y))return fn("IndexBackiller",`Processing collection: ${y}`),this.re(e,y,u).next(x=>{u-=x,o.add(y)});p=!1})).next(()=>r-u)}re(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(p=>{const y=p.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ie(u,p)).next(x=>(fn("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,r,x))).next(()=>y.size)}))}ie(e,r){let o=e;return r.changes.forEach((u,p)=>{const y=xa(p);gd(y,o)>0&&(o=y)}),new zo(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Hi=(()=>{class i{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function ni(i){return null==i}function Oa(i){return 0===i&&1/i==-1/0}function Pi(i){return"number"==typeof i&&Number.isInteger(i)&&!Oa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function dr(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=el(e)),e=fo(i.get(r),e);return el(e)}function fo(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function el(i){return i+"\x01\x01"}function da(i){const e=i.length;if(nr(e>=2),2===e)return nr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),si.emptyPath();const r=e-2,o=[];let u="";for(let p=0;p<e;){const y=i.indexOf("\x01",p);switch((y<0||y>r)&&Yn(),i.charAt(y+1)){case"\x01":const x=i.substring(p,y);let L;0===u.length?L=x:(u+=x,L=u,u=""),o.push(L);break;case"\x10":u+=i.substring(p,y),u+="\0";break;case"\x11":u+=i.substring(p,y+1);break;default:Yn()}p=y+2}return new si(o)}const to=["userId","batchId"];function tl(i,e){return[i,dr(e)]}function oh(i,e,r){return[i,dr(e),r]}const Hc={},Gc=["prefixPath","collectionGroup","readTime","documentId"],Al=["prefixPath","collectionGroup","documentId"],zc=["collectionGroup","readTime","prefixPath","documentId"],Sl=["canonicalId","targetId"],mc=["targetId","path"],ah=["path","targetId"],xu=["collectionId","parent"],md=["indexId","uid"],Xp=["uid","sequenceNumber"],Ou=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_c=["indexId","uid","orderedDocumentKey"],oi=["userId","collectionPath","documentId"],lh=["userId","collectionPath","largestBatchId"],_d=["userId","collectionGroup","largestBatchId"],Hf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wo=[...Hf,"documentOverlays"],ql=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qo=ql,Wc=[...qo,"indexConfiguration","indexState","indexEntries"];class no extends b{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function es(i,e){const r=Mn(i);return ae.M(r.ae,e)}function tf(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function nl(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function vd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Fi{constructor(e,r){this.comparator=e,this.root=r||ro.EMPTY}insert(e,r){return new Fi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,r,o,u,p){this.key=e,this.value=r,this.color=null!=o?o:ro.RED,this.left=null!=u?u:ro.EMPTY,this.right=null!=p?p:ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,p){return new ro(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return ro.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yn();const e=this.left.check();if(e!==this.right.check())throw Yn();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Yn()}get value(){throw Yn()}get color(){throw Yn()}get left(){throw Yn()}get right(){throw Yn()}copy(e,r,o,u,p){return this}insert(e,r,o){return new ro(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Nu(this.data.getIterator())}getIteratorFrom(e){return new Nu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ai(this.comparator);return r.data=e,r}}class Nu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yl(i){return i.hasNext()?i.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new po([])}unionWith(e){let r=new ai(Kr.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new po(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Qt(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class ch extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new ch("Invalid base64 string: "+p):p}}(e);return new Vr(r)}static fromUint8Array(e){const r=function(u){let p="";for(let y=0;y<u.length;++y)p+=String.fromCharCode(u[y]);return p}(e);return new Vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const Gf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(i){if(nr(!!i),"string"==typeof i){let e=0;const r=Gf.exec(i);if(nr(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Qi(i.seconds),nanos:Qi(i.nanos)}}function Qi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function il(i){return"string"==typeof i?Vr.fromBase64String(i):Vr.fromUint8Array(i)}function Yo(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function io(i){const e=i.mapValue.fields.__previous_value__;return Yo(e)?io(e):e}function sl(i){const e=rl(i.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}class kr{constructor(e,r,o,u,p,y,x,L,Z){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=y,this.autoDetectLongPolling=x,this.longPollingOptions=L,this.useFetchStreams=Z}}class ol{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},al={nullValue:"NULL_VALUE"};function Or(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yo(i)?4:hh(i)?9007199254740991:10:Yn()}function ha(i,e){if(i===e)return!0;const r=Or(i);if(r!==Or(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sl(i).isEqual(sl(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const y=rl(u.timestampValue),x=rl(p.timestampValue);return y.seconds===x.seconds&&y.nanos===x.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return p=e,il(i.bytesValue).isEqual(il(p.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,p){return Qi(u.geoPointValue.latitude)===Qi(p.geoPointValue.latitude)&&Qi(u.geoPointValue.longitude)===Qi(p.geoPointValue.longitude)}(i,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Qi(u.integerValue)===Qi(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const y=Qi(u.doubleValue),x=Qi(p.doubleValue);return y===x?Oa(y)===Oa(x):isNaN(y)&&isNaN(x)}return!1}(i,e);case 9:return Qt(i.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:return function(u,p){const y=u.mapValue.fields||{},x=p.mapValue.fields||{};if(tf(y)!==tf(x))return!1;for(const L in y)if(y.hasOwnProperty(L)&&(void 0===x[L]||!ha(y[L],x[L])))return!1;return!0}(i,e);default:return Yn()}var p}function qc(i,e){return void 0!==(i.values||[]).find(r=>ha(r,e))}function fa(i,e){if(i===e)return 0;const r=Or(i),o=Or(e);if(r!==o)return Sr(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Sr(i.booleanValue,e.booleanValue);case 2:return function(p,y){const x=Qi(p.integerValue||p.doubleValue),L=Qi(y.integerValue||y.doubleValue);return x<L?-1:x>L?1:x===L?0:isNaN(x)?isNaN(L)?0:-1:1}(i,e);case 3:return rf(i.timestampValue,e.timestampValue);case 4:return rf(sl(i),sl(e));case 5:return Sr(i.stringValue,e.stringValue);case 6:return function(p,y){const x=il(p),L=il(y);return x.compareTo(L)}(i.bytesValue,e.bytesValue);case 7:return function(p,y){const x=p.split("/"),L=y.split("/");for(let Z=0;Z<x.length&&Z<L.length;Z++){const fe=Sr(x[Z],L[Z]);if(0!==fe)return fe}return Sr(x.length,L.length)}(i.referenceValue,e.referenceValue);case 8:return function(p,y){const x=Sr(Qi(p.latitude),Qi(y.latitude));return 0!==x?x:Sr(Qi(p.longitude),Qi(y.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(p,y){const x=p.values||[],L=y.values||[];for(let Z=0;Z<x.length&&Z<L.length;++Z){const fe=fa(x[Z],L[Z]);if(fe)return fe}return Sr(x.length,L.length)}(i.arrayValue,e.arrayValue);case 10:return function(p,y){if(p===so.mapValue&&y===so.mapValue)return 0;if(p===so.mapValue)return 1;if(y===so.mapValue)return-1;const x=p.fields||{},L=Object.keys(x),Z=y.fields||{},fe=Object.keys(Z);L.sort(),fe.sort();for(let Le=0;Le<L.length&&Le<fe.length;++Le){const _t=Sr(L[Le],fe[Le]);if(0!==_t)return _t;const kt=fa(x[L[Le]],Z[fe[Le]]);if(0!==kt)return kt}return Sr(L.length,fe.length)}(i.mapValue,e.mapValue);default:throw Yn()}}function rf(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Sr(i,e);const r=rl(i),o=rl(e),u=Sr(r.seconds,o.seconds);return 0!==u?u:Sr(r.nanos,o.nanos)}function pa(i){return ll(i)}function ll(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=rl(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?il(i.bytesValue).toBase64():"referenceValue"in i?An.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",u=!0;for(const p of r.values||[])u?u=!1:o+=",",o+=ll(p);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const y of o)p?p=!1:u+=",",u+=`${y}:${ll(r.fields[y])}`;return u+"}"}(i.mapValue):Yn()}function Na(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rl(i){return!!i&&"integerValue"in i}function ka(i){return!!i&&"arrayValue"in i}function uh(i){return!!i&&"nullValue"in i}function Pl(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function yd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return nl(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=yd(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yd(i.arrayValue.values[r]);return e}return Object.assign({},i)}function hh(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function zf(i){return"nullValue"in i?al:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Na(ol.empty(),An.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Yn()}function hm(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Na(ol.empty(),An.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?so:Yn()}function sf(i,e){const r=fa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Jp(i,e){const r=fa(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Us{constructor(e){this.value=e}static empty(){return new Us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!dh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(r)}setAll(e){let r=Kr.emptyPath(),o={},u=[];e.forEach((y,x)=>{if(!r.isImmediateParentOf(x)){const L=this.getFieldsMap(r);this.applyChanges(L,o,u),o={},u=[],r=x.popLast()}y?o[x.lastSegment()]=yd(y):u.push(x.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,u)}delete(e){const r=this.field(e.popLast());dh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];dh(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){nl(r,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new Us(yd(this.value))}}function vc(i){const e=[];return nl(i.fields,(r,o)=>{const u=new Kr([r]);if(dh(o)){const p=vc(o.mapValue).fields;if(0===p.length)e.push(u);else for(const y of p)e.push(u.child(y))}else e.push(u)}),new po(e)}class Xi{constructor(e,r,o,u,p,y,x){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=p,this.data=y,this.documentState=x}static newInvalidDocument(e){return new Xi(e,0,rr.min(),rr.min(),rr.min(),Us.empty(),0)}static newFoundDocument(e,r,o,u){return new Xi(e,1,r,rr.min(),o,u,0)}static newNoDocument(e,r){return new Xi(e,2,r,rr.min(),rr.min(),Us.empty(),0)}static newUnknownDocument(e,r){return new Xi(e,3,r,rr.min(),rr.min(),Us.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cl{constructor(e,r){this.position=e,this.inclusive=r}}function ps(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],y=i.position[u];if(o=p.field.isKeyField()?An.comparator(An.fromName(y.referenceValue),r.key):fa(y,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Ed(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!ha(i.position[r],e.position[r]))return!1;return!0}class Ko{constructor(e,r="asc"){this.field=e,this.dir=r}}function af(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class go{}class Wr extends go{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ul(e,r,o):"array-contains"===r?new xl(e,o):"in"===r?new Wf(e,o):"not-in"===r?new fm(e,o):"array-contains-any"===r?new Zc(e,o):new Wr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new fh(e,o):new Kl(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(fa(r,this.value)):null!==r&&Or(this.value)===Or(r)&&this.matchesComparison(fa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends go{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new Mi(e,r)}matches(e){return Ml(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ml(i){return"and"===i.op}function Yc(i){return"or"===i.op}function Id(i){return eg(i)&&Ml(i)}function eg(i){for(const e of i.filters)if(e instanceof Mi)return!1;return!0}function ma(i){if(i instanceof Wr)return i.field.canonicalString()+i.op.toString()+pa(i.value);if(Id(i))return i.filters.map(e=>ma(e)).join(",");{const e=i.filters.map(r=>ma(r)).join(",");return`${i.op}(${e})`}}function Cd(i,e){return i instanceof Wr?(o=i,(u=e)instanceof Wr&&o.op===u.op&&o.field.isEqual(u.field)&&ha(o.value,u.value)):i instanceof Mi?function(o,u){return u instanceof Mi&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,y,x)=>p&&Cd(y,u.filters[x]),!0)}(i,e):void Yn();var o,u}function oo(i,e){const r=i.filters.concat(e);return Mi.create(r,i.op)}function ku(i){return i instanceof Wr?`${(r=i).field.canonicalString()} ${r.op} ${pa(r.value)}`:i instanceof Mi?function(r){return r.op.toString()+" {"+r.getFilters().map(ku).join(" ,")+"}"}(i):"Filter";var r}class ul extends Wr{constructor(e,r,o){super(e,r,o),this.key=An.fromName(o.referenceValue)}matches(e){const r=An.comparator(e.key,this.key);return this.matchesComparison(r)}}class fh extends Wr{constructor(e,r){super(e,"in",r),this.keys=Kc(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Kl extends Wr{constructor(e,r){super(e,"not-in",r),this.keys=Kc(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Kc(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>An.fromName(o.referenceValue))}class xl extends Wr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ka(r)&&qc(r.arrayValue,this.value)}}class Wf extends Wr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&qc(this.value.arrayValue,r)}}class fm extends Wr{constructor(e,r){super(e,"not-in",r)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!qc(this.value.arrayValue,r)}}class Zc extends Wr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ka(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>qc(this.value.arrayValue,o))}}class qf{constructor(e,r=null,o=[],u=[],p=null,y=null,x=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=y,this.endAt=x,this.ce=null}}function yc(i,e=null,r=[],o=[],u=null,p=null,y=null){return new qf(i,e,r,o,u,p,y)}function Zo(i){const e=Mn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>ma(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),ni(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>pa(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>pa(o)).join(",")),e.ce=r}return e.ce}function Ol(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!af(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!Cd(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ed(i.startAt,e.startAt)&&Ed(i.endAt,e.endAt)}function Ec(i){return An.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Qc(i,e){return i.filters.filter(r=>r instanceof Wr&&r.field.isEqual(e))}function dl(i,e,r){let o=al,u=!0;for(const p of Qc(i,e)){let y=al,x=!0;switch(p.op){case"<":case"<=":y=zf(p.value);break;case"==":case"in":case">=":y=p.value;break;case">":y=p.value,x=!1;break;case"!=":case"not-in":y=al}sf({value:o,inclusive:u},{value:y,inclusive:x})<0&&(o=y,u=x)}if(null!==r)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const y=r.position[p];sf({value:o,inclusive:u},{value:y,inclusive:r.inclusive})<0&&(o=y,u=r.inclusive);break}return{value:o,inclusive:u}}function ph(i,e,r){let o=so,u=!0;for(const p of Qc(i,e)){let y=so,x=!0;switch(p.op){case">=":case">":y=hm(p.value),x=!1;break;case"==":case"in":case"<=":y=p.value;break;case"<":y=p.value,x=!1;break;case"!=":case"not-in":y=so}Jp({value:o,inclusive:u},{value:y,inclusive:x})>0&&(o=y,u=x)}if(null!==r)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const y=r.position[p];Jp({value:o,inclusive:u},{value:y,inclusive:r.inclusive})>0&&(o=y,u=r.inclusive);break}return{value:o,inclusive:u}}class Nl{constructor(e,r=null,o=[],u=[],p=null,y="F",x=null,L=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=y,this.startAt=x,this.endAt=L,this.le=null,this.he=null,this.Pe=null}}function Ni(i,e,r,o,u,p,y,x){return new Nl(i,e,r,o,u,p,y,x)}function $s(i){return new Nl(i)}function Lu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function hl(i){return null!==i.collectionGroup}function Xc(i){const e=Mn(i);if(null===e.le){e.le=[];const r=new Set;for(const p of e.explicitOrderBy)e.le.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let x=new ai(Kr.comparator);return y.filters.forEach(L=>{L.getFlattenedFilters().forEach(Z=>{Z.isInequality()&&(x=x.add(Z.field))})}),x})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.le.push(new Ko(p,o))}),r.has(Kr.keyField().canonicalString())||e.le.push(new Ko(Kr.keyField(),o))}return e.le}function gs(i){const e=Mn(i);return e.he||(e.he=function Qo(i,e){if("F"===i.limitType)return yc(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Ko(u.field,"desc"===u.dir?"asc":"desc"));const r=i.endAt?new cl(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new cl(i.startAt.position,i.startAt.inclusive):null;return yc(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}(e,Xc(i))),e.he}function gh(i,e){const r=i.filters.concat([e]);return new Nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function La(i,e,r){return new Nl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Ic(i,e){return Ol(gs(i),gs(e))&&i.limitType===e.limitType}function Jc(i){return`${Zo(gs(i))}|lt:${i.limitType}`}function Cc(i){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>ku(u)).join(", ")}]`),ni(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>pa(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>pa(u)).join(",")),`Target(${o})`}(gs(i))}; limitType=${i.limitType})`}function wc(i,e){return e.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):An.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(i,e)&&function(o,u){for(const p of Xc(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(i,e)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(y,x,L){const Z=ps(y,x,L);return y.inclusive?Z<=0:Z<0}(o.startAt,Xc(o),u)||o.endAt&&!function(y,x,L){const Z=ps(y,x,L);return y.inclusive?Z>=0:Z>0}(o.endAt,Xc(o),u)));var o,u}function Yf(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function mh(i){return(e,r)=>{let o=!1;for(const u of Xc(i)){const p=Fu(u,e,r);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Fu(i,e,r){const o=i.field.isKeyField()?An.comparator(e.key,r.key):function(p,y,x){const L=y.data.field(p),Z=x.data.field(p);return null!==L&&null!==Z?fa(L,Z):Yn()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Yn()}}class kl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(r,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return vd(this.inner)}size(){return this.innerSize}}const lf=new Fi(An.comparator);function mo(){return lf}const _h=new Fi(An.comparator);function eu(...i){let e=_h;for(const r of i)e=e.insert(r.key,r);return e}function Vu(i){let e=_h;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function fl(){return Bu()}function wd(){return Bu()}function Bu(){return new kl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Td=new Fi(An.comparator),tg=new ai(An.comparator);function Ur(...i){let e=tg;for(const r of i)e=e.add(r);return e}const Tc=new ai(Sr);function Uu(){return Tc}function Zl(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function Dd(i){return{integerValue:""+i}}function bd(i,e){return Pi(e)?Dd(e):Zl(i,e)}class Ql{constructor(){this._=void 0}}function Kf(i,e,r){return i instanceof js?function(u,p){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Yo(p)&&(p=io(p)),p&&(y.fields.__previous_value__=p),{mapValue:y}}(r,e):i instanceof _a?tu(i,e):i instanceof nu?Zf(i,e):function(u,p){const y=Ad(u,p),x=iu(y)+iu(u.Ie);return Rl(y)&&Rl(u.Ie)?Dd(x):Zl(u.serializer,x)}(i,e)}function vh(i,e,r){return i instanceof _a?tu(i,e):i instanceof nu?Zf(i,e):r}function Ad(i,e){return i instanceof ru?Rl(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class js extends Ql{}class _a extends Ql{constructor(e){super(),this.elements=e}}function tu(i,e){const r=yh(e);for(const o of i.elements)r.some(u=>ha(u,o))||r.push(o);return{arrayValue:{values:r}}}class nu extends Ql{constructor(e){super(),this.elements=e}}function Zf(i,e){let r=yh(e);for(const o of i.elements)r=r.filter(u=>!ha(u,o));return{arrayValue:{values:r}}}class ru extends Ql{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function iu(i){return Qi(i.integerValue||i.doubleValue)}function yh(i){return ka(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ll{constructor(e,r){this.field=e,this.transform=r}}class Rd{constructor(e,r){this.version=e,this.transformResults=r}}class as{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class su{}function Xo(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Hs(i.key,as.none()):new Dc(i.key,i.data,as.none());{const r=i.data,o=Us.empty();let u=new ai(Kr.comparator);for(let p of e.fields)if(!u.has(p)){let y=r.field(p);null===y&&p.length>1&&(p=p.popLast(),y=r.field(p)),null===y?o.delete(p):o.set(p,y),u=u.add(p)}return new Jl(i.key,o,new po(u.toArray()),as.none())}}function Pd(i,e,r){i instanceof Dc?function(u,p,y){const x=u.value.clone(),L=cf(u.fieldTransforms,p,y.transformResults);x.setAll(L),p.convertToFoundDocument(y.version,x).setHasCommittedMutations()}(i,e,r):i instanceof Jl?function(u,p,y){if(!Xl(u.precondition,p))return void p.convertToUnknownDocument(y.version);const x=cf(u.fieldTransforms,p,y.transformResults),L=p.data;L.setAll(Eh(u)),L.setAll(x),p.convertToFoundDocument(y.version,L).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function ou(i,e,r,o){return i instanceof Dc?function(p,y,x,L){if(!Xl(p.precondition,y))return x;const Z=p.value.clone(),fe=pl(p.fieldTransforms,L,y);return Z.setAll(fe),y.convertToFoundDocument(y.version,Z).setHasLocalMutations(),null}(i,e,r,o):i instanceof Jl?function(p,y,x,L){if(!Xl(p.precondition,y))return x;const Z=pl(p.fieldTransforms,L,y),fe=y.data;return fe.setAll(Eh(p)),fe.setAll(Z),y.convertToFoundDocument(y.version,fe).setHasLocalMutations(),null===x?null:x.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Le=>Le.field))}(i,e,r,o):(x=r,Xl(i.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):x);var y,x}function ng(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=Ad(o.transform,u||null);null!=p&&(null===r&&(r=Us.empty()),r.set(o.field,p))}return r||null}function Md(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&Qt(o,u,(p,y)=>function Sd(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof _a&&u instanceof _a||o instanceof nu&&u instanceof nu?Qt(o.elements,u.elements,ha):o instanceof ru&&u instanceof ru?ha(o.Ie,u.Ie):o instanceof js&&u instanceof js);var o,u}(p,y))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Dc extends su{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Jl extends su{constructor(e,r,o,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Eh(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function cf(i,e,r){const o=new Map;nr(i.length===r.length);for(let u=0;u<r.length;u++){const p=i[u],y=p.transform,x=e.data.field(p.field);o.set(p.field,vh(y,x,r[u]))}return o}function pl(i,e,r){const o=new Map;for(const u of i){const p=u.transform,y=r.data.field(u.field);o.set(u.field,Kf(p,y,e))}return o}class Hs extends su{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xd extends su{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gl{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&Pd(p,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=ou(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=ou(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=wd();return this.mutations.forEach(u=>{const p=e.get(u.key),y=p.overlayedDocument;let x=this.applyToLocalView(y,p.mutatedFields);x=r.has(u.key)?null:x;const L=Xo(y,x);null!==L&&o.set(u.key,L),y.isValidDocument()||y.convertToNoDocument(rr.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ur())}isEqual(e){return this.batchId===e.batchId&&Qt(this.mutations,e.mutations,(r,o)=>Md(r,o))&&Qt(this.baseMutations,e.baseMutations,(r,o)=>Md(r,o))}}class ec{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){nr(e.mutations.length===o.length);let u=Td;const p=e.mutations;for(let y=0;y<p.length;y++)u=u.insert(p[y].key,o[y].version);return new ec(e,r,o,u)}}class $u{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uf{constructor(e,r){this.count=e,this.unchangedNames=r}}var ms,li;function ml(i){switch(i){default:return Yn();case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0}}function va(i){if(void 0===i)return ls("GRPC error has no .code"),Lt.UNKNOWN;switch(i){case ms.OK:return Lt.OK;case ms.CANCELLED:return Lt.CANCELLED;case ms.UNKNOWN:return Lt.UNKNOWN;case ms.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case ms.INTERNAL:return Lt.INTERNAL;case ms.UNAVAILABLE:return Lt.UNAVAILABLE;case ms.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case ms.NOT_FOUND:return Lt.NOT_FOUND;case ms.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case ms.ABORTED:return Lt.ABORTED;case ms.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case ms.DATA_LOSS:return Lt.DATA_LOSS;default:return Yn()}}(li=ms||(ms={}))[li.OK=0]="OK",li[li.CANCELLED=1]="CANCELLED",li[li.UNKNOWN=2]="UNKNOWN",li[li.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",li[li.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",li[li.NOT_FOUND=5]="NOT_FOUND",li[li.ALREADY_EXISTS=6]="ALREADY_EXISTS",li[li.PERMISSION_DENIED=7]="PERMISSION_DENIED",li[li.UNAUTHENTICATED=16]="UNAUTHENTICATED",li[li.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",li[li.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",li[li.ABORTED=10]="ABORTED",li[li.OUT_OF_RANGE=11]="OUT_OF_RANGE",li[li.UNIMPLEMENTED=12]="UNIMPLEMENTED",li[li.INTERNAL=13]="INTERNAL",li[li.UNAVAILABLE=14]="UNAVAILABLE",li[li.DATA_LOSS=15]="DATA_LOSS";function Ih(){return new TextEncoder}const tc=new Pa([4294967295,4294967295],0);function au(i){const e=Ih().encode(i),r=new ud;return r.update(e),new Uint8Array(r.digest())}function Qf(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Pa([r,o],0),new Pa([u,p],0)]}class nc{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new bc(`Invalid padding: ${r}`);if(o<0)throw new bc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new bc(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new bc(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Pa.fromNumber(this.Te)}de(e,r,o){let u=e.add(r.multiply(Pa.fromNumber(o)));return 1===u.compare(tc)&&(u=new Pa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=au(e),[o,u]=Qf(r);for(let p=0;p<this.hashCount;p++){const y=this.de(o,u,p);if(!this.Ae(y))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),y=new nc(p,u,r);return o.forEach(x=>y.insert(x)),y}insert(e){if(0===this.Te)return;const r=au(e),[o,u]=Qf(r);for(let p=0;p<this.hashCount;p++){const y=this.de(o,u,p);this.Re(y)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,r,o,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,C.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Ac(rr.min(),u,new Fi(Sr),mo(),Ur())}}class C{constructor(e,r,o,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new C(o,r,Ur(),Ur(),Ur())}}class _{constructor(e,r,o,u){this.Ve=e,this.removedTargetIds=r,this.key=o,this.me=u}}class v{constructor(e,r){this.targetId=e,this.fe=r}}class D{constructor(e,r,o=Vr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class q{constructor(){this.ge=0,this.pe=bt(),this.ye=Vr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ur(),r=Ur(),o=Ur();return this.pe.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:Yn()}}),new C(this.ye,this.we,e,r,o)}Fe(){this.Se=!1,this.pe=bt()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ce{constructor(e){this.Le=e,this.ke=new Map,this.qe=mo(),this.Qe=st(),this.Ke=new Fi(Sr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const o=this.ze(r);switch(e.state){case 0:this.je(r)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(r);break;case 3:this.je(r)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.Ce(e.resumeToken));break;default:Yn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((o,u)=>{this.je(u)&&r(u)})}Je(e){const r=e.targetId,o=e.fe.count,u=this.Ye(r);if(u){const p=u.target;if(Ec(p))if(0===o){const y=new An(p.path);this.We(r,y,Xi.newNoDocument(y,rr.min()))}else nr(1===o);else{const y=this.Ze(r);if(y!==o){const x=this.Xe(e),L=x?this.et(x,e,y):1;0!==L&&(this.He(r),this.Ke=this.Ke.insert(r,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=r;let y,x;try{y=il(o).toUint8Array()}catch(L){if(L instanceof ch)return Ki("Decoding the base64 bloom filter in existence filter failed ("+L.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw L}try{x=new nc(y,u,p)}catch(L){return Ki(L instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",L),null}return 0===x.Te?null:x}et(e,r,o){return r.fe.count===o-this.rt(e,r.targetId)?0:2}rt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(p=>{const y=this.Le.nt(),x=`projects/${y.projectId}/databases/${y.database}/documents/${p.path.canonicalString()}`;e.mightContain(x)||(this.We(r,p,null),u++)}),u}it(e){const r=new Map;this.ke.forEach((p,y)=>{const x=this.Ye(y);if(x){if(p.current&&Ec(x.target)){const L=new An(x.target.path);null!==this.qe.get(L)||this.st(y,L)||this.We(y,L,Xi.newNoDocument(L,e))}p.De&&(r.set(y,p.ve()),p.Fe())}});let o=Ur();this.Qe.forEach((p,y)=>{let x=!0;y.forEachWhile(L=>{const Z=this.Ye(L);return!Z||"TargetPurposeLimboResolution"===Z.purpose||(x=!1,!1)}),x&&(o=o.add(p))}),this.qe.forEach((p,y)=>y.setReadTime(e));const u=new Ac(e,r,this.Ke,this.qe,o);return this.qe=mo(),this.Qe=st(),this.Ke=new Fi(Sr),u}Ue(e,r){if(!this.je(e))return;const o=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,o),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,r)?u.Me(r,1):u.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),o&&(this.qe=this.qe.insert(r,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new q,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new ai(Sr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||fn("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new q),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function st(){return new Fi(An.comparator)}function bt(){return new Fi(An.comparator)}const tn={asc:"ASCENDING",desc:"DESCENDING"},Nn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tr={and:"AND",or:"OR"};class ar{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Vi(i,e){return i.useProto3Json||ni(e)?e:{value:e}}function _o(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Hu(i,e){return _o(i,e.toTimestamp())}function _s(i){return nr(!!i),rr.fromTimestamp(function(r){const o=rl(r);return new zi(o.seconds,o.nanos)}(i))}function Fl(i,e){return(o=i,new si(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function df(i){const e=si.fromString(i);return nr(og(e)),e}function Sc(i,e){return Fl(i.databaseId,e.path)}function Fa(i,e){const r=df(e);if(r.get(1)!==i.databaseId.projectId)throw new en(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new en(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new An(zu(r))}function Vl(i,e){return Fl(i.databaseId,e)}function Gu(i){const e=df(i);return 4===e.length?si.emptyPath():zu(e)}function cu(i){return new si(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zu(i){return nr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Od(i,e,r){return{name:Sc(i,e),fields:r.value.mapValue.fields}}function rg(i,e,r){const o=Fa(i,e.name),u=_s(e.updateTime),p=e.createTime?_s(e.createTime):rr.min(),y=new Us({mapValue:{fields:e.fields}}),x=Xi.newFoundDocument(o,u,p,y);return r&&x.setHasCommittedMutations(),r?x.setHasCommittedMutations():x}function Jf(i,e){let r;if(e instanceof Dc)r={update:Od(i,e.key,e.value)};else if(e instanceof Hs)r={delete:Sc(i,e.key)};else if(e instanceof Jl)r={update:Od(i,e.key,e.data),updateMask:sg(e.fieldMask)};else{if(!(e instanceof xd))return Yn();r={verify:Sc(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,y){const x=y.transform;if(x instanceof js)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof _a)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof nu)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof ru)return{fieldPath:y.field.canonicalString(),increment:x.Ie};throw Yn()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:Hu(i,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Yn()),r;var p}function ig(i,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?as.updateTime(_s(p.updateTime)):void 0!==p.exists?as.exists(p.exists):as.none():as.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(y,x){let L=null;"setToServerValue"in x?(nr("REQUEST_TIME"===x.setToServerValue),L=new js):"appendMissingElements"in x?L=new _a(x.appendMissingElements.values||[]):"removeAllFromArray"in x?L=new nu(x.removeAllFromArray.values||[]):"increment"in x?L=new ru(y,x.increment):Yn();const Z=Kr.fromServerFormat(x.fieldPath);return new Ll(Z,L)}(i,u)):[];var p;if(e.update){const u=Fa(i,e.update.name),p=new Us({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new po((e.updateMask.fieldPaths||[]).map(fe=>Kr.fromServerFormat(fe)));return new Jl(u,p,y,r,o)}return new Dc(u,p,r,o)}if(e.delete){const u=Fa(i,e.delete);return new Hs(u,r)}if(e.verify){const u=Fa(i,e.verify);return new xd(u,r)}return Yn()}function Nd(i,e){return{documents:[Vl(i,e.path)]}}function hf(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Vl(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Vl(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0!==L.length)return rc(Mi.create(L,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const p=function(L){if(0!==L.length)return L.map(Z=>{return{field:_l((Le=Z).field),direction:gm(Le.dir)};var Le})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const y=Vi(i,e.limit);return null!==y&&(r.structuredQuery.limit=y),e.startAt&&(r.structuredQuery.startAt={before:(L=e.startAt).inclusive,values:L.position}),e.endAt&&(r.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(e.endAt)),r;var L}function ep(i){let e=Gu(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){nr(1===o);const fe=r.from[0];fe.allDescendants?u=fe.collectionId:e=e.child(fe.collectionId)}let p=[];r.where&&(p=function(Le){const _t=wh(Le);return _t instanceof Mi&&Id(_t)?_t.getFilters():[_t]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(_t=>{return new Ko(Bl((Dn=_t).field),function(Vn){switch(Vn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Dn.direction));var Dn}));let x=null;r.limit&&(x=function(Le){let _t;return _t="object"==typeof Le?Le.value:Le,ni(_t)?null:_t}(r.limit));let L=null;var Le;r.startAt&&(L=new cl((Le=r.startAt).values||[],!!Le.before));let Z=null;return r.endAt&&(Z=function(Le){return new cl(Le.values||[],!Le.before)}(r.endAt)),Ni(e,u,y,p,x,"F",L,Z)}function wh(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Bl(r.unaryFilter.field);return Wr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Bl(r.unaryFilter.field);return Wr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Bl(r.unaryFilter.field);return Wr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Bl(r.unaryFilter.field);return Wr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Yn()}}(i):void 0!==i.fieldFilter?Wr.create(Bl((r=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return Mi.create(r.compositeFilter.filters.map(o=>wh(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Yn()}}(r.compositeFilter.op))}(i):Yn();var r}function gm(i){return tn[i]}function tp(i){return Nn[i]}function np(i){return tr[i]}function _l(i){return{fieldPath:i.canonicalString()}}function Bl(i){return Kr.fromServerFormat(i.fieldPath)}function rc(i){return i instanceof Wr?function(r){if("=="===r.op){if(Pl(r.value))return{unaryFilter:{field:_l(r.field),op:"IS_NAN"}};if(uh(r.value))return{unaryFilter:{field:_l(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Pl(r.value))return{unaryFilter:{field:_l(r.field),op:"IS_NOT_NAN"}};if(uh(r.value))return{unaryFilter:{field:_l(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(r.field),op:tp(r.op),value:r.value}}}(i):i instanceof Mi?function(r){const o=r.getFilters().map(u=>rc(u));return 1===o.length?o[0]:{compositeFilter:{op:np(r.op),filters:o}}}(i):Yn()}function sg(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function og(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class uu{constructor(e,r,o,u,p=rr.min(),y=rr.min(),x=Vr.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=x,this.expectedCount=L}withSequenceNumber(e){return new uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Th{constructor(e){this.ut=e}}function mm(i,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Wu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Sc(p=i.ut,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:_o(p,y.version.toTimestamp()),createTime:_o(p,y.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return Yn();o.unknownDocument={path:r.path.toArray(),version:du(e.version)}}var p,y;return o}function Wu(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function du(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qu(i){const e=new zi(i.seconds,i.nanoseconds);return rr.fromTimestamp(e)}function kd(i,e){const r=(e.baseMutations||[]).map(p=>ig(i.ut,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>ig(i.ut,p)),u=zi.fromMillis(e.localWriteTimeMs);return new gl(e.batchId,u,r,o)}function ff(i){const e=qu(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?qu(i.lastLimboFreeSnapshotVersion):rr.min();let o;return o=void 0!==i.query.documents?(nr(1===(p=i.query).documents.length),gs($s(Gu(p.documents[0])))):function(p){return gs(ep(p))}(i.query),new uu(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,Vr.fromBase64String(i.resumeToken));var p}function Mo(i,e){const r=du(e.snapshotVersion),o=du(e.lastLimboFreeSnapshotVersion);let u;u=Ec(e.target)?Nd(i.ut,e.target):hf(i.ut,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zo(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Yu(i){const e=ep({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?La(e,e.limit,"L"):e}function pf(i,e){return new $u(e.largestBatchId,ig(i.ut,e.overlayMutation))}function ip(i,e){const r=e.path.lastSegment();return[i,dr(e.path.popLast()),r]}function Gs(i,e,r,o){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:du(o.readTime),documentKey:dr(o.documentKey.path),largestBatchId:o.largestBatchId}}class Va{getBundleMetadata(e,r){return Ld(e).get(r).next(o=>{if(o)return{id:(p=o).bundleId,createTime:qu(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Ld(e).put({bundleId:(u=r).id,createTime:du(_s(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return ag(e).get(r).next(o=>{if(o)return{name:(p=o).name,query:Yu(p.bundledQuery),readTime:qu(p.readTime)};var p})}saveNamedQuery(e,r){return ag(e).put({name:(u=r).name,readTime:du(_s(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ld(i){return es(i,"bundles")}function ag(i){return es(i,"namedQueries")}class gf{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new gf(e,r.uid||"")}getOverlay(e,r){return Ku(e).get(ip(this.userId,r)).next(o=>o?pf(this.serializer,o):null)}getOverlays(e,r){const o=fl();return w.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((p,y)=>{const x=new $u(r,y);u.push(this.lt(e,x))}),w.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(y=>u.add(dr(y.getCollectionPath())));const p=[];return u.forEach(y=>{const x=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);p.push(Ku(e).H("collectionPathOverlayIndex",x))}),w.waitFor(p)}getOverlaysForCollection(e,r,o){const u=fl(),p=dr(r),y=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Ku(e).W("collectionPathOverlayIndex",y).next(x=>{for(const L of x){const Z=pf(this.serializer,L);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const p=fl();let y;const x=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Ku(e).Y({index:"collectionGroupOverlayIndex",range:x},(L,Z,fe)=>{const Le=pf(this.serializer,Z);p.size()<u||Le.largestBatchId===y?(p.set(Le.getKey(),Le),y=Le.largestBatchId):fe.done()}).next(()=>p)}lt(e,r){return Ku(e).put(function(u,p,y){const[x,L,Z]=ip(p,y.mutation.key);return{userId:p,collectionPath:L,documentId:Z,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Jf(u.ut,y.mutation)}}(this.serializer,this.userId,r))}}function Ku(i){return es(i,"documentOverlays")}class ic{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(Qi(e.integerValue));else if("doubleValue"in e){const o=Qi(e.doubleValue);isNaN(o)?this.Tt(r,13):(this.Tt(r,15),Oa(o)?r.Et(0):r.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(r,20),"string"==typeof o?r.dt(o):(r.dt(`${o.seconds||""}`),r.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(il(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(r,45),r.Et(o.latitude||0),r.Et(o.longitude||0)}else"mapValue"in e?hh(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):Yn()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const o=e.fields||{};this.Tt(r,55);for(const u of Object.keys(o))this.At(u,r),this.Pt(o[u],r)}yt(e,r){const o=e.values||[];this.Tt(r,50);for(const u of o)this.Pt(u,r)}ft(e,r){this.Tt(r,37),An.fromName(e).path.forEach(o=>{this.Tt(r,60),this.wt(o,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function Dh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function _m(i){const e=64-function(o){let u=0;for(let p=0;p<8;++p){const y=Dh(255&o[p]);if(u+=y,8!==y)break}return u}(i);return Math.ceil(e/8)}ic.St=new ic;class vl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Dt(o.value),o=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Dt(o);else if(o<2048)this.Dt(960|o>>>6),this.Dt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o);else{const u=r.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const r=this.Bt(e),o=_m(r);this.Lt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}kt(e){const r=this.Bt(e),o=_m(r);this.Lt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,p,!1),new Uint8Array(y.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class vm{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class L_{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Rc{constructor(){this.Wt=new vl,this.Gt=new vm(this.Wt),this.zt=new L_(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Pc{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pc(this.indexId,this.documentKey,this.arrayValue,o)}}function lo(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Fd(i.arrayValue,e.arrayValue),0!==r?r:(r=Fd(i.directionalValue,e.directionalValue),0!==r?r:An.comparator(i.documentKey,e.documentKey)))}function Fd(i,e){for(let r=0;r<i.length&&r<e.length;++r){const o=i[r]-e[r];if(0!==o)return o}return i.length-e.length}class ym{constructor(e){this.Jt=new ai((r,o)=>Kr.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Jt=this.Jt.add(o):this.Zt.push(o)}}get Xt(){return this.Jt.size>1}en(e){if(nr(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=fd(e);if(void 0!==r&&!this.tn(r))return!1;const o=bl(e);let u=new Set,p=0,y=0;for(;p<o.length&&this.tn(o[p]);++p)u=u.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Jt.size>0){const x=this.Jt.getIterator().getNext();if(!u.has(x.field.canonicalString())){const L=o[p];if(!this.nn(x,L)||!this.rn(this.Yt[y++],L))return!1}++p}for(;p<o.length;++p)if(y>=this.Yt.length||!this.rn(this.Yt[y++],o[p]))return!1;return!0}sn(){if(this.Xt)return null;let e=new ai(Kr.comparator);const r=[];for(const o of this.Zt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new Zi(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new Zi(o.field,0))}for(const o of this.Yt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new Zi(o.field,"asc"===o.dir?0:1)));return new Go(Go.UNKNOWN_ID,this.collectionId,r,Ja.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function lg(i){var e,r;if(nr(i instanceof Wr||i instanceof Mi),i instanceof Wr){if(i instanceof Wf){const u=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>Wr.create(i.field,"==",p)))||[];return Mi.create(u,"or")}return i}const o=i.filters.map(u=>lg(u));return Mi.create(o,i.op)}function Em(i){if(0===i.getFilters().length)return[];const e=Mc(lg(i));return nr(Zu(e)),sp(e)||op(e)?[e]:e.getFilters()}function sp(i){return i instanceof Wr}function op(i){return i instanceof Mi&&Id(i)}function Zu(i){return sp(i)||op(i)||function(r){if(r instanceof Mi&&Yc(r)){for(const o of r.getFilters())if(!sp(o)&&!op(o))return!1;return!0}return!1}(i)}function Mc(i){if(nr(i instanceof Wr||i instanceof Mi),i instanceof Wr)return i;if(1===i.filters.length)return Mc(i.filters[0]);const e=i.filters.map(o=>Mc(o));let r=Mi.create(e,i.op);return r=Vd(r),Zu(r)?r:(nr(r instanceof Mi),nr(Ml(r)),nr(r.filters.length>1),r.filters.reduce((o,u)=>mf(o,u)))}function mf(i,e){let r;return nr(i instanceof Wr||i instanceof Mi),nr(e instanceof Wr||e instanceof Mi),r=i instanceof Wr?e instanceof Wr?Mi.create([i,e],"and"):_f(i,e):e instanceof Wr?_f(e,i):function(u,p){if(nr(u.filters.length>0&&p.filters.length>0),Ml(u)&&Ml(p))return oo(u,p.getFilters());const y=Yc(u)?u:p,x=Yc(u)?p:u,L=y.filters.map(Z=>mf(Z,x));return Mi.create(L,"or")}(i,e),Vd(r)}function _f(i,e){if(Ml(e))return oo(e,i.getFilters());{const r=e.filters.map(o=>mf(i,o));return Mi.create(r,"or")}}function Vd(i){if(nr(i instanceof Wr||i instanceof Mi),i instanceof Wr)return i;const e=i.getFilters();if(1===e.length)return Vd(e[0]);if(eg(i))return i;const r=e.map(u=>Vd(u)),o=[];return r.forEach(u=>{u instanceof Wr?o.push(u):u instanceof Mi&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:Mi.create(o,i.op)}class cg{constructor(){this.on=new bh}addToCollectionParentIndex(e,r){return this.on.add(r),w.resolve()}getCollectionParents(e,r){return w.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return w.resolve()}deleteFieldIndex(e,r){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,r){return w.resolve()}getDocumentsMatchingTarget(e,r){return w.resolve(null)}getIndexType(e,r){return w.resolve(0)}getFieldIndexes(e,r){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,r){return w.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,r){return w.resolve(zo.min())}updateCollectionGroup(e,r,o){return w.resolve()}updateIndexEntries(e,r){return w.resolve()}}class bh{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new ai(si.comparator),p=!u.has(o);return this.index[r]=u.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ai(si.comparator)).toArray()}}const ap=new Uint8Array(0);class ug{constructor(e,r){this.user=e,this.databaseId=r,this._n=new bh,this.an=new kl(o=>Zo(o),(o,u)=>Ol(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const p={collectionId:o,parent:dr(u)};return Im(e).put(p)}return w.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[ti(r),""],!1,!0);return Im(e).W(u).next(p=>{for(const y of p){if(y.collectionId!==r)break;o.push(da(y.parent))}return o})}addFieldIndex(e,r){const o=Sh(e),u={indexId:(x=r).indexId,collectionGroup:x.collectionGroup,fields:x.fields.map(L=>[L.fieldPath.canonicalString(),L.kind])};var x;delete u.indexId;const p=o.add(u);if(r.indexState){const y=sc(e);return p.next(x=>{y.put(Gs(x,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=Sh(e),u=sc(e),p=Ah(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Sh(e),o=Ah(e),u=sc(e);return r.H().next(()=>o.H()).next(()=>u.H())}createTargetIndexes(e,r){return w.forEach(this.un(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const p=new ym(o).sn();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const o=Ah(e);let u=!0;const p=new Map;return w.forEach(this.un(r),y=>this.cn(e,y).next(x=>{u&&(u=!!x),p.set(y,x)})).next(()=>{if(u){let y=Ur();const x=[];return w.forEach(p,(L,Z)=>{var Rr;fn("IndexedDbIndexManager",`Using index ${Rr=L,`id=${Rr.indexId}|cg=${Rr.collectionGroup}|f=${Rr.fields.map(hi=>`${hi.fieldPath}:${hi.kind}`).join(",")}`} to execute ${Zo(r)}`);const fe=function(Rr,hi){const Bi=fd(hi);if(void 0===Bi)return null;for(const Di of Qc(Rr,Bi.fieldPath))switch(Di.op){case"array-contains-any":return Di.value.arrayValue.values||[];case"array-contains":return[Di.value]}return null}(Z,L),Le=function(Rr,hi){const Bi=new Map;for(const Di of bl(hi))for(const Eo of Qc(Rr,Di.fieldPath))switch(Eo.op){case"==":case"in":Bi.set(Di.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return Bi.set(Di.fieldPath.canonicalString(),Eo.value),Array.from(Bi.values())}return null}(Z,L),_t=function(Rr,hi){const Bi=[];let Di=!0;for(const Eo of bl(hi)){const uc=0===Eo.kind?dl(Rr,Eo.fieldPath,Rr.startAt):ph(Rr,Eo.fieldPath,Rr.startAt);Bi.push(uc.value),Di&&(Di=uc.inclusive)}return new cl(Bi,Di)}(Z,L),kt=function(Rr,hi){const Bi=[];let Di=!0;for(const Eo of bl(hi)){const uc=0===Eo.kind?ph(Rr,Eo.fieldPath,Rr.endAt):dl(Rr,Eo.fieldPath,Rr.endAt);Bi.push(uc.value),Di&&(Di=uc.inclusive)}return new cl(Bi,Di)}(Z,L),Dn=this.ln(L,Z,_t),Ln=this.ln(L,Z,kt),Vn=this.hn(L,Z,Le),Er=this.Pn(L.indexId,fe,Dn,_t.inclusive,Ln,kt.inclusive,Vn);return w.forEach(Er,Lr=>o.j(Lr,r.limit).next(Rr=>{Rr.forEach(hi=>{const Bi=An.fromSegments(hi.documentKey);y.has(Bi)||(y=y.add(Bi),x.push(Bi))})}))}).next(()=>x)}return w.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:Em(Mi.create(e.filters,"and")).map(o=>yc(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,o,u,p,y,x){const L=(null!=r?r.length:1)*Math.max(o.length,p.length),Z=L/(null!=r?r.length:1),fe=[];for(let Le=0;Le<L;++Le){const _t=r?this.In(r[Le/Z]):ap,kt=this.Tn(e,_t,o[Le%Z],u),Dn=this.En(e,_t,p[Le%Z],y),Ln=x.map(Vn=>this.Tn(e,_t,Vn,!0));fe.push(...this.createRange(kt,Dn,Ln))}return fe}Tn(e,r,o,u){const p=new Pc(e,An.empty(),r,o);return u?p:p.Ht()}En(e,r,o,u){const p=new Pc(e,An.empty(),r,o);return u?p.Ht():p}cn(e,r){const o=new ym(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let y=null;for(const x of p)o.en(x)&&(!y||x.fields.length>y.fields.length)&&(y=x);return y})}getIndexType(e,r){let o=2;const u=this.un(r);return w.forEach(u,p=>this.cn(e,p).next(y=>{y?0!==o&&y.fields.length<function(L){let Z=new ai(Kr.comparator),fe=!1;for(const Le of L.filters)for(const _t of Le.getFlattenedFilters())_t.field.isKeyField()||("array-contains"===_t.op||"array-contains-any"===_t.op?fe=!0:Z=Z.add(_t.field));for(const Le of L.orderBy)Le.field.isKeyField()||(Z=Z.add(Le.field));return Z.size+(fe?1:0)}(p)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}dn(e,r){const o=new Rc;for(const u of bl(e)){const p=r.data.field(u.fieldPath);if(null==p)return null;const y=o.jt(u.kind);ic.St.ht(p,y)}return o.Ut()}In(e){const r=new Rc;return ic.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const o=new Rc;return ic.St.ht(Na(this.databaseId,r),o.jt(function(p){const y=bl(p);return 0===y.length?0:y[y.length-1].kind}(e))),o.Ut()}hn(e,r,o){if(null===o)return[];let u=[];u.push(new Rc);let p=0;for(const y of bl(e)){const x=o[p++];for(const L of u)if(this.Rn(r,y.fieldPath)&&ka(x))u=this.Vn(u,y,x);else{const Z=L.jt(y.kind);ic.St.ht(x,Z)}}return this.mn(u)}ln(e,r,o){return this.hn(e,r,o.position)}mn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Ut();return r}Vn(e,r,o){const u=[...e],p=[];for(const y of o.arrayValue.values||[])for(const x of u){const L=new Rc;L.seed(x.Ut()),ic.St.ht(y,L.jt(r.kind)),p.push(L)}return p}Rn(e,r){return!!e.filters.find(o=>o instanceof Wr&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Sh(e),u=sc(e);return(r?o.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.W()).next(p=>{const y=[];return w.forEach(p,x=>u.get([x.indexId,this.uid]).next(L=>{y.push(function(fe,Le){const _t=Le?new Ja(Le.sequenceNumber,new zo(qu(Le.readTime),new An(da(Le.documentKey)),Le.largestBatchId)):Ja.empty(),kt=fe.fields.map(([Dn,Ln])=>new Zi(Kr.fromServerFormat(Dn),Ln));return new Go(fe.indexId,fe.collectionGroup,kt,_t)}(x,L))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Sr(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Sh(e),p=sc(e);return this.fn(e).next(y=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(x=>w.forEach(x,L=>p.put(Gs(L.indexId,this.user,y,o)))))}updateIndexEntries(e,r){const o=new Map;return w.forEach(r,(u,p)=>{const y=o.get(u.collectionGroup);return(y?w.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(x=>(o.set(u.collectionGroup,x),w.forEach(x,L=>this.gn(e,u,L).next(Z=>{const fe=this.pn(p,L);return Z.isEqual(fe)?w.resolve():this.yn(e,p,L,Z,fe)}))))})}wn(e,r,o,u){return Ah(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(o,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,o,u){return Ah(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(o,r.key),r.key.path.toArray()])}gn(e,r,o){const u=Ah(e);let p=new ai(lo);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.An(o,r)])},(y,x)=>{p=p.add(new Pc(o.indexId,r,x.arrayValue,x.directionalValue))}).next(()=>p)}pn(e,r){let o=new ai(lo);const u=this.dn(r,e);if(null==u)return o;const p=fd(r);if(null!=p){const y=e.data.field(p.fieldPath);if(ka(y))for(const x of y.arrayValue.values||[])o=o.add(new Pc(r.indexId,e.key,this.In(x),u))}else o=o.add(new Pc(r.indexId,e.key,ap,u));return o}yn(e,r,o,u,p){fn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(L,Z,fe,Le,_t){const kt=L.getIterator(),Dn=Z.getIterator();let Ln=Yl(kt),Vn=Yl(Dn);for(;Ln||Vn;){let Er=!1,Lr=!1;if(Ln&&Vn){const Rr=fe(Ln,Vn);Rr<0?Lr=!0:Rr>0&&(Er=!0)}else null!=Ln?Lr=!0:Er=!0;Er?(Le(Vn),Vn=Yl(Dn)):Lr?(_t(Ln),Ln=Yl(kt)):(Ln=Yl(kt),Vn=Yl(Dn))}}(u,p,lo,x=>{y.push(this.wn(e,r,o,x))},x=>{y.push(this.Sn(e,r,o,x))}),w.waitFor(y)}fn(e){let r=1;return sc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((y,x)=>lo(y,x)).filter((y,x,L)=>!x||0!==lo(y,L[x-1]));const u=[];u.push(e);for(const y of o){const x=lo(y,e),L=lo(y,r);if(0===x)u[0]=e.Ht();else if(x>0&&L<0)u.push(y),u.push(y.Ht());else if(L>0)break}u.push(r);const p=[];for(let y=0;y<u.length;y+=2){if(this.bn(u[y],u[y+1]))return[];p.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,ap,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,ap,[]]))}return p}bn(e,r){return lo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(vf)}getMinOffset(e,r){return w.mapArray(this.un(r),o=>this.cn(e,o).next(u=>u||Yn())).next(vf)}}function Im(i){return es(i,"collectionParents")}function Ah(i){return es(i,"indexEntries")}function Sh(i){return es(i,"indexConfiguration")}function sc(i){return es(i,"indexState")}function vf(i){nr(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;gd(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new zo(e.readTime,e.documentKey,r)}const lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cp(i,e,r){const o=i.store("mutations"),u=i.store("documentMutations"),p=[],y=IDBKeyRange.only(r.batchId);let x=0;const L=o.Y({range:y},(fe,Le,_t)=>(x++,_t.delete()));p.push(L.next(()=>{nr(1===x)}));const Z=[];for(const fe of r.mutations){const Le=oh(e,fe.key.path,r.batchId);p.push(u.delete(Le)),Z.push(fe.key)}return w.waitFor(p).next(()=>Z)}function Bd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Yn();e=i.noDocument}return JSON.stringify(e).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class yf{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Dn={}}static ct(e,r,o,u){nr(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new yf(p,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).Y({index:"userMutationsIndex",range:o},(u,p,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const p=Ud(e),y=ea(e);return y.add({}).next(x=>{nr("number"==typeof x);const L=new gl(x,r,o,u),Z=function(kt,Dn,Ln){const Vn=Ln.baseMutations.map(Lr=>Jf(kt.ut,Lr)),Er=Ln.mutations.map(Lr=>Jf(kt.ut,Lr));return{userId:Dn,batchId:Ln.batchId,localWriteTimeMs:Ln.localWriteTime.toMillis(),baseMutations:Vn,mutations:Er}}(this.serializer,this.userId,L),fe=[];let Le=new ai((_t,kt)=>Sr(_t.canonicalString(),kt.canonicalString()));for(const _t of u){const kt=oh(this.userId,_t.key.path,x);Le=Le.add(_t.key.path.popLast()),fe.push(y.put(Z)),fe.push(p.put(kt,Hc))}return Le.forEach(_t=>{fe.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.Dn[x]=L.keys()}),w.waitFor(fe).next(()=>L)})}lookupMutationBatch(e,r){return ea(e).get(r).next(o=>o?(nr(o.userId===this.userId),kd(this.serializer,o)):null)}Cn(e,r){return this.Dn[r]?w.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Dn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return ea(e).Y({index:"userMutationsIndex",range:u},(y,x,L)=>{x.userId===this.userId&&(nr(x.batchId>=o),p=kd(this.serializer,x)),L.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ea(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(u,p,y)=>{o=p.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ea(e).W("userMutationsIndex",r).next(o=>o.map(u=>kd(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=tl(this.userId,r.path),u=IDBKeyRange.lowerBound(o),p=[];return Ud(e).Y({range:u},(y,x,L)=>{const[Z,fe,Le]=y,_t=da(fe);if(Z===this.userId&&r.path.isEqual(_t))return ea(e).get(Le).next(kt=>{if(!kt)throw Yn();nr(kt.userId===this.userId),p.push(kd(this.serializer,kt))});L.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ai(Sr);const u=[];return r.forEach(p=>{const y=tl(this.userId,p.path),x=IDBKeyRange.lowerBound(y),L=Ud(e).Y({range:x},(Z,fe,Le)=>{const[_t,kt,Dn]=Z,Ln=da(kt);_t===this.userId&&p.path.isEqual(Ln)?o=o.add(Dn):Le.done()});u.push(L)}),w.waitFor(u).next(()=>this.vn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,p=tl(this.userId,o),y=IDBKeyRange.lowerBound(p);let x=new ai(Sr);return Ud(e).Y({range:y},(L,Z,fe)=>{const[Le,_t,kt]=L,Dn=da(_t);Le===this.userId&&o.isPrefixOf(Dn)?Dn.length===u&&(x=x.add(kt)):fe.done()}).next(()=>this.vn(e,x))}vn(e,r){const o=[],u=[];return r.forEach(p=>{u.push(ea(e).get(p).next(y=>{if(null===y)throw Yn();nr(y.userId===this.userId),o.push(kd(this.serializer,y))}))}),w.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return cp(e.ae,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),w.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return w.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Ud(e).Y({range:o},(p,y,x)=>{if(p[0]===this.userId){const L=da(p[1]);u.push(L)}else x.done()}).next(()=>{nr(0===u.length)})})}containsKey(e,r){return yl(e,this.userId,r)}Mn(e){return up(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yl(i,e,r){const o=tl(e,r.path),u=o[1],p=IDBKeyRange.lowerBound(o);let y=!1;return Ud(i).Y({range:p,J:!0},(x,L,Z)=>{const[fe,Le,_t]=x;fe===e&&Le===u&&(y=!0),Z.done()}).next(()=>y)}function ea(i){return es(i,"mutations")}function Ud(i){return es(i,"documentMutations")}function up(i){return es(i,"mutationQueues")}class hu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new hu(0)}static Nn(){return new hu(-1)}}class dp{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new hu(r.highestTargetId);return r.highestTargetId=o.next(),this.Ln(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>rr.fromTimestamp(new zi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Ln(e,u)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.qn(r,o),this.Ln(e,o))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>oc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(nr(o.targetCount>0),o.targetCount-=1,this.Ln(e,o)))}removeTargets(e,r,o){let u=0;const p=[];return oc(e).Y((y,x)=>{const L=ff(x);L.sequenceNumber<=r&&null===o.get(L.targetId)&&(u++,p.push(this.removeTargetData(e,L)))}).next(()=>w.waitFor(p)).next(()=>u)}forEachTarget(e,r){return oc(e).Y((o,u)=>{const p=ff(u);r(p)})}Bn(e){return dg(e).get("targetGlobalKey").next(r=>(nr(null!==r),r))}Ln(e,r){return dg(e).put("targetGlobalKey",r)}kn(e,r){return oc(e).put(Mo(this.serializer,r))}qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Zo(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return oc(e).Y({range:u,index:"queryTargetsIndex"},(y,x,L)=>{const Z=ff(x);Ol(r,Z.target)&&(p=Z,L.done())}).next(()=>p)}addMatchingKeys(e,r,o){const u=[],p=xc(e);return r.forEach(y=>{const x=dr(y.path);u.push(p.put({targetId:o,path:x})),u.push(this.referenceDelegate.addReference(e,o,y))}),w.waitFor(u)}removeMatchingKeys(e,r,o){const u=xc(e);return w.forEach(r,p=>{const y=dr(p.path);return w.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=xc(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=xc(e);let p=Ur();return u.Y({range:o,J:!0},(y,x,L)=>{const Z=da(y[1]),fe=new An(Z);p=p.add(fe)}).next(()=>p)}containsKey(e,r){const o=dr(r.path),u=IDBKeyRange.bound([o],[ti(o)],!1,!0);let p=0;return xc(e).Y({index:"documentTargetsIndex",J:!0,range:u},([y,x],L,Z)=>{0!==y&&(p++,Z.done())}).next(()=>p>0)}_t(e,r){return oc(e).get(r).next(o=>o?ff(o):null)}}function oc(i){return es(i,"targets")}function dg(i){return es(i,"targetGlobal")}function xc(i){return es(i,"targetDocuments")}function hp([i,e],[r,o]){const u=Sr(i,r);return 0===u?Sr(e,o):u}class fp{constructor(e){this.Qn=e,this.buffer=new ai(hp),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();hp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Rh{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;fn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){cn(o)?fn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield M(o)}yield r.Gn(3e5)}))}}class Ph{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return w.resolve(Hi._e);const o=new fp(r);return this.zn.forEachTarget(e,u=>o.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>o.Un(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.zn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(fn("LruGarbageCollector","Garbage collection skipped; disabled"),w.resolve(lp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(fn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lp):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let o,u,p,y,x,L,Z;const fe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Le=>(Le>this.params.maximumSequenceNumbersToCollect?(fn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Le}`),u=this.params.maximumSequenceNumbersToCollect):u=Le,y=Date.now(),this.nthSequenceNumber(e,u))).next(Le=>(o=Le,x=Date.now(),this.removeTargets(e,o,r))).next(Le=>(p=Le,L=Date.now(),this.removeOrphanedDocuments(e,o))).next(Le=>(Z=Date.now(),os()<=Fe.in.DEBUG&&fn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-fe}ms\n\tDetermined least recently used ${u} in `+(x-y)+`ms\n\tRemoved ${p} targets in `+(L-x)+`ms\n\tRemoved ${Le} documents in `+(Z-L)+`ms\nTotal Duration: ${Z-fe}ms`),w.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Le})))}}class Cm{constructor(e,r){this.db=e,this.garbageCollector=function Qu(i,e){return new Ph(i,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Yn(e){let r=0;return this.Hn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(o,u)=>r(u))}addReference(e,r,o){return Mh(e,o)}removeReference(e,r,o){return Mh(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Mh(e,r)}Xn(e,r){return function(u,p){let y=!1;return up(u).Z(x=>yl(u,x,p).next(L=>(L&&(y=!0),w.resolve(!L)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Zn(e,(y,x)=>{if(x<=r){const L=this.Xn(e,y).next(Z=>{if(!Z)return p++,o.getEntry(e,y).next(()=>(o.removeEntry(y,rr.min()),xc(e).delete([0,dr(y.path)])))});u.push(L)}}).next(()=>w.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Mh(e,r)}Zn(e,r){const o=xc(e);let u,p=Hi._e;return o.Y({index:"documentTargetsIndex"},([y,x],{path:L,sequenceNumber:Z})=>{0===y?(p!==Hi._e&&r(new An(da(u)),p),p=Z,u=L):p=Hi._e}).next(()=>{p!==Hi._e&&r(new An(da(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mh(i,e){return xc(i).put((u=i.currentSequenceNumber,{targetId:0,path:dr(e.path),sequenceNumber:u}));var u}class $d{constructor(){this.changes=new kl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?w.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return fu(e).put(o)}removeEntry(e,r,o){return fu(e).delete(function(p,y){const x=p.path.toArray();return[x.slice(0,x.length-2),x[x.length-2],Wu(y),x[x.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.er(e,o)))}getEntry(e,r){let o=Xi.newInvalidDocument(r);return fu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jd(r))},(u,p)=>{o=this.tr(r,p)}).next(()=>o)}nr(e,r){let o={size:0,document:Xi.newInvalidDocument(r)};return fu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(jd(r))},(u,p)=>{o={document:this.tr(r,p),size:Bd(p)}}).next(()=>o)}getEntries(e,r){let o=mo();return this.rr(e,r,(u,p)=>{const y=this.tr(u,p);o=o.insert(u,y)}).next(()=>o)}ir(e,r){let o=mo(),u=new Fi(An.comparator);return this.rr(e,r,(p,y)=>{const x=this.tr(p,y);o=o.insert(p,x),u=u.insert(p,Bd(y))}).next(()=>({documents:o,sr:u}))}rr(e,r,o){if(r.isEmpty())return w.resolve();let u=new ai(ya);r.forEach(L=>u=u.add(L));const p=IDBKeyRange.bound(jd(u.first()),jd(u.last())),y=u.getIterator();let x=y.getNext();return fu(e).Y({index:"documentKeyIndex",range:p},(L,Z,fe)=>{const Le=An.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;x&&ya(x,Le)<0;)o(x,null),x=y.getNext();x&&x.isEqual(Le)&&(o(x,Z),x=y.hasNext()?y.getNext():null),x?fe.U(jd(x)):fe.done()}).next(()=>{for(;x;)o(x,null),x=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,p){const y=r.path,x=[y.popLast().toArray(),y.lastSegment(),Wu(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],L=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fu(e).W(IDBKeyRange.bound(x,L,!0)).next(Z=>{null==p||p.incrementDocumentReadCount(Z.length);let fe=mo();for(const Le of Z){const _t=this.tr(An.fromSegments(Le.prefixPath.concat(Le.collectionGroup,Le.documentId)),Le);_t.isFoundDocument()&&(wc(r,_t)||u.has(_t.key))&&(fe=fe.insert(_t.key,_t))}return fe})}getAllFromCollectionGroup(e,r,o,u){let p=mo();const y=fg(r,o),x=fg(r,zo.max());return fu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,x,!0)},(L,Z,fe)=>{const Le=this.tr(An.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);p=p.insert(Le.key,Le),p.size===u&&fe.done()}).next(()=>p)}newChangeBuffer(e){return new If(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return hg(e).get("remoteDocumentGlobalKey").next(r=>(nr(!!r),r))}er(e,r){return hg(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const o=function rp(i,e){let r;if(e.document)r=rg(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=An.fromSegments(e.noDocument.path),u=qu(e.noDocument.readTime);r=Xi.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Yn();{const o=An.fromSegments(e.unknownDocument.path),u=qu(e.unknownDocument.version);r=Xi.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const p=new zi(u[0],u[1]);return rr.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(rr.min()))return o}return Xi.newInvalidDocument(e)}}function Ef(i){return new wm(i)}class If extends $d{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new kl(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new ai((p,y)=>Sr(p.canonicalString(),y.canonicalString()));return this.changes.forEach((p,y)=>{const x=this.ar.get(p);if(r.push(this._r.removeEntry(e,p,x.readTime)),y.isValidDocument()){const L=mm(this._r.serializer,y);u=u.add(p.path.popLast());const Z=Bd(L);o+=Z-x.size,r.push(this._r.addEntry(e,p,L))}else if(o-=x.size,this.trackRemovals){const L=mm(this._r.serializer,y.convertToNoDocument(rr.min()));r.push(this._r.addEntry(e,p,L))}}),u.forEach(p=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,p))}),r.push(this._r.updateMetadata(e,o)),w.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(o=>(this.ar.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:o,sr:u})=>(u.forEach((p,y)=>{this.ar.set(p,{size:y,readTime:o.get(p).readTime})}),o))}}function hg(i){return es(i,"remoteDocumentGlobal")}function fu(i){return es(i,"remoteDocumentsV14")}function jd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fg(i,e){const r=e.documentKey.path.toArray();return[i,Wu(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function ya(i,e){const r=i.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(u=Sr(r[p],o[p]),u)return u;return u=Sr(r.length,o.length),u||(u=Sr(r[r.length-2],o[o.length-2]),u||Sr(r[r.length-1],o[o.length-1]))}class Cf{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Oc{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&ou(o.mutation,u,po.empty(),zi.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,Ur()).next(()=>o))}getLocalViewOfDocuments(e,r,o=Ur()){const u=fl();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(p=>{let y=eu();return p.forEach((x,L)=>{y=y.insert(x,L.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const o=fl();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,Ur()))}populateOverlays(e,r,o){const u=[];return o.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((y,x)=>{r.set(y,x)})})}computeViews(e,r,o,u){let p=mo();const y=Bu(),x=Bu();return r.forEach((L,Z)=>{const fe=o.get(Z.key);u.has(Z.key)&&(void 0===fe||fe.mutation instanceof Jl)?p=p.insert(Z.key,Z):void 0!==fe?(y.set(Z.key,fe.mutation.getFieldMask()),ou(fe.mutation,Z,fe.mutation.getFieldMask(),zi.now())):y.set(Z.key,po.empty())}),this.recalculateAndSaveOverlays(e,p).next(L=>(L.forEach((Z,fe)=>y.set(Z,fe)),r.forEach((Z,fe)=>{var Le;return x.set(Z,new Cf(fe,null!==(Le=y.get(Z))&&void 0!==Le?Le:null))}),x))}recalculateAndSaveOverlays(e,r){const o=Bu();let u=new Fi((y,x)=>y-x),p=Ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const x of y)x.keys().forEach(L=>{const Z=r.get(L);if(null===Z)return;let fe=o.get(L)||po.empty();fe=x.applyToLocalView(Z,fe),o.set(L,fe);const Le=(u.get(x.batchId)||Ur()).add(L);u=u.insert(x.batchId,Le)})}).next(()=>{const y=[],x=u.getReverseIterator();for(;x.hasNext();){const L=x.getNext(),Z=L.key,fe=L.value,Le=wd();fe.forEach(_t=>{if(!p.has(_t)){const kt=Xo(r.get(_t),o.get(_t));null!==kt&&Le.set(_t,kt),p=p.add(_t)}}),y.push(this.documentOverlayCache.saveOverlays(e,Z,Le))}return w.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return An.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):hl(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var y}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(p=>{const y=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-p.size):w.resolve(fl());let x=-1,L=p;return y.next(Z=>w.forEach(Z,(fe,Le)=>(x<Le.largestBatchId&&(x=Le.largestBatchId),p.get(fe)?w.resolve():this.remoteDocumentCache.getEntry(e,fe).next(_t=>{L=L.insert(fe,_t)}))).next(()=>this.populateOverlays(e,Z,p)).next(()=>this.computeViews(e,L,Z,Ur())).next(fe=>({batchId:x,changes:Vu(fe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new An(r)).next(o=>{let u=eu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const p=r.collectionGroup;let y=eu();return this.indexManager.getCollectionParents(e,p).next(x=>w.forEach(x,L=>{const Z=(Le=r,_t=L.child(p),new Nl(_t,null,Le.explicitOrderBy.slice(),Le.filters.slice(),Le.limit,Le.limitType,Le.startAt,Le.endAt));var Le,_t;return this.getDocumentsMatchingCollectionQuery(e,Z,o,u).next(fe=>{fe.forEach((Le,_t)=>{y=y.insert(Le,_t)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(y=>(p=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,u))).next(y=>{p.forEach((L,Z)=>{const fe=Z.getKey();null===y.get(fe)&&(y=y.insert(fe,Xi.newInvalidDocument(fe)))});let x=eu();return y.forEach((L,Z)=>{const fe=p.get(L);void 0!==fe&&ou(fe.mutation,Z,po.empty(),zi.now()),wc(r,Z)&&(x=x.insert(L,Z))}),x})}}class Hd{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return w.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(u=r).id,version:u.version,createTime:_s(u.createTime)}),w.resolve();var u}getNamedQuery(e,r){return w.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(u=r).name,query:Yu(u.bundledQuery),readTime:_s(u.readTime)}),w.resolve();var u}}class Ba{constructor(){this.overlays=new Fi(An.comparator),this.lr=new Map}getOverlay(e,r){return w.resolve(this.overlays.get(r))}getOverlays(e,r){const o=fl();return w.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,p)=>{this.lt(e,r,p)}),w.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.lr.delete(o)),w.resolve()}getOverlaysForCollection(e,r,o){const u=fl(),p=r.length+1,y=new An(r.child("")),x=this.overlays.getIteratorFrom(y);for(;x.hasNext();){const L=x.getNext().value,Z=L.getKey();if(!r.isPrefixOf(Z.path))break;Z.path.length===p&&L.largestBatchId>o&&u.set(L.getKey(),L)}return w.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let p=new Fi((Z,fe)=>Z-fe);const y=this.overlays.getIterator();for(;y.hasNext();){const Z=y.getNext().value;if(Z.getKey().getCollectionGroup()===r&&Z.largestBatchId>o){let fe=p.get(Z.largestBatchId);null===fe&&(fe=fl(),p=p.insert(Z.largestBatchId,fe)),fe.set(Z.getKey(),Z)}}const x=fl(),L=p.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((Z,fe)=>x.set(Z,fe)),!(x.size()>=u)););return w.resolve(x)}lt(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new $u(r,o));let p=this.lr.get(r);void 0===p&&(p=Ur(),this.lr.set(r,p)),this.lr.set(r,p.add(o.key))}}class Ua{constructor(){this.hr=new ai(vo.Pr),this.Ir=new ai(vo.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const o=new vo(e,r);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.dr(new vo(e,r))}Ar(e,r){e.forEach(o=>this.removeReference(o,r))}Rr(e){const r=new An(new si([])),o=new vo(r,e),u=new vo(r,e+1),p=[];return this.Ir.forEachInRange([o,u],y=>{this.dr(y),p.push(y.key)}),p}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new An(new si([])),o=new vo(r,e),u=new vo(r,e+1);let p=Ur();return this.Ir.forEachInRange([o,u],y=>{p=p.add(y.key)}),p}containsKey(e){const r=new vo(e,0),o=this.hr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class vo{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return An.comparator(e.key,r.key)||Sr(e.gr,r.gr)}static Tr(e,r){return Sr(e.gr,r.gr)||An.comparator(e.key,r.key)}}class Tm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new ai(vo.Pr)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const p=this.pr;this.pr++;const y=new gl(p,r,o,u);this.mutationQueue.push(y);for(const x of u)this.yr=this.yr.add(new vo(x.key,p)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return w.resolve(y)}lookupMutationBatch(e,r){return w.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.Sr(r+1),p=u<0?0:u;return w.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new vo(r,0),u=new vo(r,Number.POSITIVE_INFINITY),p=[];return this.yr.forEachInRange([o,u],y=>{const x=this.wr(y.gr);p.push(x)}),w.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ai(Sr);return r.forEach(u=>{const p=new vo(u,0),y=new vo(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([p,y],x=>{o=o.add(x.gr)})}),w.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let p=o;An.isDocumentKey(p)||(p=p.child(""));const y=new vo(new An(p),0);let x=new ai(Sr);return this.yr.forEachWhile(L=>{const Z=L.key.path;return!!o.isPrefixOf(Z)&&(Z.length===u&&(x=x.add(L.gr)),!0)},y),w.resolve(this.br(x))}br(e){const r=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){nr(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return w.forEach(r.mutations,u=>{const p=new vo(u.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,r){const o=new vo(r,0),u=this.yr.firstAfterOrEqual(o);return w.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return w.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class xh{constructor(e){this.Cr=e,this.docs=new Fi(An.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),p=u?u.size:0,y=this.Cr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:y}),this.size+=y-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return w.resolve(o?o.document.mutableCopy():Xi.newInvalidDocument(r))}getEntries(e,r){let o=mo();return r.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Xi.newInvalidDocument(u))}),w.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let p=mo();const y=r.path,x=new An(y.child("")),L=this.docs.getIteratorFrom(x);for(;L.hasNext();){const{key:Z,value:{document:fe}}=L.getNext();if(!y.isPrefixOf(Z.path))break;Z.path.length>y.length+1||gd(xa(fe),o)<=0||(u.has(fe.key)||wc(r,fe))&&(p=p.insert(fe.key,fe.mutableCopy()))}return w.resolve(p)}getAllFromCollectionGroup(e,r,o,u){Yn()}vr(e,r){return w.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Kv(this)}getSize(e){return w.resolve(this.size)}}class Kv extends $d{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),w.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class pp{constructor(e){this.persistence=e,this.Fr=new kl(r=>Zo(r),Ol),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Ua,this.targetCount=0,this.Nr=hu.On()}forEachTarget(e,r){return this.Fr.forEach((o,u)=>r(u)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Mr&&(this.Mr=r),w.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new hu(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,w.resolve()}updateTargetData(e,r){return this.kn(r),w.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,r,o){let u=0;const p=[];return this.Fr.forEach((y,x)=>{x.sequenceNumber<=r&&null===o.get(x.targetId)&&(this.Fr.delete(y),p.push(this.removeMatchingKeysForTargetId(e,x.targetId)),u++)}),w.waitFor(p).next(()=>u)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,r){const o=this.Fr.get(r)||null;return w.resolve(o)}addMatchingKeys(e,r,o){return this.Or.Er(r,o),w.resolve()}removeMatchingKeys(e,r,o){this.Or.Ar(r,o);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(y=>{p.push(u.markPotentiallyOrphaned(e,y))}),w.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),w.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Or.mr(r);return w.resolve(o)}containsKey(e,r){return w.resolve(this.Or.containsKey(r))}}class wf{constructor(e,r){this.Br={},this.overlays={},this.Lr=new Hi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new pp(this),this.indexManager=new cg,this.remoteDocumentCache=new xh(o=>this.referenceDelegate.Qr(o)),this.serializer=new Th(r),this.Kr=new Hd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Ba,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new Tm(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,o){fn("MemoryPersistence","Starting transaction:",e);const u=new gp(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(p=>this.referenceDelegate.Ur(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Wr(e,r){return w.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class gp extends b{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.Gr=new Ua,this.zr=null}static jr(e){return new Tf(e)}get Hr(){if(this.zr)return this.zr;throw Yn()}addReference(e,r,o){return this.Gr.addReference(o,r),this.Hr.delete(o.toString()),w.resolve()}removeReference(e,r,o){return this.Gr.removeReference(o,r),this.Hr.add(o.toString()),w.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),w.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.Hr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,o=>{const u=An.fromPath(o);return this.Jr(e,u).next(p=>{p||r.removeEntry(u,rr.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(o=>{o?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return w.or([()=>w.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class Dm{constructor(e){this.serializer=e}N(e,r,o,u){const p=new B("createOrUpgrade",r);var L;o<1&&u>=1&&(e.createObjectStore("owner"),(L=e).createObjectStore("mutationQueues",{keyPath:"userId"}),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",to,{unique:!0}),L.createObjectStore("documentMutations"),bm(e),function(L){L.createObjectStore("remoteDocuments")}(e));let y=w.resolve();return o<3&&u>=3&&(0!==o&&(function(L){L.deleteObjectStore("targetDocuments"),L.deleteObjectStore("targets"),L.deleteObjectStore("targetGlobal")}(e),bm(e)),y=y.next(()=>function(L){const Z=L.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rr.min().toTimestamp(),targetCount:0};return Z.put("targetGlobalKey",fe)}(p))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(L,Z){return Z.store("mutations").W().next(fe=>{L.deleteObjectStore("mutations"),L.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",to,{unique:!0});const Le=Z.store("mutations"),_t=fe.map(kt=>Le.put(kt));return w.waitFor(_t)})}(e,p))),y=y.next(()=>{!function(L){L.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Zr(p))),o<6&&u>=6&&(y=y.next(()=>(function(L){L.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(p)))),o<7&&u>=7&&(y=y.next(()=>this.ei(p))),o<8&&u>=8&&(y=y.next(()=>this.ti(e,p))),o<9&&u>=9&&(y=y.next(()=>{!function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(y=y.next(()=>this.ni(p))),o<11&&u>=11&&(y=y.next(()=>{(function(L){L.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(L){L.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(L){const Z=L.createObjectStore("documentOverlays",{keyPath:oi});Z.createIndex("collectionPathOverlayIndex",lh,{unique:!1}),Z.createIndex("collectionGroupOverlayIndex",_d,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>function(L){const Z=L.createObjectStore("remoteDocumentsV14",{keyPath:Gc});Z.createIndex("documentKeyIndex",Al),Z.createIndex("collectionGroupIndex",zc)}(e)).next(()=>this.ri(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(y=y.next(()=>this.ii(e,p))),o<15&&u>=15&&(y=y.next(()=>function(L){L.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),L.createObjectStore("indexState",{keyPath:md}).createIndex("sequenceNumberIndex",Xp,{unique:!1}),L.createObjectStore("indexEntries",{keyPath:Ou}).createIndex("documentKeyIndex",_c,{unique:!1})}(e))),y}Xr(e){let r=0;return e.store("remoteDocuments").Y((o,u)=>{r+=Bd(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Zr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.W().next(u=>w.forEach(u,p=>{const y=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",y).next(x=>w.forEach(x,L=>{nr(L.userId===p.userId);const Z=kd(this.serializer,L);return cp(e,p.userId,Z).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Y((y,x)=>{const L=new si(y),Z=[0,dr(L)];p.push(r.get(Z).next(fe=>fe?w.resolve():r.put({targetId:0,path:dr(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>w.waitFor(p))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:xu});const o=r.store("collectionParents"),u=new bh,p=y=>{if(u.add(y)){const x=y.lastSegment(),L=y.popLast();return o.put({collectionId:x,parent:dr(L)})}};return r.store("remoteDocuments").Y({J:!0},(y,x)=>{const L=new si(y);return p(L.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([y,x,L],Z)=>{const fe=da(x);return p(fe.popLast())}))}ni(e){const r=e.store("targets");return r.Y((o,u)=>{const p=ff(u),y=Mo(this.serializer,p);return r.put(y)})}ri(e,r){const o=r.store("remoteDocuments"),u=[];return o.Y((p,y)=>{const x=r.store("remoteDocumentsV14"),L=(Le=y,Le.document?new An(si.fromString(Le.document.name).popFirst(5)):Le.noDocument?An.fromSegments(Le.noDocument.path):Le.unknownDocument?An.fromSegments(Le.unknownDocument.path):Yn()).path.toArray(),Z={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var Le;u.push(x.put(Z))}).next(()=>w.waitFor(u))}ii(e,r){const o=r.store("mutations"),u=Ef(this.serializer),p=new wf(Tf.jr,this.serializer.ut);return o.W().next(y=>{const x=new Map;return y.forEach(L=>{var Z;let fe=null!==(Z=x.get(L.userId))&&void 0!==Z?Z:Ur();kd(this.serializer,L).keys().forEach(Le=>fe=fe.add(Le)),x.set(L.userId,fe)}),w.forEach(x,(L,Z)=>{const fe=new Ii(Z),Le=gf.ct(this.serializer,fe),_t=p.getIndexManager(fe),kt=yf.ct(fe,this.serializer,_t,p.referenceDelegate);return new Oc(u,kt,Le,_t).recalculateAndSaveOverlaysForDocumentKeys(new no(r,Hi._e),L).next()})})}}function bm(i){i.createObjectStore("targetDocuments",{keyPath:mc}).createIndex("documentTargetsIndex",ah,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sl,{unique:!0}),i.createObjectStore("targetGlobal")}const Gd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Oh{constructor(e,r,o,u,p,y,x,L,Z,fe,Le=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.si=p,this.window=y,this.document=x,this.oi=Z,this._i=fe,this.ai=Le,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=_t=>Promise.resolve(),!Oh.D())throw new en(Lt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cm(this,u),this.Ii=r+"main",this.serializer=new Th(L),this.Ti=new ae(this.Ii,this.ai,new Dm(this.serializer)),this.qr=new dp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ef(this.serializer),this.Kr=new Va,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===fe&&ls("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new en(Lt.FAILED_PRECONDITION,Gd);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Hi(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var o=(0,De.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,De.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,De.Z)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Nh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(cn(e))return fn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return pu(e).get("owner").next(r=>w.resolve(this.wi(r)))}Si(e){return Nh(e).delete(this.clientId)}bi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=es(o,"clientMetadata");return u.W().next(p=>{const y=e.Ci(p,18e5),x=p.filter(L=>-1===y.indexOf(L));return w.forEach(x,L=>u.delete(L.clientId)).next(()=>x)})}).catch(()=>[]);if(e.Ei)for(const o of r)e.Ei.removeItem(e.vi(o.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?w.resolve(!0):pu(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new en(Lt.FAILED_PRECONDITION,Gd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nh(e).W().next(o=>void 0===this.Ci(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&fn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,De.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new no(r,Hi._e);return e.pi(o).next(()=>e.Si(o))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(o=>this.Di(o.updateTimeMs,r)&&!this.Fi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Nh(e).W().next(r=>this.Ci(r,18e5).map(o=>o.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return yf.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ug(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return gf.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,o){fn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",p=15===(L=this.ai)?Wc:14===L?qo:13===L?ql:12===L?Wo:11===L?Hf:void Yn();var L;let y;return this.Ti.runTransaction(e,u,p,x=>(y=new no(x,this.Lr?this.Lr.next():Hi._e),"readwrite-primary"===r?this.fi(y).next(L=>!!L||this.gi(y)).next(L=>{if(!L)throw ls(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new en(Lt.FAILED_PRECONDITION,Wl);return o(y)}).next(L=>this.yi(y).next(()=>L)):this.Li(y).next(()=>o(y)))).then(x=>(y.raiseOnCommittedEvent(),x))}Li(e){return pu(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new en(Lt.FAILED_PRECONDITION,Gd)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pu(e).put("owner",r)}static D(){return ae.D()}pi(e){const r=pu(e);return r.get("owner").next(o=>this.wi(o)?(fn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):w.resolve())}Di(e,r){const o=Date.now();return!(e<o-r||e>o&&(ls(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,me.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const o=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return fn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ls("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ls("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pu(i){return es(i,"owner")}function Nh(i){return es(i,"clientMetadata")}function ac(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Xu{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.ki=o,this.qi=u}static Qi(e,r){let o=Ur(),u=Ur();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Xu(e,r.fromCache,o,u)}}class Am{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Sm{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,o,u){const p={result:null};return this.zi(e,r).next(y=>{p.result=y}).next(()=>{if(!p.result)return this.ji(e,r,u,o).next(y=>{p.result=y})}).next(()=>{if(p.result)return;const y=new Am;return this.Hi(e,r,y).next(x=>{if(p.result=x,this.$i)return this.Ji(e,r,y,x.size)})}).next(()=>p.result)}Ji(e,r,o,u){return o.documentReadCount<this.Ui?(os()<=Fe.in.DEBUG&&fn("QueryEngine","SDK will not create cache indexes for query:",Cc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(os()<=Fe.in.DEBUG&&fn("QueryEngine","Query:",Cc(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(os()<=Fe.in.DEBUG&&fn("QueryEngine","The SDK decides to create cache indexes for query:",Cc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(r))):w.resolve())}zi(e,r){if(Lu(r))return w.resolve(null);let o=gs(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=La(r,null,"F"),o=gs(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const y=Ur(...p);return this.Gi.getDocuments(e,y).next(x=>this.indexManager.getMinOffset(e,o).next(L=>{const Z=this.Yi(r,x);return this.Zi(r,Z,y,L.readTime)?this.zi(e,La(r,null,"F")):this.Xi(e,Z,r,L)}))})))}ji(e,r,o,u){return Lu(r)||u.isEqual(rr.min())?w.resolve(null):this.Gi.getDocuments(e,o).next(p=>{const y=this.Yi(r,p);return this.Zi(r,y,o,u)?w.resolve(null):(os()<=Fe.in.DEBUG&&fn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Cc(r)),this.Xi(e,y,r,ua(u,-1)).next(x=>x))})}Yi(e,r){let o=new ai(mh(e));return r.forEach((u,p)=>{wc(e,p)&&(o=o.add(p))}),o}Zi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Hi(e,r,o){return os()<=Fe.in.DEBUG&&fn("QueryEngine","Using full collection scan to execute query:",Cc(r)),this.Gi.getDocumentsMatchingQuery(e,r,zo.min(),o)}Xi(e,r,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(p=>(r.forEach(y=>{p=p.insert(y.key,y)}),p))}}class F_{constructor(e,r,o,u){this.persistence=e,this.es=r,this.serializer=u,this.ts=new Fi(Sr),this.ns=new kl(p=>Zo(p),Ol),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oc(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function lc(i,e,r,o){return new F_(i,e,r,o)}function Rm(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,De.Z)(function*(i,e){const r=Mn(i);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,r.os(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const y=[],x=[];let L=Ur();for(const Z of u){y.push(Z.batchId);for(const fe of Z.mutations)L=L.add(fe.key)}for(const Z of p){x.push(Z.batchId);for(const fe of Z.mutations)L=L.add(fe.key)}return r.localDocuments.getDocuments(o,L).next(Z=>({_s:Z,removedBatchIds:y,addedBatchIds:x}))})})}),Pm.apply(this,arguments)}function xm(i){const e=Mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function Nm(i,e,r){let o=Ur(),u=Ur();return r.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let y=mo();return r.forEach((x,L)=>{const Z=p.get(x);L.isFoundDocument()!==Z.isFoundDocument()&&(u=u.add(x)),L.isNoDocument()&&L.version.isEqual(rr.min())?(e.removeEntry(x,L.readTime),y=y.insert(x,L)):!Z.isValidDocument()||L.version.compareTo(Z.version)>0||0===L.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(L),y=y.insert(x,L)):fn("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Z.version," Watch version:",L.version)}),{us:y,cs:u}})}function V_(i,e){const r=Mn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ju(i,e){const r=Mn(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.qr.getTargetData(o,e).next(p=>p?(u=p,w.resolve(u)):r.qr.allocateTargetId(o).next(y=>(u=new uu(e,y,"TargetPurposeListen",o.currentSequenceNumber),r.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ts=r.ts.insert(o.targetId,o),r.ns.set(e,o.targetId)),o})}function $a(i,e,r){return zd.apply(this,arguments)}function zd(){return zd=(0,De.Z)(function*(i,e,r){const o=Mn(i),u=o.ts.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!cn(y))throw y;fn("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),zd.apply(this,arguments)}function bf(i,e,r){const o=Mn(i);let u=rr.min(),p=Ur();return o.persistence.runTransaction("Execute query","readwrite",y=>function(L,Z,fe){const Le=Mn(L),_t=Le.ns.get(fe);return void 0!==_t?w.resolve(Le.ts.get(_t)):Le.qr.getTargetData(Z,fe)}(o,y,gs(e)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(y,x.targetId).next(L=>{p=L})}).next(()=>o.es.getDocumentsMatchingQuery(y,e,r?u:rr.min(),r?p:Ur())).next(x=>(B_(o,Yf(e),x),{documents:x,ls:p})))}function pg(i,e){const r=Mn(i),o=Mn(r.qr),u=r.ts.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>o._t(p,e).next(y=>y?y.target:null))}function gg(i,e){const r=Mn(i),o=r.rs.get(e)||rr.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.ss.getAllFromCollectionGroup(u,e,ua(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(B_(r,e,u),u))}function B_(i,e,r){let o=i.rs.get(e)||rr.min();r.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.rs.set(e,o)}function km(){return km=(0,De.Z)(function*(i,e,r,o){const u=Mn(i);let p=Ur(),y=mo();for(const Z of r){const fe=e.hs(Z.metadata.name);Z.document&&(p=p.add(fe));const Le=e.Ps(Z);Le.setReadTime(e.Is(Z.metadata.readTime)),y=y.insert(fe,Le)}const x=u.ss.newChangeBuffer({trackRemovals:!0}),L=yield Ju(u,(fe=o,gs($s(si.fromString(`__bundle__/docs/${fe}`)))));var fe;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Nm(Z,x,y).next(fe=>(x.apply(Z),fe)).next(fe=>u.qr.removeMatchingKeysForTargetId(Z,L.targetId).next(()=>u.qr.addMatchingKeys(Z,p,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Z,fe.us,fe.cs)).next(()=>fe.us)))}),km.apply(this,arguments)}function mg(i,e){return Af.apply(this,arguments)}function Af(){return Af=(0,De.Z)(function*(i,e,r=Ur()){const o=yield Ju(i,gs(Yu(e.bundledQuery))),u=Mn(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const y=_s(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u.Kr.saveNamedQuery(p,e);const x=o.withResumeToken(Vr.EMPTY_BYTE_STRING,y);return u.ts=u.ts.insert(x.targetId,x),u.qr.updateTargetData(p,x).next(()=>u.qr.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.qr.addMatchingKeys(p,r,o.targetId)).next(()=>u.Kr.saveNamedQuery(p,e))})}),Af.apply(this,arguments)}function U_(i,e){return`firestore_clients_${i}_${e}`}function $_(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function mp(i,e){return`firestore_targets_${i}_${e}`}class _p{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Ts(e,r,o){const u=JSON.parse(o);let p,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(p=new en(u.error.code,u.error.message))),y?new _p(e,r,u.state,p):(ls("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ea{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Ts(e,r){const o=JSON.parse(r);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new en(o.error.code,o.error.message))),p?new Ea(e,o.state,u):(ls("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vp{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Uu();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=Pi(o.activeTargetIds[y]),p=p.add(o.activeTargetIds[y]);return u?new vp(e,p):(ls("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Sf{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Sf(r.clientId,r.onlineState):(ls("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rf{constructor(){this.activeTargetIds=Uu()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kh{constructor(e,r,o,u,p){this.window=e,this.si=r,this.persistenceKey=o,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Fi(Sr),this.started=!1,this.ps=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ys=U_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Rf),this.Ss=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(L){return`firestore_bundle_loaded_v2_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Rs)continue;const p=e.getItem(U_(e.persistenceKey,u));if(p){const y=vp.Ts(u,p);y&&(e.gs=e.gs.insert(y.clientId,y))}}e.Fs();const o=e.storage.getItem(e.Cs);if(o){const u=e.Ms(o);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,o){this.Ns(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(mp(this.persistenceKey,e));if(o){const u=Ea.Ts(e,o);u&&(r=u.state)}}return this.Ls.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mp(this.persistenceKey,e))}updateQueryState(e,r,o){this.ks(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return fn("SharedClientState","READ",e,r),r}setItem(e,r){fn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){fn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(fn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ys)return void ls("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,De.Z)(function*(){if(r.started){if(null!==o.key)if(r.Ss.test(o.key)){if(null==o.newValue){const u=r.Ks(o.key);return r.$s(u,null)}{const u=r.Us(o.key,o.newValue);if(u)return r.$s(u.clientId,u)}}else if(r.bs.test(o.key)){if(null!==o.newValue){const u=r.Ws(o.key,o.newValue);if(u)return r.Gs(u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.zs(o.key,o.newValue);if(u)return r.js(u)}}else if(o.key===r.Cs){if(null!==o.newValue){const u=r.Ms(o.newValue);if(u)return r.xs(u)}}else if(o.key===r.ws){const u=function(y){let x=Hi._e;if(null!=y)try{const L=JSON.parse(y);nr("number"==typeof L),x=L}catch(L){ls("SharedClientState","Failed to read sequence number from WebStorage",L)}return x}(o.newValue);u!==Hi._e&&r.sequenceNumberHandler(u)}else if(o.key===r.vs){const u=r.Hs(o.newValue);yield Promise.all(u.map(p=>r.syncEngine.Js(p)))}}else r.ps.push(o)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,r,o){const u=new _p(this.currentUser,e,r,o),p=$_(this.persistenceKey,this.currentUser,e);this.setItem(p,u.Es())}Bs(e){const r=$_(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,o){const u=mp(this.persistenceKey,e),p=new Ea(e,r,o);this.setItem(u,p.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const o=this.Ks(e);return vp.Ts(o,r)}Ws(e,r){const o=this.bs.exec(e),u=Number(o[1]);return _p.Ts(new Ii(void 0!==o[2]?o[2]:null),u,r)}zs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Ea.Ts(u,r)}Ms(e){return Sf.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,De.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);fn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const o=r?this.gs.insert(e,r):this.gs.remove(e),u=this.Os(this.gs),p=this.Os(o),y=[],x=[];return p.forEach(L=>{u.has(L)||y.push(L)}),u.forEach(L=>{p.has(L)||x.push(L)}),this.syncEngine.Xs(y,x).then(()=>{this.gs=o})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=Uu();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class yp{constructor(){this.eo=new Rf,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,o){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Rf,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _g{ro(e){}shutdown(){}}class Lm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){fn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){fn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gu=null;function vg(){return null===gu?gu=268435456+Math.round(2147483648*Math.random()):gu++,"0x"+gu.toString(16)}const Fm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const xo="WebChannelConnection";class Qv extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+r.host,this.fo=`projects/${u}/databases/${p}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get yo(){return!1}wo(r,o,u,p,y){const x=vg(),L=this.So(r,o);fn("RestConnection",`Sending RPC '${r}' ${x}:`,L,u);const Z={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(Z,p,y),this.Do(r,L,Z,u).then(fe=>(fn("RestConnection",`Received RPC '${r}' ${x}: `,fe),fe),fe=>{throw Ki("RestConnection",`RPC '${r}' ${x} failed with error: `,fe,"url: ",L,"request:",u),fe})}Co(r,o,u,p,y,x){return this.wo(r,o,u,p,y)}bo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Vs,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,y)=>r[y]=p),u&&u.headers.forEach((p,y)=>r[y]=p)}So(r,o){return`${this.mo}/v1/${o}:${Fm[r]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,o,u){const p=vg();return new Promise((y,x)=>{const L=new Li;L.setWithCredentials(!0),L.listenOnce(Qa.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Do.NO_ERROR:const fe=L.getResponseJson();fn(xo,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(fe)),y(fe);break;case Do.TIMEOUT:fn(xo,`RPC '${e}' ${p} timed out`),x(new en(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case Do.HTTP_ERROR:const Le=L.getStatus();if(fn(xo,`RPC '${e}' ${p} failed with status:`,Le,"response text:",L.getResponseText()),Le>0){let _t=L.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const kt=null==_t?void 0:_t.error;if(kt&&kt.status&&kt.message){const Dn=function(Vn){const Er=Vn.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(Er)>=0?Er:Lt.UNKNOWN}(kt.status);x(new en(Dn,kt.message))}else x(new en(Lt.UNKNOWN,"Server responded with status "+L.getStatus()))}else x(new en(Lt.UNAVAILABLE,"Connection failed."));break;default:Yn()}}finally{fn(xo,`RPC '${e}' ${p} completed.`)}});const Z=JSON.stringify(u);fn(xo,`RPC '${e}' ${p} sending request:`,u),L.send(r,"POST",Z,o,15)})}vo(e,r,o){const u=vg(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Fs(),x=Ra(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Z=this.longPollingOptions.timeoutSeconds;void 0!==Z&&(L.longPollingTimeout=Math.round(1e3*Z)),this.useFetchStreams&&(L.xmlHttpFactory=new Ru({})),this.bo(L.initMessageHeaders,r,o),L.encodeInitMessageHeaders=!0;const fe=p.join("");fn(xo,`Creating RPC '${e}' stream ${u}: ${fe}`,L);const Le=y.createWebChannel(fe,L);let _t=!1,kt=!1;const Dn=new Vm({co:Vn=>{kt?fn(xo,`Not sending because RPC '${e}' stream ${u} is closed:`,Vn):(_t||(fn(xo,`Opening RPC '${e}' stream ${u} transport.`),Le.open(),_t=!0),fn(xo,`RPC '${e}' stream ${u} sending:`,Vn),Le.send(Vn))},lo:()=>Le.close()}),Ln=(Vn,Er,Lr)=>{Vn.listen(Er,Rr=>{try{Lr(Rr)}catch(hi){setTimeout(()=>{throw hi},0)}})};return Ln(Le,Xa.EventType.OPEN,()=>{kt||fn(xo,`RPC '${e}' stream ${u} transport opened.`)}),Ln(Le,Xa.EventType.CLOSE,()=>{kt||(kt=!0,fn(xo,`RPC '${e}' stream ${u} transport closed`),Dn.Ro())}),Ln(Le,Xa.EventType.ERROR,Vn=>{kt||(kt=!0,Ki(xo,`RPC '${e}' stream ${u} transport errored:`,Vn),Dn.Ro(new en(Lt.UNAVAILABLE,"The operation could not be completed")))}),Ln(Le,Xa.EventType.MESSAGE,Vn=>{var Er;if(!kt){const Lr=Vn.data[0];nr(!!Lr);const hi=Lr.error||(null===(Er=Lr[0])||void 0===Er?void 0:Er.error);if(hi){fn(xo,`RPC '${e}' stream ${u} received error:`,hi);const Bi=hi.status;let Di=function(om){const Rv=ms[om];if(void 0!==Rv)return va(Rv)}(Bi),Eo=hi.message;void 0===Di&&(Di=Lt.INTERNAL,Eo="Unknown error status: "+Bi+" with message "+hi.message),kt=!0,Dn.Ro(new en(Di,Eo)),Le.close()}else fn(xo,`RPC '${e}' stream ${u} received:`,Lr),Dn.Vo(Lr)}}),Ln(x,ef.STAT_EVENT,Vn=>{Vn.stat===Js.PROXY?fn(xo,`RPC '${e}' stream ${u} detected buffering proxy`):Vn.stat===Js.NOPROXY&&fn(xo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Dn.Ao()},0),Dn}}function yg(){return typeof window<"u"?window:null}function Ep(){return typeof document<"u"?document:null}function Pf(i){return new ar(i,!0)}class Ip{constructor(e,r,o=1e3,u=1.5,p=6e4){this.si=e,this.timerId=r,this.Fo=o,this.Mo=u,this.xo=p,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,r-o);u>0&&fn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class j_{constructor(e,r,o,u,p,y,x,L){this.si=e,this.Ko=o,this.$o=u,this.connection=p,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=x,this.listener=L,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ip(e,r)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,De.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,De.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,r){var o=this;return(0,De.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():r&&r.code===Lt.RESOURCE_EXHAUSTED?(ls(r.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):r&&r.code===Lt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(r)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===r&&this.s_(o,u)},o=>{e(()=>{const u=new en(Lt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,r){const o=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,De.Z)(function*(){e.state=0,e.start()}))}o_(e){return fn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(fn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xv extends j_{constructor(e,r,o,u,p,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,y),this.serializer=p}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=function Yv(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(Z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Yn(),u=e.targetChange.targetIds||[],p=function(Z,fe){return Z.useProto3Json?(nr(void 0===fe||"string"==typeof fe),Vr.fromBase64String(fe||"")):(nr(void 0===fe||fe instanceof Uint8Array),Vr.fromUint8Array(fe||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,x=y&&function(Z){const fe=void 0===Z.code?Lt.UNKNOWN:va(Z.code);return new en(fe,Z.message||"")}(y);r=new D(o,u,p,x||null)}else if("documentChange"in e){const o=e.documentChange,u=Fa(i,o.document.name),p=_s(o.document.updateTime),y=o.document.createTime?_s(o.document.createTime):rr.min(),x=new Us({mapValue:{fields:o.document.fields}}),L=Xi.newFoundDocument(u,p,y,x);r=new _(o.targetIds||[],o.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const o=e.documentDelete,u=Fa(i,o.document),p=o.readTime?_s(o.readTime):rr.min(),y=Xi.newNoDocument(u,p);r=new _([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=Fa(i,o.document);r=new _([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Yn();{const o=e.filter,{count:u=0,unchangedNames:p}=o,y=new uf(u,p);r=new v(o.targetId,y)}}var Z;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return rr.min();const y=p.targetChange;return y.targetIds&&y.targetIds.length?rr.min():y.readTime?_s(y.readTime):rr.min()}(e);return this.listener.a_(r,o)}u_(e){const r={};r.database=cu(this.serializer),r.addTarget=function(p,y){let x;const L=y.target;if(x=Ec(L)?{documents:Nd(p,L)}:{query:hf(p,L)},x.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){x.resumeToken=lu(p,y.resumeToken);const Z=Vi(p,y.expectedCount);null!==Z&&(x.expectedCount=Z)}else if(y.snapshotVersion.compareTo(rr.min())>0){x.readTime=_o(p,y.snapshotVersion.toTimestamp());const Z=Vi(p,y.expectedCount);null!==Z&&(x.expectedCount=Z)}return x}(this.serializer,e);const o=function pm(i,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.e_(r)}c_(e){const r={};r.database=cu(this.serializer),r.removeTarget=e,this.e_(r)}}class Mf extends j_{constructor(e,r,o,u,p,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,y),this.serializer=p,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(nr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=function Ch(i,e){return i&&i.length>0?(nr(void 0!==e),i.map(r=>function(u,p){let y=_s(u.updateTime?u.updateTime:p);return y.isEqual(rr.min())&&(y=_s(p)),new Rd(y,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=_s(e.commitTime);return this.listener.I_(o,r)}return nr(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=cu(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Jf(this.serializer,o))};this.e_(r)}}class Jv extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new en(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.wo(e,r,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new en(Lt.UNKNOWN,u.toString())})}Co(e,r,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Co(e,r,o,p,y,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new en(Lt.UNKNOWN,p.toString())})}terminate(){this.d_=!0}}class ty{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ls(r),this.f_=!1):fn("OnlineStateTracker",r)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Bm{constructor(e,r,o,u,p){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=p,this.F_.ro(x=>{o.enqueueAndForget((0,De.Z)(function*(){var L;Cs(y)&&(fn("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,De.Z)(function*(fe){const Le=Mn(fe);Le.C_.add(4),yield mu(Le),Le.M_.set("Unknown"),Le.C_.delete(4),yield Fh(Le)}),function Z(fe){return L.apply(this,arguments)})(y))}))}),this.M_=new ty(o,u)}}function Fh(i){return ed.apply(this,arguments)}function ed(){return ed=(0,De.Z)(function*(i){if(Cs(i))for(const e of i.v_)yield e(!0)}),ed.apply(this,arguments)}function mu(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,De.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Vh.apply(this,arguments)}function Nc(i,e){const r=Mn(i);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),ja(r)?Bh(r):Hh(r).Ho()&&td(r,e))}function _u(i,e){const r=Mn(i),o=Hh(r);r.D_.delete(e),o.Ho()&&Cp(r,e),0===r.D_.size&&(o.Ho()?o.Zo():Cs(r)&&r.M_.set("Unknown"))}function td(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hh(i).u_(e)}function Cp(i,e){i.x_.Oe(e),Hh(i).c_(e)}function Bh(i){i.x_=new ce({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Hh(i).start(),i.M_.g_()}function ja(i){return Cs(i)&&!Hh(i).jo()&&i.D_.size>0}function Cs(i){return 0===Mn(i).C_.size}function ta(i){i.x_=void 0}function vu(i){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,De.Z)(function*(i){i.D_.forEach((e,r)=>{td(i,e)})}),Eg.apply(this,arguments)}function Um(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,De.Z)(function*(i,e){ta(i),ja(i)?(i.M_.w_(e),Bh(i)):i.M_.set("Unknown")}),Ig.apply(this,arguments)}function H_(i,e,r){return yu.apply(this,arguments)}function yu(){return yu=(0,De.Z)(function*(i,e,r){if(i.M_.set("Online"),e instanceof D&&2===e.state&&e.cause)try{yield(o=(0,De.Z)(function*(p,y){const x=y.cause;for(const L of y.targetIds)p.D_.has(L)&&(yield p.remoteSyncer.rejectListen(L,x),p.D_.delete(L),p.x_.removeTarget(L))}),function u(p,y){return o.apply(this,arguments)})(i,e)}catch(o){fn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield xf(i,o)}else if(e instanceof _?i.x_.$e(e):e instanceof v?i.x_.Je(e):i.x_.Ge(e),!r.isEqual(rr.min()))try{const o=yield xm(i.localStore);r.compareTo(o)>=0&&(yield function(p,y){const x=p.x_.it(y);return x.targetChanges.forEach((L,Z)=>{if(L.resumeToken.approximateByteSize()>0){const fe=p.D_.get(Z);fe&&p.D_.set(Z,fe.withResumeToken(L.resumeToken,y))}}),x.targetMismatches.forEach((L,Z)=>{const fe=p.D_.get(L);if(!fe)return;p.D_.set(L,fe.withResumeToken(Vr.EMPTY_BYTE_STRING,fe.snapshotVersion)),Cp(p,L);const Le=new uu(fe.target,L,Z,fe.sequenceNumber);td(p,Le)}),p.remoteSyncer.applyRemoteEvent(x)}(i,r))}catch(o){fn("RemoteStore","Failed to raise snapshot:",o),yield xf(i,o)}var o}),yu.apply(this,arguments)}function xf(i,e,r){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,De.Z)(function*(i,e,r){if(!cn(e))throw e;i.C_.add(1),yield mu(i),i.M_.set("Offline"),r||(r=()=>xm(i.localStore)),i.asyncQueue.enqueueRetryable((0,De.Z)(function*(){fn("RemoteStore","Retrying IndexedDB access"),yield r(),i.C_.delete(1),yield Fh(i)}))}),Cg.apply(this,arguments)}function wg(i,e){return e().catch(r=>xf(i,r,e))}function Uh(i){return wp.apply(this,arguments)}function wp(){return wp=(0,De.Z)(function*(i){const e=Mn(i),r=Iu(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Of(e);)try{const u=yield V_(e.localStore,o);if(null===u){0===e.b_.length&&r.Zo();break}o=u.batchId,Tp(e,u)}catch(u){yield xf(e,u)}Tg(e)&&Dg(e)}),wp.apply(this,arguments)}function Of(i){return Cs(i)&&i.b_.length<10}function Tp(i,e){i.b_.push(e);const r=Iu(i);r.Ho()&&r.h_&&r.P_(e.mutations)}function Tg(i){return Cs(i)&&!Iu(i).jo()&&i.b_.length>0}function Dg(i){Iu(i).start()}function bg(i){return $h.apply(this,arguments)}function $h(){return $h=(0,De.Z)(function*(i){Iu(i).E_()}),$h.apply(this,arguments)}function $m(i){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,De.Z)(function*(i){const e=Iu(i);for(const r of i.b_)e.P_(r.mutations)}),Dp.apply(this,arguments)}function G_(i,e,r){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,De.Z)(function*(i,e,r){const o=i.b_.shift(),u=ec.from(o,e,r);yield wg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Uh(i)}),Nf.apply(this,arguments)}function ny(i,e){return Ag.apply(this,arguments)}function Ag(){return Ag=(0,De.Z)(function*(i,e){var r;e&&Iu(i).h_&&(yield(r=(0,De.Z)(function*(u,p){if(ml(x=p.code)&&x!==Lt.ABORTED){const y=u.b_.shift();Iu(u).Yo(),yield wg(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,p)),yield Uh(u)}var x}),function o(u,p){return r.apply(this,arguments)})(i,e)),Tg(i)&&Dg(i)}),Ag.apply(this,arguments)}function jh(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,De.Z)(function*(i,e){const r=Mn(i);r.asyncQueue.verifyOperationInProgress(),fn("RemoteStore","RemoteStore received new credentials");const o=Cs(r);r.C_.add(3),yield mu(r),o&&r.M_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),yield Fh(r)}),Sg.apply(this,arguments)}function Eu(i,e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,De.Z)(function*(i,e){const r=Mn(i);e?(r.C_.delete(2),yield Fh(r)):e||(r.C_.add(2),yield mu(r),r.M_.set("Unknown"))}),Wd.apply(this,arguments)}function Hh(i){return i.O_||(i.O_=function(r,o,u){const p=Mn(r);return p.A_(),new Xv(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:vu.bind(null,i),Io:Um.bind(null,i),a_:H_.bind(null,i)}),i.v_.push(function(){var e=(0,De.Z)(function*(r){r?(i.O_.Yo(),ja(i)?Bh(i):i.M_.set("Unknown")):(yield i.O_.stop(),ta(i))});return function(r){return e.apply(this,arguments)}}())),i.O_}function Iu(i){return i.N_||(i.N_=function(r,o,u){const p=Mn(r);return p.A_(),new Mf(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:bg.bind(null,i),Io:ny.bind(null,i),T_:$m.bind(null,i),I_:G_.bind(null,i)}),i.v_.push(function(){var e=(0,De.Z)(function*(r){r?(i.N_.Yo(),yield Uh(i)):(yield i.N_.stop(),i.b_.length>0&&(fn("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(r){return e.apply(this,arguments)}}())),i.N_}class Rg{constructor(e,r,o,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,p){const y=Date.now()+o,x=new Rg(e,r,y,u,p);return x.start(o),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new en(Lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(i,e){if(ls("AsyncQueue",`${e}: ${i}`),cn(i))return new en(Lt.UNAVAILABLE,`${e}: ${i}`);throw i}class zh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||An.comparator(r.key,o.key):(r,o)=>An.comparator(r.key,o.key),this.keyedMap=eu(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new zh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof zh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new zh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Pg{constructor(){this.B_=new Fi(An.comparator)}track(e){const r=e.doc.key,o=this.B_.get(r);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(r):1===e.type&&2===o.type?this.B_=this.B_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):Yn():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Wh{constructor(e,r,o,u,p,y,x,L,Z){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=y,this.syncStateChanged=x,this.excludesMetadataChanges=L,this.hasCachedResults=Z}static fromInitialDocuments(e,r,o,u,p){const y=[];return r.forEach(x=>{y.push({type:0,doc:x})}),new Wh(e,r,zh.emptySet(r),y,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class h{constructor(){this.k_=void 0,this.listeners=[]}}class l{constructor(){this.queries=new kl(e=>Jc(e),Ic),this.onlineState="Unknown",this.q_=new Set}}function c(i,e){return g.apply(this,arguments)}function g(){return g=(0,De.Z)(function*(i,e){const r=Mn(i),o=e.query;let u=!1,p=r.queries.get(o);if(p||(u=!0,p=new h),u)try{p.k_=yield r.onListen(o)}catch(y){const x=Gh(y,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(x)}r.queries.set(o,p),p.listeners.push(e),e.Q_(r.onlineState),p.k_&&e.K_(p.k_)&&ve(r)}),g.apply(this,arguments)}function I(i,e){return S.apply(this,arguments)}function S(){return S=(0,De.Z)(function*(i,e){const r=Mn(i),o=e.query;let u=!1;const p=r.queries.get(o);if(p){const y=p.listeners.indexOf(e);y>=0&&(p.listeners.splice(y,1),u=0===p.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),S.apply(this,arguments)}function F(i,e){const r=Mn(i);let o=!1;for(const u of e){const y=r.queries.get(u.query);if(y){for(const x of y.listeners)x.K_(u)&&(o=!0);y.k_=u}}o&&ve(r)}function te(i,e,r){const o=Mn(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(r);o.queries.delete(e)}function ve(i){i.q_.forEach(e=>{e.next()})}class Ne{constructor(e,r,o){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Wh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){return!e.fromCache||(!this.options.J_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Wh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Tt{constructor(e,r){this.Y_=e,this.byteLength=r}Z_(){return"metadata"in this.Y_}}class Ot{constructor(e){this.serializer=e}hs(e){return Fa(this.serializer,e)}Ps(e){return e.metadata.exists?rg(this.serializer,e.document,!1):Xi.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return _s(e)}}class zt{constructor(e,r,o){this.X_=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Tn(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++r;const o=si.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ta(e){const r=new Map,o=new Ot(this.serializer);for(const u of e)if(u.metadata.queries){const p=o.hs(u.metadata.name);for(const y of u.metadata.queries){const x=(r.get(y)||Ur()).add(p);r.set(y,x)}}return r}complete(){var e=this;return(0,De.Z)(function*(){const r=yield function Zv(i,e,r,o){return km.apply(this,arguments)}(e.localStore,new Ot(e.serializer),e.documents,e.X_.id),o=e.ta(e.documents);for(const u of e.queries)yield mg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:r}})()}}function Tn(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class $n{constructor(e){this.key=e}}class Nr{constructor(e){this.key=e}}class Zr{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Ur(),this.mutatedKeys=Ur(),this._a=mh(e),this.aa=new zh(this._a)}get ua(){return this.ia}ca(e,r){const o=r?r.la:new Pg,u=r?r.aa:this.aa;let p=r?r.mutatedKeys:this.mutatedKeys,y=u,x=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((fe,Le)=>{const _t=u.get(fe),kt=wc(this.query,Le)?Le:null,Dn=!!_t&&this.mutatedKeys.has(_t.key),Ln=!!kt&&(kt.hasLocalMutations||this.mutatedKeys.has(kt.key)&&kt.hasCommittedMutations);let Vn=!1;_t&&kt?_t.data.isEqual(kt.data)?Dn!==Ln&&(o.track({type:3,doc:kt}),Vn=!0):this.ha(_t,kt)||(o.track({type:2,doc:kt}),Vn=!0,(L&&this._a(kt,L)>0||Z&&this._a(kt,Z)<0)&&(x=!0)):!_t&&kt?(o.track({type:0,doc:kt}),Vn=!0):_t&&!kt&&(o.track({type:1,doc:_t}),Vn=!0,(L||Z)&&(x=!0)),Vn&&(kt?(y=y.add(kt),p=Ln?p.add(fe):p.delete(fe)):(y=y.delete(fe),p=p.delete(fe)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const fe="F"===this.query.limitType?y.last():y.first();y=y.delete(fe.key),p=p.delete(fe.key),o.track({type:1,doc:fe})}return{aa:y,la:o,Zi:x,mutatedKeys:p}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const p=e.la.L_();p.sort((Z,fe)=>function(_t,kt){const Dn=Ln=>{switch(Ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yn()}};return Dn(_t)-Dn(kt)}(Z.type,fe.type)||this._a(Z.doc,fe.doc)),this.Pa(o);const y=r?this.Ia():[],x=0===this.oa.size&&this.current?1:0,L=x!==this.sa;return this.sa=x,0!==p.length||L?{snapshot:new Wh(this.query,e.aa,u,p,e.mutatedKeys,0===x,L,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:y}:{Ta:y}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Pg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Ur(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const r=[];return e.forEach(o=>{this.oa.has(o)||r.push(new Nr(o))}),this.oa.forEach(o=>{e.has(o)||r.push(new $n(o))}),r}da(e){this.ia=e.ls,this.oa=Ur();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return Wh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Ao{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class yo{constructor(e){this.key=e,this.Ra=!1}}class us{constructor(e,r,o,u,p,y){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=y,this.Va={},this.ma=new kl(x=>Jc(x),Ic),this.fa=new Map,this.ga=new Set,this.pa=new Fi(An.comparator),this.ya=new Map,this.wa=new Ua,this.Sa={},this.ba=new Map,this.Da=hu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function As(i,e){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,De.Z)(function*(i,e){const r=Km(i);let o,u;const p=r.ma.get(e);if(p)o=p.targetId,r.sharedClientState.addLocalQueryTarget(o),u=p.view.Aa();else{const y=yield Ju(r.localStore,gs(e)),x=r.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield kc(r,e,o,"current"===x,y.resumeToken),r.isPrimaryClient&&Nc(r.remoteStore,y)}return u}),Cu.apply(this,arguments)}function kc(i,e,r,o,u){return bp.apply(this,arguments)}function bp(){return bp=(0,De.Z)(function*(i,e,r,o,u){i.va=(Le,_t,kt)=>{return(Dn=(0,De.Z)(function*(Vn,Er,Lr,Rr){let hi=Er.view.ca(Lr);hi.Zi&&(hi=yield bf(Vn.localStore,Er.query,!1).then(({documents:Eo})=>Er.view.ca(Eo,hi)));const Bi=Rr&&Rr.targetChanges.get(Er.targetId),Di=Er.view.applyChanges(hi,Vn.isPrimaryClient,Bi);return q_(Vn,Er.targetId,Di.Ta),Di.snapshot}),function Ln(Vn,Er,Lr,Rr){return Dn.apply(this,arguments)})(i,Le,_t,kt);var Dn};const p=yield bf(i.localStore,e,!0),y=new Zr(e,p.ls),x=y.ca(p.documents),L=C.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState,u),Z=y.applyChanges(x,i.isPrimaryClient,L);q_(i,r,Z.Ta);const fe=new Ao(e,r,y);return i.ma.set(e,fe),i.fa.has(r)?i.fa.get(r).push(e):i.fa.set(r,[e]),Z.snapshot}),bp.apply(this,arguments)}function qh(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,De.Z)(function*(i,e){const r=Mn(i),o=r.ma.get(e),u=r.fa.get(o.targetId);if(u.length>1)return r.fa.set(o.targetId,u.filter(p=>!Ic(p,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield $a(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),_u(r.remoteStore,o.targetId),Sp(r,o.targetId)}).catch(M))):(Sp(r,o.targetId),yield $a(r.localStore,o.targetId,!0))}),qd.apply(this,arguments)}function kf(){return kf=(0,De.Z)(function*(i,e,r){const o=Lg(i);try{const u=yield function(y,x){const L=Mn(y),Z=zi.now(),fe=x.reduce((kt,Dn)=>kt.add(Dn.key),Ur());let Le,_t;return L.persistence.runTransaction("Locally write mutations","readwrite",kt=>{let Dn=mo(),Ln=Ur();return L.ss.getEntries(kt,fe).next(Vn=>{Dn=Vn,Dn.forEach((Er,Lr)=>{Lr.isValidDocument()||(Ln=Ln.add(Er))})}).next(()=>L.localDocuments.getOverlayedDocuments(kt,Dn)).next(Vn=>{Le=Vn;const Er=[];for(const Lr of x){const Rr=ng(Lr,Le.get(Lr.key).overlayedDocument);null!=Rr&&Er.push(new Jl(Lr.key,Rr,vc(Rr.value.mapValue),as.exists(!0)))}return L.mutationQueue.addMutationBatch(kt,Z,Er,x)}).next(Vn=>{_t=Vn;const Er=Vn.applyToLocalDocumentSet(Le,Ln);return L.documentOverlayCache.saveOverlays(kt,Vn.batchId,Er)})}).then(()=>({batchId:_t.batchId,changes:Vu(Le)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(y,x,L){let Z=y.Sa[y.currentUser.toKey()];Z||(Z=new Fi(Sr)),Z=Z.insert(x,L),y.Sa[y.currentUser.toKey()]=Z}(o,u.batchId,r),yield Kh(o,u.changes),yield Uh(o.remoteStore)}catch(u){const p=Gh(u,"Failed to persist write");r.reject(p)}}),kf.apply(this,arguments)}function z_(i,e){return jm.apply(this,arguments)}function jm(){return jm=(0,De.Z)(function*(i,e){const r=Mn(i);try{const o=yield function Om(i,e){const r=Mn(i),o=e.snapshotVersion;let u=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const y=r.ss.newChangeBuffer({trackRemovals:!0});u=r.ts;const x=[];e.targetChanges.forEach((fe,Le)=>{const _t=u.get(Le);if(!_t)return;x.push(r.qr.removeMatchingKeys(p,fe.removedDocuments,Le).next(()=>r.qr.addMatchingKeys(p,fe.addedDocuments,Le)));let kt=_t.withSequenceNumber(p.currentSequenceNumber);var Ln,Vn,Er;null!==e.targetMismatches.get(Le)?kt=kt.withResumeToken(Vr.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):fe.resumeToken.approximateByteSize()>0&&(kt=kt.withResumeToken(fe.resumeToken,o)),u=u.insert(Le,kt),Vn=kt,Er=fe,(0===(Ln=_t).resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-Ln.snapshotVersion.toMicroseconds()>=3e8||Er.addedDocuments.size+Er.modifiedDocuments.size+Er.removedDocuments.size>0)&&x.push(r.qr.updateTargetData(p,kt))});let L=mo(),Z=Ur();if(e.documentUpdates.forEach(fe=>{e.resolvedLimboDocuments.has(fe)&&x.push(r.persistence.referenceDelegate.updateLimboDocument(p,fe))}),x.push(Nm(p,y,e.documentUpdates).next(fe=>{L=fe.us,Z=fe.cs})),!o.isEqual(rr.min())){const fe=r.qr.getLastRemoteSnapshotVersion(p).next(Le=>r.qr.setTargetsMetadata(p,p.currentSequenceNumber,o));x.push(fe)}return w.waitFor(x).next(()=>y.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,L,Z)).next(()=>L)}).then(p=>(r.ts=u,p))}(r.localStore,e);e.targetChanges.forEach((u,p)=>{const y=r.ya.get(p);y&&(nr(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Ra=!0:u.modifiedDocuments.size>0?nr(y.Ra):u.removedDocuments.size>0&&(nr(y.Ra),y.Ra=!1))}),yield Kh(r,o,e)}catch(o){yield M(o)}}),jm.apply(this,arguments)}function ry(i,e,r){const o=Mn(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ma.forEach((p,y)=>{const x=y.view.Q_(e);x.snapshot&&u.push(x.snapshot)}),function(y,x){const L=Mn(y);L.onlineState=x;let Z=!1;L.queries.forEach((fe,Le)=>{for(const _t of Le.listeners)_t.Q_(x)&&(Z=!0)}),Z&&ve(L)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $E(i,e,r){return W_.apply(this,arguments)}function W_(){return W_=(0,De.Z)(function*(i,e,r){const o=Mn(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.ya.get(e),p=u&&u.key;if(p){let y=new Fi(An.comparator);y=y.insert(p,Xi.newNoDocument(p,rr.min()));const x=Ur().add(p),L=new Ac(rr.min(),new Map,new Fi(Sr),y,x);yield z_(o,L),o.pa=o.pa.remove(p),o.ya.delete(e),Wm(o)}else yield $a(o.localStore,e,!1).then(()=>Sp(o,e,r)).catch(M)}),W_.apply(this,arguments)}function jE(i,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,De.Z)(function*(i,e){const r=Mn(i),o=e.batch.batchId;try{const u=yield function Mm(i,e){const r=Mn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=r.ss.newChangeBuffer({trackRemovals:!0});return function(x,L,Z,fe){const Le=Z.batch,_t=Le.keys();let kt=w.resolve();return _t.forEach(Dn=>{kt=kt.next(()=>fe.getEntry(L,Dn)).next(Ln=>{const Vn=Z.docVersions.get(Dn);nr(null!==Vn),Ln.version.compareTo(Vn)<0&&(Le.applyToRemoteDocument(Ln,Z),Ln.isValidDocument()&&(Ln.setReadTime(Z.commitVersion),fe.addEntry(Ln)))})}),kt.next(()=>x.mutationQueue.removeMutationBatch(L,Le))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(x){let L=Ur();for(let Z=0;Z<x.mutationResults.length;++Z)x.mutationResults[Z].transformResults.length>0&&(L=L.add(x.batch.mutations[Z].key));return L}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);zm(r,o,null),Gm(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Kh(r,u)}catch(u){yield M(u)}}),Hm.apply(this,arguments)}function VI(i,e,r){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,De.Z)(function*(i,e,r){const o=Mn(i);try{const u=yield function(y,x){const L=Mn(y);return L.persistence.runTransaction("Reject batch","readwrite-primary",Z=>{let fe;return L.mutationQueue.lookupMutationBatch(Z,x).next(Le=>(nr(null!==Le),fe=Le.keys(),L.mutationQueue.removeMutationBatch(Z,Le))).next(()=>L.mutationQueue.performConsistencyCheck(Z)).next(()=>L.documentOverlayCache.removeOverlaysForBatchId(Z,fe,x)).next(()=>L.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Z,fe)).next(()=>L.localDocuments.getDocuments(Z,fe))})}(o.localStore,e);zm(o,e,r),Gm(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Kh(o,u)}catch(u){yield M(u)}}),Mg.apply(this,arguments)}function Ap(){return Ap=(0,De.Z)(function*(i,e){const r=Mn(i);Cs(r.remoteStore)||fn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(y){const x=Mn(y);return x.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>x.mutationQueue.getHighestUnacknowledgedBatchId(L))}(r.localStore);if(-1===o)return void e.resolve();const u=r.ba.get(o)||[];u.push(e),r.ba.set(o,u)}catch(o){const u=Gh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ap.apply(this,arguments)}function Gm(i,e){(i.ba.get(e)||[]).forEach(r=>{r.resolve()}),i.ba.delete(e)}function zm(i,e,r){const o=Mn(i);let u=o.Sa[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function Sp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),r&&i.Va.Fa(o,r);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||iy(i,o)})}function iy(i,e){i.ga.delete(e.path.canonicalString());const r=i.pa.get(e);null!==r&&(_u(i.remoteStore,r),i.pa=i.pa.remove(e),i.ya.delete(r),Wm(i))}function q_(i,e,r){for(const o of r)o instanceof $n?(i.wa.addReference(o.key,e),HE(i,o)):o instanceof Nr?(fn("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||iy(i,o.key)):Yn()}function HE(i,e){const r=e.key,o=r.path.canonicalString();i.pa.get(r)||i.ga.has(o)||(fn("SyncEngine","New document in limbo: "+r),i.ga.add(o),Wm(i))}function Wm(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const r=new An(si.fromString(e)),o=i.Da.next();i.ya.set(o,new yo(r)),i.pa=i.pa.insert(r,o),Nc(i.remoteStore,new uu(gs($s(r.path)),o,"TargetPurposeLimboResolution",Hi._e))}}function Kh(i,e,r){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,De.Z)(function*(i,e,r){const o=Mn(i),u=[],p=[],y=[];var x;o.ma.isEmpty()||(o.ma.forEach((x,L)=>{y.push(o.va(L,e,r).then(Z=>{if((Z||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,null!=Z&&Z.fromCache?"not-current":"current"),Z){u.push(Z);const fe=Xu.Qi(L.targetId,Z);p.push(fe)}}))}),yield Promise.all(y),o.Va.a_(u),yield(x=(0,De.Z)(function*(Z,fe){const Le=Mn(Z);try{yield Le.persistence.runTransaction("notifyLocalViewChanges","readwrite",_t=>w.forEach(fe,kt=>w.forEach(kt.ki,Dn=>Le.persistence.referenceDelegate.addReference(_t,kt.targetId,Dn)).next(()=>w.forEach(kt.qi,Dn=>Le.persistence.referenceDelegate.removeReference(_t,kt.targetId,Dn)))))}catch(_t){if(!cn(_t))throw _t;fn("LocalStore","Failed to update sequence numbers: "+_t)}for(const _t of fe){const kt=_t.targetId;if(!_t.fromCache){const Dn=Le.ts.get(kt),Vn=Dn.withLastLimboFreeSnapshotVersion(Dn.snapshotVersion);Le.ts=Le.ts.insert(kt,Vn)}}}),function L(Z,fe){return x.apply(this,arguments)})(o.localStore,p))}),Y_.apply(this,arguments)}function BI(i,e){return sy.apply(this,arguments)}function sy(){return sy=(0,De.Z)(function*(i,e){const r=Mn(i);if(!r.currentUser.isEqual(e)){fn("SyncEngine","User change. New user:",e.toKey());const o=yield Rm(r.localStore,e);r.currentUser=e,(p=r).ba.forEach(x=>{x.forEach(L=>{L.reject(new en(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ba.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Kh(r,o._s)}var p}),sy.apply(this,arguments)}function oy(i,e){const r=Mn(i),o=r.ya.get(e);if(o&&o.Ra)return Ur().add(o.key);{let u=Ur();const p=r.fa.get(e);if(!p)return u;for(const y of p){const x=r.ma.get(y);u=u.unionWith(x.view.ua)}return u}}function ay(i,e){return ly.apply(this,arguments)}function ly(){return ly=(0,De.Z)(function*(i,e){const r=Mn(i),o=yield bf(r.localStore,e.query,!0),u=e.view.da(o);return r.isPrimaryClient&&q_(r,e.targetId,u.Ta),u}),ly.apply(this,arguments)}function Qr(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,De.Z)(function*(i,e){const r=Mn(i);return gg(r.localStore,e).then(o=>Kh(r,o))}),qm.apply(this,arguments)}function cy(i,e,r,o){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,De.Z)(function*(i,e,r,o){const u=Mn(i),p=yield function(x,L){const Z=Mn(x),fe=Mn(Z.mutationQueue);return Z.persistence.runTransaction("Lookup mutation documents","readonly",Le=>fe.Cn(Le,L).next(_t=>_t?Z.localDocuments.getDocuments(Le,_t):w.resolve(null)))}(u.localStore,e);var L;null!==p?("pending"===r?yield Uh(u.remoteStore):"acknowledged"===r||"rejected"===r?(zm(u,e,o||null),Gm(u,e),L=e,Mn(Mn(u.localStore).mutationQueue).Fn(L)):Yn(),yield Kh(u,p)):fn("SyncEngine","Cannot apply mutation batch with id: "+e)}),Zh.apply(this,arguments)}function K_(){return K_=(0,De.Z)(function*(i,e){const r=Mn(i);if(Km(r),Lg(r),!0===e&&!0!==r.Ca){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield xg(r,o.toArray());r.Ca=!0,yield Eu(r.remoteStore,!0);for(const p of u)Nc(r.remoteStore,p)}else if(!1===e&&!1!==r.Ca){const o=[];let u=Promise.resolve();r.fa.forEach((p,y)=>{r.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(Sp(r,y),$a(r.localStore,y,!0))),_u(r.remoteStore,y)}),yield u,yield xg(r,o),function(y){const x=Mn(y);x.ya.forEach((L,Z)=>{_u(x.remoteStore,Z)}),x.wa.Vr(),x.ya=new Map,x.pa=new Fi(An.comparator)}(r),r.Ca=!1,yield Eu(r.remoteStore,!1)}}),K_.apply(this,arguments)}function xg(i,e,r){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,De.Z)(function*(i,e,r){const o=Mn(i),u=[],p=[];for(const y of e){let x;const L=o.fa.get(y);if(L&&0!==L.length){x=yield Ju(o.localStore,gs(L[0]));for(const Z of L){const fe=o.ma.get(Z),Le=yield ay(o,fe);Le.snapshot&&p.push(Le.snapshot)}}else{const Z=yield pg(o.localStore,y);x=yield Ju(o.localStore,Z),yield kc(o,Ym(Z),y,!1,x.resumeToken)}u.push(x)}return o.Va.a_(p),u}),Qh.apply(this,arguments)}function Ym(i){return Ni(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Og(i){return r=Mn(i).localStore,Mn(Mn(r).persistence).Bi();var r}function dy(i,e,r,o){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,De.Z)(function*(i,e,r,o){const u=Mn(i);if(u.Ca)return void fn("SyncEngine","Ignoring unexpected query state notification.");const p=u.fa.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const y=yield gg(u.localStore,Yf(p[0])),x=Ac.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Vr.EMPTY_BYTE_STRING);yield Kh(u,y,x);break}case"rejected":yield $a(u.localStore,e,!0),Sp(u,e,o);break;default:Yn()}}),Ng.apply(this,arguments)}function Z_(i,e,r){return kg.apply(this,arguments)}function kg(){return kg=(0,De.Z)(function*(i,e,r){const o=Km(i);if(o.Ca){for(const u of e){if(o.fa.has(u)){fn("SyncEngine","Adding an already active target "+u);continue}const p=yield pg(o.localStore,u),y=yield Ju(o.localStore,p);yield kc(o,Ym(p),y.targetId,!1,y.resumeToken),Nc(o.remoteStore,y)}for(const u of r)o.fa.has(u)&&(yield $a(o.localStore,u,!1).then(()=>{_u(o.remoteStore,u),Sp(o,u)}).catch(M))}}),kg.apply(this,arguments)}function Km(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=z_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$E.bind(null,e),e.Va.a_=F.bind(null,e.eventManager),e.Va.Fa=te.bind(null,e.eventManager),e}function Lg(i){const e=Mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,e),e}class Fg{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,De.Z)(function*(){r.serializer=Pf(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return lc(this.persistence,new Sm,e.initialUser,this.serializer)}createPersistence(e){return new wf(Tf.jr,this.serializer)}createSharedClientState(e){return new yp}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zm extends Fg{constructor(e,r,o){super(),this.xa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e),yield o.xa.initialize(o,e),yield Lg(o.xa.syncEngine),yield Uh(o.xa.remoteStore),yield o.persistence.mi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return lc(this.persistence,new Sm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Rh(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new gi(r,this.persistence);return new gr(e.asyncQueue,o)}createPersistence(e){const r=ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new Oh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,yg(),Ep(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new yp}}class hy extends Zm{constructor(e,r){super(e,r,!1),this.xa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,De.Z)(function*(){yield r().call(o,e);const u=o.xa.syncEngine;o.sharedClientState instanceof kh&&(o.sharedClientState.syncEngine={Ys:cy.bind(null,u),Zs:dy.bind(null,u),Xs:Z_.bind(null,u),Bi:Og.bind(null,u),Js:Qr.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.mi(function(){var p=(0,De.Z)(function*(y){yield function uy(i,e){return K_.apply(this,arguments)}(o.xa.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start():y||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(y&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():y||o.indexBackfillerScheduler.stop())});return function(y){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=yg();if(!kh.D(r))throw new en(Lt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kh(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Rp{initialize(e,r){var o=this;return(0,De.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>ry(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,o.syncEngine),yield Eu(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new l}createDatastore(e){const r=Pf(e.databaseInfo.databaseId),o=new Qv(e.databaseInfo);return new Jv(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,p=e.asyncQueue,y=r=>ry(this.syncEngine,r,0),x=Lm.D()?new Lm:new _g,new Bm(o,u,p,y,x);var o,u,p,y,x}createSyncEngine(e,r){return function(u,p,y,x,L,Z,fe){const Le=new us(u,p,y,x,L,Z);return fe&&(Le.Ca=!0),Le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,De.Z)(function*(o){const u=Mn(o);fn("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield mu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function r(o){return e.apply(this,arguments)})(this.remoteStore);var e}}function fy(i,e=10240){let r=0;return{read:()=>(0,De.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class py{constructor(e,r){this.Ba=e,this.serializer=r,this.metadata=new or,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(o=>{o&&o.Z_()?this.metadata.resolve(o.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Y_)}`))},o=>this.metadata.reject(o))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,De.Z)(function*(){const r=yield e.qa();if(null===r)return null;const o=e.La.decode(r),u=Number(o);isNaN(u)&&e.Qa(`length string (${o}) is not valid number`);const p=yield e.Ka(u);return new Tt(JSON.parse(p),r.length+u)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,De.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const r=e.$a();r<0&&e.Qa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ka(e){var r=this;return(0,De.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ua())&&r.Qa("Reached the end of bundle when more is expected.");const o=r.La.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,De.Z)(function*(){const r=yield e.Ba.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class gy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,De.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new en(Lt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,De.Z)(function*(y,x){const L=Mn(y),Z=cu(L.serializer)+"/documents",fe={documents:x.map(Dn=>Sc(L.serializer,Dn))},Le=yield L.Co("BatchGetDocuments",Z,fe,x.length),_t=new Map;Le.forEach(Dn=>{const Ln=function Xf(i,e){return"found"in e?function(o,u){nr(!!u.found);const p=Fa(o,u.found.name),y=_s(u.found.updateTime),x=u.found.createTime?_s(u.found.createTime):rr.min(),L=new Us({mapValue:{fields:u.found.fields}});return Xi.newFoundDocument(p,y,x,L)}(i,e):"missing"in e?function(o,u){nr(!!u.missing),nr(!!u.readTime);const p=Fa(o,u.missing),y=_s(u.readTime);return Xi.newNoDocument(p,y)}(i,e):Yn()}(L.serializer,Dn);_t.set(Ln.key.toString(),Ln)});const kt=[];return x.forEach(Dn=>{const Ln=_t.get(Dn.toString());nr(!!Ln),kt.push(Ln)}),kt}),function p(y,x){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const p=An.fromPath(u);e.mutations.push(new xd(p,e.precondition(p)))}),yield(o=(0,De.Z)(function*(p,y){const x=Mn(p),L=cu(x.serializer)+"/documents",Z={writes:y.map(fe=>Jf(x.serializer,fe))};yield x.wo("Commit",L,Z)}),function u(p,y){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Yn();r=rr.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new en(Lt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(rr.min())?as.exists(!1):as.updateTime(r):as.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rr.min()))throw new en(Lt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return as.updateTime(r)}return as.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WE{constructor(e,r,o,u,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=p,this.Wa=o.maxAttempts,this.zo=new Ip(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,De.Z)(function*(){const r=new gy(e.datastore),o=e.za(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.ja(p)}))}).catch(u=>{e.ja(u)})}))}za(e){try{const r=this.updateFunction(e);return!ni(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!ml(r)}return!1}}class qE{constructor(e,r,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Ii.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,De.Z)(function*(x){fn("FirestoreClient","Received user=",x.uid),yield p.authCredentialListener(x),p.user=x});return function(x){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(fn("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new en(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Gh(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Ha(i,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),fn("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,De.Z)(function*(p){o.isEqual(p)||(yield Rm(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Q_.apply(this,arguments)}function X_(i,e){return my.apply(this,arguments)}function my(){return my=(0,De.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Jm(i);fn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>jh(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>jh(e.remoteStore,p)),i._onlineComponents=e}),my.apply(this,arguments)}function Xm(i){return"FirebaseError"===i.name?i.code===Lt.FAILED_PRECONDITION||i.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Jm(i){return J_.apply(this,arguments)}function J_(){return J_=(0,De.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ha(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!Xm(r))throw r;Ki("Error using user provided cache. Falling back to memory cache: "+r),yield Ha(i,new Fg)}}else fn("FirestoreClient","Using default OfflineComponentProvider"),yield Ha(i,new Fg);return i._offlineComponents}),J_.apply(this,arguments)}function e_(i){return ev.apply(this,arguments)}function ev(){return ev=(0,De.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fn("FirestoreClient","Using user provided OnlineComponentProvider"),yield X_(i,i._uninitializedComponentsProvider._online)):(fn("FirestoreClient","Using default OnlineComponentProvider"),yield X_(i,new Rp))),i._onlineComponents}),ev.apply(this,arguments)}function tv(i){return Jm(i).then(e=>e.persistence)}function Pp(i){return Jm(i).then(e=>e.localStore)}function _y(i){return e_(i).then(e=>e.remoteStore)}function Vg(i){return e_(i).then(e=>e.syncEngine)}function Mp(i){return nv.apply(this,arguments)}function nv(){return nv=(0,De.Z)(function*(i){const e=yield e_(i),r=e.eventManager;return r.onListen=As.bind(null,e.syncEngine),r.onUnlisten=qh.bind(null,e.syncEngine),r}),nv.apply(this,arguments)}function t_(i,e,r={}){const o=new or;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(p,y,x,L,Z){const fe=new Qm({next:_t=>{y.enqueueAndForget(()=>I(p,Le));const kt=_t.docs.has(x);!kt&&_t.fromCache?Z.reject(new en(Lt.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&_t.fromCache&&L&&"server"===L.source?Z.reject(new en(Lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Z.resolve(_t)},error:_t=>Z.reject(_t)}),Le=new Ne($s(x.path),fe,{includeMetadataChanges:!0,J_:!0});return c(p,Le)}(yield Mp(i),i.asyncQueue,e,r,o)})),o.promise}function rv(i,e,r={}){const o=new or;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(p,y,x,L,Z){const fe=new Qm({next:_t=>{y.enqueueAndForget(()=>I(p,Le)),_t.fromCache&&"server"===L.source?Z.reject(new en(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Z.resolve(_t)},error:_t=>Z.reject(_t)}),Le=new Ne(x,fe,{includeMetadataChanges:!0,J_:!0});return c(p,Le)}(yield Mp(i),i.asyncQueue,e,r,o)})),o.promise}function sv(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const ov=new Map;function r_(i,e,r){if(!r)throw new en(Lt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Bg(i,e,r,o){if(!0===e&&!0===o)throw new en(Lt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function i_(i){if(!An.isDocumentKey(i))throw new en(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rd(i){if(An.isDocumentKey(i))throw new en(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function s_(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":Yn()}function _i(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new en(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=s_(i);throw new en(Lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function Iy(i,e){if(e<=0)throw new en(Lt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class XE{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new en(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new en(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sv(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new en(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new en(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new en(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new en(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new en(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new dm;switch(o.type){case"firstParty":return new Mu(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new en(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=ov.get(r);o&&(fn("ComponentProvider","Removing Datastore"),ov.delete(r),o.terminate())}(this),Promise.resolve()}}class na{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class ws{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new id(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class id extends na{constructor(e,r,o){super(e,r,$s(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new An(e))}withConverter(e){return new id(this.firestore,e,this._path)}}function av(i,e,...r){if(i=(0,me.m9)(i),r_("collection","path",e),i instanceof xp){const o=si.fromString(e,...r);return rd(o),new id(i,null,o)}{if(!(i instanceof ws||i instanceof id))throw new en(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(si.fromString(e,...r));return rd(o),new id(i.firestore,null,o)}}function Ug(i,e,...r){if(i=(0,me.m9)(i),1===arguments.length&&(e=hd.newId()),r_("doc","path",e),i instanceof xp){const o=si.fromString(e,...r);return i_(o),new ws(i,null,new An(o))}{if(!(i instanceof ws||i instanceof id))throw new en(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(si.fromString(e,...r));return i_(o),new ws(i.firestore,i instanceof id?i.converter:null,new An(o))}}function Op(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),(i instanceof ws||i instanceof id)&&(e instanceof ws||e instanceof id)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Lf(i,e){return i=(0,me.m9)(i),e=(0,me.m9)(e),i instanceof na&&e instanceof na&&i.firestore===e.firestore&&Ic(i._query,e._query)&&i.converter===e.converter}class Ty{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ip(this,"async_queue_retry"),this.iu=()=>{const r=Ep();r&&fn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=Ep();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=Ep();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new or;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,De.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(r){if(!cn(r))throw r;fn("AsyncQueue","Operation failed with retryable error: "+r)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,ls("INTERNAL UNHANDLED ERROR: ",function(y){let x=y.message||"";return y.stack&&(x=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),x}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=r,r}enqueueAfterDelay(e,r,o){this.su(),this.ru.indexOf(e)>-1&&(r=0);const u=Rg.createAndSchedule(this,e,r,o,p=>this.au(p));return this.Xa.push(u),u}su(){this.eu&&Yn()}verifyOperationInProgress(){}uu(){var e=this;return(0,De.Z)(function*(){let r;do{r=e.Ja,yield r}while(r!==e.Ja)})()}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}function lv(i){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(i)}class JE{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vs extends xp{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new Ty,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dy(this),this._firestoreClient.terminate()}}function Ts(i){return i._firestoreClient||Dy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Dy(i){var e,r,o;const u=i._freezeSettings(),p=(L=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new kr(i._databaseId,L,i._persistenceKey,(fe=u).host,fe.ssl,fe.experimentalForceLongPolling,fe.experimentalAutoDetectLongPolling,sv(fe.experimentalLongPollingOptions),fe.useFetchStreams));var L,fe;i._firestoreClient=new qE(i._authCredentials,i._appCheckCredentials,i._queue,p),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function by(i,e,r){const o=new or;return i.asyncQueue.enqueue((0,De.Z)(function*(){try{yield Ha(i,r),yield X_(i,e),o.resolve()}catch(u){const p=u;if(!Xm(p))throw p;Ki("Error enabling indexeddb cache. Falling back to memory cache: "+p),o.reject(p)}})).then(()=>o.promise)}function Sy(i){if(i._initialized||i._terminated)throw new en(Lt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wu(Vr.fromBase64String(e))}catch(r){throw new en(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wu(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new en(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ys{constructor(e){this._methodName=e}}class o_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new en(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new en(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sr(this._lat,e._lat)||Sr(this._long,e._long)}}const cv=/^__.*__$/;class a0{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Dc(e,this.data,r,this.fieldTransforms)}}class Ry{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Jl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function a_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yn()}}class $g{constructor(e,r,o,u,p,y){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.Pu(),this.fieldTransforms=p||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Wg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(a_(this.Iu)&&cv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Py{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Pf(e)}pu(e,r,o,u=!1){return new $g({Iu:e,methodName:r,gu:o,path:Kr.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(i){const e=i._freezeSettings(),r=Pf(i._databaseId);return new Py(i._databaseId,!!e.ignoreUndefinedProperties,r)}function jg(i,e,r,o,u,p={}){const y=i.pu(p.merge||p.mergeFields?2:0,e,r,u);Hg("Data must be an object, but it was:",y,o);const x=Ny(o,y);let L,Z;if(p.merge)L=new po(y.fieldMask),Z=y.fieldTransforms;else if(p.mergeFields){const fe=[];for(const Le of p.mergeFields){const _t=Gg(e,Le,r);if(!y.contains(_t))throw new en(Lt.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);Ly(fe,_t)||fe.push(_t)}L=new po(fe),Z=y.fieldTransforms.filter(Le=>L.covers(Le.field))}else L=null,Z=y.fieldTransforms;return new a0(new Us(x),L,Z)}class Np extends ys{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Np}}function My(i,e,r){return new $g({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kd extends ys{_toFieldTransform(e){return new Ll(e.path,new js)}isEqual(e){return e instanceof Kd}}class xy extends ys{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=My(this,e,!0),o=this.yu.map(p=>od(p,r)),u=new _a(o);return new Ll(e.path,u)}isEqual(e){return this===e}}class Oy extends ys{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=My(this,e,!0),o=this.yu.map(p=>od(p,r)),u=new nu(o);return new Ll(e.path,u)}isEqual(e){return this===e}}class l0 extends ys{constructor(e,r){super(e),this.wu=r}_toFieldTransform(e){const r=new ru(e.serializer,bd(e.serializer,this.wu));return new Ll(e.path,r)}isEqual(e){return this===e}}function l_(i,e,r,o){const u=i.pu(1,e,r);Hg("Data must be an object, but it was:",u,o);const p=[],y=Us.empty();nl(o,(L,Z)=>{const fe=zg(e,L,r);Z=(0,me.m9)(Z);const Le=u.Ru(fe);if(Z instanceof Np)p.push(fe);else{const _t=od(Z,Le);null!=_t&&(p.push(fe),y.set(fe,_t))}});const x=new po(p);return new Ry(y,x,u.fieldTransforms)}function c_(i,e,r,o,u,p){const y=i.pu(1,e,r),x=[Gg(e,o,r)],L=[u];if(p.length%2!=0)throw new en(Lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<p.length;_t+=2)x.push(Gg(e,p[_t])),L.push(p[_t+1]);const Z=[],fe=Us.empty();for(let _t=x.length-1;_t>=0;--_t)if(!Ly(Z,x[_t])){const kt=x[_t];let Dn=L[_t];Dn=(0,me.m9)(Dn);const Ln=y.Ru(kt);if(Dn instanceof Np)Z.push(kt);else{const Vn=od(Dn,Ln);null!=Vn&&(Z.push(kt),fe.set(kt,Vn))}}const Le=new po(Z);return new Ry(fe,Le,y.fieldTransforms)}function uv(i,e,r,o=!1){return od(r,i.pu(o?4:3,e))}function od(i,e){if(ky(i=(0,me.m9)(i)))return Hg("Unsupported field value:",e,i),Ny(i,e);if(i instanceof ys)return function(o,u){if(!a_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const p=[];let y=0;for(const x of o){let L=od(x,u.Vu(y));null==L&&(L={nullValue:"NULL_VALUE"}),p.push(L),y++}return{arrayValue:{values:p}}}(i,e)}return function(o,u){if(null===(o=(0,me.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return bd(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=zi.fromDate(o);return{timestampValue:_o(u.serializer,p)}}if(o instanceof zi){const p=new zi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:_o(u.serializer,p)}}if(o instanceof o_)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof wu)return{bytesValue:lu(u.serializer,o._byteString)};if(o instanceof ws){const p=u.databaseId,y=o.firestore._databaseId;if(!y.isEqual(p))throw u.mu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Fl(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${s_(o)}`)}(i,e)}function Ny(i,e){const r={};return vd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(i,(o,u)=>{const p=od(u,e.Eu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function ky(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof zi||i instanceof o_||i instanceof wu||i instanceof ws||i instanceof ys)}function Hg(i,e,r){if(!ky(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=s_(r);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Gg(i,e,r){if((e=(0,me.m9)(e))instanceof Yd)return e._internalPath;if("string"==typeof e)return zg(i,e);throw Wg("Field path arguments must be of type string or ",i,!1,void 0,r)}const u_=new RegExp("[~\\*/\\[\\]]");function zg(i,e,r){if(e.search(u_)>=0)throw Wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Yd(...e.split("."))._internalPath}catch{throw Wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Wg(i,e,r,o,u){const p=o&&!o.isEmpty(),y=void 0!==u;let x=`Function ${e}() called with invalid data`;r&&(x+=" (via `toFirestore()`)"),x+=". ";let L="";return(p||y)&&(L+=" (found",p&&(L+=` in field ${o}`),y&&(L+=` in document ${u}`),L+=")"),new en(Lt.INVALID_ARGUMENT,x+i+L)}function Ly(i,e){return i.some(r=>r.isEqual(e))}class qg{constructor(e,r,o,u,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Yg extends qg{data(){return super.data()}}function d_(i,e){return"string"==typeof e?zg(i,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}function Fy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new en(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dv{}class Kg extends dv{}function Xh(i,e,...r){let o=[];e instanceof dv&&o.push(e),o=o.concat(r),function(p){const y=p.filter(L=>L instanceof kp).length,x=p.filter(L=>L instanceof Zg).length;if(y>1||y>0&&x>0)throw new en(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Zg extends Kg{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new Zg(e,r,o)}_apply(e){const r=this._parse(e);return pv(e._query,r),new na(e.firestore,e.converter,gh(e._query,r))}_parse(e){const r=Bf(e.firestore);return function(p,y,x,L,Z,fe,Le){let _t;if(Z.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new en(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){fv(Le,fe);const kt=[];for(const Dn of Le)kt.push(g0(L,p,Dn));_t={arrayValue:{values:kt}}}else _t=g0(L,p,Le)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||fv(Le,fe),_t=uv(x,"where",Le,"in"===fe||"not-in"===fe);return Wr.create(Z,fe,_t)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class kp extends dv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new kp(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:Mi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,p){let y=u;const x=p.getFlattenedFilters();for(const L of x)pv(y,L),y=gh(y,L)}(e._query,r),new na(e.firestore,e.converter,gh(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hv extends Kg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new hv(e,r)}_apply(e){const r=function(u,p,y){if(null!==u.startAt)throw new en(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new en(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(p,y)}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(u,p){const y=u.explicitOrderBy.concat([p]);return new Nl(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class f_ extends Kg{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new f_(e,r,o)}_apply(e){return new na(e.firestore,e.converter,La(e._query,this._limit,this._limitType))}}class p_ extends Kg{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new p_(e,r,o)}_apply(e){const r=$y(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(p=r,new Nl((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class g_ extends Kg{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new g_(e,r,o)}_apply(e){const r=$y(e,this.type,this._docOrFields,this._inclusive);return new na(e.firestore,e.converter,(p=r,new Nl((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function $y(i,e,r,o){if(r[0]=(0,me.m9)(r[0]),r[0]instanceof qg)return function(p,y,x,L,Z){if(!L)throw new en(Lt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${x}().`);const fe=[];for(const Le of Xc(p))if(Le.field.isKeyField())fe.push(Na(y,L.key));else{const _t=L.data.field(Le.field);if(Yo(_t))throw new en(Lt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Le.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_t){const kt=Le.field.canonicalString();throw new en(Lt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}fe.push(_t)}return new cl(fe,Z)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=Bf(i.firestore);return function(y,x,L,Z,fe,Le){const _t=y.explicitOrderBy;if(fe.length>_t.length)throw new en(Lt.INVALID_ARGUMENT,`Too many arguments provided to ${Z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Dn=0;Dn<fe.length;Dn++){const Ln=fe[Dn];if(_t[Dn].field.isKeyField()){if("string"!=typeof Ln)throw new en(Lt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Z}(), but got a ${typeof Ln}`);if(!hl(y)&&-1!==Ln.indexOf("/"))throw new en(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Z}() must be a plain document ID, but '${Ln}' contains a slash.`);const Vn=y.path.child(si.fromString(Ln));if(!An.isDocumentKey(Vn))throw new en(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Z}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const Er=new An(Vn);kt.push(Na(x,Er))}else{const Vn=uv(L,Z,Ln);kt.push(Vn)}}return new cl(kt,Le)}(i._query,i.firestore._databaseId,u,e,r,o)}}function g0(i,e,r){if("string"==typeof(r=(0,me.m9)(r))){if(""===r)throw new en(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hl(e)&&-1!==r.indexOf("/"))throw new en(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(si.fromString(r));if(!An.isDocumentKey(o))throw new en(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Na(i,new An(o))}if(r instanceof ws)return Na(i,r._key);throw new en(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${s_(r)}.`)}function fv(i,e){if(!Array.isArray(i)||0===i.length)throw new en(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pv(i,e){const r=function(u,p){for(const y of u)for(const x of y.getFlattenedFilters())if(p.indexOf(x.op)>=0)return x.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new en(Lt.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Uf{convertValue(e,r="none"){switch(Or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw Yn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return nl(e,(u,p)=>{o[u]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new o_(Qi(e.latitude),Qi(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=io(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const r=rl(e);return new zi(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=si.fromString(e);nr(og(o));const u=new ol(o.get(1),o.get(3)),p=new An(o.popFirst(5));return u.isEqual(r)||ls(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function zs(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class $f extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}class Lc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends qg{constructor(e,r,o,u,p,y){super(e,r,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(d_("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class ad extends Ul{data(e={}){return super.data(e)}}class cc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Lc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new ad(this._firestore,this._userDataWriter,o.key,o,new Lc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new en(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(x=>({type:"added",doc:new ad(u._firestore,u._userDataWriter,x.doc.key,x.doc,new Lc(u._snapshot.mutatedKeys.has(x.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(x=>p||3!==x.type).map(x=>{const L=new ad(u._firestore,u._userDataWriter,x.doc.key,x.doc,new Lc(u._snapshot.mutatedKeys.has(x.doc.key),u._snapshot.fromCache),u.query.converter);let Z=-1,fe=-1;return 0!==x.type&&(Z=y.indexOf(x.doc.key),y=y.delete(x.doc.key)),1!==x.type&&(y=y.add(x.doc),fe=y.indexOf(x.doc.key)),{type:Lp(x.type),doc:L,oldIndex:Z,newIndex:fe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Lp(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yn()}}function jf(i,e){return i instanceof Ul&&e instanceof Ul?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof cc&&e instanceof cc&&i._firestore===e._firestore&&Lf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Zd extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}function _v(i,e,r){i=_i(i,ws);const o=_i(i.firestore,vs),u=zs(i.converter,e,r);return Vp(o,[jg(Bf(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,as.none())])}function vv(i,e,r,...o){i=_i(i,ws);const u=_i(i.firestore,vs),p=Bf(u);let y;return y="string"==typeof(e=(0,me.m9)(e))||e instanceof Yd?c_(p,"updateDoc",i._key,e,r,o):l_(p,"updateDoc",i._key,e),Vp(u,[y.toMutation(i._key,as.exists(!0))])}function Qd(i,...e){var r,o,u;i=(0,me.m9)(i);let p={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||lv(e[y])||(p=e[y],y++);const x={includeMetadataChanges:p.includeMetadataChanges};if(lv(e[y])){const Le=e[y];e[y]=null===(r=Le.next)||void 0===r?void 0:r.bind(Le),e[y+1]=null===(o=Le.error)||void 0===o?void 0:o.bind(Le),e[y+2]=null===(u=Le.complete)||void 0===u?void 0:u.bind(Le)}let L,Z,fe;if(i instanceof ws)Z=_i(i.firestore,vs),fe=$s(i._key.path),L={next:Le=>{e[y]&&e[y](Jg(Z,i,Le))},error:e[y+1],complete:e[y+2]};else{const Le=_i(i,na);Z=_i(Le.firestore,vs),fe=Le._query;const _t=new Zd(Z);L={next:kt=>{e[y]&&e[y](new cc(Z,_t,Le,kt))},error:e[y+1],complete:e[y+2]},Fy(i._query)}return function(_t,kt,Dn,Ln){const Vn=new Qm(Ln),Er=new Ne(kt,Vn,Dn);return _t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return c(yield Mp(_t),Er)})),()=>{Vn.Na(),_t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return I(yield Mp(_t),Er)}))}}(Ts(Z),fe,x,L)}function Vp(i,e){return function(o,u){const p=new or;return o.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function UE(i,e,r){return kf.apply(this,arguments)}(yield Vg(o),u,p)})),p.promise}(Ts(i),e)}function Jg(i,e,r){const o=r.docs.get(e._key),u=new Zd(i);return new Ul(i,u,e._key,o,new Lc(r.hasPendingWrites,r.fromCache),e.converter)}const Ky={maxAttempts:5};class Zy{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Bf(e)}set(e,r,o){this._verifyNotCommitted();const u=Xd(e,this._firestore),p=zs(u.converter,r,o),y=jg(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,as.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const p=Xd(e,this._firestore);let y;return y="string"==typeof(r=(0,me.m9)(r))||r instanceof Yd?c_(this._dataReader,"WriteBatch.update",p._key,r,o,u):l_(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(y.toMutation(p._key,as.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new Hs(r._key,as.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new en(Lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(i,e){if((i=(0,me.m9)(i)).firestore!==e)throw new en(Lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Qy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Bf(r)}get(r){const o=Xd(r,this._firestore),u=new $f(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return Yn();const y=p[0];if(y.isFoundDocument())return new qg(this._firestore,u,y.key,y,o.converter);if(y.isNoDocument())return new qg(this._firestore,u,o._key,null,o.converter);throw Yn()})}set(r,o,u){const p=Xd(r,this._firestore),y=zs(p.converter,o,u),x=jg(this._dataReader,"Transaction.set",p._key,y,null!==p.converter,u);return this._transaction.set(p._key,x),this}update(r,o,u,...p){const y=Xd(r,this._firestore);let x;return x="string"==typeof(o=(0,me.m9)(o))||o instanceof Yd?c_(this._dataReader,"Transaction.update",y._key,o,u,p):l_(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,x),this}delete(r){const o=Xd(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Xd(e,this._firestore),o=new Zd(this._firestore);return super.get(e).then(u=>new Ul(this._firestore,o,r._key,u._document,new Lc(!1,!1),r.converter))}}function Iv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new en("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function rE(){if(typeof Uint8Array>"u")throw new en("unimplemented","Uint8Arrays are not available in this environment.")}function y_(){if(!function nf(){return typeof atob<"u"}())throw new en("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Vs=qe.SDK_VERSION,(0,qe._registerComponent)(new et.wA("firestore",(o,{instanceIdentifier:u,options:p})=>{const y=o.getProvider("app").getImmediate(),x=new vs(new sh(o.getProvider("auth-internal")),new jc(o.getProvider("app-check-internal")),function(Z,fe){if(!Object.prototype.hasOwnProperty.apply(Z.options,["projectId"]))throw new en(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(Z.options.projectId,fe)}(y,u),y);return p=Object.assign({useFetchStreams:r},p),x._setSettings(p),x},"PUBLIC").setMultipleInstances(!0)),(0,qe.registerVersion)(eo,"4.3.2",e),(0,qe.registerVersion)(eo,"4.3.2","esm2017")}();class eh{constructor(e){this._delegate=e}static fromBase64String(e){return y_(),new eh(wu.fromBase64String(e))}static fromUint8Array(e){return rE(),new eh(wu.fromUint8Array(e))}toBase64(){return y_(),this._delegate.toBase64()}toUint8Array(){return rE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cv(i){return function iE(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class D0{enableIndexedDbPersistence(e,r){return function t0(i,e){Sy(i=_i(i,vs));const r=Ts(i);if(r._uninitializedComponentsProvider)throw new en(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),u=new Rp;return by(r,u,new Zm(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function $I(i){Sy(i=_i(i,vs));const e=Ts(i);if(e._uninitializedComponentsProvider)throw new en(Lt.FAILED_PRECONDITION,"SDK cache is already specified.");Ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),o=new Rp;return by(e,o,new hy(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function n0(i){if(i._initialized&&!i._terminated)throw new en(Lt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new or;return i._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(r=(0,De.Z)(function*(u){if(!ae.D())return Promise.resolve();const p=u+"main";yield ae.delete(p)}),function o(u){return r.apply(this,arguments)})(ac(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class sE{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function Cy(i,e,r,o={}){var u;const p=(i=_i(i,xp))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==y&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},p),{host:y,ssl:!1})),o.mockUserToken){let x,L;if("string"==typeof o.mockUserToken)x=o.mockUserToken,L=Ii.MOCK_USER;else{x=(0,me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const Z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Z)throw new en(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Ii(Z)}i._authCredentials=new Pu(new ih(x,L))}}(this._delegate,e,r,o)}enableNetwork(){return function s0(i){return function YE(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield tv(i),r=yield _y(i);return e.setNetworkEnabled(!0),function(u){const p=Mn(u);return p.C_.delete(0),Fh(p)}(r)}))}(Ts(i=_i(i,vs)))}(this._delegate)}disableNetwork(){return function o0(i){return function KE(i){return i.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield tv(i),r=yield _y(i);return e.setNetworkEnabled(!1),(o=(0,De.Z)(function*(p){const y=Mn(p);y.C_.add(0),yield mu(y),y.M_.set("Offline")}),function u(p){return o.apply(this,arguments)})(r);var o}))}(Ts(i=_i(i,vs)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Bg("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function r0(i){return function(r){const o=new or;return r.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Yh(i,e){return Ap.apply(this,arguments)}(yield Vg(r),o)})),o.promise}(Ts(i=_i(i,vs)))}(this._delegate)}onSnapshotsInSync(e){return function m0(i,e){return function QE(i,e){const r=new Qm(e);return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return u=yield Mp(i),p=r,Mn(u).q_.add(p),void p.next();var u,p})),()=>{r.Na(),i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return u=yield Mp(i),p=r,void Mn(u).q_.delete(p);var u,p}))}}(Ts(i=_i(i,vs)),lv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new en("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new $p(this,av(this._delegate,e))}catch(r){throw El(r,"collection()","Firestore.collection()")}}doc(e){try{return new Vc(this,Ug(this._delegate,e))}catch(r){throw El(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Il(this,function wy(i,e){if(i=_i(i,xp),r_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new en(Lt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new na(i,null,(o=e,new Nl(si.emptyPath(),o)));var o}(this._delegate,e))}catch(r){throw El(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Up(i,e,r){i=_i(i,vs);const o=Object.assign(Object.assign({},Ky),r);return function(p){if(p.maxAttempts<1)throw new en(Lt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,y,x){const L=new or;return p.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const Z=yield function vy(i){return e_(i).then(e=>e.datastore)}(p);new WE(p.asyncQueue,Z,x,y,L).run()})),L.promise}(Ts(i),u=>e(new Qy(i,u)),o)}(this._delegate,r=>e(new nm(this,r)))}batch(){return Ts(this._delegate),new aE(new Zy(this._delegate,e=>Vp(this._delegate,e)))}loadBundle(e){return function Ay(i,e){const r=Ts(i=_i(i,vs)),o=new JE;return function yy(i,e,r,o){const u=function(y,x){let L;return L="string"==typeof y?Ih().encode(y):y,fe=function(fe,Le){if(fe instanceof Uint8Array)return fy(fe,void 0);if(fe instanceof ArrayBuffer)return fy(new Uint8Array(fe),void 0);if(fe instanceof ReadableStream)return fe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new py(fe,x);var fe}(r,Pf(e));i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function GE(i,e,r){const o=Mn(i);var u;(u=(0,De.Z)(function*(y,x,L){try{const Z=yield x.getMetadata();if(yield function(Dn,Ln){const Vn=Mn(Dn),Er=_s(Ln.createTime);return Vn.persistence.runTransaction("hasNewerBundle","readonly",Lr=>Vn.Kr.getBundleMetadata(Lr,Ln.id)).then(Lr=>!!Lr&&Lr.createTime.compareTo(Er)>=0)}(y.localStore,Z))return yield x.close(),L._completeWith({taskState:"Success",documentsLoaded:(Dn=Z).totalDocuments,bytesLoaded:Dn.totalBytes,totalDocuments:Dn.totalDocuments,totalBytes:Dn.totalBytes}),Promise.resolve(new Set);L._updateProgress(Tn(Z));const fe=new zt(Z,y.localStore,x.serializer);let Le=yield x.Ma();for(;Le;){const kt=yield fe.ea(Le);kt&&L._updateProgress(kt),Le=yield x.Ma()}const _t=yield fe.complete();return yield Kh(y,_t.ra,void 0),yield function(Dn,Ln){const Vn=Mn(Dn);return Vn.persistence.runTransaction("Save bundle","readwrite",Er=>Vn.Kr.saveBundleMetadata(Er,Ln))}(y.localStore,Z),L._completeWith(_t.progress),Promise.resolve(_t.na)}catch(Z){return Ki("SyncEngine",`Loading bundle failed with ${Z}`),L._failWith(Z),Promise.resolve(new Set)}var Dn}),function p(y,x,L){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Vg(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ff(i,e){return function Ey(i,e){return i.asyncQueue.enqueue((0,De.Z)(function*(){return function(o,u){const p=Mn(o);return p.persistence.runTransaction("Get named query","readonly",y=>p.Kr.getNamedQuery(y,u))}(yield Pp(i),e)}))}(Ts(i=_i(i,vs)),e).then(r=>r?new na(i,null,r.query):null)}(this._delegate,e).then(r=>r?new Il(this,r):null)}}class tm extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(new wu(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Vc.forKey(r,this.firestore,null)}}class nm{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new tm(e)}get(e){const r=th(e);return this._delegate.get(r).then(o=>new rm(this._firestore,new Ul(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=th(e);return o?(Iv("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=th(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=th(e);return this._delegate.delete(r),this}}class aE{constructor(e){this._delegate=e}set(e,r,o){const u=th(e);return o?(Iv("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=th(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=th(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Jh{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new ad(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new im(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=Jh.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let p=u.get(r);return p||(p=new Jh(e,new tm(e),r),u.set(r,p)),p}}Jh.INSTANCES=new WeakMap;class Vc{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new tm(e)}static forPath(e,r,o){if(e.length%2!=0)throw new en("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Vc(r,new ws(r._delegate,o,new An(e)))}static forKey(e,r,o){return new Vc(r,new ws(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new $p(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new $p(this.firestore,av(this._delegate,e))}catch(r){throw El(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,me.m9)(e))instanceof ws&&Op(this._delegate,e)}set(e,r){r=Iv("DocumentReference.set",r);try{return r?_v(this._delegate,e,r):_v(this._delegate,e)}catch(o){throw El(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?vv(this._delegate,e):vv(this._delegate,e,r,...o)}catch(u){throw El(u,"updateDoc()","DocumentReference.update()")}}delete(){return function qy(i){return Vp(_i(i.firestore,vs),[new Hs(i._key,as.none())])}(this._delegate)}onSnapshot(...e){const r=lE(e),o=cE(e,u=>new rm(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Qd(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function jy(i){i=_i(i,ws);const e=_i(i.firestore,vs),r=Ts(e),o=new Zd(e);return function nd(i,e){const r=new or;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(p,y,x){try{const L=yield function(fe,Le){const _t=Mn(fe);return _t.persistence.runTransaction("read document","readonly",kt=>_t.localDocuments.getDocument(kt,Le))}(p,y);L.isFoundDocument()?x.resolve(L):L.isNoDocument()?x.resolve(null):x.reject(new en(Lt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const Z=Gh(L,`Failed to get document '${y} from cache`);x.reject(Z)}}),function u(p,y,x){return o.apply(this,arguments)})(yield Pp(i),e,r);var o})),r.promise}(r,i._key).then(u=>new Ul(e,o,i._key,u,new Lc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Hy(i){i=_i(i,ws);const e=_i(i.firestore,vs);return t_(Ts(e),i._key,{source:"server"}).then(r=>Jg(e,i,r))}(this._delegate):function Fp(i){i=_i(i,ws);const e=_i(i.firestore,vs);return t_(Ts(e),i._key).then(r=>Jg(e,i,r))}(this._delegate),r.then(o=>new rm(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Vc(this.firestore,this._delegate.withConverter(e?Jh.getInstance(this.firestore,e):null))}}function El(i,e,r){return i.message=i.message.replace(e,r),i}function lE(i){for(const e of i)if("object"==typeof e&&!Cv(e))return e;return{}}function cE(i,e){var r,o;let u;return u=Cv(i[0])?i[0]:Cv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{u.next&&u.next(e(p))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class rm{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Vc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return jf(this._delegate,e._delegate)}}class im extends rm{data(e){const r=this._delegate.data(e);return this._delegate._converter||function $c(i,e){i||Yn()}(void 0!==r),r}}class Il{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new tm(e)}where(e,r,o){try{return new Il(this.firestore,Xh(this._delegate,function c0(i,e,r){const o=e,u=d_("where",i);return Zg._create(u,o,r)}(e,r,o)))}catch(u){throw El(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new Il(this.firestore,Xh(this._delegate,function h_(i,e="asc"){const r=e,o=d_("orderBy",i);return hv._create(o,r)}(e,r)))}catch(o){throw El(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Il(this.firestore,Xh(this._delegate,function d0(i){return Iy("limit",i),f_._create("limit",i,"F")}(e)))}catch(r){throw El(r,"limit()","Query.limit()")}}limitToLast(e){try{return new Il(this.firestore,Xh(this._delegate,function h0(i){return Iy("limitToLast",i),f_._create("limitToLast",i,"L")}(e)))}catch(r){throw El(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Il(this.firestore,Xh(this._delegate,function f0(...i){return p_._create("startAt",i,!0)}(...e)))}catch(r){throw El(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Il(this.firestore,Xh(this._delegate,function p0(...i){return p_._create("startAfter",i,!1)}(...e)))}catch(r){throw El(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Il(this.firestore,Xh(this._delegate,function By(...i){return g_._create("endBefore",i,!1)}(...e)))}catch(r){throw El(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Il(this.firestore,Xh(this._delegate,function Uy(...i){return g_._create("endAt",i,!0)}(...e)))}catch(r){throw El(r,"endAt()","Query.endAt()")}}isEqual(e){return Lf(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function zy(i){i=_i(i,na);const e=_i(i.firestore,vs),r=Ts(e),o=new Zd(e);return function ZE(i,e){const r=new or;return i.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(o=(0,De.Z)(function*(p,y,x){try{const L=yield bf(p,y,!0),Z=new Zr(y,L.ls),fe=Z.ca(L.documents),Le=Z.applyChanges(fe,!1);x.resolve(Le.snapshot)}catch(L){const Z=Gh(L,`Failed to execute query '${y} against cache`);x.reject(Z)}}),function u(p,y,x){return o.apply(this,arguments)})(yield Pp(i),e,r);var o})),r.promise}(r,i._query).then(u=>new cc(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Wy(i){i=_i(i,na);const e=_i(i.firestore,vs),r=Ts(e),o=new Zd(e);return rv(r,i._query,{source:"server"}).then(u=>new cc(e,o,i,u))}(this._delegate):function Gy(i){i=_i(i,na);const e=_i(i.firestore,vs),r=Ts(e),o=new Zd(e);return Fy(i._query),rv(r,i._query).then(u=>new cc(e,o,i,u))}(this._delegate),r.then(o=>new wv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=lE(e),o=cE(e,u=>new wv(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Qd(this._delegate,r,o)}withConverter(e){return new Il(this.firestore,this._delegate.withConverter(e?Jh.getInstance(this.firestore,e):null))}}class b0{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new im(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wv{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new Il(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new im(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new b0(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new im(this._firestore,o))})}isEqual(e){return jf(this._delegate,e._delegate)}}class $p extends Il{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Vc(this.firestore,e):null}doc(e){try{return new Vc(this.firestore,void 0===e?Ug(this._delegate):Ug(this._delegate,e))}catch(r){throw El(r,"doc()","CollectionReference.doc()")}}add(e){return function m_(i,e){const r=_i(i.firestore,vs),o=Ug(i),u=zs(i.converter,e);return Vp(r,[jg(Bf(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,as.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Vc(this.firestore,r))}isEqual(e){return Op(this._delegate,e._delegate)}withConverter(e){return new $p(this.firestore,this._delegate.withConverter(e?Jh.getInstance(this.firestore,e):null))}}function th(i){return _i(i,ws)}class Tv{constructor(...e){this._delegate=new Yd(...e)}static documentId(){return new Tv(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,me.m9)(e))instanceof Yd&&this._delegate._internalPath.isEqual(e._internalPath)}}class jp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function I0(){return new Kd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jp(e)}static delete(){const e=function E0(){return new Np("deleteField")}();return e._methodName="FieldValue.delete",new jp(e)}static arrayUnion(...e){const r=function Xy(...i){return new xy("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new jp(r)}static arrayRemove(...e){const r=function C0(...i){return new Oy("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new jp(r)}static increment(e){const r=function Jy(i){return new l0("increment",i)}(e);return r._methodName="FieldValue.increment",new jp(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QI={Firestore:sE,GeoPoint:o_,Timestamp:zi,Blob:eh,Transaction:nm,WriteBatch:aE,DocumentReference:Vc,DocumentSnapshot:rm,Query:Il,QueryDocumentSnapshot:im,QuerySnapshot:wv,CollectionReference:$p,FieldPath:Tv,FieldValue:jp,setLogLevel:function oE(i){!function rh(i){Bs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function S0(i){(function A0(i,e){i.INTERNAL.registerComponent(new et.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},QI)))})(i,(e,r)=>new sE(e,r,new D0)),i.registerVersion("@firebase/firestore-compat","0.3.22")}(Dt.Z);var XI=O(120);function P0(i,e){return function R0(i,e=ge.z){return new We.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function Dv(i,e){return P0(i,e).pipe((0,Ge.U)(r=>({payload:r,type:"query"})))}class uE{constructor(e,r){(0,d.Z)(this,"ref",void 0),(0,d.Z)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:p}=sm(o,r);return new Av(u,p,this.afs)}snapshotChanges(){return function M0(i,e){return P0(i,e).pipe((0,Te.O)(void 0),He(),(0,Ge.U)(r=>{const[o,u]=r;return u.exists?null!=o&&o.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,Ke.D)(this.ref.get(e)).pipe(de.iC)}}function Hp(i,e){return Dv(i,e).pipe((0,Te.O)(void 0),He(),(0,Ge.U)(r=>{const[o,u]=r,p=u.payload.docChanges(),y=p.map(x=>({type:x.type,payload:x}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((x,L)=>{const Z=p.find(Le=>Le.doc.ref.isEqual(x.ref)),fe=null==o?void 0:o.payload.docs.find(Le=>Le.ref.isEqual(x.ref));Z&&JSON.stringify(Z.doc.metadata)===JSON.stringify(x.metadata)||!Z&&fe&&JSON.stringify(fe.metadata)===JSON.stringify(x.metadata)||y.push({type:"modified",payload:{oldIndex:L,newIndex:L,type:"modified",doc:x}})}),y}))}function Gp(i,e,r){return Hp(i,r).pipe((0,mt.R)((o,u)=>function bv(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function dE(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return zp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return zp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(p=>p.payload),e),[]),(0,Xe.x)(),(0,Ge.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function zp(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function Wp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Av{constructor(e,r,o){(0,d.Z)(this,"ref",void 0),(0,d.Z)(this,"query",void 0),(0,d.Z)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=Hp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Ge.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,Te.O)(void 0),He(),(0,Je.h)(([o,u])=>u.length>0||!o),(0,Ge.U)(([,o])=>o),de.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mt.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Wp(e);return Gp(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return Dv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(r=>r.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),de.iC)}get(e){return(0,Ke.D)(this.query.get(e)).pipe(de.iC)}add(e){return this.ref.add(e)}doc(e){return new uE(this.ref.doc(e),this.afs)}}class x0{constructor(e,r){(0,d.Z)(this,"query",void 0),(0,d.Z)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Hp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,Je.h)(r=>r.length>0),de.iC):Hp(this.query,this.afs.schedulers.outsideAngular).pipe(de.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mt.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Wp(e);return Gp(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return Dv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(o=>o.payload.docs.map(u=>e.idField?{[e.idField]:u.id,...u.data()}:u.data())),de.iC)}get(e){return(0,Ke.D)(this.query.get(e)).pipe(de.iC)}}const qp=new J.OlP("angularfire2.enableFirestorePersistence"),Sv=new J.OlP("angularfire2.firestore.persistenceSettings"),O0=new J.OlP("angularfire2.firestore.settings"),hE=new J.OlP("angularfire2.firestore.use-emulator");function sm(i,e=(r=>r)){return{query:e(i),ref:i}}let fE=(()=>{var i;class e{constructor(o,u,p,y,x,L,Z,fe,Le,_t,kt,Dn,Ln,Vn,Er,Lr,Rr){(0,d.Z)(this,"schedulers",void 0),(0,d.Z)(this,"firestore",void 0),(0,d.Z)(this,"persistenceEnabled$",void 0),this.schedulers=Z;const hi=(0,xe.on)(o,L,u),Bi=Le;_t&&(0,re.nw)(hi,L,kt,Ln,Vn,Er,Dn,Lr),[this.firestore,this.persistenceEnabled$]=(0,xe.cc)(`${hi.name}.firestore`,"AngularFirestore",hi.name,()=>{const Di=L.runOutsideAngular(()=>hi.firestore());if(y&&Di.settings(y),Bi&&Di.useEmulator(...Bi),p&&!(0,H.PM)(x)){const Eo=()=>{try{return(0,Ke.D)(Di.enablePersistence(fe||void 0).then(()=>!0,()=>!1))}catch(uc){return typeof console<"u"&&console.warn(uc),(0,Ae.of)(!1)}};return[Di,L.runOutsideAngular(Eo)]}return[Di,(0,Ae.of)(!1)]},[y,Bi,p])}collection(o,u){let p;p="string"==typeof o?this.firestore.collection(o):o;const{ref:y,query:x}=sm(p,u),L=this.schedulers.ngZone.run(()=>y);return new Av(L,x,this)}collectionGroup(o,u){const p=u||(x=>x),y=this.firestore.collectionGroup(o);return new x0(p(y),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const p=this.schedulers.ngZone.run(()=>u);return new uE(p,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,d.Z)(e,"\u0275fac",function(o){return new(o||i)(J.LFG(xe.Dh),J.LFG(xe.xv,8),J.LFG(qp,8),J.LFG(O0,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(de.HU),J.LFG(Sv,8),J.LFG(hE,8),J.LFG(re.zQ,8),J.LFG(re.Qv,8),J.LFG(re.L6,8),J.LFG(re._Q,8),J.LFG(re.rT,8),J.LFG(re.lh,8),J.LFG(re.f7,8),J.LFG(de.Rf,8))}),(0,d.Z)(e,"\u0275prov",J.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),N0=(()=>{var i;class e{constructor(){XI.Z.registerVersion("angularfire",de.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:e,providers:[{provide:qp,useValue:!0},{provide:Sv,useValue:o}]}}}return i=e,(0,d.Z)(e,"\u0275fac",function(o){return new(o||i)}),(0,d.Z)(e,"\u0275mod",J.oAB({type:i})),(0,d.Z)(e,"\u0275inj",J.cJS({providers:[fE]})),e})()},7217:(gn,ht,O)=>{"use strict";O.d(ht,{Dh:()=>Ke,GT:()=>ge,cc:()=>Ge,hO:()=>He,on:()=>Te,pX:()=>re,xv:()=>Ae});var d=O(1180),H=O(9212),J=O(9230),de=O(120);const xe=["ngOnDestroy"],re=(ot,Dt,De,qe={})=>new Proxy(ot,{get:(et,Fe)=>De.runOutsideAngular(()=>{var me;if(ot[Fe])return null!=qe&&null!==(me=qe.spy)&&void 0!==me&&me.get&&qe.spy.get(Fe,ot[Fe]),ot[Fe];if(xe.indexOf(Fe)>-1)return()=>{};const Re=Dt.toPromise().then(we=>{const ye=null==we?void 0:we[Fe];return"function"==typeof ye?ye.bind(we):null!=ye&&ye.then?ye.then(ft=>De.run(()=>ft)):De.run(()=>ye)});return new Proxy(()=>{},{get:(we,ye)=>Re[ye],apply:(we,ye,ft)=>Re.then(nt=>{var U;const rt=null==nt?void 0:nt(...ft);return null!=qe&&null!==(U=qe.spy)&&void 0!==U&&U.apply&&qe.spy.apply(Fe,ft,rt),rt})})})}),ge=(ot,Dt)=>{Dt.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(qe=>{Object.defineProperty(ot.prototype,qe,Object.getOwnPropertyDescriptor(De.prototype||De,qe))})})};class We{constructor(Dt){return Dt}}const Ke=new H.OlP("angularfire2.app.options"),Ae=new H.OlP("angularfire2.app.name");function Te(ot,Dt,De){const et="object"==typeof De&&De||{};et.name=et.name||"string"==typeof De&&De||"[DEFAULT]";const me=de.Z.apps.filter(Re=>Re&&Re.name===et.name)[0]||Dt.runOutsideAngular(()=>de.Z.initializeApp(ot,et));try{if(JSON.stringify(ot)!==JSON.stringify(me.options)){const Re=!!module.hot;Qe("error",`${me.name} Firebase App already initialized with different options${Re?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new We(me)}const Qe=(ot,...Dt)=>{(0,H.X6Q)()&&typeof console<"u"&&console[ot](...Dt)},ze={provide:We,useFactory:Te,deps:[Ke,H.R0b,[new H.FiY,Ae]]};let He=(()=>{var ot;class Dt{static initializeApp(qe,et){return{ngModule:Dt,providers:[{provide:Ke,useValue:qe},{provide:Ae,useValue:et}]}}constructor(qe){de.Z.registerVersion("angularfire",J.q4.full,"core"),de.Z.registerVersion("angularfire",J.q4.full,"app-compat"),de.Z.registerVersion("angular",H.q4F.full,qe.toString())}}return ot=Dt,(0,d.Z)(Dt,"\u0275fac",function(qe){return new(qe||ot)(H.LFG(H.Lbi))}),(0,d.Z)(Dt,"\u0275mod",H.oAB({type:ot})),(0,d.Z)(Dt,"\u0275inj",H.cJS({providers:[ze]})),Dt})();function Ge(ot,Dt,De,qe,et){const[,Fe,me]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===ot)||[];if(Fe)return function mt(ot,Dt){try{return ot.toString()===Dt.toString()}catch{return ot===Dt}}(et,me)||(Je("error",`${Dt} was already initialized on the ${De} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:et,was:me})),Fe;{const Re=qe();return globalThis.\u0275AngularfireInstanceCache.push([ot,Re,et]),Re}}const Xe=typeof module<"u"&&!!module.hot,Je=(ot,...Dt)=>{(0,H.X6Q)()&&typeof console<"u"&&console[ot](...Dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9230:(gn,ht,O)=>{"use strict";O.d(ht,{q4:()=>mt,iC:()=>U,fc:()=>ft,HU:()=>me,Rf:()=>Dt});var d=O(1180),H=O(9212),J=O(9823);(0,J.registerVersion)("firebase","10.6.0","app");var re=O(1954),We=O(2631);const Ae=new class Ke extends We.v{}(class ge extends re.o{constructor(Q,K){super(Q,K),this.scheduler=Q,this.work=K}schedule(Q,K=0){return K>0?super.schedule(Q,K):(this.delay=K,this.state=Q,this.scheduler.flush(this),this)}execute(Q,K){return K>0||this.closed?super.execute(Q,K):this._execute(Q,K)}requestAsyncId(Q,K,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(Q,K,ie):(Q.flush(this),0)}});var Qe=O(6321),ze=O(9397),He=O(3093),Ge=O(5137);const mt=new H.GfV("ANGULARFIRE2_VERSION");class Dt{constructor(){return((oe,Q)=>{const K=(0,J.getApps)(),ie=[];return K.forEach(he=>{he.container.getProvider(oe).instances.forEach(je=>{ie.includes(je)||ie.push(je)})}),ie})(De)}}const De="app-check";function qe(){}class et{constructor(Q,K=Ae){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"delegate",void 0),this.zone=Q,this.delegate=K}now(){return this.delegate.now()}schedule(Q,K,ie){const he=this.zone;return this.delegate.schedule(function(je){he.runGuarded(()=>{Q.apply(this,[je])})},K,ie)}}class Fe{constructor(Q){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"task",null),this.zone=Q}call(Q,K){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),K.pipe((0,ze.b)({next:ie,complete:ie,error:ie})).subscribe(Q).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let me=(()=>{var oe;class Q{constructor(ie){(0,d.Z)(this,"ngZone",void 0),(0,d.Z)(this,"outsideAngular",void 0),(0,d.Z)(this,"insideAngular",void 0),this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new et(Zone.current)),this.insideAngular=ie.run(()=>new et(Zone.current,Qe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return oe=Q,(0,d.Z)(Q,"\u0275fac",function(ie){return new(ie||oe)(H.LFG(H.R0b))}),(0,d.Z)(Q,"\u0275prov",H.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})),Q})();function Re(){const oe=globalThis.\u0275AngularFireScheduler;if(!oe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return oe}function ft(oe){return oe.pipe((0,He.Q)(Re().outsideAngular))}function U(oe){return function rt(oe){return function(K){return(K=K.lift(new Fe(oe.ngZone))).pipe((0,Ge.R)(oe.outsideAngular),(0,He.Q)(oe.insideAngular))}}(Re())(oe)}},3399:(gn,ht,O)=>{"use strict";O.d(ht,{Z:()=>Ge});var d=O(229),H=O(6820),J=O(9823),de=O(7879);class xe{constructor(Xe,Je){this._delegate=Xe,this.firebase=Je,(0,J._addComponent)(Xe,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Xe,Je=J._DEFAULT_ENTRY_NAME){var ot;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(Xe);return!Dt.isInitialized()&&"EXPLICIT"===(null===(ot=Dt.getComponent())||void 0===ot?void 0:ot.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:Je})}_removeServiceInstance(Xe,Je=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Je)}_addComponent(Xe){(0,J._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,J._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ae=function Ke(){const mt=function We(mt){const Xe={},Je={__esModule:!0,initializeApp:function De(me,Re={}){const we=J.initializeApp(me,Re);if((0,d.r3)(Xe,we.name))return Xe[we.name];const ye=new mt(we,Je);return Xe[we.name]=ye,ye},app:Dt,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function et(me){const Re=me.name,we=Re.replace("-compat","");if(J._registerComponent(me)&&"PUBLIC"===me.type){const ye=(ft=Dt())=>{if("function"!=typeof ft[we])throw ge.create("invalid-app-argument",{appName:Re});return ft[we]()};void 0!==me.serviceProps&&(0,d.ZB)(ye,me.serviceProps),Je[we]=ye,mt.prototype[we]=function(...ft){return this._getService.bind(this,Re).apply(this,me.multipleInstances?ft:[])}}return"PUBLIC"===me.type?Je[we]:null},removeApp:function ot(me){delete Xe[me]},useAsService:function Fe(me,Re){return"serverAuth"===Re?null:Re},modularAPIs:J}};function Dt(me){if(!(0,d.r3)(Xe,me=me||J._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:me});return Xe[me]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function qe(){return Object.keys(Xe).map(me=>Xe[me])}}),Dt.App=mt,Je}(xe);return mt.INTERNAL=Object.assign(Object.assign({},mt.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function Xe(Je){(0,d.ZB)(mt,Je)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),mt}(),Te=new de.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const mt=self.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=Ae;!function He(mt){(0,J.registerVersion)("@firebase/app-compat","0.2.23",mt)}()},9823:(gn,ht,O)=>{"use strict";O.r(ht),O.d(ht,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>$r,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>qr,_addOrOverwriteComponent:()=>Sn,_apps:()=>xn,_clearComponents:()=>Ir,_components:()=>ui,_getProvider:()=>ir,_registerComponent:()=>Xr,_removeServiceInstance:()=>Ci,deleteApp:()=>ri,getApp:()=>fi,getApps:()=>Gr,initializeApp:()=>ki,onLog:()=>er,registerVersion:()=>Zn,setLogLevel:()=>mi});var d=O(5861),H=O(6820),J=O(7879),de=O(229);const xe=(Rt,ct)=>ct.some(Jt=>Rt instanceof Jt);let re,ge;const Ae=new WeakMap,Te=new WeakMap,Qe=new WeakMap,ze=new WeakMap,He=new WeakMap;let Xe={get(Rt,ct,Jt){if(Rt instanceof IDBTransaction){if("done"===ct)return Te.get(Rt);if("objectStoreNames"===ct)return Rt.objectStoreNames||Qe.get(Rt);if("store"===ct)return Jt.objectStoreNames[1]?void 0:Jt.objectStore(Jt.objectStoreNames[0])}return De(Rt[ct])},set:(Rt,ct,Jt)=>(Rt[ct]=Jt,!0),has:(Rt,ct)=>Rt instanceof IDBTransaction&&("done"===ct||"store"===ct)||ct in Rt};function Dt(Rt){return"function"==typeof Rt?function ot(Rt){return Rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Rt)?function(...ct){return Rt.apply(qe(this),ct),De(Ae.get(this))}:function(...ct){return De(Rt.apply(qe(this),ct))}:function(ct,...Jt){const Hn=Rt.call(qe(this),ct,...Jt);return Qe.set(Hn,ct.sort?ct.sort():[ct]),De(Hn)}}(Rt):(Rt instanceof IDBTransaction&&function mt(Rt){if(Te.has(Rt))return;const ct=new Promise((Jt,Hn)=>{const jn=()=>{Rt.removeEventListener("complete",qn),Rt.removeEventListener("error",Bn),Rt.removeEventListener("abort",Bn)},qn=()=>{Jt(),jn()},Bn=()=>{Hn(Rt.error||new DOMException("AbortError","AbortError")),jn()};Rt.addEventListener("complete",qn),Rt.addEventListener("error",Bn),Rt.addEventListener("abort",Bn)});Te.set(Rt,ct)}(Rt),xe(Rt,function We(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Rt,Xe):Rt)}function De(Rt){if(Rt instanceof IDBRequest)return function Ge(Rt){const ct=new Promise((Jt,Hn)=>{const jn=()=>{Rt.removeEventListener("success",qn),Rt.removeEventListener("error",Bn)},qn=()=>{Jt(De(Rt.result)),jn()},Bn=()=>{Hn(Rt.error),jn()};Rt.addEventListener("success",qn),Rt.addEventListener("error",Bn)});return ct.then(Jt=>{Jt instanceof IDBCursor&&Ae.set(Jt,Rt)}).catch(()=>{}),He.set(ct,Rt),ct}(Rt);if(ze.has(Rt))return ze.get(Rt);const ct=Dt(Rt);return ct!==Rt&&(ze.set(Rt,ct),He.set(ct,Rt)),ct}const qe=Rt=>He.get(Rt),me=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],we=new Map;function ye(Rt,ct){if(!(Rt instanceof IDBDatabase)||ct in Rt||"string"!=typeof ct)return;if(we.get(ct))return we.get(ct);const Jt=ct.replace(/FromIndex$/,""),Hn=ct!==Jt,jn=Re.includes(Jt);if(!(Jt in(Hn?IDBIndex:IDBObjectStore).prototype)||!jn&&!me.includes(Jt))return;const qn=function(){var Bn=(0,d.Z)(function*(Yr,...dt){const Ye=this.transaction(Yr,jn?"readwrite":"readonly");let At=Ye.store;return Hn&&(At=At.index(dt.shift())),(yield Promise.all([At[Jt](...dt),jn&&Ye.done]))[0]});return function(dt){return Bn.apply(this,arguments)}}();return we.set(ct,qn),qn}!function Je(Rt){Xe=Rt(Xe)}(Rt=>({...Rt,get:(ct,Jt,Hn)=>ye(ct,Jt)||Rt.get(ct,Jt,Hn),has:(ct,Jt)=>!!ye(ct,Jt)||Rt.has(ct,Jt)}));class ft{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Jt=>{if(function nt(Rt){const ct=Rt.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(Jt)){const Hn=Jt.getImmediate();return`${Hn.library}/${Hn.version}`}return null}).filter(Jt=>Jt).join(" ")}}const U="@firebase/app",It=new J.Yd("@firebase/app"),Jn="[DEFAULT]",cr={[U]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xn=new Map,ui=new Map;function qr(Rt,ct){try{Rt.container.addComponent(ct)}catch(Jt){It.debug(`Component ${ct.name} failed to register with FirebaseApp ${Rt.name}`,Jt)}}function Sn(Rt,ct){Rt.container.addOrOverwriteComponent(ct)}function Xr(Rt){const ct=Rt.name;if(ui.has(ct))return It.debug(`There were multiple attempts to register component ${ct}.`),!1;ui.set(ct,Rt);for(const Jt of xn.values())qr(Jt,Rt);return!0}function ir(Rt,ct){const Jt=Rt.container.getProvider("heartbeat").getImmediate({optional:!0});return Jt&&Jt.triggerHeartbeat(),Rt.container.getProvider(ct)}function Ci(Rt,ct,Jt=Jn){ir(Rt,ct).clearInstance(Jt)}function Ir(){ui.clear()}const sr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class br{constructor(ct,Jt,Hn){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Jt),this._name=Jt.name,this._automaticDataCollectionEnabled=Jt.automaticDataCollectionEnabled,this._container=Hn,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const $r="10.6.0";function ki(Rt,ct={}){let Jt=Rt;"object"!=typeof ct&&(ct={name:ct});const Hn=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},ct),jn=Hn.name;if("string"!=typeof jn||!jn)throw sr.create("bad-app-name",{appName:String(jn)});if(Jt||(Jt=(0,de.aH)()),!Jt)throw sr.create("no-options");const qn=xn.get(jn);if(qn){if((0,de.vZ)(Jt,qn.options)&&(0,de.vZ)(Hn,qn.config))return qn;throw sr.create("duplicate-app",{appName:jn})}const Bn=new H.H0(jn);for(const dt of ui.values())Bn.addComponent(dt);const Yr=new br(Jt,Hn,Bn);return xn.set(jn,Yr),Yr}function fi(Rt=Jn){const ct=xn.get(Rt);if(!ct&&Rt===Jn&&(0,de.aH)())return ki();if(!ct)throw sr.create("no-app",{appName:Rt});return ct}function Gr(){return Array.from(xn.values())}function ri(Rt){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(Rt){const ct=Rt.name;xn.has(ct)&&(xn.delete(ct),yield Promise.all(Rt.container.getProviders().map(Jt=>Jt.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function Zn(Rt,ct,Jt){var Hn;let jn=null!==(Hn=cr[Rt])&&void 0!==Hn?Hn:Rt;Jt&&(jn+=`-${Jt}`);const qn=jn.match(/\s|\//),Bn=ct.match(/\s|\//);if(qn||Bn){const Yr=[`Unable to register library "${jn}" with version "${ct}":`];return qn&&Yr.push(`library name "${jn}" contains illegal characters (whitespace or "/")`),qn&&Bn&&Yr.push("and"),Bn&&Yr.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void It.warn(Yr.join(" "))}Xr(new H.wA(`${jn}-version`,()=>({library:jn,version:ct}),"VERSION"))}function er(Rt,ct){if(null!==Rt&&"function"!=typeof Rt)throw sr.create("invalid-log-argument");(0,J.Am)(Rt,ct)}function mi(Rt){(0,J.Ub)(Rt)}const bi="firebase-heartbeat-database",Ui=1,at="firebase-heartbeat-store";let pe=null;function se(){return pe||(pe=function et(Rt,ct,{blocked:Jt,upgrade:Hn,blocking:jn,terminated:qn}={}){const Bn=indexedDB.open(Rt,ct),Yr=De(Bn);return Hn&&Bn.addEventListener("upgradeneeded",dt=>{Hn(De(Bn.result),dt.oldVersion,dt.newVersion,De(Bn.transaction),dt)}),Jt&&Bn.addEventListener("blocked",dt=>Jt(dt.oldVersion,dt.newVersion,dt)),Yr.then(dt=>{qn&&dt.addEventListener("close",()=>qn()),jn&&dt.addEventListener("versionchange",Ye=>jn(Ye.oldVersion,Ye.newVersion,Ye))}).catch(()=>{}),Yr}(bi,Ui,{upgrade:(Rt,ct)=>{0===ct&&Rt.createObjectStore(at)}}).catch(Rt=>{throw sr.create("idb-open",{originalErrorMessage:Rt.message})})),pe}function le(){return(le=(0,d.Z)(function*(Rt){try{return yield(yield se()).transaction(at).objectStore(at).get(Yt(Rt))}catch(ct){if(ct instanceof de.ZR)It.warn(ct.message);else{const Jt=sr.create("idb-get",{originalErrorMessage:null==ct?void 0:ct.message});It.warn(Jt.message)}}})).apply(this,arguments)}function lt(Rt,ct){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(Rt,ct){try{const Hn=(yield se()).transaction(at,"readwrite");yield Hn.objectStore(at).put(ct,Yt(Rt)),yield Hn.done}catch(Jt){if(Jt instanceof de.ZR)It.warn(Jt.message);else{const Hn=sr.create("idb-set",{originalErrorMessage:null==Jt?void 0:Jt.message});It.warn(Hn.message)}}})).apply(this,arguments)}function Yt(Rt){return`${Rt.name}!${Rt.options.appId}`}class mr{constructor(ct){this.container=ct,this._heartbeatsCache=null;const Jt=this.container.getProvider("app").getImmediate();this._storage=new wi(Jt),this._heartbeatsCachePromise=this._storage.read().then(Hn=>(this._heartbeatsCache=Hn,Hn))}triggerHeartbeat(){var ct=this;return(0,d.Z)(function*(){var Jt;const jn=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qn=kn();if(null==(null===(Jt=ct._heartbeatsCache)||void 0===Jt?void 0:Jt.heartbeats)&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise),ct._heartbeatsCache.lastSentHeartbeatDate!==qn&&!ct._heartbeatsCache.heartbeats.some(Bn=>Bn.date===qn))return ct._heartbeatsCache.heartbeats.push({date:qn,agent:jn}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(Bn=>{const Yr=new Date(Bn.date).valueOf();return Date.now()-Yr<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache)})()}getHeartbeatsHeader(){var ct=this;return(0,d.Z)(function*(){var Jt;if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(Jt=ct._heartbeatsCache)||void 0===Jt?void 0:Jt.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const Hn=kn(),{heartbeatsToSend:jn,unsentEntries:qn}=function hr(Rt,ct=1024){const Jt=[];let Hn=Rt.slice();for(const jn of Rt){const qn=Jt.find(Bn=>Bn.agent===jn.agent);if(qn){if(qn.dates.push(jn.date),Pr(Jt)>ct){qn.dates.pop();break}}else if(Jt.push({agent:jn.agent,dates:[jn.date]}),Pr(Jt)>ct){Jt.pop();break}Hn=Hn.slice(1)}return{heartbeatsToSend:Jt,unsentEntries:Hn}}(ct._heartbeatsCache.heartbeats),Bn=(0,de.L)(JSON.stringify({version:2,heartbeats:jn}));return ct._heartbeatsCache.lastSentHeartbeatDate=Hn,qn.length>0?(ct._heartbeatsCache.heartbeats=qn,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),Bn})()}}function kn(){return(new Date).toISOString().substring(0,10)}class wi{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,d.Z)(function*(){return(yield ct._canUseIndexedDBPromise)&&(yield function ke(Rt){return le.apply(this,arguments)}(ct.app))||{heartbeats:[]}})()}overwrite(ct){var Jt=this;return(0,d.Z)(function*(){var Hn;if(yield Jt._canUseIndexedDBPromise){const qn=yield Jt.read();return lt(Jt.app,{lastSentHeartbeatDate:null!==(Hn=ct.lastSentHeartbeatDate)&&void 0!==Hn?Hn:qn.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var Jt=this;return(0,d.Z)(function*(){var Hn;if(yield Jt._canUseIndexedDBPromise){const qn=yield Jt.read();return lt(Jt.app,{lastSentHeartbeatDate:null!==(Hn=ct.lastSentHeartbeatDate)&&void 0!==Hn?Hn:qn.lastSentHeartbeatDate,heartbeats:[...qn.heartbeats,...ct.heartbeats]})}})()}}function Pr(Rt){return(0,de.L)(JSON.stringify({version:2,heartbeats:Rt})).length}!function Wi(Rt){Xr(new H.wA("platform-logger",ct=>new ft(ct),"PRIVATE")),Xr(new H.wA("heartbeat",ct=>new mr(ct),"PRIVATE")),Zn(U,"0.9.23",Rt),Zn(U,"0.9.23","esm2017"),Zn("fire-js","")}("")},6820:(gn,ht,O)=>{"use strict";O.d(ht,{H0:()=>We,wA:()=>J,zt:()=>xe});var d=O(5861),H=O(229);class J{constructor(Ae,Te,Qe){this.name=Ae,this.instanceFactory=Te,this.type=Qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ae){return this.instantiationMode=Ae,this}setMultipleInstances(Ae){return this.multipleInstances=Ae,this}setServiceProps(Ae){return this.serviceProps=Ae,this}setInstanceCreatedCallback(Ae){return this.onInstanceCreated=Ae,this}}const de="[DEFAULT]";class xe{constructor(Ae,Te){this.name=Ae,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ae){const Te=this.normalizeInstanceIdentifier(Ae);if(!this.instancesDeferred.has(Te)){const Qe=new H.BH;if(this.instancesDeferred.set(Te,Qe),this.isInitialized(Te)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Te});ze&&Qe.resolve(ze)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(Ae){var Te;const Qe=this.normalizeInstanceIdentifier(null==Ae?void 0:Ae.identifier),ze=null!==(Te=null==Ae?void 0:Ae.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Qe)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Qe})}catch(He){if(ze)return null;throw He}}getComponent(){return this.component}setComponent(Ae){if(Ae.name!==this.name)throw Error(`Mismatching Component ${Ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ae,this.shouldAutoInitialize()){if(function ge(Ke){return"EAGER"===Ke.instantiationMode}(Ae))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[Te,Qe]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Te);try{const He=this.getOrInitializeService({instanceIdentifier:ze});Qe.resolve(He)}catch{}}}}clearInstance(Ae=de){this.instancesDeferred.delete(Ae),this.instancesOptions.delete(Ae),this.instances.delete(Ae)}delete(){var Ae=this;return(0,d.Z)(function*(){const Te=Array.from(Ae.instances.values());yield Promise.all([...Te.filter(Qe=>"INTERNAL"in Qe).map(Qe=>Qe.INTERNAL.delete()),...Te.filter(Qe=>"_delete"in Qe).map(Qe=>Qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ae=de){return this.instances.has(Ae)}getOptions(Ae=de){return this.instancesOptions.get(Ae)||{}}initialize(Ae={}){const{options:Te={}}=Ae,Qe=this.normalizeInstanceIdentifier(Ae.instanceIdentifier);if(this.isInitialized(Qe))throw Error(`${this.name}(${Qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Qe,options:Te});for(const[He,Ge]of this.instancesDeferred.entries())Qe===this.normalizeInstanceIdentifier(He)&&Ge.resolve(ze);return ze}onInit(Ae,Te){var Qe;const ze=this.normalizeInstanceIdentifier(Te),He=null!==(Qe=this.onInitCallbacks.get(ze))&&void 0!==Qe?Qe:new Set;He.add(Ae),this.onInitCallbacks.set(ze,He);const Ge=this.instances.get(ze);return Ge&&Ae(Ge,ze),()=>{He.delete(Ae)}}invokeOnInitCallbacks(Ae,Te){const Qe=this.onInitCallbacks.get(Te);if(Qe)for(const ze of Qe)try{ze(Ae,Te)}catch{}}getOrInitializeService({instanceIdentifier:Ae,options:Te={}}){let Qe=this.instances.get(Ae);if(!Qe&&this.component&&(Qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=Ae,Ke===de?void 0:Ke),options:Te}),this.instances.set(Ae,Qe),this.instancesOptions.set(Ae,Te),this.invokeOnInitCallbacks(Qe,Ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ae,Qe)}catch{}var Ke;return Qe||null}normalizeInstanceIdentifier(Ae=de){return this.component?this.component.multipleInstances?Ae:de:Ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(Ae){this.name=Ae,this.providers=new Map}addComponent(Ae){const Te=this.getProvider(Ae.name);if(Te.isComponentSet())throw new Error(`Component ${Ae.name} has already been registered with ${this.name}`);Te.setComponent(Ae)}addOrOverwriteComponent(Ae){this.getProvider(Ae.name).isComponentSet()&&this.providers.delete(Ae.name),this.addComponent(Ae)}getProvider(Ae){if(this.providers.has(Ae))return this.providers.get(Ae);const Te=new xe(Ae,this);return this.providers.set(Ae,Te),Te}getProviders(){return Array.from(this.providers.values())}}},120:(gn,ht,O)=>{"use strict";O.d(ht,{Z:()=>d.Z});var d=O(3399);d.Z.registerVersion("firebase","10.6.0","app-compat")},8313:(gn,ht,O)=>{"use strict";O.r(ht);var d=O(5861),H=O(3399),J=O(229),de=O(9823),xe=O(7879),re=O(7582),ge=O(6820);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ge=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},mt=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new xe.Yd("@firebase/auth");function De(C,..._){ot.logLevel<=xe.in.ERROR&&ot.error(`Auth (${de.SDK_VERSION}): ${C}`,..._)}function qe(C,..._){throw Re(C,..._)}function et(C,..._){return Re(C,..._)}function Fe(C,_,v){const D=Object.assign(Object.assign({},mt()),{[_]:v});return new J.LL("auth","Firebase",D).create(_,{appName:C.name})}function me(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&qe(C,"argument-error"),Fe(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(C,..._){if("string"!=typeof C){const v=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=C.name),C._errorFactory.create(v,...D)}return Xe.create(C,..._)}function we(C,_,...v){if(!C)throw Re(_,...v)}function ye(C){const _="INTERNAL ASSERTION FAILED: "+C;throw De(_),new Error(_)}function ft(C,_){C||ye(_)}function nt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function U(){return"http:"===rt()||"https:"===rt()}function rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class oe{constructor(_,v){this.shortDelay=_,this.longDelay=v,ft(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(U()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(C,_){ft(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class K{static initialize(_,v,D){this.fetchImpl=_,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=new oe(3e4,6e4);function Ve(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function je(C,_,v,D){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(C,_,v,D,q={}){return jt(C,q,(0,d.Z)(function*(){let ce={},st={};D&&("GET"===_?st=D:ce={body:JSON.stringify(D)});const bt=(0,J.xO)(Object.assign({key:C.config.apiKey},st)).slice(1),tn=yield C._getAdditionalHeaders();return tn["Content-Type"]="application/json",C.languageCode&&(tn["X-Firebase-Locale"]=C.languageCode),K.fetch()(Kt(C,C.config.apiHost,v,bt),Object.assign({method:_,headers:tn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function jt(C,_,v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(C,_,v){C._canInitEmulator=!1;const D=Object.assign(Object.assign({},ie),_);try{const q=new Nt(C),ce=yield Promise.race([v(),q.promise]);q.clearNetworkTimeout();const st=yield ce.json();if("needConfirmation"in st)throw Bt(C,"account-exists-with-different-credential",st);if(ce.ok&&!("errorMessage"in st))return st;{const bt=ce.ok?st.errorMessage:st.error.message,[tn,Nn]=bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===tn)throw Bt(C,"credential-already-in-use",st);if("EMAIL_EXISTS"===tn)throw Bt(C,"email-already-in-use",st);if("USER_DISABLED"===tn)throw Bt(C,"user-disabled",st);const tr=D[tn]||tn.toLowerCase().replace(/[_\s]+/g,"-");if(Nn)throw Fe(C,tr,Nn);qe(C,tr)}}catch(q){if(q instanceof J.ZR)throw q;qe(C,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function St(C,_,v,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(C,_,v,D,q={}){const ce=yield je(C,_,v,D,q);return"mfaPendingCredential"in ce&&qe(C,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function Kt(C,_,v,D){const q=`${_}${v}?${D}`;return C.config.emulator?Q(C.config,q):`${C.config.apiScheme}://${q}`}function Pt(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(et(this.auth,"network-request-failed")),he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bt(C,_,v){const D={appName:C.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const q=et(C,_,D);return q.customData._tokenResponse=v,q}function nn(C){return void 0!==C&&void 0!==C.getResponse}function zn(C){return void 0!==C&&void 0!==C.enterprise}class Gn{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Pt(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function In(){return(In=(0,d.Z)(function*(C){return(yield je(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qn(C,_){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(C,_){return je(C,"GET","/v2/recaptchaConfig",Ve(C,_))})).apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Sn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Ci(){return(Ci=(0,d.Z)(function*(C,_=!1){const v=(0,J.m9)(C),D=yield v.getIdToken(_),q=pn(D);we(q&&q.exp&&q.auth_time&&q.iat,v.auth,"internal-error");const ce="object"==typeof q.firebase?q.firebase:void 0,st=null==ce?void 0:ce.sign_in_provider;return{claims:q,token:D,authTime:Sn(Ir(q.auth_time)),issuedAtTime:Sn(Ir(q.iat)),expirationTime:Sn(Ir(q.exp)),signInProvider:st||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function Ir(C){return 1e3*Number(C)}function pn(C){const[_,v,D]=C.split(".");if(void 0===_||void 0===v||void 0===D)return De("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,J.tV)(v);return q?JSON.parse(q):(De("Failed to decode base64 JWT payload"),null)}catch(q){return De("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function br(C,_){return $r.apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(D){throw D instanceof J.ZR&&function ki({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(D)&&C.auth.currentUser===C&&(yield C.auth.signOut()),D}})).apply(this,arguments)}class fi{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),D)}iteration(){var _=this;return(0,d.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&_.schedule(!0))}_.schedule()})()}}class Gr{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ri(C){return ii.apply(this,arguments)}function ii(){return ii=(0,d.Z)(function*(C){var _;const v=C.auth,D=yield C.getIdToken(),q=yield br(C,function ui(C,_){return qr.apply(this,arguments)}(v,{idToken:D}));we(null==q?void 0:q.users.length,v,"internal-error");const ce=q.users[0];C._notifyReloadListener(ce);const st=null!==(_=ce.providerUserInfo)&&void 0!==_&&_.length?function bi(C){return C.map(_=>{var{providerId:v}=_,D=(0,re._T)(_,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(ce.providerUserInfo):[],bt=function mi(C,_){return[...C.filter(D=>!_.some(q=>q.providerId===D.providerId)),..._]}(C.providerData,st),tr=!!C.isAnonymous&&!(C.email&&ce.passwordHash||null!=bt&&bt.length),ar={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:bt,metadata:new Gr(ce.createdAt,ce.lastLoginAt),isAnonymous:tr};Object.assign(C,ar)}),ii.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(C){const _=(0,J.m9)(C);yield ri(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function at(){return(at=(0,d.Z)(function*(C,_){const v=yield jt(C,{},(0,d.Z)(function*(){const D=(0,J.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:q,apiKey:ce}=C.config,st=Kt(C,q,"/v1/token",`key=${ce}`),bt=yield C._getAdditionalHeaders();return bt["Content-Type"]="application/x-www-form-urlencoded",K.fetch()(st,{method:"POST",headers:bt,body:D})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(C,_){return je(C,"POST","/v2/accounts:revokeToken",Ve(C,_))})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){we(_.idToken,"internal-error"),we(typeof _.idToken<"u","internal-error"),we(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function sr(C){const _=pn(C);return we(_,"internal-error"),we(typeof _.exp<"u","internal-error"),we(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var D=this;return(0,d.Z)(function*(){return we(!D.accessToken||D.refreshToken,_,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var D=this;return(0,d.Z)(function*(){const{accessToken:q,refreshToken:ce,expiresIn:st}=yield function Ui(C,_){return at.apply(this,arguments)}(_,v);D.updateTokensAndExpiration(q,ce,Number(st))})()}updateTokensAndExpiration(_,v,D){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,v){const{refreshToken:D,accessToken:q,expirationTime:ce}=v,st=new ke;return D&&(we("string"==typeof D,"internal-error",{appName:_}),st.refreshToken=D),q&&(we("string"==typeof q,"internal-error",{appName:_}),st.accessToken=q),ce&&(we("number"==typeof ce,"internal-error",{appName:_}),st.expirationTime=ce),st}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return ye("not implemented")}}function le(C,_){we("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class lt{constructor(_){var{uid:v,auth:D,stsTokenManager:q}=_,ce=(0,re._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Gr(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,d.Z)(function*(){const D=yield br(v,v.stsTokenManager.getToken(v.auth,_));return we(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(_){return function ir(C){return Ci.apply(this,arguments)}(this,_)}reload(){return function Zn(C){return er.apply(this,arguments)}(this)}_assign(_){this!==_&&(we(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new lt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var D=this;return(0,d.Z)(function*(){let q=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),q=!0),v&&(yield ri(D)),yield D.auth._persistUserIfCurrent(D),q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,d.Z)(function*(){const v=yield _.getIdToken();return yield br(_,function ci(C,_){return Jn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var D,q,ce,st,bt,tn,Nn,tr;const ar=null!==(D=v.displayName)&&void 0!==D?D:void 0,Vi=null!==(q=v.email)&&void 0!==q?q:void 0,_o=null!==(ce=v.phoneNumber)&&void 0!==ce?ce:void 0,lu=null!==(st=v.photoURL)&&void 0!==st?st:void 0,Hu=null!==(bt=v.tenantId)&&void 0!==bt?bt:void 0,_s=null!==(tn=v._redirectEventId)&&void 0!==tn?tn:void 0,Fl=null!==(Nn=v.createdAt)&&void 0!==Nn?Nn:void 0,df=null!==(tr=v.lastLoginAt)&&void 0!==tr?tr:void 0,{uid:Sc,emailVerified:Fa,isAnonymous:Vl,providerData:Gu,stsTokenManager:cu}=v;we(Sc&&cu,_,"internal-error");const zu=ke.fromJSON(this.name,cu);we("string"==typeof Sc,_,"internal-error"),le(ar,_.name),le(Vi,_.name),we("boolean"==typeof Fa,_,"internal-error"),we("boolean"==typeof Vl,_,"internal-error"),le(_o,_.name),le(lu,_.name),le(Hu,_.name),le(_s,_.name),le(Fl,_.name),le(df,_.name);const Od=new lt({uid:Sc,auth:_,email:Vi,emailVerified:Fa,displayName:ar,isAnonymous:Vl,photoURL:lu,phoneNumber:_o,tenantId:Hu,stsTokenManager:zu,createdAt:Fl,lastLoginAt:df});return Gu&&Array.isArray(Gu)&&(Od.providerData=Gu.map(rg=>Object.assign({},rg))),_s&&(Od._redirectEventId=_s),Od}static _fromIdTokenResponse(_,v,D=!1){return(0,d.Z)(function*(){const q=new ke;q.updateFromServerResponse(v);const ce=new lt({uid:v.localId,auth:_,stsTokenManager:q,isAnonymous:D});return yield ri(ce),ce})()}}const xt=new Map;function Yt(C){ft(C instanceof Function,"Expected a class definition");let _=xt.get(C);return _?(ft(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,xt.set(C,_),_)}const Xn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,D){var q=this;return(0,d.Z)(function*(){q.storage[v]=D})()}_get(v){var D=this;return(0,d.Z)(function*(){const q=D.storage[v];return void 0===q?null:q})()}_remove(v){var D=this;return(0,d.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return C.type="NONE",C})();function mr(C,_,v){return`firebase:${C}:${_}:${v}`}class kn{constructor(_,v,D){this.persistence=_,this.auth=v,this.userKey=D;const{config:q,name:ce}=this.auth;this.fullUserKey=mr(this.userKey,q.apiKey,ce),this.fullPersistenceKey=mr("persistence",q.apiKey,ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,d.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?lt._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,d.Z)(function*(){if(v.persistence===_)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,D="authUser"){return(0,d.Z)(function*(){if(!v.length)return new kn(Yt(Xn),_,D);const q=(yield Promise.all(v.map(function(){var Nn=(0,d.Z)(function*(tr){if(yield tr._isAvailable())return tr});return function(tr){return Nn.apply(this,arguments)}}()))).filter(Nn=>Nn);let ce=q[0]||Yt(Xn);const st=mr(D,_.config.apiKey,_.name);let bt=null;for(const Nn of v)try{const tr=yield Nn._get(st);if(tr){const ar=lt._fromJSON(_,tr);Nn!==ce&&(bt=ar),ce=Nn;break}}catch{}const tn=q.filter(Nn=>Nn._shouldAllowMigration);return ce._shouldAllowMigration&&tn.length?(ce=tn[0],bt&&(yield ce._set(st,bt.toJSON())),yield Promise.all(v.map(function(){var Nn=(0,d.Z)(function*(tr){if(tr!==ce)try{yield tr._remove(st)}catch{}});return function(tr){return Nn.apply(this,arguments)}}())),new kn(ce,_,D)):new kn(ce,_,D)})()}}function hr(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Rt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(wi(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Jt(_))return"Blackberry";if(Hn(_))return"Webos";if(Pr(_))return"Safari";if((_.includes("chrome/")||Wi(_))&&!_.includes("edge/"))return"Chrome";if(ct(_))return"Android";{const D=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function wi(C=(0,J.z$)()){return/firefox\//i.test(C)}function Pr(C=(0,J.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Wi(C=(0,J.z$)()){return/crios\//i.test(C)}function Rt(C=(0,J.z$)()){return/iemobile/i.test(C)}function ct(C=(0,J.z$)()){return/android/i.test(C)}function Jt(C=(0,J.z$)()){return/blackberry/i.test(C)}function Hn(C=(0,J.z$)()){return/webos/i.test(C)}function jn(C=(0,J.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function dt(C=(0,J.z$)()){return jn(C)||ct(C)||Hn(C)||Jt(C)||/windows phone/i.test(C)||Rt(C)}function At(C,_=[]){let v;switch(C){case"Browser":v=hr((0,J.z$)());break;case"Worker":v=`${hr((0,J.z$)())}-${C}`;break;default:v=C}const D=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${de.SDK_VERSION}/${D}`}class Et{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const D=ce=>new Promise((st,bt)=>{try{st(_(ce))}catch(tn){bt(tn)}});D.onAbort=v,this.queue.push(D);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,d.Z)(function*(){if(v.auth.currentUser===_)return;const D=[];try{for(const q of v.queue)yield q(_),q.onAbort&&D.push(q.onAbort)}catch(q){D.reverse();for(const ce of D)try{ce()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}function Wt(){return(Wt=(0,d.Z)(function*(C,_={}){return je(C,"GET","/v2/passwordPolicy",Ve(C,_))})).apply(this,arguments)}class yn{constructor(_){var v,D,q,ce;const st=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=st.minPasswordLength)&&void 0!==v?v:6,st.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=st.maxPasswordLength),void 0!==st.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=st.containsLowercaseCharacter),void 0!==st.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=st.containsUppercaseCharacter),void 0!==st.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=st.containsNumericCharacter),void 0!==st.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=st.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(D=_.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(ce=_.forceUpgradeOnSignin)&&void 0!==ce&&ce,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,D,q,ce,st,bt;const tn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,tn),this.validatePasswordCharacterOptions(_,tn),tn.isValid&&(tn.isValid=null===(v=tn.meetsMinPasswordLength)||void 0===v||v),tn.isValid&&(tn.isValid=null===(D=tn.meetsMaxPasswordLength)||void 0===D||D),tn.isValid&&(tn.isValid=null===(q=tn.containsLowercaseLetter)||void 0===q||q),tn.isValid&&(tn.isValid=null===(ce=tn.containsUppercaseLetter)||void 0===ce||ce),tn.isValid&&(tn.isValid=null===(st=tn.containsNumericCharacter)||void 0===st||st),tn.isValid&&(tn.isValid=null===(bt=tn.containsNonAlphanumericCharacter)||void 0===bt||bt),tn}validatePasswordLengthOptions(_,v){const D=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;D&&(v.meetsMinPasswordLength=_.length>=D),q&&(v.meetsMaxPasswordLength=_.length<=q)}validatePasswordCharacterOptions(_,v){let D;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let q=0;q<_.length;q++)D=_.charAt(q),this.updatePasswordCharacterOptionsStatuses(v,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(_,v,D,q,ce){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=ce))}}class On{constructor(_,v,D,q){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=D,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(_,v){var D=this;return v&&(this._popupRedirectResolver=Yt(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var q,ce;if(!D._deleted&&(D.persistenceManager=yield kn.create(D,_),!D._deleted)){if(null!==(q=D._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(v),D.lastNotifiedUid=(null===(ce=D.currentUser)||void 0===ce?void 0:ce.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,d.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,d.Z)(function*(){var D;const q=yield v.assertedPersistence.getCurrentUser();let ce=q,st=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const bt=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,tn=null==ce?void 0:ce._redirectEventId,Nn=yield v.tryRedirectSignIn(_);(!bt||bt===tn)&&null!=Nn&&Nn.user&&(ce=Nn.user,st=!0)}if(!ce)return v.directlySetCurrentUser(null);if(!ce._redirectEventId){if(st)try{yield v.beforeStateQueue.runMiddleware(ce)}catch(bt){ce=q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(bt))}return ce?v.reloadAndSetCurrentUserOrClear(ce):v.directlySetCurrentUser(null)}return we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ce._redirectEventId?v.directlySetCurrentUser(ce):v.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(_){var v=this;return(0,d.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,d.Z)(function*(){try{yield ri(_)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,d.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,d.Z)(function*(){const D=_?(0,J.m9)(_):null;return D&&we(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(_,v=!1){var D=this;return(0,d.Z)(function*(){if(!D._deleted)return _&&we(D.tenantId===_.tenantId,D,"tenant-id-mismatch"),v||(yield D.beforeStateQueue.runMiddleware(_)),D.queue((0,d.Z)(function*(){yield D.directlySetCurrentUser(_),D.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,d.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(Yt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,d.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const D=v._getPasswordPolicyInternal();return D.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,d.Z)(function*(){const v=yield function Ut(C){return Wt.apply(this,arguments)}(_),D=new yn(v);null===_.tenantId?_._projectPasswordPolicy=D:_._tenantPasswordPolicies[_.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new J.LL("auth","Firebase",_())}onAuthStateChanged(_,v,D){return this.registerStateListener(this.authStateSubscription,_,v,D)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,D){return this.registerStateListener(this.idTokenSubscription,_,v,D)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const D=this.onAuthStateChanged(()=>{D(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,d.Z)(function*(){if(v.currentUser){const D=yield v.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:D};null!=v.tenantId&&(q.tenantId=v.tenantId),yield function pe(C,_){return se.apply(this,arguments)}(v,q)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var D=this;return(0,d.Z)(function*(){const q=yield D.getOrInitRedirectPersistenceManager(v);return null===_?q.removeCurrentUser():q.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const D=_&&Yt(_)||v._popupRedirectResolver;we(D,v,"argument-error"),v.redirectPersistenceManager=yield kn.create(v,[Yt(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,d.Z)(function*(){var D,q;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===_?v._currentUser:(null===(q=v.redirectUser)||void 0===q?void 0:q._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,d.Z)(function*(){if(_===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,D,q){if(this._deleted)return()=>{};const ce="function"==typeof v?v:v.next.bind(v);let st=!1;const bt=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(bt,this,"internal-error"),bt.then(()=>{st||ce(this.currentUser)}),"function"==typeof v){const tn=_.addObserver(v,D,q);return()=>{st=!0,tn()}}{const tn=_.addObserver(v);return()=>{st=!0,tn()}}}directlySetCurrentUser(_){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,d.Z)(function*(){var v;const D={"X-Client-Version":_.clientVersion};_.app.options.appId&&(D["X-Firebase-gmpid"]=_.app.options.appId);const q=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();q&&(D["X-Firebase-Client"]=q);const ce=yield _._getAppCheckToken();return ce&&(D["X-Firebase-AppCheck"]=ce),D})()}_getAppCheckToken(){var _=this;return(0,d.Z)(function*(){var v;const D=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=D&&D.error&&function Dt(C,..._){ot.logLevel<=xe.in.WARN&&ot.warn(`Auth (${de.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function En(C){return(0,J.m9)(C)}class _e{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,J.ne)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ee(C){return new Promise((_,v)=>{const D=document.createElement("script");D.setAttribute("src",C),D.onload=_,D.onerror=q=>{const ce=et("internal-error");ce.customData=q,v(ce)},D.type="text/javascript",D.charset="UTF-8",function Oe(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(D)})}function Se(C){return`__${C}${Math.floor(1e6*Math.random())}`}class on{constructor(_){this.type="recaptcha-enterprise",this.auth=En(_)}verify(_="verify",v=!1){var D=this;return(0,d.Z)(function*(){function ce(){return ce=(0,d.Z)(function*(bt){if(!v){if(null==bt.tenantId&&null!=bt._agentRecaptchaConfig)return bt._agentRecaptchaConfig.siteKey;if(null!=bt.tenantId&&void 0!==bt._tenantRecaptchaConfigs[bt.tenantId])return bt._tenantRecaptchaConfigs[bt.tenantId].siteKey}return new Promise(function(){var tn=(0,d.Z)(function*(Nn,tr){Qn(bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ar=>{if(void 0!==ar.recaptchaKey){const Vi=new Gn(ar);return null==bt.tenantId?bt._agentRecaptchaConfig=Vi:bt._tenantRecaptchaConfigs[bt.tenantId]=Vi,Nn(Vi.siteKey)}tr(new Error("recaptcha Enterprise site key undefined"))}).catch(ar=>{tr(ar)})});return function(Nn,tr){return tn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function st(bt,tn,Nn){const tr=window.grecaptcha;zn(tr)?tr.enterprise.ready(()=>{tr.enterprise.execute(bt,{action:_}).then(ar=>{tn(ar)}).catch(()=>{tn("NO_RECAPTCHA")})}):Nn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((bt,tn)=>{(function q(bt){return ce.apply(this,arguments)})(D.auth).then(Nn=>{if(!v&&zn(window.grecaptcha))st(Nn,bt,tn);else{if(typeof window>"u")return void tn(new Error("RecaptchaVerifier is only supported in browser"));ee("https://www.google.com/recaptcha/enterprise.js?render="+Nn).then(()=>{st(Nn,bt,tn)}).catch(tr=>{tn(tr)})}}).catch(Nn=>{tn(Nn)})})})()}}function Fn(C,_,v){return dn.apply(this,arguments)}function dn(){return(dn=(0,d.Z)(function*(C,_,v,D=!1){const q=new on(C);let ce;try{ce=yield q.verify(v)}catch{ce=yield q.verify(v,!0)}const st=Object.assign({},_);return Object.assign(st,D?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(st,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(st,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),st})).apply(this,arguments)}function wr(C,_,v,D){return z.apply(this,arguments)}function z(){return z=(0,d.Z)(function*(C,_,v,D){var q;if(null!==(q=C._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ce=yield Fn(C,_,v,"getOobCode"===v);return D(C,ce)}return D(C,_).catch(function(){var ce=(0,d.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const bt=yield Fn(C,_,v,"getOobCode"===v);return D(C,bt)}return Promise.reject(st)});return function(st){return ce.apply(this,arguments)}}())}),z.apply(this,arguments)}function Zt(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Xt(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class vn{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return ye("not implemented")}_getIdTokenResponse(_){return ye("not implemented")}_linkToIdToken(_,v){return ye("not implemented")}_getReauthenticationResolver(_){return ye("not implemented")}}function Un(C,_){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:resetPassword",Ve(C,_))})).apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function R(C,_){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:update",Ve(C,_))})).apply(this,arguments)}function gt(C,_){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithPassword",Ve(C,_))})).apply(this,arguments)}function zr(C,_){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:sendOobCode",Ve(C,_))})).apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(C,_){return zr(C,_)})).apply(this,arguments)}function Ga(C,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(C,_){return zr(C,_)})).apply(this,arguments)}function Ca(C,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(C,_){return zr(C,_)})).apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(C,_){return zr(C,_)})).apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithEmailLink",Ve(C,_))})).apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithEmailLink",Ve(C,_))})).apply(this,arguments)}class Lo extends vn{constructor(_,v,D,q=null){super("password",D),this._email=_,this._password=v,this._tenantId=q}static _fromEmailAndPassword(_,v){return new Lo(_,v,"password")}static _fromEmailAndCode(_,v,D=null){return new Lo(_,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return wr(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gt);case"emailLink":return function Ws(C,_){return qs.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:qe(_,"internal-error")}})()}_linkToIdToken(_,v){var D=this;return(0,d.Z)(function*(){switch(D.signInMethod){case"password":return wr(_,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R);case"emailLink":return function Ss(C,_){return jr.apply(this,arguments)}(_,{idToken:v,email:D._email,oobCode:D._password});default:qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ds(C,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithIdp",Ve(C,_))})).apply(this,arguments)}class ns extends vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new ns(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):qe("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:q}=v,ce=(0,re._T)(v,["providerId","signInMethod"]);if(!D||!q)return null;const st=new ns(D,q);return st.idToken=ce.idToken||void 0,st.accessToken=ce.accessToken||void 0,st.secret=ce.secret,st.nonce=ce.nonce,st.pendingToken=ce.pendingToken||null,st}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,ds(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ds(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,J.xO)(v)}return _}}function ia(){return(ia=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:sendVerificationCode",Ve(C,_))})).apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithPhoneNumber",Ve(C,_))})).apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(C,_){const v=yield St(C,"POST","/v1/accounts:signInWithPhoneNumber",Ve(C,_));if(v.temporaryProof)throw Bt(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ys={USER_NOT_FOUND:"user-not-found"};function Co(){return(Co=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithPhoneNumber",Ve(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ys)})).apply(this,arguments)}class Cl extends vn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Cl({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Cl({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function xi(C,_){return sa.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function Fo(C,_){return Ro.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function fc(C,_){return Co.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:D,verificationCode:q}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:D,code:q}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:D,phoneNumber:q,temporaryProof:ce}=_;return D||v||q||ce?new Cl({verificationId:v,verificationCode:D,phoneNumber:q,temporaryProof:ce}):null}}class co{constructor(_){var v,D,q,ce,st,bt;const tn=(0,J.zd)((0,J.pd)(_)),Nn=null!==(v=tn.apiKey)&&void 0!==v?v:null,tr=null!==(D=tn.oobCode)&&void 0!==D?D:null,ar=function wl(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=tn.mode)&&void 0!==q?q:null);we(Nn&&tr&&ar,"argument-error"),this.apiKey=Nn,this.operation=ar,this.code=tr,this.continueUrl=null!==(ce=tn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(st=tn.languageCode)&&void 0!==st?st:null,this.tenantId=null!==(bt=tn.tenantId)&&void 0!==bt?bt:null}static parseLink(_){const v=function nh(C){const _=(0,J.zd)((0,J.pd)(C)).link,v=_?(0,J.zd)((0,J.pd)(_)).deep_link_id:null,D=(0,J.zd)((0,J.pd)(C)).deep_link_id;return(D?(0,J.zd)((0,J.pd)(D)).link:null)||D||v||_||C}(_);try{return new co(v)}catch{return null}}}let Ta=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,D){return Lo._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const q=co.parseLink(D);return we(q,"argument-error"),Lo._fromEmailAndCode(v,q.code,q.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Oi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Bo extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Es extends Bo{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return we("providerId"in v&&"signInMethod"in v,"argument-error"),ns._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return we(_.idToken||_.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Es.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Es.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:q,pendingToken:ce,nonce:st,providerId:bt}=_;if(!D&&!q&&!v&&!ce||!bt)return null;try{return new Es(bt)._credential({idToken:v,accessToken:D,nonce:st,pendingToken:ce})}catch{return null}}}let pc=(()=>{class C extends Bo{constructor(){super("facebook.com")}static credential(v){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),jl=(()=>{class C extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:q}=v;if(!D&&!q)return null;try{return C.credential(D,q)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),za=(()=>{class C extends Bo{constructor(){super("github.com")}static credential(v){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ps extends vn{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,v){const D=this.buildRequest();return D.idToken=v,ds(_,D)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ds(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:q,pendingToken:ce}=v;return D&&q&&ce&&D===q?new Ps(D,ce):null}static _create(_,v){return new Ps(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends Oi{constructor(_){we(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Ar.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Ar.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ps.fromJSON(_);return we(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:D}=_;if(!v||!D)return null;try{return Ps._create(D,v)}catch{return null}}}let Si=(()=>{class C extends Bo{constructor(){super("twitter.com")}static credential(v,D){return ns._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:q}=v;if(!D||!q)return null;try{return C.credential(D,q)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Gi(C,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signUp",Ve(C,_))})).apply(this,arguments)}class yi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,D,q=!1){return(0,d.Z)(function*(){const ce=yield lt._fromIdTokenResponse(_,D,q),st=Uo(D);return new yi({user:ce,providerId:st,_tokenResponse:D,operationType:v})})()}static _forOperation(_,v,D){return(0,d.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const q=Uo(D);return new yi({user:_,providerId:q,_tokenResponse:D,operationType:v})})()}}function Uo(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Wa(){return(Wa=(0,d.Z)(function*(C){var _;const v=En(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new yi({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield Gi(v,{returnSecureToken:!0}),q=yield yi._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(q.user),q})).apply(this,arguments)}class oa extends J.ZR{constructor(_,v,D,q){var ce;super(v.code,v.message),this.operationType=D,this.user=q,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:_.name,tenantId:null!==(ce=_.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:v.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(_,v,D,q){return new oa(_,v,D,q)}}function qa(C,_,v,D){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?oa._fromErrorAndOperation(C,ce,_,D):ce})}function Ri(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function fr(){return fr=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C);yield Y(!0,v,_);const{providerUserInfo:D}=yield function cr(C,_){return xn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),q=Ri(D||[]);return v.providerData=v.providerData.filter(ce=>q.has(ce.providerId)),q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),fr.apply(this,arguments)}function yr(C,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(C,_,v=!1){const D=yield br(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return yi._forOperation(C,"link",D)})).apply(this,arguments)}function Y(C,_,v){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(C,_,v){yield ri(_);const q=!1===C?"provider-already-linked":"no-such-provider";we(Ri(_.providerData).has(v)===C,_.auth,q)})).apply(this,arguments)}function Ce(C,_){return W.apply(this,arguments)}function W(){return(W=(0,d.Z)(function*(C,_,v=!1){const{auth:D}=C,q="reauthenticate";try{const ce=yield br(C,qa(D,q,_,C),v);we(ce.idToken,D,"internal-error");const st=pn(ce.idToken);we(st,D,"internal-error");const{sub:bt}=st;return we(C.uid===bt,D,"user-mismatch"),yi._forOperation(C,q,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&qe(D,"user-mismatch"),ce}})).apply(this,arguments)}function Me(C,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(C,_,v=!1){const D="signIn",q=yield qa(C,D,_),ce=yield yi._fromIdTokenResponse(C,D,q);return v||(yield C._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function _n(C,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(C,_){return Me(En(C),_)})).apply(this,arguments)}function xs(C,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C);return yield Y(!1,v,_.providerId),yr(v,_)})).apply(this,arguments)}function ei(C,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(C,_){return Ce((0,J.m9)(C),_)})).apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(C,_){return St(C,"POST","/v1/accounts:signInWithCustomToken",Ve(C,_))})).apply(this,arguments)}function Ya(){return Ya=(0,d.Z)(function*(C,_){const v=En(C),D=yield function $o(C,_){return Os.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),q=yield yi._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(q.user),q}),Ya.apply(this,arguments)}class is{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Da._fromServerResponse(_,v):"totpInfo"in v?To._fromServerResponse(_,v):qe(_,"internal-error")}}class Da extends is{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Da(v)}}class To extends is{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new To(v)}}function Cr(C,_,v){var D;we((null===(D=v.url)||void 0===D?void 0:D.length)>0,C,"invalid-continue-uri"),we(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Hl(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(C){const _=En(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(C,_,v){const D=En(C),q={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&Cr(D,q,v),yield wr(D,q,"getOobCode",Ga)})).apply(this,arguments)}function $i(){return $i=(0,d.Z)(function*(C,_,v){yield Un((0,J.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var D=(0,d.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Hl(C),q});return function(q){return D.apply(this,arguments)}}())}),$i.apply(this,arguments)}function Yi(){return Yi=(0,d.Z)(function*(C,_){yield function V(C,_){return be.apply(this,arguments)}((0,J.m9)(C),{oobCode:_})}),Yi.apply(this,arguments)}function ss(C,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C),D=yield Un(v,{oobCode:_}),q=D.requestType;switch(we(q,v,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(D.mfaInfo,v,"internal-error");default:we(D.email,v,"internal-error")}let ce=null;return D.mfaInfo&&(ce=is._fromServerResponse(En(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ce},operation:q}})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(C,_){const{data:v}=yield ss((0,J.m9)(C),_);return v.email})).apply(this,arguments)}function Ns(){return(Ns=(0,d.Z)(function*(C,_,v){const D=En(C),st=yield wr(D,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gi).catch(tn=>{throw"auth/password-does-not-meet-requirements"===tn.code&&Hl(C),tn}),bt=yield yi._fromIdTokenResponse(D,"signIn",st);return yield D._updateCurrentUser(bt.user),bt})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(C,_,v){const D=En(C),q={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function ce(st,bt){we(bt.handleCodeInApp,D,"argument-error"),bt&&Cr(D,st,bt)})(q,v),yield wr(D,q,"getOobCode",Ca)})).apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C),q=Ta.credentialWithLink(_,v||nt());return we(q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),_n(D,q)})).apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:createAuthUri",Ve(C,_))})).apply(this,arguments)}function Qs(){return Qs=(0,d.Z)(function*(C,_){const D={identifier:_,continueUri:U()?nt():"http://localhost"},{signinMethods:q}=yield function Is(C,_){return Tl.apply(this,arguments)}((0,J.m9)(C),D);return q||[]}),Qs.apply(this,arguments)}function P(){return P=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C),q={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&Cr(v.auth,q,_);const{email:ce}=yield function xr(C,_){return ts.apply(this,arguments)}(v.auth,q);ce!==C.email&&(yield C.reload())}),P.apply(this,arguments)}function Be(){return Be=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&Cr(D.auth,ce,v);const{email:st}=yield function So(C,_){return qi.apply(this,arguments)}(D.auth,ce);st!==C.email&&(yield C.reload())}),Be.apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(C,_){return je(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Gt(){return Gt=(0,d.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const D=(0,J.m9)(C),ce={idToken:yield D.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},st=yield br(D,function j(C,_){return Ie.apply(this,arguments)}(D.auth,ce));D.displayName=st.displayName||null,D.photoURL=st.photoUrl||null;const bt=D.providerData.find(({providerId:tn})=>"password"===tn);bt&&(bt.displayName=D.displayName,bt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(st)}),Gt.apply(this,arguments)}function Br(C,_,v){return ur.apply(this,arguments)}function ur(){return ur=(0,d.Z)(function*(C,_,v){const{auth:D}=C,ce={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(ce.email=_),v&&(ce.password=v);const st=yield br(C,function Mr(C,_){return Jr.apply(this,arguments)}(D,ce));yield C._updateTokensIfNecessary(st,!0)}),ur.apply(this,arguments)}class Dr{constructor(_,v,D={}){this.isNewUser=_,this.providerId=v,this.profile=D}}class Fr extends Dr{constructor(_,v,D,q){super(_,v,D),this.username=q}}class Ji extends Dr{constructor(_,v){super(_,"facebook.com",v)}}class ks extends Fr{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Ls extends Dr{constructor(_,v){super(_,"google.com",v)}}class Za extends Fr{constructor(_,v,D){super(_,"twitter.com",v,D)}}function Xs(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function vr(C){var _,v;if(!C)return null;const{providerId:D}=C,q=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ce=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!D&&null!=C&&C.idToken){const st=null===(v=null===(_=pn(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(st)return new Dr(ce,"anonymous"!==st&&"custom"!==st?st:null)}if(!D)return null;switch(D){case"facebook.com":return new Ji(ce,q);case"github.com":return new ks(ce,q);case"google.com":return new Ls(ce,q);case"twitter.com":return new Za(ce,q,C.screenName||null);case"custom":case"anonymous":return new Dr(ce,null);default:return new Dr(ce,D,q)}}(v)}class Vs{constructor(_,v,D){this.type=_,this.credential=v,this.user=D}static _fromIdtoken(_,v){return new Vs("enroll",_,v)}static _fromMfaPendingCredential(_){return new Vs("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,D;if(null!=_&&_.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Vs._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(D=_.multiFactorSession)&&void 0!==D&&D.idToken)return Vs._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Bs{constructor(_,v,D){this.session=_,this.hints=v,this.signInResolver=D}static _fromError(_,v){const D=En(_),q=v.customData._serverResponse,ce=(q.mfaInfo||[]).map(bt=>is._fromServerResponse(D,bt));we(q.mfaPendingCredential,D,"internal-error");const st=Vs._fromMfaPendingCredential(q.mfaPendingCredential);return new Bs(st,ce,function(){var bt=(0,d.Z)(function*(tn){const Nn=yield tn._process(D,st);delete q.mfaInfo,delete q.mfaPendingCredential;const tr=Object.assign(Object.assign({},q),{idToken:Nn.idToken,refreshToken:Nn.refreshToken});switch(v.operationType){case"signIn":const ar=yield yi._fromIdTokenResponse(D,v.operationType,tr);return yield D._updateCurrentUser(ar.user),ar;case"reauthenticate":return we(v.user,D,"internal-error"),yi._forOperation(v.user,v.operationType,tr);default:qe(D,"internal-error")}});return function(tn){return bt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,d.Z)(function*(){return v.signInResolver(_)})()}}class Yn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>is._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new Yn(_)}getSession(){var _=this;return(0,d.Z)(function*(){return Vs._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var D=this;return(0,d.Z)(function*(){const q=_,ce=yield D.getSession(),st=yield br(D.user,q._process(D.user.auth,ce,v));return yield D.user._updateTokensIfNecessary(st),D.user.reload()})()}unenroll(_){var v=this;return(0,d.Z)(function*(){const D="string"==typeof _?_:_.uid,q=yield v.user.getIdToken();try{const ce=yield br(v.user,function dd(C,_){return je(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ve(C,_))}(v.user.auth,{idToken:q,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:st})=>st!==D),yield v.user._updateTokensIfNecessary(ce),yield v.user.reload()}catch(ce){throw ce}})()}}const nr=new WeakMap,Mn="__sak";class Lt{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Mn,"1"),this.storage.removeItem(Mn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pu=(()=>{class C extends Lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function en(){const C=(0,J.z$)();return Pr(C)||jn(C)}()&&function Ye(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const q=this.storage.getItem(D),ce=this.localCache[D];q!==ce&&v(D,ce,q)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((bt,tn,Nn)=>{this.notifyListeners(bt,Nn)});const q=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const bt=this.storage.getItem(q);if(v.newValue!==bt)null!==v.newValue?this.storage.setItem(q,v.newValue):this.storage.removeItem(q);else if(this.localCache[q]===v.newValue&&!D)return}const ce=()=>{const bt=this.storage.getItem(q);!D&&this.localCache[q]===bt||this.notifyListeners(q,bt)},st=this.storage.getItem(q);!function Yr(){return(0,J.w1)()&&10===document.documentMode}()||st===v.newValue||v.newValue===v.oldValue?ce():setTimeout(ce,10)}notifyListeners(v,D){this.localCache[v]=D;const q=this.listeners[v];if(q)for(const ce of Array.from(q))ce(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var q=()=>super._set,ce=this;return(0,d.Z)(function*(){yield q().call(ce,v,D),ce.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,q=this;return(0,d.Z)(function*(){const ce=yield D().call(q,v);return q.localCache[v]=JSON.stringify(ce),ce})()}_remove(v){var D=()=>super._remove,q=this;return(0,d.Z)(function*(){yield D().call(q,v),delete q.localCache[v]})()}}return C.type="LOCAL",C})(),Ma=(()=>{class C extends Lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return C.type="SESSION",C})();let zl=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(ce=>ce.isListeningto(v));if(D)return D;const q=new C(v);return this.receivers.push(q),q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,d.Z)(function*(){const q=v,{eventId:ce,eventType:st,data:bt}=q.data,tn=D.handlersMap[st];if(null==tn||!tn.size)return;q.ports[0].postMessage({status:"ack",eventId:ce,eventType:st});const Nn=Array.from(tn).map(function(){var ar=(0,d.Z)(function*(Vi){return Vi(q.origin,bt)});return function(Vi){return ar.apply(this,arguments)}}()),tr=yield function Mu(C){return Promise.all(C.map(function(){var _=(0,d.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return _.apply(this,arguments)}}()))}(Nn);q.ports[0].postMessage({status:"done",eventId:ce,eventType:st,response:tr})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function jc(C="",_=10){let v="";for(let D=0;D<_;D++)v+=Math.floor(10*Math.random());return C+v}class Qp{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,D=50){var q=this;return(0,d.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let st,bt;return new Promise((tn,Nn)=>{const tr=jc("",20);ce.port1.start();const ar=setTimeout(()=>{Nn(new Error("unsupported_event"))},D);bt={messageChannel:ce,onMessage(Vi){const _o=Vi;if(_o.data.eventId===tr)switch(_o.data.status){case"ack":clearTimeout(ar),st=setTimeout(()=>{Nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(st),tn(_o.data.response);break;default:clearTimeout(ar),clearTimeout(st),Nn(new Error("invalid_response"))}}},q.handlers.add(bt),ce.port1.addEventListener("message",bt.onMessage),q.target.postMessage({eventType:_,eventId:tr,data:v},[ce.port2])}).finally(()=>{bt&&q.removeMessageHandler(bt)})})()}}function cs(){return window}function Sr(){return typeof cs().WorkerGlobalScope<"u"&&"function"==typeof cs().importScripts}function ti(){return(ti=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pi="firebaseLocalStorageDb",Dl="firebaseLocalStorage",Kr="fbase_key";class An{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Go(C,_){return C.transaction([Dl],_?"readwrite":"readonly").objectStore(Dl)}function bl(){const C=indexedDB.open(pi,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const D=C.result;try{D.createObjectStore(Dl,{keyPath:Kr})}catch(q){v(q)}}),C.addEventListener("success",(0,d.Z)(function*(){const D=C.result;D.objectStoreNames.contains(Dl)?_(D):(D.close(),yield function fd(){const C=indexedDB.deleteDatabase(pi);return new An(C).toPromise()}(),_(yield bl()))}))})}function pd(C,_,v){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,d.Z)(function*(C,_,v){const D=Go(C,!0).put({[Kr]:_,value:v});return new An(D).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(C,_){const v=Go(C,!1).get(_),D=yield new An(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function ua(C,_){const v=Go(C,!0).delete(_);return new An(v).toPromise()}const Wl=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield bl()),v.db})()}_withRetries(v){var D=this;return(0,d.Z)(function*(){let q=0;for(;;)try{const ce=yield D._openDb();return yield v(ce)}catch(ce){if(q++>3)throw ce;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return Sr()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){v.receiver=zl._getInstance(function rr(){return Sr()?self:null}()),v.receiver._subscribe("keyChanged",function(){var D=(0,d.Z)(function*(q,ce){return{keyProcessed:(yield v._poll()).includes(ce.key)}});return function(q,ce){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,d.Z)(function*(q,ce){return["keyChanged"]});return function(q,ce){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var D,q;if(v.activeServiceWorker=yield function Qt(){return ti.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Qp(v.activeServiceWorker);const ce=yield v.sender._send("ping",{},800);ce&&null!==(D=ce[0])&&void 0!==D&&D.fulfilled&&null!==(q=ce[0])&&void 0!==q&&q.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,d.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function zi(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield bl();return yield pd(v,Mn,"1"),yield ua(v,Mn),!0}catch{}return!1})()}_withPendingWrite(v){var D=this;return(0,d.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var q=this;return(0,d.Z)(function*(){return q._withPendingWrite((0,d.Z)(function*(){return yield q._withRetries(ce=>pd(ce,v,D)),q.localCache[v]=D,q.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,d.Z)(function*(){const q=yield D._withRetries(ce=>function ca(C,_){return Ja.apply(this,arguments)}(ce,v));return D.localCache[v]=q,q})()}_remove(v){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(q=>ua(q,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const D=yield v._withRetries(st=>{const bt=Go(st,!1).getAll();return new An(bt).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const q=[],ce=new Set;for(const{fbase_key:st,value:bt}of D)ce.add(st),JSON.stringify(v.localCache[st])!==JSON.stringify(bt)&&(v.notifyListeners(st,bt),q.push(st));for(const st of Object.keys(v.localCache))v.localCache[st]&&!ce.has(st)&&(v.notifyListeners(st,null),q.push(st));return q})()}notifyListeners(v,D){this.localCache[v]=D;const q=this.listeners[v];if(q)for(const ce of Array.from(q))ce(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ae=1e12;class Pe{constructor(_){this.auth=_,this.counter=ae,this._widgets=new Map}render(_,v){const D=this.counter;return this._widgets.set(D,new Ct(_,this.auth.name,v||{})),this.counter++,D}reset(_){var v;const D=_||ae;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(_){var v;return(null===(v=this._widgets.get(_||ae))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,d.Z)(function*(){var D;return null===(D=v._widgets.get(_||ae))||void 0===D||D.execute(),""})()}}class Ct{constructor(_,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof _?document.getElementById(_):_;we(q,"argument-error",{appName:v}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cn(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<C;D++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yt=Se("rcb"),rn=new oe(3e4,6e4);class di{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=cs().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return we(function gr(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&nn(cs().grecaptcha)?Promise.resolve(cs().grecaptcha):new Promise((D,q)=>{const ce=cs().setTimeout(()=>{q(et(_,"network-request-failed"))},rn.get());cs()[yt]=()=>{cs().clearTimeout(ce),delete cs()[yt];const bt=cs().grecaptcha;if(!bt||!nn(bt))return void q(et(_,"internal-error"));const tn=bt.render;bt.render=(Nn,tr)=>{const ar=tn(Nn,tr);return this.counter++,ar},this.hostLanguage=v,D(bt)},ee(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:yt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ce),q(et(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=cs().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gi{load(_){return(0,d.Z)(function*(){return new Pe(_)})()}clearedOneInstance(){}}const Hi="recaptcha",ni={theme:"light",type:"image"};class Oa{constructor(_,v,D=Object.assign({},ni)){this.parameters=D,this.type=Hi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(_),this.isInvisible="invisible"===this.parameters.size,we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof v?document.getElementById(v):v;we(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gi:new di,this.validateStartingState()}verify(){var _=this;return(0,d.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(v)||new Promise(ce=>{const st=bt=>{bt&&(_.tokenChangeListeners.delete(st),ce(bt))};_.tokenChangeListeners.add(st),_.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof _)_(v);else if("string"==typeof _){const D=cs()[_];"function"==typeof D&&D(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,d.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,d.Z)(function*(){we(U()&&!Sr(),_.auth,"internal-error"),yield function Pi(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function lr(C){return In.apply(this,arguments)}(_.auth);we(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dr{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Cl._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function el(){return(el=(0,d.Z)(function*(C,_,v){const D=En(C),q=yield Hc(D,_,(0,J.m9)(v));return new dr(q,ce=>_n(D,ce))})).apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C);yield Y(!1,D,"phone");const q=yield Hc(D.auth,_,(0,J.m9)(v));return new dr(q,ce=>xs(D,ce))})).apply(this,arguments)}function oh(){return(oh=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C),q=yield Hc(D.auth,_,(0,J.m9)(v));return new dr(q,ce=>ei(D,ce))})).apply(this,arguments)}function Hc(C,_,v){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,d.Z)(function*(C,_,v){var D;const q=yield v.verify();try{let ce;if(we("string"==typeof q,C,"argument-error"),we(v.type===Hi,C,"argument-error"),ce="string"==typeof _?{phoneNumber:_}:_,"session"in ce){const st=ce.session;if("phoneNumber"in ce)return we("enroll"===st.type,C,"internal-error"),(yield function rh(C,_){return je(C,"POST","/v2/accounts/mfaEnrollment:start",Ve(C,_))}(C,{idToken:st.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{we("signin"===st.type,C,"internal-error");const bt=(null===(D=ce.multiFactorHint)||void 0===D?void 0:D.uid)||ce.multiFactorUid;return we(bt,C,"missing-multi-factor-info"),(yield function b(C,_){return je(C,"POST","/v2/accounts/mfaSignIn:start",Ve(C,_))}(C,{mfaPendingCredential:st.credential,mfaEnrollmentId:bt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:st}=yield function wa(C,_){return ia.apply(this,arguments)}(C,{phoneNumber:ce.phoneNumber,recaptchaToken:q});return st}}finally{v._reset()}}),Gc.apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(C,_){yield yr((0,J.m9)(C),_)})).apply(this,arguments)}let Sl=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=En(v)}verifyPhoneNumber(v,D){return Hc(this.auth,v,(0,J.m9)(D))}static credential(v,D){return Cl._fromVerification(v,D)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:q}=v;return D&&q?Cl._fromTokenResponse(D,q):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function mc(C,_){return _?Yt(_):(we(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ah extends vn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ds(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ds(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ds(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function xu(C){return Me(C.auth,new ah(C),C.bypassAuthState)}function md(C){const{auth:_,user:v}=C;return we(v,_,"internal-error"),Ce(v,new ah(C),C.bypassAuthState)}function Xp(C){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(C){const{auth:_,user:v}=C;return we(v,_,"internal-error"),yr(v,new ah(C),C.bypassAuthState)})).apply(this,arguments)}class _c{constructor(_,v,D,q,ce=!1){this.auth=_,this.resolver=D,this.user=q,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,d.Z)(function*(D,q){_.pendingPromise={resolve:D,reject:q};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ce){_.reject(ce)}});return function(D,q){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,d.Z)(function*(){const{urlResponse:D,sessionId:q,postBody:ce,tenantId:st,error:bt,type:tn}=_;if(bt)return void v.reject(bt);const Nn={auth:v.auth,requestUri:D,sessionId:q,tenantId:st||void 0,postBody:ce||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(tn)(Nn))}catch(tr){v.reject(tr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return xu;case"linkViaPopup":case"linkViaRedirect":return Xp;case"reauthViaPopup":case"reauthViaRedirect":return md;default:qe(this.auth,"internal-error")}}resolve(_){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oi=new oe(2e3,1e4);function _d(){return(_d=(0,d.Z)(function*(C,_,v){const D=En(C);me(C,_,Oi);const q=mc(D,v);return new Wc(D,"signInViaPopup",_,q).executeNotNull()})).apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C);me(D.auth,_,Oi);const q=mc(D.auth,v);return new Wc(D.auth,"reauthViaPopup",_,q,D).executeNotNull()})).apply(this,arguments)}function qo(){return(qo=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C);me(D.auth,_,Oi);const q=mc(D.auth,v);return new Wc(D.auth,"linkViaPopup",_,q,D).executeNotNull()})).apply(this,arguments)}let Wc=(()=>{class C extends _c{constructor(v,D,q,ce,st){super(v,D,ce,st),this.provider=q,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const D=yield v.execute();return we(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,d.Z)(function*(){ft(1===v.filter.length,"Popup operations only handle one event");const D=jc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(q=>{v.reject(q)}),v.resolver._isIframeWebStorageSupported(v.auth,q=>{q||v.reject(et(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,q;this.pollId=null!==(q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,oi.get())};v()}}return C.currentPopupAction=null,C})();const no="pendingRedirect",es=new Map;class tf extends _c{constructor(_,v,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,d.Z)(function*(){let D=es.get(v.auth._key());if(!D){try{const ce=(yield function nl(C,_){return vd.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;D=()=>Promise.resolve(ce)}catch(q){D=()=>Promise.reject(q)}es.set(v.auth._key(),D)}return v.bypassAuthState||es.set(v.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,D=this;return(0,d.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(D,_);if("unknown"!==_.type){if(_.eventId){const q=yield D.auth._redirectUserForId(_.eventId);if(q)return D.user=q,v().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function vd(){return(vd=(0,d.Z)(function*(C,_){const v=Yl(_),D=Nu(C);if(!(yield D._isAvailable()))return!1;const q="true"===(yield D._get(v));return yield D._remove(v),q})).apply(this,arguments)}function Fi(C,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(C,_){return Nu(C)._set(Yl(_),"true")})).apply(this,arguments)}function ai(C,_){es.set(C._key(),_)}function Nu(C){return Yt(C._redirectPersistence)}function Yl(C){return mr(no,C.config.apiKey,C.name)}function po(C,_,v){return function ch(C,_,v){return nf.apply(this,arguments)}(C,_,v)}function nf(){return(nf=(0,d.Z)(function*(C,_,v){const D=En(C);me(C,_,Oi),yield D._initializationPromise;const q=mc(D,v);return yield Fi(q,D),q._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function Vr(C,_,v){return function Gf(C,_,v){return rl.apply(this,arguments)}(C,_,v)}function rl(){return(rl=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C);me(D.auth,_,Oi),yield D.auth._initializationPromise;const q=mc(D.auth,v);yield Fi(q,D.auth);const ce=yield so(D);return q._openRedirect(D.auth,_,"reauthViaRedirect",ce)})).apply(this,arguments)}function Qi(C,_,v){return function il(C,_,v){return Yo.apply(this,arguments)}(C,_,v)}function Yo(){return(Yo=(0,d.Z)(function*(C,_,v){const D=(0,J.m9)(C);me(D.auth,_,Oi),yield D.auth._initializationPromise;const q=mc(D.auth,v);yield Y(!1,D,_.providerId),yield Fi(q,D.auth);const ce=yield so(D);return q._openRedirect(D.auth,_,"linkViaRedirect",ce)})).apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(C,_){return yield En(C)._initializationPromise,kr(C,_,!1)})).apply(this,arguments)}function kr(C,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(C,_,v=!1){const D=En(C),q=mc(D,_),st=yield new tf(D,q,v).execute();return st&&!v&&(delete st.user._redirectEventId,yield D._persistUserIfCurrent(st.user),yield D._setRedirectUser(null,_)),st})).apply(this,arguments)}function so(C){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(C){const _=jc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class ha{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(v=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function rf(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fa(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var D;if(_.error&&!fa(_)){const q=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(et(this.auth,q))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const D=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qc(_))}saveEventToCache(_){this.cachedEventUids.add(qc(_)),this.lastProcessedEventTime=Date.now()}}function qc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function fa({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function pa(C){return ll.apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(C,_={}){return je(C,"GET","/v1/projects",_)})).apply(this,arguments)}const ga=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Na=/^https?/;function ka(){return(ka=(0,d.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield pa(C);for(const v of _)try{if(uh(v))return}catch{}qe(C,"unauthorized-domain")})).apply(this,arguments)}function uh(C){const _=nt(),{protocol:v,hostname:D}=new URL(_);if(C.startsWith("chrome-extension://")){const st=new URL(C);return""===st.hostname&&""===D?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&st.hostname===D}if(!Na.test(v))return!1;if(ga.test(C))return D===C;const q=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(D)}const Pl=new oe(3e4,6e4);function dh(){const C=cs().___jsl;if(null!=C&&C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let hh=null;const hm=new oe(5e3,15e3),sf="__/auth/iframe",Jp="emulator/auth/iframe",Us={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xi(C){const _=C.config;we(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?Q(_,Jp):`https://${C.config.authDomain}/${sf}`,D={apiKey:_.apiKey,appName:C.name,v:de.SDK_VERSION},q=vc.get(C.config.apiHost);q&&(D.eid=q);const ce=C._getFrameworks();return ce.length&&(D.fw=ce.join(",")),`${v}?${(0,J.xO)(D).slice(1)}`}function ps(){return ps=(0,d.Z)(function*(C){const _=yield function zf(C){return hh=hh||function yd(C){return new Promise((_,v)=>{var D,q,ce;function st(){dh(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{dh(),v(et(C,"network-request-failed"))},timeout:Pl.get()})}if(null!==(q=null===(D=cs().gapi)||void 0===D?void 0:D.iframes)&&void 0!==q&&q.Iframe)_(gapi.iframes.getContext());else{if(null===(ce=cs().gapi)||void 0===ce||!ce.load){const bt=Se("iframefcb");return cs()[bt]=()=>{gapi.load?st():v(et(C,"network-request-failed"))},ee(`https://apis.google.com/js/api.js?onload=${bt}`).catch(tn=>v(tn))}st()}}).catch(_=>{throw hh=null,_})}(C),hh}(C),v=cs().gapi;return we(v,C,"internal-error"),_.open({where:document.body,url:Xi(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Us,dontclear:!0},D=>new Promise(function(){var q=(0,d.Z)(function*(ce,st){yield D.restyle({setHideOnLeave:!1});const bt=et(C,"network-request-failed"),tn=cs().setTimeout(()=>{st(bt)},hm.get());function Nn(){cs().clearTimeout(tn),ce(D)}D.ping(Nn).then(Nn,()=>{st(bt)})});return function(ce,st){return q.apply(this,arguments)}}()))}),ps.apply(this,arguments)}const Ed={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mi{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Id="__/auth/handler",eg="emulator/auth/handler",ma=encodeURIComponent("fac");function Cd(C,_,v,D,q,ce){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(C,_,v,D,q,ce){we(C.config.authDomain,C,"auth-domain-config-required"),we(C.config.apiKey,C,"invalid-api-key");const st={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:D,v:de.SDK_VERSION,eventId:q};if(_ instanceof Oi){_.setDefaultLanguage(C.languageCode),st.providerId=_.providerId||"",(0,J.xb)(_.getCustomParameters())||(st.customParameters=JSON.stringify(_.getCustomParameters()));for(const[tr,ar]of Object.entries(ce||{}))st[tr]=ar}if(_ instanceof Bo){const tr=_.getScopes().filter(ar=>""!==ar);tr.length>0&&(st.scopes=tr.join(","))}C.tenantId&&(st.tid=C.tenantId);const bt=st;for(const tr of Object.keys(bt))void 0===bt[tr]&&delete bt[tr];const tn=yield C._getAppCheckToken(),Nn=tn?`#${ma}=${encodeURIComponent(tn)}`:"";return`${function ku({config:C}){return C.emulator?Q(C,eg):`https://${C.authDomain}/${Id}`}(C)}?${(0,J.xO)(bt).slice(1)}${Nn}`})).apply(this,arguments)}const ul="webStorageSupport",Kl=class fh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ma,this._completeRedirectFn=kr,this._overrideRedirectResult=ai}_openPopup(_,v,D,q){var ce=this;return(0,d.Z)(function*(){var st;ft(null===(st=ce.eventManagers[_._key()])||void 0===st?void 0:st.manager,"_initialize() not called before _openPopup()");const bt=yield Cd(_,v,D,nt(),q);return function Ml(C,_,v,D=500,q=600){const ce=Math.max((window.screen.availHeight-q)/2,0).toString(),st=Math.max((window.screen.availWidth-D)/2,0).toString();let bt="";const tn=Object.assign(Object.assign({},Ed),{width:D.toString(),height:q.toString(),top:ce,left:st}),Nn=(0,J.z$)().toLowerCase();v&&(bt=Wi(Nn)?"_blank":v),wi(Nn)&&(_=_||"http://localhost",tn.scrollbars="yes");const tr=Object.entries(tn).reduce((Vi,[_o,lu])=>`${Vi}${_o}=${lu},`,"");if(function Bn(C=(0,J.z$)()){var _;return jn(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Nn)&&"_self"!==bt)return function Yc(C,_){const v=document.createElement("a");v.href=C,v.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(_||"",bt),new Mi(null);const ar=window.open(_||"",bt,tr);we(ar,C,"popup-blocked");try{ar.focus()}catch{}return new Mi(ar)}(_,bt,jc())})()}_openRedirect(_,v,D,q){var ce=this;return(0,d.Z)(function*(){return yield ce._originValidation(_),function hd(C){cs().location.href=C}(yield Cd(_,v,D,nt(),q)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:q,promise:ce}=this.eventManagers[v];return q?Promise.resolve(q):(ft(ce,"If manager is not set, promise should be"),ce)}const D=this.initAndGetManager(_);return this.eventManagers[v]={promise:D},D.catch(()=>{delete this.eventManagers[v]}),D}initAndGetManager(_){var v=this;return(0,d.Z)(function*(){const D=yield function cl(C){return ps.apply(this,arguments)}(_),q=new ha(_);return D.register("authEvent",ce=>(we(null==ce?void 0:ce.authEvent,_,"invalid-auth-event"),{status:q.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:q},v.iframes[_._key()]=D,q})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(ul,{type:ul},q=>{var ce;const st=null===(ce=null==q?void 0:q[0])||void 0===ce?void 0:ce[ul];void 0!==st&&v(!!st),qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Rl(C){return ka.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return dt()||Pr()||jn()}};class Kc{constructor(_){this.factorId=_}_process(_,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,D);case"signin":return this._finalizeSignIn(_,v.credential);default:return ye("unexpected MultiFactorSessionType")}}}class xl extends Kc{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new xl(_)}_finalizeEnroll(_,v,D){return function fn(C,_){return je(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ve(C,_))}(_,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function M(C,_){return je(C,"POST","/v2/accounts/mfaSignIn:finalize",Ve(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wf=(()=>{class C{constructor(){}static assertion(v){return xl._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Zo="@firebase/auth";class Ec{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(D=>{_((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hl(){return window}(0,J.Pz)("authIdTokenMaxAge"),function dl(C){(0,de._registerComponent)(new ge.wA("auth",(_,{options:v})=>{const D=_.getProvider("app").getImmediate(),q=_.getProvider("heartbeat"),ce=_.getProvider("app-check-internal"),{apiKey:st,authDomain:bt}=D.options;we(st&&!st.includes(":"),"invalid-api-key",{appName:D.name});const tn={apiKey:st,authDomain:bt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(C)},Nn=new On(D,q,ce,tn);return function Mt(C,_){const v=(null==_?void 0:_.persistence)||[],D=(Array.isArray(v)?v:[v]).map(Yt);null!=_&&_.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(D,null==_?void 0:_.popupRedirectResolver)}(Nn,v),Nn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,D)=>{_.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ge.wA("auth-internal",_=>{const v=En(_.getProvider("auth").getImmediate());return new Ec(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Zo,"1.4.0",function Qc(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,de.registerVersion)(Zo,"1.4.0","esm2017")}("Browser");function Qo(){return Qo=(0,d.Z)(function*(C,_,v){var D;const{BuildInfo:q}=hl();ft(_.sessionId,"AuthEvent did not contain a session ID");const ce=yield function Yf(C){return mh.apply(this,arguments)}(_.sessionId),st={};return jn()?st.ibi=q.packageName:ct()?st.apn=q.packageName:qe(C,"operation-not-supported-in-this-environment"),q.displayName&&(st.appDisplayName=q.displayName),st.sessionId=ce,Cd(C,v,_.type,void 0,null!==(D=_.eventId)&&void 0!==D?D:void 0,st)}),Qo.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(C){const{BuildInfo:_}=hl(),v={};jn()?v.iosBundleId=_.packageName:ct()?v.androidPackageName=_.packageName:qe(C,"operation-not-supported-in-this-environment"),yield pa(C,v)})).apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(C,_,v){const{cordova:D}=hl();let q=()=>{};try{yield new Promise((ce,st)=>{let bt=null;function tn(){var ar;ce();const Vi=null===(ar=D.plugins.browsertab)||void 0===ar?void 0:ar.close;"function"==typeof Vi&&Vi(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Nn(){bt||(bt=window.setTimeout(()=>{st(et(C,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&Nn()}_.addPassiveListener(tn),document.addEventListener("resume",Nn,!1),ct()&&document.addEventListener("visibilitychange",tr,!1),q=()=>{_.removePassiveListener(tn),document.removeEventListener("resume",Nn,!1),document.removeEventListener("visibilitychange",tr,!1),bt&&window.clearTimeout(bt)}})}finally{q()}})).apply(this,arguments)}function mh(){return(mh=(0,d.Z)(function*(C){const _=function Fu(C){if(ft(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),v=new Uint8Array(_);for(let D=0;D<C.length;D++)v[D]=C.charCodeAt(D);return v}(C),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(q=>q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class lf extends ha{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,d.Z)(function*(){yield _.initPromise})()}}function eu(C){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(C){const _=yield Bu()._get(Td(C));return _&&(yield Bu()._remove(Td(C))),_})).apply(this,arguments)}function wd(){const C=[];for(let v=0;v<20;v++){const D=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(D))}return C.join("")}function Bu(){return Yt(Pu)}function Td(C){return mr("authEvent",C.config.apiKey,C.name)}function Tc(C){if(null==C||!C.includes("?"))return{};const[_,...v]=C.split("?");return(0,J.zd)(v.join("?"))}const Dd=class Zl{constructor(){this._redirectPersistence=Ma,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kr,this._overrideRedirectResult=ai}_initialize(_){var v=this;return(0,d.Z)(function*(){const D=_._key();let q=v.eventManagers.get(D);return q||(q=new lf(_),v.eventManagers.set(D,q),v.attachCallbackListeners(_,q)),q})()}_openPopup(_){qe(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,D,q){var ce=this;return(0,d.Z)(function*(){!function wc(C){var _,v,D,q,ce,st,bt,tn,Nn,tr;const ar=hl();we("function"==typeof(null===(_=null==ar?void 0:ar.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(typeof(null===(v=null==ar?void 0:ar.BuildInfo)||void 0===v?void 0:v.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(ce=null===(q=null===(D=null==ar?void 0:ar.cordova)||void 0===D?void 0:D.plugins)||void 0===q?void 0:q.browsertab)||void 0===ce?void 0:ce.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(tn=null===(bt=null===(st=null==ar?void 0:ar.cordova)||void 0===st?void 0:st.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===tn?void 0:tn.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(tr=null===(Nn=null==ar?void 0:ar.cordova)||void 0===Nn?void 0:Nn.InAppBrowser)||void 0===tr?void 0:tr.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const st=yield ce._initialize(_);yield st.initialized(),st.resetRedirect(),function ro(){es.clear()}(),yield ce._originValidation(_);const bt=function mo(C,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:wd(),postBody:null,tenantId:C.tenantId,error:et(C,"no-auth-event")}}(_,D,q);yield function _h(C,_){return Bu()._set(Td(C),_)}(_,bt);const tn=yield function gs(C,_,v){return Qo.apply(this,arguments)}(_,bt,v),Nn=yield function Ic(C){const{cordova:_}=hl();return new Promise(v=>{_.plugins.browsertab.isAvailable(D=>{let q=null;D?_.plugins.browsertab.openUrl(C):q=_.InAppBrowser.open(C,function qn(C=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(q)})})}(tn);return function Jc(C,_,v){return Cc.apply(this,arguments)}(_,st,Nn)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function gh(C){return La.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:D,handleOpenURL:q,BuildInfo:ce}=hl(),st=setTimeout((0,d.Z)(function*(){yield eu(_),v.onEvent(bd())}),500),bt=function(){var tr=(0,d.Z)(function*(ar){clearTimeout(st);const Vi=yield eu(_);let _o=null;Vi&&null!=ar&&ar.url&&(_o=function fl(C,_){var v,D;const q=function Ur(C){const _=Tc(C),v=_.link?decodeURIComponent(_.link):void 0,D=Tc(v).link,q=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Tc(q).link||q||D||v||C}(_);if(q.includes("/__/auth/callback")){const ce=Tc(q),st=ce.firebaseError?function tg(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(ce.firebaseError)):null,bt=null===(D=null===(v=null==st?void 0:st.code)||void 0===v?void 0:v.split("auth/"))||void 0===D?void 0:D[1],tn=bt?et(bt):null;return tn?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:tn,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:q,postBody:null}}return null}(Vi,ar.url)),v.onEvent(_o||bd())});return function(Vi){return tr.apply(this,arguments)}}();typeof D<"u"&&"function"==typeof D.subscribe&&D.subscribe(null,bt);const tn=q,Nn=`${ce.packageName.toLowerCase()}://`;hl().handleOpenURL=function(){var tr=(0,d.Z)(function*(ar){if(ar.toLowerCase().startsWith(Nn)&&bt({url:ar}),"function"==typeof tn)try{tn(ar)}catch(Vi){console.error(Vi)}});return function(ar){return tr.apply(this,arguments)}}()}};function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:et("no-auth-event")}}function js(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function tu(C=(0,J.z$)()){return!("file:"!==js()&&"ionic:"!==js()&&"capacitor:"!==js()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function yh(){try{const C=self.localStorage,_=jc();if(C)return C.setItem(_,"1"),C.removeItem(_),!function iu(C=(0,J.z$)()){return function Zf(){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ru(C=(0,J.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,J.hl)()}catch{return Ll()&&(0,J.hl)()}return!1}function Ll(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sd(){return(function _a(){return"http:"===js()||"https:"===js()}()||(0,J.ru)()||tu())&&!function nu(){return(0,J.b$)()||(0,J.UG)()}()&&yh()&&!Ll()}function Rd(){return tu()&&typeof document<"u"}function Xl(){return(Xl=(0,d.Z)(function*(){return!!Rd()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const Xo={LOCAL:"local",NONE:"none",SESSION:"session"},Pd=we,ou="persistence";function Md(C){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,d.Z)(function*(C){yield C._initializationPromise;const _=Eh(),v=mr(ou,C.config.apiKey,C.name);_&&_.setItem(v,C._getPersistence())})).apply(this,arguments)}function Eh(){var C;try{return(null===(C=function su(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const cf=we;class pl{constructor(){this.browserResolver=Yt(Kl),this.cordovaResolver=Yt(Dd),this.underlyingResolver=null,this._redirectPersistence=Ma,this._completeRedirectFn=kr,this._overrideRedirectResult=ai}_initialize(_){var v=this;return(0,d.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,D,q){var ce=this;return(0,d.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openPopup(_,v,D,q)})()}_openRedirect(_,v,D,q){var ce=this;return(0,d.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._openRedirect(_,v,D,q)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Rd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,d.Z)(function*(){if(_.underlyingResolver)return;const v=yield function as(){return Xl.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function Hs(C){return C.unwrap()}function gl(C){return $u(C)}function $u(C){const{_tokenResponse:_}=C instanceof J.ZR?C.customData:C;if(!_)return null;if(!(C instanceof J.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return Sl.credentialFromResult(C);const v=_.providerId;if(!v||v===Ke.PASSWORD)return null;let D;switch(v){case Ke.GOOGLE:D=jl;break;case Ke.FACEBOOK:D=pc;break;case Ke.GITHUB:D=za;break;case Ke.TWITTER:D=Si;break;default:const{oauthIdToken:q,oauthAccessToken:ce,oauthTokenSecret:st,pendingToken:bt,nonce:tn}=_;return ce||st||q||bt?bt?v.startsWith("saml.")?Ps._create(v,bt):ns._fromParams({providerId:v,signInMethod:v,pendingToken:bt,idToken:q,accessToken:ce}):new Es(v).credential({idToken:q,accessToken:ce,rawNonce:tn}):null}return C instanceof J.ZR?D.credentialFromError(C):D.credentialFromResult(C)}function ao(C,_){return _.catch(v=>{throw v instanceof J.ZR&&function ec(C,_){var v;const D=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null==_?void 0:_.code))_.resolver=new li(C,function os(C,_){var v;const D=(0,J.m9)(C),q=_;return we(_.customData.operationType,D,"argument-error"),we(null===(v=q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),Bs._fromError(D,q)}(C,_));else if(D){const q=$u(_),ce=_;q&&(ce.credential=q,ce.tenantId=D.tenantId||void 0,ce.email=D.email||void 0,ce.phoneNumber=D.phoneNumber||void 0)}}(C,v),v}).then(v=>{const q=v.user;return{operationType:v.operationType,credential:gl(v),additionalUserInfo:Xs(v),user:ml.getOrCreate(q)}})}function uf(C,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(C,_){const v=yield _;return{verificationId:v.verificationId,confirm:D=>ao(C,v.confirm(D))}})).apply(this,arguments)}class li{constructor(_,v){this.resolver=v,this.auth=function xd(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return ao(Hs(this.auth),this.resolver.resolveSignIn(_))}}class ml{constructor(_){this._delegate=_,this.multiFactor=function $c(C){const _=(0,J.m9)(C);return nr.has(_)||nr.set(_,Yn._fromUser(_)),nr.get(_)}(_)}static getOrCreate(_){return ml.USER_MAP.has(_)||ml.USER_MAP.set(_,new ml(_)),ml.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,d.Z)(function*(){return ao(v.auth,xs(v._delegate,_))})()}linkWithPhoneNumber(_,v){var D=this;return(0,d.Z)(function*(){return uf(D.auth,function da(C,_,v){return to.apply(this,arguments)}(D._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,d.Z)(function*(){return ao(v.auth,function ql(C,_,v){return qo.apply(this,arguments)}(v._delegate,_,pl))})()}linkWithRedirect(_){var v=this;return(0,d.Z)(function*(){return yield Md(En(v.auth)),Qi(v._delegate,_,pl)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,d.Z)(function*(){return ao(v.auth,ei(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return uf(this.auth,function tl(C,_,v){return oh.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return ao(this.auth,function Hf(C,_,v){return Wo.apply(this,arguments)}(this._delegate,_,pl))}reauthenticateWithRedirect(_){var v=this;return(0,d.Z)(function*(){return yield Md(En(v.auth)),Vr(v._delegate,_,pl)})()}sendEmailVerification(_){return function ji(C,_){return P.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,d.Z)(function*(){return yield function wn(C,_){return fr.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function an(C,_){return Br((0,J.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function Tr(C,_){return Br((0,J.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function Al(C,_){return zc.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function tt(C,_){return Gt.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function G(C,_,v){return Be.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ml.USER_MAP=new WeakMap;const va=we;let ju=(()=>{class C{constructor(v,D){if(this.app=v,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:q}=v.options;va(q,"invalid-api-key",{appName:v.name}),va(q,"invalid-api-key",{appName:v.name});const ce=typeof window<"u"?pl:void 0;this._delegate=D.initialize({options:{persistence:tc(q,v.name),popupRedirectResolver:ce}}),this._delegate._updateErrorMap(Ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ml.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,D){!function vt(C,_,v){const D=En(C);we(D._canInitEmulator,D,"emulator-config-failed"),we(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const q=!(null==v||!v.disableWarnings),ce=Zt(_),{host:st,port:bt}=function ln(C){const _=Zt(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(D);if(q){const ce=q[1];return{host:ce,port:Xt(D.substr(ce.length+1))}}{const[ce,st]=D.split(":");return{host:ce,port:Xt(st)}}}(_);D.config.emulator={url:`${ce}//${st}${null===bt?"":`:${bt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:st,port:bt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function qt(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,v,D)}applyActionCode(v){return function Aa(C,_){return Yi.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return ss(this._delegate,v)}confirmPasswordReset(v,D){return function Po(C,_,v){return $i.apply(this,arguments)}(this._delegate,v,D)}createUserWithEmailAndPassword(v,D){var q=this;return(0,d.Z)(function*(){return ao(q._delegate,function Zs(C,_,v){return Ns.apply(this,arguments)}(q._delegate,v,D))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Ka(C,_){return Qs.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function Sa(C,_){const v=co.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,d.Z)(function*(){va(Sd(),v._delegate,"operation-not-supported-in-this-environment");const D=yield function io(C,_){return sl.apply(this,arguments)}(v._delegate,pl);return D?ao(v._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Ql(C,_){En(C)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,D,q){const{next:ce,error:st,complete:bt}=Ih(v,D,q);return this._delegate.onAuthStateChanged(ce,st,bt)}onIdTokenChanged(v,D,q){const{next:ce,error:st,complete:bt}=Ih(v,D,q);return this._delegate.onIdTokenChanged(ce,st,bt)}sendSignInLinkToEmail(v,D){return function Su(C,_,v){return la.apply(this,arguments)}(this._delegate,v,D)}sendPasswordResetEmail(v,D){return function ba(C,_,v){return jo.apply(this,arguments)}(this._delegate,v,D||void 0)}setPersistence(v){var D=this;return(0,d.Z)(function*(){let q;switch(function ng(C,_){Pd(Object.values(Xo).includes(_),C,"invalid-persistence-type"),(0,J.b$)()?Pd(_!==Xo.SESSION,C,"unsupported-persistence-type"):(0,J.UG)()?Pd(_===Xo.NONE,C,"unsupported-persistence-type"):Ll()?Pd(_===Xo.NONE||_===Xo.LOCAL&&(0,J.hl)(),C,"unsupported-persistence-type"):Pd(_===Xo.NONE||yh(),C,"unsupported-persistence-type")}(D._delegate,v),v){case Xo.SESSION:q=Ma;break;case Xo.LOCAL:q=(yield Yt(Wl)._isAvailable())?Wl:Pu;break;case Xo.NONE:q=Xn;break;default:return qe("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return ao(this._delegate,function Ks(C){return Wa.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return ao(this._delegate,_n(this._delegate,v))}signInWithCustomToken(v){return ao(this._delegate,function wo(C,_){return Ya.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,D){return ao(this._delegate,function Au(C,_,v){return _n((0,J.m9)(C),Ta.credential(_,v)).catch(function(){var D=(0,d.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&Hl(C),q});return function(q){return D.apply(this,arguments)}}())}(this._delegate,v,D))}signInWithEmailLink(v,D){return ao(this._delegate,function Gl(C,_,v){return bs.apply(this,arguments)}(this._delegate,v,D))}signInWithPhoneNumber(v,D){return uf(this._delegate,function fo(C,_,v){return el.apply(this,arguments)}(this._delegate,v,D))}signInWithPopup(v){var D=this;return(0,d.Z)(function*(){return va(Sd(),D._delegate,"operation-not-supported-in-this-environment"),ao(D._delegate,function lh(C,_,v){return _d.apply(this,arguments)}(D._delegate,v,pl))})()}signInWithRedirect(v){var D=this;return(0,d.Z)(function*(){return va(Sd(),D._delegate,"operation-not-supported-in-this-environment"),yield Md(D._delegate),po(D._delegate,v,pl)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Ho(C,_){return ho.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Xo,C})();function Ih(C,_,v){let D=C;"function"!=typeof C&&({next:D,error:_,complete:v}=C);const q=D;return{next:st=>q(st&&ml.getOrCreate(st)),error:_,complete:v}}function tc(C,_){const v=function Jl(C,_){const v=Eh();if(!v)return[];const D=mr(ou,C,_);switch(v.getItem(D)){case Xo.NONE:return[Xn];case Xo.LOCAL:return[Wl,Ma];case Xo.SESSION:return[Ma];default:return[]}}(C,_);if(typeof self<"u"&&!v.includes(Wl)&&v.push(Wl),typeof window<"u")for(const D of[Pu,Ma])v.includes(D)||v.push(D);return v.includes(Xn)||v.push(Xn),v}class au{constructor(){this.providerId="phone",this._delegate=new Sl(Hs(H.Z.auth()))}static credential(_,v){return Sl.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}au.PHONE_SIGN_IN_METHOD=Sl.PHONE_SIGN_IN_METHOD,au.PROVIDER_ID=Sl.PROVIDER_ID;const Qf=we;class nc{constructor(_,v,D=H.Z.app()){var q;Qf(null===(q=D.options)||void 0===q?void 0:q.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Oa(D.auth(),_,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ac(C){C.INTERNAL.registerComponent(new ge.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),D=_.getProvider("auth");return new ju(v,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ta,FacebookAuthProvider:pc,GithubAuthProvider:za,GoogleAuthProvider:jl,OAuthProvider:Es,SAMLAuthProvider:Ar,PhoneAuthProvider:au,PhoneMultiFactorGenerator:Wf,RecaptchaVerifier:nc,TwitterAuthProvider:Si,Auth:ju,AuthCredential:vn,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.9")}(H.Z)},95:(gn,ht,O)=>{"use strict";O.d(ht,{u5:()=>yr,Fd:()=>wl,qQ:()=>co,Cf:()=>Fe,JU:()=>Ge,a5:()=>Qn,JL:()=>xn,F:()=>Fn,_Y:()=>Mr});var d=O(9212),J=(O(6814),O(2459)),de=O(5592),xe=O(7453),re=O(4829),ge=O(4564),We=O(8251),Ke=O(7400),Ae=O(2714),Qe=O(7398);const Ge=new d.OlP("NgValueAccessor");function qe(Y){return null==Y||("string"==typeof Y||Array.isArray(Y))&&0===Y.length}const Fe=new d.OlP("NgValidators"),me=new d.OlP("NgAsyncValidators");function Q(Y){return null}function K(Y){return null!=Y}function ie(Y){return(0,d.QGY)(Y)?(0,J.D)(Y):Y}function he(Y){let N={};return Y.forEach(Ce=>{N=null!=Ce?{...N,...Ce}:N}),0===Object.keys(N).length?null:N}function Ve(Y,N){return N.map(Ce=>Ce(Y))}function wt(Y){return Y.map(N=>function je(Y){return!Y.validate}(N)?N:Ce=>N.validate(Ce))}function Ht(Y){return null!=Y?function jt(Y){if(!Y)return null;const N=Y.filter(K);return 0==N.length?null:function(Ce){return he(Ve(Ce,N))}}(wt(Y)):null}function mn(Y){return null!=Y?function St(Y){if(!Y)return null;const N=Y.filter(K);return 0==N.length?null:function(Ce){return function Te(...Y){const N=(0,ge.jO)(Y),{args:Ce,keys:W}=(0,xe.D)(Y),Me=new de.y(hn=>{const{length:_n}=Ce;if(!_n)return void hn.complete();const Ei=new Array(_n);let xs=_n,fs=_n;for(let ei=0;ei<_n;ei++){let rs=!1;(0,re.Xf)(Ce[ei]).subscribe((0,We.x)(hn,$o=>{rs||(rs=!0,fs--),Ei[ei]=$o},()=>xs--,void 0,()=>{(!xs||!rs)&&(fs||hn.next(W?(0,Ae.n)(W,Ei):Ei),hn.complete())}))}});return N?Me.pipe((0,Ke.Z)(N)):Me}(Ve(Ce,N).map(ie)).pipe((0,Qe.U)(he))}}(wt(Y)):null}function Kt(Y,N){return null===Y?[N]:Array.isArray(Y)?[...Y,N]:[Y,N]}function Bt(Y){return Y?Array.isArray(Y)?Y:[Y]:[]}function nn(Y,N){return Array.isArray(Y)?Y.includes(N):Y===N}function zn(Y,N){const Ce=Bt(N);return Bt(Y).forEach(Me=>{nn(Ce,Me)||Ce.push(Me)}),Ce}function Gn(Y,N){return Bt(N).filter(Ce=>!nn(Y,Ce))}class lr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Ht(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,Ce){return!!this.control&&this.control.hasError(N,Ce)}getError(N,Ce){return this.control?this.control.getError(N,Ce):null}}class In extends lr{get formDirective(){return null}get path(){return null}}class Qn extends lr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bn{constructor(N){this._cd=N}get isTouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.touched)}get isUntouched(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.untouched)}get isPristine(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pristine)}get isDirty(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.dirty)}get isValid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.valid)}get isInvalid(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.invalid)}get isPending(){var N;return!(null===(N=this._cd)||void 0===N||null===(N=N.control)||void 0===N||!N.pending)}get isSubmitted(){var N;return!(null===(N=this._cd)||void 0===N||!N.submitted)}}let xn=(()=>{var Y;class N extends bn{constructor(W){super(W)}}return(Y=N).\u0275fac=function(W){return new(W||Y)(d.Y36(In,10))},Y.\u0275dir=d.lG2({type:Y,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,Me){2&W&&d.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[d.qOj]}),N})();const er="VALID",mi="INVALID",bi="PENDING",Ui="DISABLED";function le(Y){return null!=Y&&!Array.isArray(Y)&&"object"==typeof Y}class Yt{constructor(N,Ce){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(Ce)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===er}get invalid(){return this.status===mi}get pending(){return this.status==bi}get disabled(){return this.status===Ui}get enabled(){return this.status!==Ui}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(zn(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(zn(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Gn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Gn(N,this._rawAsyncValidators))}hasValidator(N){return nn(this._rawValidators,N)}hasAsyncValidator(N){return nn(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(Ce=>{Ce.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(Ce=>{Ce.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=bi,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const Ce=this._parentMarkedDirty(N.onlySelf);this.status=Ui,this.errors=null,this._forEachChild(W=>{W.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:Ce}),this._onDisabledChange.forEach(W=>W(!0))}enable(N={}){const Ce=this._parentMarkedDirty(N.onlySelf);this.status=er,this._forEachChild(W=>{W.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:Ce}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===er||this.status===bi)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(Ce=>Ce._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ui:er}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator=!0;const Ce=ie(this.asyncValidator(this));this._asyncValidationSubscription=Ce.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,Ce={}){this.errors=N,this._updateControlsErrors(!1!==Ce.emitEvent)}get(N){let Ce=N;return null==Ce||(Array.isArray(Ce)||(Ce=Ce.split(".")),0===Ce.length)?null:Ce.reduce((W,Me)=>W&&W._find(Me),this)}getError(N,Ce){const W=Ce?this.get(Ce):this;return W&&W.errors?W.errors[N]:null}hasError(N,Ce){return!!this.getError(N,Ce)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Ui:this.errors?mi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(mi)?mi:er}_anyControlsHaveStatus(N){return this._anyControls(Ce=>Ce.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){le(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function pe(Y){return Array.isArray(Y)?Ht(Y):Y||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function ke(Y){return Array.isArray(Y)?mn(Y):Y||null}(this._rawAsyncValidators)}}class Wn extends Yt{constructor(N,Ce,W){super(function at(Y){return(le(Y)?Y.validators:Y)||null}(Ce),function se(Y,N){return(le(N)?N.asyncValidators:Y)||null}(W,Ce)),this.controls=N,this._initObservables(),this._setUpdateStrategy(Ce),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,Ce){return this.controls[N]?this.controls[N]:(this.controls[N]=Ce,Ce.setParent(this),Ce._registerOnCollectionChange(this._onCollectionChange),Ce)}addControl(N,Ce,W={}){this.registerControl(N,Ce),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(N,Ce={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:Ce.emitEvent}),this._onCollectionChange()}setControl(N,Ce,W={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],Ce&&this.registerControl(N,Ce),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,Ce={}){(function xt(Y,N,Ce){Y._forEachChild((W,Me)=>{if(void 0===Ce[Me])throw new d.vHH(1002,"")})})(this,0,N),Object.keys(N).forEach(W=>{(function lt(Y,N,Ce){const W=Y.controls;if(!(N?Object.keys(W):W).length)throw new d.vHH(1e3,"");if(!W[Ce])throw new d.vHH(1001,"")})(this,!0,W),this.controls[W].setValue(N[W],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce)}patchValue(N,Ce={}){null!=N&&(Object.keys(N).forEach(W=>{const Me=this.controls[W];Me&&Me.patchValue(N[W],{onlySelf:!0,emitEvent:Ce.emitEvent})}),this.updateValueAndValidity(Ce))}reset(N={},Ce={}){this._forEachChild((W,Me)=>{W.reset(N?N[Me]:null,{onlySelf:!0,emitEvent:Ce.emitEvent})}),this._updatePristine(Ce),this._updateTouched(Ce),this.updateValueAndValidity(Ce)}getRawValue(){return this._reduceChildren({},(N,Ce,W)=>(N[W]=Ce.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(Ce,W)=>!!W._syncPendingControls()||Ce);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(Ce=>{const W=this.controls[Ce];W&&N(W,Ce)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[Ce,W]of Object.entries(this.controls))if(this.contains(Ce)&&N(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ce,W,Me)=>((W.enabled||this.disabled)&&(Ce[Me]=W.value),Ce))}_reduceChildren(N,Ce){let W=N;return this._forEachChild((Me,hn)=>{W=Ce(W,Me,hn)}),W}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}const Pr=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Wi}),Wi="always";function Hn(Y,N){Y.forEach(Ce=>{Ce.registerOnValidatorChange&&Ce.registerOnValidatorChange(N)})}function qn(Y,N){const Ce=function Pt(Y){return Y._rawValidators}(Y);null!==N.validator?Y.setValidators(Kt(Ce,N.validator)):"function"==typeof Ce&&Y.setValidators([Ce]);const W=function Nt(Y){return Y._rawAsyncValidators}(Y);null!==N.asyncValidator?Y.setAsyncValidators(Kt(W,N.asyncValidator)):"function"==typeof W&&Y.setAsyncValidators([W]);const Me=()=>Y.updateValueAndValidity();Hn(N._rawValidators,Me),Hn(N._rawAsyncValidators,Me)}function Ye(Y,N){Y._pendingDirty&&Y.markAsDirty(),Y.setValue(Y._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1}const $t={provide:In,useExisting:(0,d.Gpc)(()=>Fn)},on=(()=>Promise.resolve())();let Fn=(()=>{var Y;class N extends In{constructor(W,Me,hn){super(),this.callSetDisabledState=hn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new Wn({},Ht(W),mn(Me))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(W){on.then(()=>{const Me=this._findContainer(W.path);W.control=Me.registerControl(W.name,W.control),function ct(Y,N,Ce=Wi){var W,Me;qn(Y,N),N.valueAccessor.writeValue(Y.value),(Y.disabled||"always"===Ce)&&(null===(W=(Me=N.valueAccessor).setDisabledState)||void 0===W||W.call(Me,Y.disabled)),function Yr(Y,N){N.valueAccessor.registerOnChange(Ce=>{Y._pendingValue=Ce,Y._pendingChange=!0,Y._pendingDirty=!0,"change"===Y.updateOn&&Ye(Y,N)})}(Y,N),function At(Y,N){const Ce=(W,Me)=>{N.valueAccessor.writeValue(W),Me&&N.viewToModelUpdate(W)};Y.registerOnChange(Ce),N._registerOnDestroy(()=>{Y._unregisterOnChange(Ce)})}(Y,N),function dt(Y,N){N.valueAccessor.registerOnTouched(()=>{Y._pendingTouched=!0,"blur"===Y.updateOn&&Y._pendingChange&&Ye(Y,N),"submit"!==Y.updateOn&&Y.markAsTouched()})}(Y,N),function jn(Y,N){if(N.valueAccessor.setDisabledState){const Ce=W=>{N.valueAccessor.setDisabledState(W)};Y.registerOnDisabledChange(Ce),N._registerOnDestroy(()=>{Y._unregisterOnDisabledChange(Ce)})}}(Y,N)}(W.control,W,this.callSetDisabledState),W.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(W)})}getControl(W){return this.form.get(W.path)}removeControl(W){on.then(()=>{const Me=this._findContainer(W.path);Me&&Me.removeControl(W.name),this._directives.delete(W)})}addFormGroup(W){on.then(()=>{const Me=this._findContainer(W.path),hn=new Wn({});(function Et(Y,N){qn(Y,N)})(hn,W),Me.registerControl(W.name,hn),hn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(W){on.then(()=>{const Me=this._findContainer(W.path);Me&&Me.removeControl(W.name)})}getFormGroup(W){return this.form.get(W.path)}updateModel(W,Me){on.then(()=>{this.form.get(W.path).setValue(Me)})}setValue(W){this.control.setValue(W)}onSubmit(W){var Me;return this.submitted=!0,function ee(Y,N){Y._syncPendingControls(),N.forEach(Ce=>{const W=Ce.control;"submit"===W.updateOn&&W._pendingChange&&(Ce.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(Me=W.target)||void 0===Me?void 0:Me.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(W){return W.pop(),W.length?this.form.get(W):this.form}}return(Y=N).\u0275fac=function(W){return new(W||Y)(d.Y36(Fe,10),d.Y36(me,10),d.Y36(Pr,8))},Y.\u0275dir=d.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,Me){1&W&&d.NdJ("submit",function(_n){return Me.onSubmit(_n)})("reset",function(){return Me.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([$t]),d.qOj]}),N})(),Mr=(()=>{var Y;class N{}return(Y=N).\u0275fac=function(W){return new(W||Y)},Y.\u0275dir=d.lG2({type:Y,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),N})(),be=(()=>{var Y;class N{}return(Y=N).\u0275fac=function(W){return new(W||Y)},Y.\u0275mod=d.oAB({type:Y}),Y.\u0275inj=d.cJS({}),N})();function fc(Y){return"number"==typeof Y?Y:parseFloat(Y)}let Co=(()=>{var Y;class N{constructor(){this._validator=Q}ngOnChanges(W){if(this.inputName in W){const Me=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(Me),this._validator=this._enabled?this.createValidator(Me):Q,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return(Y=N).\u0275fac=function(W){return new(W||Y)},Y.\u0275dir=d.lG2({type:Y,features:[d.TTD]}),N})();const Cl={provide:Fe,useExisting:(0,d.Gpc)(()=>wl),multi:!0};let wl=(()=>{var Y;class N extends Co{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=W=>fc(W),this.createValidator=W=>function ft(Y){return N=>{if(qe(N.value)||qe(Y))return null;const Ce=parseFloat(N.value);return!isNaN(Ce)&&Ce>Y?{max:{max:Y,actual:N.value}}:null}}(W)}}return(Y=N).\u0275fac=(()=>{let Ce;return function(Me){return(Ce||(Ce=d.n5z(Y)))(Me||Y)}})(),Y.\u0275dir=d.lG2({type:Y,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,Me){2&W&&d.uIk("max",Me._enabled?Me.max:null)},inputs:{max:"max"},features:[d._Bn([Cl]),d.qOj]}),N})();const nh={provide:Fe,useExisting:(0,d.Gpc)(()=>co),multi:!0};let co=(()=>{var Y;class N extends Co{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=W=>fc(W),this.createValidator=W=>function ye(Y){return N=>{if(qe(N.value)||qe(Y))return null;const Ce=parseFloat(N.value);return!isNaN(Ce)&&Ce<Y?{min:{min:Y,actual:N.value}}:null}}(W)}}return(Y=N).\u0275fac=(()=>{let Ce;return function(Me){return(Ce||(Ce=d.n5z(Y)))(Me||Y)}})(),Y.\u0275dir=d.lG2({type:Y,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,Me){2&W&&d.uIk("min",Me._enabled?Me.min:null)},inputs:{min:"min"},features:[d._Bn([nh]),d.qOj]}),N})(),yi=(()=>{var Y;class N{}return(Y=N).\u0275fac=function(W){return new(W||Y)},Y.\u0275mod=d.oAB({type:Y}),Y.\u0275inj=d.cJS({imports:[be]}),N})(),yr=(()=>{var Y;class N{static withConfig(W){var Me;return{ngModule:N,providers:[{provide:Pr,useValue:null!==(Me=W.callSetDisabledState)&&void 0!==Me?Me:Wi}]}}}return(Y=N).\u0275fac=function(W){return new(W||Y)},Y.\u0275mod=d.oAB({type:Y}),Y.\u0275inj=d.cJS({imports:[yi]}),N})()},6593:(gn,ht,O)=>{"use strict";O.d(ht,{Dx:()=>Qn,b2:()=>nn,q6:()=>Kt});var d=O(9212),H=O(6814);class J extends H.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends J{static makeCurrent(){(0,H.HT)(new de)}onAndCancel(se,ke,le){return se.addEventListener(ke,le),()=>{se.removeEventListener(ke,le)}}dispatchEvent(se,ke){se.dispatchEvent(ke)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,ke){return(ke=ke||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,ke){return"window"===ke?window:"document"===ke?se:"body"===ke?se.body:null}getBaseHref(se){const ke=function re(){return xe=xe||document.querySelector("base"),xe?xe.getAttribute("href"):null}();return null==ke?null:function We(pe){ge=ge||document.createElement("a"),ge.setAttribute("href",pe);const se=ge.pathname;return"/"===se.charAt(0)?se:`/${se}`}(ke)}resetBaseElement(){xe=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,H.Mx)(document.cookie,se)}}let ge,xe=null,Ae=(()=>{var pe;class se{build(){return new XMLHttpRequest}}return(pe=se).\u0275fac=function(le){return new(le||pe)},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();const Te=new d.OlP("EventManagerPlugins");let Qe=(()=>{var pe;class se{constructor(le,lt){this._zone=lt,this._eventNameToPlugin=new Map,le.forEach(xt=>{xt.manager=this}),this._plugins=le.slice().reverse()}addEventListener(le,lt,xt){return this._findPluginFor(lt).addEventListener(le,lt,xt)}getZone(){return this._zone}_findPluginFor(le){let lt=this._eventNameToPlugin.get(le);if(lt)return lt;if(lt=this._plugins.find(Yt=>Yt.supports(le)),!lt)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(le,lt),lt}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(Te),d.LFG(d.R0b))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();class ze{constructor(se){this._doc=se}}const He="ng-app-id";let Ge=(()=>{var pe;class se{constructor(le,lt,xt,Yt={}){this.doc=le,this.appId=lt,this.nonce=xt,this.platformId=Yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,H.PM)(Yt),this.resetHostNodes()}addStyles(le){for(const lt of le)1===this.changeUsageCount(lt,1)&&this.onStyleAdded(lt)}removeStyles(le){for(const lt of le)this.changeUsageCount(lt,-1)<=0&&this.onStyleRemoved(lt)}ngOnDestroy(){const le=this.styleNodesInDOM;le&&(le.forEach(lt=>lt.remove()),le.clear());for(const lt of this.getAllStyles())this.onStyleRemoved(lt);this.resetHostNodes()}addHost(le){this.hostNodes.add(le);for(const lt of this.getAllStyles())this.addStyleToHost(le,lt)}removeHost(le){this.hostNodes.delete(le)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(le){for(const lt of this.hostNodes)this.addStyleToHost(lt,le)}onStyleRemoved(le){var lt;const xt=this.styleRef;null===(lt=xt.get(le))||void 0===lt||null===(lt=lt.elements)||void 0===lt||lt.forEach(Yt=>Yt.remove()),xt.delete(le)}collectServerRenderedStyles(){var le;const lt=null===(le=this.doc.head)||void 0===le?void 0:le.querySelectorAll(`style[${He}="${this.appId}"]`);if(null!=lt&&lt.length){const xt=new Map;return lt.forEach(Yt=>{null!=Yt.textContent&&xt.set(Yt.textContent,Yt)}),xt}return null}changeUsageCount(le,lt){const xt=this.styleRef;if(xt.has(le)){const Yt=xt.get(le);return Yt.usage+=lt,Yt.usage}return xt.set(le,{usage:lt,elements:[]}),lt}getStyleElement(le,lt){const xt=this.styleNodesInDOM,Yt=null==xt?void 0:xt.get(lt);if((null==Yt?void 0:Yt.parentNode)===le)return xt.delete(lt),Yt.removeAttribute(He),Yt;{const Wn=this.doc.createElement("style");return this.nonce&&Wn.setAttribute("nonce",this.nonce),Wn.textContent=lt,this.platformIsServer&&Wn.setAttribute(He,this.appId),le.appendChild(Wn),Wn}}addStyleToHost(le,lt){var xt;const Yt=this.getStyleElement(le,lt),Wn=this.styleRef,Xn=null===(xt=Wn.get(lt))||void 0===xt?void 0:xt.elements;Xn?Xn.push(Yt):Wn.set(lt,{elements:[Yt],usage:1})}resetHostNodes(){const le=this.hostNodes;le.clear(),le.add(this.doc.head)}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(H.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g,qe=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function me(pe,se){return se.map(ke=>ke.replace(Xe,pe))}let Re=(()=>{var pe;class se{constructor(le,lt,xt,Yt,Wn,Xn,mr,kn=null){this.eventManager=le,this.sharedStylesHost=lt,this.appId=xt,this.removeStylesOnCompDestroy=Yt,this.doc=Wn,this.platformId=Xn,this.ngZone=mr,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,H.PM)(Xn),this.defaultRenderer=new we(le,Wn,mr,this.platformIsServer)}createRenderer(le,lt){if(!le||!lt)return this.defaultRenderer;this.platformIsServer&&lt.encapsulation===d.ifc.ShadowDom&&(lt={...lt,encapsulation:d.ifc.Emulated});const xt=this.getOrCreateRenderer(le,lt);return xt instanceof It?xt.applyToHost(le):xt instanceof rt&&xt.applyStyles(),xt}getOrCreateRenderer(le,lt){const xt=this.rendererByCompId;let Yt=xt.get(lt.id);if(!Yt){const Wn=this.doc,Xn=this.ngZone,mr=this.eventManager,kn=this.sharedStylesHost,hr=this.removeStylesOnCompDestroy,wi=this.platformIsServer;switch(lt.encapsulation){case d.ifc.Emulated:Yt=new It(mr,kn,lt,this.appId,hr,Wn,Xn,wi);break;case d.ifc.ShadowDom:return new U(mr,kn,le,lt,Wn,Xn,this.nonce,wi);default:Yt=new rt(mr,kn,lt,hr,Wn,Xn,wi)}xt.set(lt.id,Yt)}return Yt}ngOnDestroy(){this.rendererByCompId.clear()}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(Qe),d.LFG(Ge),d.LFG(d.AFp),d.LFG(qe),d.LFG(H.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();class we{constructor(se,ke,le,lt){this.eventManager=se,this.doc=ke,this.ngZone=le,this.platformIsServer=lt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(se,ke){return ke?this.doc.createElementNS(mt[ke]||ke,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,ke){(nt(se)?se.content:se).appendChild(ke)}insertBefore(se,ke,le){se&&(nt(se)?se.content:se).insertBefore(ke,le)}removeChild(se,ke){se&&se.removeChild(ke)}selectRootElement(se,ke){let le="string"==typeof se?this.doc.querySelector(se):se;if(!le)throw new d.vHH(-5104,!1);return ke||(le.textContent=""),le}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,ke,le,lt){if(lt){ke=lt+":"+ke;const xt=mt[lt];xt?se.setAttributeNS(xt,ke,le):se.setAttribute(ke,le)}else se.setAttribute(ke,le)}removeAttribute(se,ke,le){if(le){const lt=mt[le];lt?se.removeAttributeNS(lt,ke):se.removeAttribute(`${le}:${ke}`)}else se.removeAttribute(ke)}addClass(se,ke){se.classList.add(ke)}removeClass(se,ke){se.classList.remove(ke)}setStyle(se,ke,le,lt){lt&(d.JOm.DashCase|d.JOm.Important)?se.style.setProperty(ke,le,lt&d.JOm.Important?"important":""):se.style[ke]=le}removeStyle(se,ke,le){le&d.JOm.DashCase?se.style.removeProperty(ke):se.style[ke]=""}setProperty(se,ke,le){null!=se&&(se[ke]=le)}setValue(se,ke){se.nodeValue=ke}listen(se,ke,le){if("string"==typeof se&&!(se=(0,H.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${ke}`);return this.eventManager.addEventListener(se,ke,this.decoratePreventDefault(le))}decoratePreventDefault(se){return ke=>{if("__ngUnwrap__"===ke)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(ke)):se(ke))&&ke.preventDefault()}}}function nt(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class U extends we{constructor(se,ke,le,lt,xt,Yt,Wn,Xn){super(se,xt,Yt,Xn),this.sharedStylesHost=ke,this.hostEl=le,this.shadowRoot=le.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mr=me(lt.id,lt.styles);for(const kn of mr){const hr=document.createElement("style");Wn&&hr.setAttribute("nonce",Wn),hr.textContent=kn,this.shadowRoot.appendChild(hr)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,ke){return super.appendChild(this.nodeOrShadowRoot(se),ke)}insertBefore(se,ke,le){return super.insertBefore(this.nodeOrShadowRoot(se),ke,le)}removeChild(se,ke){return super.removeChild(this.nodeOrShadowRoot(se),ke)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends we{constructor(se,ke,le,lt,xt,Yt,Wn,Xn){super(se,xt,Yt,Wn),this.sharedStylesHost=ke,this.removeStylesOnCompDestroy=lt,this.styles=Xn?me(Xn,le.styles):le.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class It extends rt{constructor(se,ke,le,lt,xt,Yt,Wn,Xn){const mr=lt+"-"+le.id;super(se,ke,le,xt,Yt,Wn,Xn,mr),this.contentAttr=function et(pe){return"_ngcontent-%COMP%".replace(Xe,pe)}(mr),this.hostAttr=function Fe(pe){return"_nghost-%COMP%".replace(Xe,pe)}(mr)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,ke){const le=super.createElement(se,ke);return super.setAttribute(le,this.contentAttr,""),le}}let Ze=(()=>{var pe;class se extends ze{constructor(le){super(le)}supports(le){return!0}addEventListener(le,lt,xt){return le.addEventListener(lt,xt,!1),()=>this.removeEventListener(le,lt,xt)}removeEventListener(le,lt,xt){return le.removeEventListener(lt,xt)}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(H.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();const oe=["alt","control","meta","shift"],Q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let ie=(()=>{var pe;class se extends ze{constructor(le){super(le)}supports(le){return null!=se.parseEventName(le)}addEventListener(le,lt,xt){const Yt=se.parseEventName(lt),Wn=se.eventCallback(Yt.fullKey,xt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,H.q)().onAndCancel(le,Yt.domEventName,Wn))}static parseEventName(le){const lt=le.toLowerCase().split("."),xt=lt.shift();if(0===lt.length||"keydown"!==xt&&"keyup"!==xt)return null;const Yt=se._normalizeKey(lt.pop());let Wn="",Xn=lt.indexOf("code");if(Xn>-1&&(lt.splice(Xn,1),Wn="code."),oe.forEach(kn=>{const hr=lt.indexOf(kn);hr>-1&&(lt.splice(hr,1),Wn+=kn+".")}),Wn+=Yt,0!=lt.length||0===Yt.length)return null;const mr={};return mr.domEventName=xt,mr.fullKey=Wn,mr}static matchEventFullKeyCode(le,lt){let xt=Q[le.key]||le.key,Yt="";return lt.indexOf("code.")>-1&&(xt=le.code,Yt="code."),!(null==xt||!xt)&&(xt=xt.toLowerCase()," "===xt?xt="space":"."===xt&&(xt="dot"),oe.forEach(Wn=>{Wn!==xt&&(0,K[Wn])(le)&&(Yt+=Wn+".")}),Yt+=xt,Yt===lt)}static eventCallback(le,lt,xt){return Yt=>{se.matchEventFullKeyCode(Yt,le)&&xt.runGuarded(()=>lt(Yt))}}static _normalizeKey(le){return"esc"===le?"escape":le}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(H.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),se})();const Kt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:H.bD},{provide:d.g9A,useValue:function jt(){de.makeCurrent()},multi:!0},{provide:H.K0,useFactory:function St(){return(0,d.RDi)(document),document},deps:[]}]),Pt=new d.OlP(""),Nt=[{provide:d.rWj,useClass:class Ke{addToWindow(se){d.dqk.getAngularTestability=(le,lt=!0)=>{const xt=se.findTestabilityInTree(le,lt);if(null==xt)throw new d.vHH(5103,!1);return xt},d.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(le=>{const lt=d.dqk.getAllAngularTestabilities();let xt=lt.length,Yt=!1;const Wn=function(Xn){Yt=Yt||Xn,xt--,0==xt&&le(Yt)};lt.forEach(Xn=>{Xn.whenStable(Wn)})})}findTestabilityInTree(se,ke,le){if(null==ke)return null;const lt=se.getTestability(ke);return null!=lt?lt:le?(0,H.q)().isShadowRoot(ke)?this.findTestabilityInTree(se,ke.host,!0):this.findTestabilityInTree(se,ke.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Bt=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ht(){return new d.qLn},deps:[]},{provide:Te,useClass:Ze,multi:!0,deps:[H.K0,d.R0b,d.Lbi]},{provide:Te,useClass:ie,multi:!0,deps:[H.K0]},Re,Ge,Qe,{provide:d.FYo,useExisting:Re},{provide:H.JF,useClass:Ae,deps:[]},[]];let nn=(()=>{var pe;class se{constructor(le){}static withServerTransition(le){return{ngModule:se,providers:[{provide:d.AFp,useValue:le.appId}]}}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(Pt,12))},pe.\u0275mod=d.oAB({type:pe}),pe.\u0275inj=d.cJS({providers:[...Bt,...Nt],imports:[H.ez,d.hGG]}),se})(),Qn=(()=>{var pe;class se{constructor(le){this._doc=le}getTitle(){return this._doc.title}setTitle(le){this._doc.title=le||""}}return(pe=se).\u0275fac=function(le){return new(le||pe)(d.LFG(H.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:function(le){let lt=null;return lt=le?new le:function In(){return new Qn((0,d.LFG)(H.K0))}(),lt},providedIn:"root"}),se})();typeof window<"u"&&window},2692:(gn,ht,O)=>{"use strict";O.d(ht,{gz:()=>Ti,y6:()=>Mr,OD:()=>Se,eC:()=>St,wm:()=>Ki,wN:()=>Do,F0:()=>Ii,rH:()=>os,Bz:()=>Kr,Hx:()=>br});var d=O(9212),H=O(5592),J=O(4674),xe=O(2459),re=O(2096),ge=O(5619),We=O(2572),Ke=O(6973),Ae=O(5211),Te=O(4829);function Qe(b){return new H.y(M=>{(0,Te.Xf)(b()).subscribe(M)})}var ze=O(8407);function He(b,M){const k=(0,J.m)(b)?b:()=>b,w=B=>B.error(k());return new H.y(M?B=>M.schedule(w,0,B):w)}var Ge=O(6232),mt=O(7394),Xe=O(9360),Je=O(8251);function ot(){return(0,Xe.e)((b,M)=>{let k=null;b._refCount++;const w=(0,Je.x)(M,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(k=null);const B=b._connection,ae=k;k=null,B&&(!ae||B===ae)&&B.unsubscribe(),M.unsubscribe()});b.subscribe(w),w.closed||(k=b.connect())})}class Dt extends H.y{constructor(M,k){super(),this.source=M,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new mt.w0;const k=this.getSubject();M.add(this.source.subscribe((0,Je.x)(k,void 0,()=>{this._teardown(),k.complete()},w=>{this._teardown(),k.error(w)},()=>this._teardown()))),M.closed&&(this._connection=null,M=mt.w0.EMPTY)}return M}refCount(){return ot()(this)}}var De=O(8645),qe=O(6814),et=O(7398),Fe=O(4664),me=O(8180),Re=O(7921),we=O(2181),ye=O(1631),ft=O(1374),nt=O(6328),U=O(9397);function rt(b){return(0,Xe.e)((M,k)=>{let ae,w=null,B=!1;w=M.subscribe((0,Je.x)(k,void 0,void 0,Pe=>{ae=(0,Te.Xf)(b(Pe,rt(b)(M))),w?(w.unsubscribe(),w=null,ae.subscribe(k)):B=!0})),B&&(w.unsubscribe(),w=null,ae.subscribe(k))})}var It=O(6699),Ze=O(3572);function oe(b){return b<=0?()=>Ge.E:(0,Xe.e)((M,k)=>{let w=[];M.subscribe((0,Je.x)(k,B=>{w.push(B),b<w.length&&w.shift()},()=>{for(const B of w)k.next(B);k.complete()},void 0,()=>{w=null}))})}var Q=O(3026),K=O(2737),Ve=O(4716),je=O(2420),jt=O(7537),Ht=O(6593);const St="primary",mn=Symbol("RouteTitle");class Kt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k[0]:k}return null}getAll(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function Pt(b){return new Kt(b)}function Nt(b,M,k){const w=k.path.split("/");if(w.length>b.length||"full"===k.pathMatch&&(M.hasChildren()||w.length<b.length))return null;const B={};for(let ae=0;ae<w.length;ae++){const Pe=w[ae],Ct=b[ae];if(Pe.startsWith(":"))B[Pe.substring(1)]=Ct;else if(Pe!==Ct.path)return null}return{consumed:b.slice(0,w.length),posParams:B}}function nn(b,M){const k=b?zn(b):void 0,w=M?zn(M):void 0;if(!k||!w||k.length!=w.length)return!1;let B;for(let ae=0;ae<k.length;ae++)if(B=k[ae],!Gn(b[B],M[B]))return!1;return!0}function zn(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function Gn(b,M){if(Array.isArray(b)&&Array.isArray(M)){if(b.length!==M.length)return!1;const k=[...b].sort(),w=[...M].sort();return k.every((B,ae)=>w[ae]===B)}return b===M}function lr(b){return b.length>0?b[b.length-1]:null}function In(b){return function de(b){return!!b&&(b instanceof H.y||(0,J.m)(b.lift)&&(0,J.m)(b.subscribe))}(b)?b:(0,d.QGY)(b)?(0,xe.D)(Promise.resolve(b)):(0,re.of)(b)}const Qn={exact:function cr(b,M,k){if(!pn(b.segments,M.segments)||!Sn(b.segments,M.segments,k)||b.numberOfChildren!==M.numberOfChildren)return!1;for(const w in M.children)if(!b.children[w]||!cr(b.children[w],M.children[w],k))return!1;return!0},subset:ui},bn={exact:function Jn(b,M){return nn(b,M)},subset:function xn(b,M){return Object.keys(M).length<=Object.keys(b).length&&Object.keys(M).every(k=>Gn(b[k],M[k]))},ignored:()=>!0};function ci(b,M,k){return Qn[k.paths](b.root,M.root,k.matrixParams)&&bn[k.queryParams](b.queryParams,M.queryParams)&&!("exact"===k.fragment&&b.fragment!==M.fragment)}function ui(b,M,k){return qr(b,M,M.segments,k)}function qr(b,M,k,w){if(b.segments.length>k.length){const B=b.segments.slice(0,k.length);return!(!pn(B,k)||M.hasChildren()||!Sn(B,k,w))}if(b.segments.length===k.length){if(!pn(b.segments,k)||!Sn(b.segments,k,w))return!1;for(const B in M.children)if(!b.children[B]||!ui(b.children[B],M.children[B],w))return!1;return!0}{const B=k.slice(0,b.segments.length),ae=k.slice(b.segments.length);return!!(pn(b.segments,B)&&Sn(b.segments,B,w)&&b.children[St])&&qr(b.children[St],M,ae,w)}}function Sn(b,M,k){return M.every((w,B)=>bn[k](b[B].parameters,w.parameters))}class Xr{constructor(M=new ir([],{}),k={},w=null){this.root=M,this.queryParams=k,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){return ki.serialize(this)}}class ir{constructor(M,k){this.segments=M,this.children=k,this.parent=null,Object.values(k).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fi(this)}}class Ci{constructor(M,k){this.path=M,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=Pt(this.parameters)),this._parameterMap}toString(){return Ui(this)}}function pn(b,M){return b.length===M.length&&b.every((k,w)=>k.path===M[w].path)}let br=(()=>{var b;class M{}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:()=>new $r,providedIn:"root"}),M})();class $r{parse(M){const k=new mr(M);return new Xr(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(M){const k=`/${Gr(M.root,!0)}`,w=function pe(b){const M=Object.keys(b).map(k=>{const w=b[k];return Array.isArray(w)?w.map(B=>`${ii(k)}=${ii(B)}`).join("&"):`${ii(k)}=${ii(w)}`}).filter(k=>!!k);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${k}${w}${"string"==typeof M.fragment?`#${function Zn(b){return encodeURI(b)}(M.fragment)}`:""}`}}const ki=new $r;function fi(b){return b.segments.map(M=>Ui(M)).join("/")}function Gr(b,M){if(!b.hasChildren())return fi(b);if(M){const k=b.children[St]?Gr(b.children[St],!1):"",w=[];return Object.entries(b.children).forEach(([B,ae])=>{B!==St&&w.push(`${B}:${Gr(ae,!1)}`)}),w.length>0?`${k}(${w.join("//")})`:k}{const k=function sr(b,M){let k=[];return Object.entries(b.children).forEach(([w,B])=>{w===St&&(k=k.concat(M(B,w)))}),Object.entries(b.children).forEach(([w,B])=>{w!==St&&(k=k.concat(M(B,w)))}),k}(b,(w,B)=>B===St?[Gr(b.children[St],!1)]:[`${B}:${Gr(w,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[St]?`${fi(b)}/${k[0]}`:`${fi(b)}/(${k.join("//")})`}}function ri(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(b){return ri(b).replace(/%3B/gi,";")}function er(b){return ri(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mi(b){return decodeURIComponent(b)}function bi(b){return mi(b.replace(/\+/g,"%20"))}function Ui(b){return`${er(b.path)}${function at(b){return Object.keys(b).map(M=>`;${er(M)}=${er(b[M])}`).join("")}(b.parameters)}`}const se=/^[^\/()?;#]+/;function ke(b){const M=b.match(se);return M?M[0]:""}const le=/^[^\/()?;=#]+/,xt=/^[^=?&#]+/,Wn=/^[^&#]+/;class mr{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ir([],{}):new ir([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(M.length>0||Object.keys(k).length>0)&&(w[St]=new ir(M,k)),w}parseSegment(){const M=ke(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(M),new Ci(mi(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const k=function lt(b){const M=b.match(le);return M?M[0]:""}(this.remaining);if(!k)return;this.capture(k);let w="";if(this.consumeOptional("=")){const B=ke(this.remaining);B&&(w=B,this.capture(w))}M[mi(k)]=mi(w)}parseQueryParam(M){const k=function Yt(b){const M=b.match(xt);return M?M[0]:""}(this.remaining);if(!k)return;this.capture(k);let w="";if(this.consumeOptional("=")){const Pe=function Xn(b){const M=b.match(Wn);return M?M[0]:""}(this.remaining);Pe&&(w=Pe,this.capture(w))}const B=bi(k),ae=bi(w);if(M.hasOwnProperty(B)){let Pe=M[B];Array.isArray(Pe)||(Pe=[Pe],M[B]=Pe),Pe.push(ae)}else M[B]=ae}parseParens(M){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=ke(this.remaining),B=this.remaining[w.length];if("/"!==B&&")"!==B&&";"!==B)throw new d.vHH(4010,!1);let ae;w.indexOf(":")>-1?(ae=w.slice(0,w.indexOf(":")),this.capture(ae),this.capture(":")):M&&(ae=St);const Pe=this.parseChildren();k[ae]=1===Object.keys(Pe).length?Pe[St]:new ir([],Pe),this.consumeOptional("//")}return k}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new d.vHH(4011,!1)}}function kn(b){return b.segments.length>0?new ir([],{[St]:b}):b}function hr(b){const M={};for(const w of Object.keys(b.children)){const ae=hr(b.children[w]);if(w===St&&0===ae.segments.length&&ae.hasChildren())for(const[Pe,Ct]of Object.entries(ae.children))M[Pe]=Ct;else(ae.segments.length>0||ae.hasChildren())&&(M[w]=ae)}return function wi(b){if(1===b.numberOfChildren&&b.children[St]){const M=b.children[St];return new ir(b.segments.concat(M.segments),M.children)}return b}(new ir(b.segments,M))}function Pr(b){return b instanceof Xr}function Rt(b){var M;let k;const ae=kn(function w(Pe){const Ct={};for(const yt of Pe.children){const rn=w(yt);Ct[yt.outlet]=rn}const cn=new ir(Pe.url,Ct);return Pe===b&&(k=cn),cn}(b.root));return null!==(M=k)&&void 0!==M?M:ae}function ct(b,M,k,w){let B=b;for(;B.parent;)B=B.parent;if(0===M.length)return jn(B,B,B,k,w);const ae=function Yr(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Bn(!0,0,b);let M=0,k=!1;const w=b.reduce((B,ae,Pe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Ct={};return Object.entries(ae.outlets).forEach(([cn,yt])=>{Ct[cn]="string"==typeof yt?yt.split("/"):yt}),[...B,{outlets:Ct}]}if(ae.segmentPath)return[...B,ae.segmentPath]}return"string"!=typeof ae?[...B,ae]:0===Pe?(ae.split("/").forEach((Ct,cn)=>{0==cn&&"."===Ct||(0==cn&&""===Ct?k=!0:".."===Ct?M++:""!=Ct&&B.push(Ct))}),B):[...B,ae]},[]);return new Bn(k,M,w)}(M);if(ae.toRoot())return jn(B,B,new ir([],{}),k,w);const Pe=function Ye(b,M,k){if(b.isAbsolute)return new dt(M,!0,0);if(!k)return new dt(M,!1,NaN);if(null===k.parent)return new dt(k,!0,0);const w=Jt(b.commands[0])?0:1;return function At(b,M,k){let w=b,B=M,ae=k;for(;ae>B;){if(ae-=B,w=w.parent,!w)throw new d.vHH(4005,!1);B=w.segments.length}return new dt(w,!1,B-ae)}(k,k.segments.length-1+w,b.numberOfDoubleDots)}(ae,B,b),Ct=Pe.processChildren?Wt(Pe.segmentGroup,Pe.index,ae.commands):Ut(Pe.segmentGroup,Pe.index,ae.commands);return jn(B,Pe.segmentGroup,Ct,k,w)}function Jt(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Hn(b){return"object"==typeof b&&null!=b&&b.outlets}function jn(b,M,k,w,B){let Pe,ae={};w&&Object.entries(w).forEach(([cn,yt])=>{ae[cn]=Array.isArray(yt)?yt.map(rn=>`${rn}`):`${yt}`}),Pe=b===M?k:qn(b,M,k);const Ct=kn(hr(Pe));return new Xr(Ct,ae,B)}function qn(b,M,k){const w={};return Object.entries(b.children).forEach(([B,ae])=>{w[B]=ae===M?k:qn(ae,M,k)}),new ir(b.segments,w)}class Bn{constructor(M,k,w){if(this.isAbsolute=M,this.numberOfDoubleDots=k,this.commands=w,M&&w.length>0&&Jt(w[0]))throw new d.vHH(4003,!1);const B=w.find(Hn);if(B&&B!==lr(w))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(M,k,w){this.segmentGroup=M,this.processChildren=k,this.index=w}}function Ut(b,M,k){if(b||(b=new ir([],{})),0===b.segments.length&&b.hasChildren())return Wt(b,M,k);const w=function Cn(b,M,k){let w=0,B=M;const ae={match:!1,pathIndex:0,commandIndex:0};for(;B<b.segments.length;){if(w>=k.length)return ae;const Pe=b.segments[B],Ct=k[w];if(Hn(Ct))break;const cn=`${Ct}`,yt=w<k.length-1?k[w+1]:null;if(B>0&&void 0===cn)break;if(cn&&yt&&"object"==typeof yt&&void 0===yt.outlets){if(!_e(cn,yt,Pe))return ae;w+=2}else{if(!_e(cn,{},Pe))return ae;w++}B++}return{match:!0,pathIndex:B,commandIndex:w}}(b,M,k),B=k.slice(w.commandIndex);if(w.match&&w.pathIndex<b.segments.length){const ae=new ir(b.segments.slice(0,w.pathIndex),{});return ae.children[St]=new ir(b.segments.slice(w.pathIndex),b.children),Wt(ae,0,B)}return w.match&&0===B.length?new ir(b.segments,{}):w.match&&!b.hasChildren()?yn(b,M,k):w.match?Wt(b,0,B):yn(b,M,k)}function Wt(b,M,k){if(0===k.length)return new ir(b.segments,{});{const w=function Et(b){return Hn(b[0])?b[0].outlets:{[St]:b}}(k),B={};if(Object.keys(w).some(ae=>ae!==St)&&b.children[St]&&1===b.numberOfChildren&&0===b.children[St].segments.length){const ae=Wt(b.children[St],M,k);return new ir(b.segments,ae.children)}return Object.entries(w).forEach(([ae,Pe])=>{"string"==typeof Pe&&(Pe=[Pe]),null!==Pe&&(B[ae]=Ut(b.children[ae],M,Pe))}),Object.entries(b.children).forEach(([ae,Pe])=>{void 0===w[ae]&&(B[ae]=Pe)}),new ir(b.segments,B)}}function yn(b,M,k){const w=b.segments.slice(0,M);let B=0;for(;B<k.length;){const ae=k[B];if(Hn(ae)){const cn=On(ae.outlets);return new ir(w,cn)}if(0===B&&Jt(k[0])){w.push(new Ci(b.segments[M].path,En(k[0]))),B++;continue}const Pe=Hn(ae)?ae.outlets[St]:`${ae}`,Ct=B<k.length-1?k[B+1]:null;Pe&&Ct&&Jt(Ct)?(w.push(new Ci(Pe,En(Ct))),B+=2):(w.push(new Ci(Pe,{})),B++)}return new ir(w,{})}function On(b){const M={};return Object.entries(b).forEach(([k,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(M[k]=yn(new ir([],{}),0,w))}),M}function En(b){const M={};return Object.entries(b).forEach(([k,w])=>M[k]=`${w}`),M}function _e(b,M,k){return b==k.path&&nn(M,k.parameters)}const Oe="imperative";class ee{constructor(M,k){this.id=M,this.url=k}}class Se extends ee{constructor(M,k,w="imperative",B=null){super(M,k),this.type=0,this.navigationTrigger=w,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pt extends ee{constructor(M,k,w){super(M,k),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vt extends ee{constructor(M,k,w,B){super(M,k),this.reason=w,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $t extends ee{constructor(M,k,w,B){super(M,k),this.reason=w,this.code=B,this.type=16}}class on extends ee{constructor(M,k,w,B){super(M,k),this.error=w,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fn extends ee{constructor(M,k,w,B){super(M,k),this.urlAfterRedirects=w,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends ee{constructor(M,k,w,B){super(M,k),this.urlAfterRedirects=w,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends ee{constructor(M,k,w,B,ae){super(M,k),this.urlAfterRedirects=w,this.state=B,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z extends ee{constructor(M,k,w,B){super(M,k),this.urlAfterRedirects=w,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ne extends ee{constructor(M,k,w,B){super(M,k),this.urlAfterRedirects=w,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $e{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class it{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mt{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zt{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xt{constructor(M,k,w){this.routerEvent=M,this.position=k,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qt{}class vn{constructor(M){this.url=M}}class pr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mr,this.attachRef=null}}let Mr=(()=>{var b;class M{constructor(){this.contexts=new Map}onChildOutletCreated(w,B){const ae=this.getOrCreateContext(w);ae.outlet=B,this.contexts.set(w,ae)}onChildOutletDestroyed(w){const B=this.getContext(w);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let B=this.getContext(w);return B||(B=new pr,this.contexts.set(w,B)),B}getContext(w){return this.contexts.get(w)||null}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();class Jr{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const k=this.pathFromRoot(M);return k.length>1?k[k.length-2]:null}children(M){const k=R(M,this._root);return k?k.children.map(w=>w.value):[]}firstChild(M){const k=R(M,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(M){const k=Ee(M,this._root);return k.length<2?[]:k[k.length-2].children.map(B=>B.value).filter(B=>B!==M)}pathFromRoot(M){return Ee(M,this._root).map(k=>k.value)}}function R(b,M){if(b===M.value)return M;for(const k of M.children){const w=R(b,k);if(w)return w}return null}function Ee(b,M){if(b===M.value)return[M];for(const k of M.children){const w=Ee(b,k);if(w.length)return w.unshift(M),w}return[]}class V{constructor(M,k){this.value=M,this.children=k}toString(){return`TreeNode(${this.value})`}}function be(b){const M={};return b&&b.children.forEach(k=>M[k.value.outlet]=k),M}class gt extends Jr{constructor(M,k){super(M),this.snapshot=k,Ds(this,M)}toString(){return this.snapshot.toString()}}function _r(b,M){const k=function zr(b,M){const Pe=new ts([],{},{},"",{},St,M,null,{});return new Ga("",new V(Pe,[]))}(0,M),w=new ge.X([new Ci("",{})]),B=new ge.X({}),ae=new ge.X({}),Pe=new ge.X({}),Ct=new ge.X(""),cn=new Ti(w,B,Pe,Ct,ae,St,M,k.root);return cn.snapshot=k.root,new gt(new V(cn,[]),k)}class Ti{constructor(M,k,w,B,ae,Pe,Ct,cn){var yt,rn;this.urlSubject=M,this.paramsSubject=k,this.queryParamsSubject=w,this.fragmentSubject=B,this.dataSubject=ae,this.outlet=Pe,this.component=Ct,this._futureSnapshot=cn,this.title=null!==(yt=null===(rn=this.dataSubject)||void 0===rn?void 0:rn.pipe((0,et.U)(Rn=>Rn[mn])))&&void 0!==yt?yt:(0,re.of)(void 0),this.url=M,this.params=k,this.queryParams=w,this.fragment=B,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(M=>Pt(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(M=>Pt(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xr(b,M,k="emptyOnly"){var w;let B;const{routeConfig:ae}=b;var Pe;return B=null===M||"always"!==k&&""!==(null==ae?void 0:ae.path)&&(M.component||null!==(w=M.routeConfig)&&void 0!==w&&w.loadComponent)?{params:b.params,data:b.data,resolve:{...b.data,...null!==(Pe=b._resolvedData)&&void 0!==Pe?Pe:{}}}:{params:{...M.params,...b.params},data:{...M.data,...b.data},resolve:{...b.data,...M.data,...null==ae?void 0:ae.data,...b._resolvedData}},ae&&qi(ae)&&(B.resolve[mn]=ae.title),B}class ts{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[mn]}constructor(M,k,w,B,ae,Pe,Ct,cn,yt){this.url=M,this.params=k,this.queryParams=w,this.fragment=B,this.data=ae,this.outlet=Pe,this.component=Ct,this.routeConfig=cn,this._resolve=yt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ga extends Jr{constructor(M,k){super(k),this.url=M,Ds(this,k)}toString(){return Ca(this._root)}}function Ds(b,M){M.value._routerState=b,M.children.forEach(k=>Ds(b,k))}function Ca(b){const M=b.children.length>0?` { ${b.children.map(Ca).join(", ")} } `:"";return`${b.value}${M}`}function ko(b){if(b.snapshot){const M=b.snapshot,k=b._futureSnapshot;b.snapshot=k,nn(M.queryParams,k.queryParams)||b.queryParamsSubject.next(k.queryParams),M.fragment!==k.fragment&&b.fragmentSubject.next(k.fragment),nn(M.params,k.params)||b.paramsSubject.next(k.params),function Bt(b,M){if(b.length!==M.length)return!1;for(let k=0;k<b.length;++k)if(!nn(b[k],M[k]))return!1;return!0}(M.url,k.url)||b.urlSubject.next(k.url),nn(M.data,k.data)||b.dataSubject.next(k.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function So(b,M){const k=nn(b.params,M.params)&&function Ir(b,M){return pn(b,M)&&b.every((k,w)=>nn(k.parameters,M[w].parameters))}(b.url,M.url);return k&&!(!b.parent!=!M.parent)&&(!b.parent||So(b.parent,M.parent))}function qi(b){return"string"==typeof b.title||null===b.title}let Ws=(()=>{var b;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Mr),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Ss,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:B,previousValue:ae}=w.name;if(B)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){var w;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(w=this.inputBinder)||void 0===w||w.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){var B;return(null===(B=this.parentContexts.getContext(w))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,B){var ae;this.activated=w,this._activatedRoute=B,this.location.insert(w.hostView),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,B){var ae;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=w;const Pe=this.location,cn=w.snapshot.component,yt=this.parentContexts.getOrCreateContext(this.name).children,rn=new qs(w,yt,Pe.injector);this.activated=Pe.createComponent(cn,{index:Pe.length,injector:rn,environmentInjector:null!=B?B:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275dir=d.lG2({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),M})();class qs{constructor(M,k,w){this.route=M,this.childContexts=k,this.parent=w}get(M,k){return M===Ti?this.route:M===Mr?this.childContexts:this.parent.get(M,k)}}const Ss=new d.OlP("");let jr=(()=>{var b;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){var B;null===(B=this.outletDataSubscriptions.get(w))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:B}=w,ae=(0,We.a)([B.queryParams,B.params,B.data]).pipe((0,Fe.w)(([Pe,Ct,cn],yt)=>(cn={...Pe,...Ct,...cn},0===yt?(0,re.of)(cn):Promise.resolve(cn)))).subscribe(Pe=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(w);const Ct=(0,d.qFp)(B.component);if(Ct)for(const{templateName:cn}of Ct.inputs)w.activatedComponentRef.setInput(cn,Pe[cn]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,ae)}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),M})();function ds(b,M,k){if(k&&b.shouldReuseRoute(M.value,k.value.snapshot)){const w=k.value;w._futureSnapshot=M.value;const B=function Io(b,M,k){return M.children.map(w=>{for(const B of k.children)if(b.shouldReuseRoute(w.value,B.value.snapshot))return ds(b,w,B);return ds(b,w)})}(b,M,k);return new V(w,B)}{if(b.shouldAttach(M.value)){const ae=b.retrieve(M.value);if(null!==ae){const Pe=ae.route;return Pe.value._futureSnapshot=M.value,Pe.children=M.children.map(Ct=>ds(b,Ct)),Pe}}const w=function Rs(b){return new Ti(new ge.X(b.url),new ge.X(b.params),new ge.X(b.queryParams),new ge.X(b.fragment),new ge.X(b.data),b.outlet,b.component,b)}(M.value),B=M.children.map(ae=>ds(b,ae));return new V(w,B)}}const ns="ngNavigationCancelingError";function wa(b,M){const{redirectTo:k,navigationBehaviorOptions:w}=Pr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,B=ia(!1,0,M);return B.url=k,B.navigationBehaviorOptions=w,B}function ia(b,M,k){const w=new Error("NavigationCancelingError: "+(b||""));return w[ns]=!0,w.cancellationCode=M,k&&(w.url=k),w}function sa(b){return b&&b[ns]}let Fo=(()=>{var b;class M{}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275cmp=d.Xpm({type:b,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(w,B){1&w&&d._UZ(0,"router-outlet")},dependencies:[Ws],encapsulation:2}),M})();function Ta(b){const M=b.children&&b.children.map(Ta),k=M?{...b,children:M}:{...b};return!k.component&&!k.loadComponent&&(M||k.loadChildren)&&k.outlet&&k.outlet!==St&&(k.component=Fo),k}function Oi(b){return b.outlet||St}function Es(b){var M;if(!b)return null;if(null!==(M=b.routeConfig)&&void 0!==M&&M._injector)return b.routeConfig._injector;for(let k=b.parent;k;k=k.parent){const w=k.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class za{constructor(M,k,w,B,ae){this.routeReuseStrategy=M,this.futureState=k,this.currState=w,this.forwardEvent=B,this.inputBindingEnabled=ae}activate(M){const k=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,w,M),ko(this.futureState.root),this.activateChildRoutes(k,w,M)}deactivateChildRoutes(M,k,w){const B=be(k);M.children.forEach(ae=>{const Pe=ae.value.outlet;this.deactivateRoutes(ae,B[Pe],w),delete B[Pe]}),Object.values(B).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,w)})}deactivateRoutes(M,k,w){const B=M.value,ae=k?k.value:null;if(B===ae)if(B.component){const Pe=w.getContext(B.outlet);Pe&&this.deactivateChildRoutes(M,k,Pe.children)}else this.deactivateChildRoutes(M,k,w);else ae&&this.deactivateRouteAndItsChildren(k,w)}deactivateRouteAndItsChildren(M,k){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,k):this.deactivateRouteAndOutlet(M,k)}detachAndStoreRouteSubtree(M,k){const w=k.getContext(M.value.outlet),B=w&&M.value.component?w.children:k,ae=be(M);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],B);if(w&&w.outlet){const Pe=w.outlet.detach(),Ct=w.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Pe,route:M,contexts:Ct})}}deactivateRouteAndOutlet(M,k){const w=k.getContext(M.value.outlet),B=w&&M.value.component?w.children:k,ae=be(M);for(const Pe of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Pe],B);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(M,k,w){const B=be(k);M.children.forEach(ae=>{this.activateRoutes(ae,B[ae.value.outlet],w),this.forwardEvent(new ln(ae.value.snapshot))}),M.children.length&&this.forwardEvent(new vt(M.value.snapshot))}activateRoutes(M,k,w){const B=M.value,ae=k?k.value:null;if(ko(B),B===ae)if(B.component){const Pe=w.getOrCreateContext(B.outlet);this.activateChildRoutes(M,k,Pe.children)}else this.activateChildRoutes(M,k,w);else if(B.component){const Pe=w.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ct=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Pe.children.onOutletReAttached(Ct.contexts),Pe.attachRef=Ct.componentRef,Pe.route=Ct.route.value,Pe.outlet&&Pe.outlet.attach(Ct.componentRef,Ct.route.value),ko(Ct.route.value),this.activateChildRoutes(M,null,Pe.children)}else{const Ct=Es(B.snapshot);Pe.attachRef=null,Pe.route=B,Pe.injector=Ct,Pe.outlet&&Pe.outlet.activateWith(B,Pe.injector),this.activateChildRoutes(M,null,Pe.children)}}else this.activateChildRoutes(M,null,w)}}class Uc{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ps{constructor(M,k){this.component=M,this.route=k}}function gc(b,M,k){const w=b._root;return Gi(w,M?M._root:null,k,[w.value])}function Si(b,M){const k=Symbol(),w=M.get(b,k);return w===k?"function"!=typeof b||(0,d.Z0I)(b)?M.get(b):b:w}function Gi(b,M,k,w,B={canDeactivateChecks:[],canActivateChecks:[]}){const ae=be(M);return b.children.forEach(Pe=>{(function Ms(b,M,k,w,B={canDeactivateChecks:[],canActivateChecks:[]}){const ae=b.value,Pe=M?M.value:null,Ct=k?k.getContext(b.value.outlet):null;if(Pe&&ae.routeConfig===Pe.routeConfig){const cn=function yi(b,M,k){if("function"==typeof k)return k(b,M);switch(k){case"pathParamsChange":return!pn(b.url,M.url);case"pathParamsOrQueryParamsChange":return!pn(b.url,M.url)||!nn(b.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(b,M)||!nn(b.queryParams,M.queryParams);default:return!So(b,M)}}(Pe,ae,ae.routeConfig.runGuardsAndResolvers);cn?B.canActivateChecks.push(new Uc(w)):(ae.data=Pe.data,ae._resolvedData=Pe._resolvedData),Gi(b,M,ae.component?Ct?Ct.children:null:k,w,B),cn&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&B.canDeactivateChecks.push(new Ps(Ct.outlet.component,Pe))}else Pe&&Uo(M,Ct,B),B.canActivateChecks.push(new Uc(w)),Gi(b,null,ae.component?Ct?Ct.children:null:k,w,B)})(Pe,ae[Pe.value.outlet],k,w.concat([Pe.value]),B),delete ae[Pe.value.outlet]}),Object.entries(ae).forEach(([Pe,Ct])=>Uo(Ct,k.getContext(Pe),B)),B}function Uo(b,M,k){const w=be(b),B=b.value;Object.entries(w).forEach(([ae,Pe])=>{Uo(Pe,B.component?M?M.children.getContext(ae):null:M,k)}),k.canDeactivateChecks.push(new Ps(B.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,B))}function Ks(b){return"function"==typeof b}function Y(b){return b instanceof Ke.K||"EmptyError"===(null==b?void 0:b.name)}const N=Symbol("INITIAL_VALUE");function Ce(){return(0,Fe.w)(b=>(0,We.a)(b.map(M=>M.pipe((0,me.q)(1),(0,Re.O)(N)))).pipe((0,et.U)(M=>{for(const k of M)if(!0!==k){if(k===N)return N;if(!1===k||k instanceof Xr)return k}return!0}),(0,we.h)(M=>M!==N),(0,me.q)(1)))}function $o(b){return(0,ze.z)((0,U.b)(M=>{if(Pr(M))throw wa(0,M)}),(0,et.U)(M=>!0===M))}class wo{constructor(M){this.segmentGroup=M||null}}class Ya extends Error{constructor(M){super(),this.urlTree=M}}function is(b){return He(new wo(b))}class Hl{constructor(M,k){this.urlSerializer=M,this.urlTree=k}noMatchError(M){return new d.vHH(4002,!1)}lineralizeSegments(M,k){let w=[],B=k.root;for(;;){if(w=w.concat(B.segments),0===B.numberOfChildren)return(0,re.of)(w);if(B.numberOfChildren>1||!B.children[St])return He(new d.vHH(4e3,!1));B=B.children[St]}}applyRedirectCommands(M,k,w){const B=this.applyRedirectCreateUrlTree(k,this.urlSerializer.parse(k),M,w);if(k.startsWith("/"))throw new Ya(B);return B}applyRedirectCreateUrlTree(M,k,w,B){const ae=this.createSegmentGroup(M,k.root,w,B);return new Xr(ae,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(M,k){const w={};return Object.entries(M).forEach(([B,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Ct=ae.substring(1);w[B]=k[Ct]}else w[B]=ae}),w}createSegmentGroup(M,k,w,B){const ae=this.createSegments(M,k.segments,w,B);let Pe={};return Object.entries(k.children).forEach(([Ct,cn])=>{Pe[Ct]=this.createSegmentGroup(M,cn,w,B)}),new ir(ae,Pe)}createSegments(M,k,w,B){return k.map(ae=>ae.path.startsWith(":")?this.findPosParam(M,ae,B):this.findOrReturn(ae,w))}findPosParam(M,k,w){const B=w[k.path.substring(1)];if(!B)throw new d.vHH(4001,!1);return B}findOrReturn(M,k){let w=0;for(const B of k){if(B.path===M.path)return k.splice(w),B;w++}return M}}const uo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ba(b,M,k,w,B){const ae=jo(b,M,k);return ae.matched?(w=function Ro(b,M){var k;return b.providers&&!b._injector&&(b._injector=(0,d.MMx)(b.providers,M,`Route: ${b.path}`)),null!==(k=b._injector)&&void 0!==k?k:M}(M,w),function Os(b,M,k,w){const B=M.canMatch;if(!B||0===B.length)return(0,re.of)(!0);const ae=B.map(Pe=>{const Ct=Si(Pe,b);return In(function fr(b){return b&&Ks(b.canMatch)}(Ct)?Ct.canMatch(M,k):b.runInContext(()=>Ct(M,k)))});return(0,re.of)(ae).pipe(Ce(),$o())}(w,M,k).pipe((0,et.U)(Pe=>!0===Pe?ae:{...uo}))):(0,re.of)(ae)}function jo(b,M,k){var w,B;if(""===M.path)return"full"===M.pathMatch&&(b.hasChildren()||k.length>0)?{...uo}:{matched:!0,consumedSegments:[],remainingSegments:k,parameters:{},positionalParamSegments:{}};const Pe=(M.matcher||Nt)(k,b,M);if(!Pe)return{...uo};const Ct={};Object.entries(null!==(w=Pe.posParams)&&void 0!==w?w:{}).forEach(([yt,rn])=>{Ct[yt]=rn.path});const cn=Pe.consumed.length>0?{...Ct,...Pe.consumed[Pe.consumed.length-1].parameters}:Ct;return{matched:!0,consumedSegments:Pe.consumed,remainingSegments:k.slice(Pe.consumed.length),parameters:cn,positionalParamSegments:null!==(B=Pe.posParams)&&void 0!==B?B:{}}}function Po(b,M,k,w){return k.length>0&&function Yi(b,M,k){return k.some(w=>aa(b,M,w)&&Oi(w)!==St)}(b,k,w)?{segmentGroup:new ir(M,Aa(w,new ir(k,b.children))),slicedSegments:[]}:0===k.length&&function ss(b,M,k){return k.some(w=>aa(b,M,w))}(b,k,w)?{segmentGroup:new ir(b.segments,$i(b,0,k,w,b.children)),slicedSegments:k}:{segmentGroup:new ir(b.segments,b.children),slicedSegments:k}}function $i(b,M,k,w,B){const ae={};for(const Pe of w)if(aa(b,k,Pe)&&!B[Oi(Pe)]){const Ct=new ir([],{});ae[Oi(Pe)]=Ct}return{...B,...ae}}function Aa(b,M){const k={};k[St]=M;for(const w of b)if(""===w.path&&Oi(w)!==St){const B=new ir([],{});k[Oi(w)]=B}return k}function aa(b,M,k){return(!(b.hasChildren()||M.length>0)||"full"!==k.pathMatch)&&""===k.path}class Zs{}class Su{constructor(M,k,w,B,ae,Pe,Ct){this.injector=M,this.configLoader=k,this.rootComponentType=w,this.config=B,this.urlTree=ae,this.paramsInheritanceStrategy=Pe,this.urlSerializer=Ct,this.applyRedirects=new Hl(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(M){return new d.vHH(4002,!1)}recognize(){const M=Po(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,et.U)(k=>{const w=new ts([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},St,this.rootComponentType,null,{}),B=new V(w,k),ae=new Ga("",B),Pe=function Wi(b,M,k=null,w=null){return ct(Rt(b),M,k,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return Pe.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Pe),this.inheritParamsAndData(ae._root,null),{state:ae,tree:Pe}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M,St).pipe(rt(w=>{if(w instanceof Ya)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof wo?this.noMatchError(w):w}))}inheritParamsAndData(M,k){const w=M.value,B=xr(w,k,this.paramsInheritanceStrategy);w.params=Object.freeze(B.params),w.data=Object.freeze(B.data),M.children.forEach(ae=>this.inheritParamsAndData(ae,w))}processSegmentGroup(M,k,w,B){return 0===w.segments.length&&w.hasChildren()?this.processChildren(M,k,w):this.processSegment(M,k,w,w.segments,B,!0).pipe((0,et.U)(ae=>ae instanceof V?[ae]:[]))}processChildren(M,k,w){const B=[];for(const ae of Object.keys(w.children))"primary"===ae?B.unshift(ae):B.push(ae);return(0,xe.D)(B).pipe((0,nt.b)(ae=>{const Pe=w.children[ae],Ct=function Bo(b,M){const k=b.filter(w=>Oi(w)===M);return k.push(...b.filter(w=>Oi(w)!==M)),k}(k,ae);return this.processSegmentGroup(M,Ct,Pe,ae)}),(0,It.R)((ae,Pe)=>(ae.push(...Pe),ae)),(0,Ze.d)(null),function ie(b,M){const k=arguments.length>=2;return w=>w.pipe(b?(0,we.h)((B,ae)=>b(B,ae,w)):K.y,oe(1),k?(0,Ze.d)(M):(0,Q.T)(()=>new Ke.K))}(),(0,ye.z)(ae=>{if(null===ae)return is(w);const Pe=Gl(ae);return function la(b){b.sort((M,k)=>M.value.outlet===St?-1:k.value.outlet===St?1:M.value.outlet.localeCompare(k.value.outlet))}(Pe),(0,re.of)(Pe)}))}processSegment(M,k,w,B,ae,Pe){return(0,xe.D)(k).pipe((0,nt.b)(Ct=>{var cn;return this.processSegmentAgainstRoute(null!==(cn=Ct._injector)&&void 0!==cn?cn:M,k,Ct,w,B,ae,Pe).pipe(rt(yt=>{if(yt instanceof wo)return(0,re.of)(null);throw yt}))}),(0,ft.P)(Ct=>!!Ct),rt(Ct=>{if(Y(Ct))return function ho(b,M,k){return 0===M.length&&!b.children[k]}(w,B,ae)?(0,re.of)(new Zs):is(w);throw Ct}))}processSegmentAgainstRoute(M,k,w,B,ae,Pe,Ct){return function Ho(b,M,k,w){return!!(Oi(b)===w||w!==St&&aa(M,k,b))&&("**"===b.path||jo(M,b,k).matched)}(w,B,ae,Pe)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(M,B,w,ae,Pe):this.allowRedirects&&Ct?this.expandSegmentAgainstRouteUsingRedirect(M,B,k,w,ae,Pe):is(B):is(B)}expandSegmentAgainstRouteUsingRedirect(M,k,w,B,ae,Pe){const{matched:Ct,consumedSegments:cn,positionalParamSegments:yt,remainingSegments:rn}="**"===B.path?Ka(ae):jo(k,B,ae);if(!Ct)return is(k);B.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Rn=this.applyRedirects.applyRedirectCommands(cn,B.redirectTo,yt);return this.applyRedirects.lineralizeSegments(B,Rn).pipe((0,ye.z)(di=>this.processSegment(M,w,k,di.concat(rn),Pe,!1)))}matchSegmentAgainstRoute(M,k,w,B,ae){let Pe;return"**"===w.path?(Pe=(0,re.of)(Ka(B)),k.children={}):Pe=ba(k,w,B,M),Pe.pipe((0,Fe.w)(Ct=>{var cn;return Ct.matched?(M=null!==(cn=w._injector)&&void 0!==cn?cn:M,this.getChildConfig(M,w,B).pipe((0,Fe.w)(({routes:yt})=>{var rn,Rn,di;const gr=null!==(rn=w._loadedInjector)&&void 0!==rn?rn:M,{consumedSegments:gi,remainingSegments:Hi,parameters:ni}=Ct,Oa=new ts(gi,ni,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Is(b){return b.data||{}}(w),Oi(w),null!==(Rn=null!==(di=w.component)&&void 0!==di?di:w._loadedComponent)&&void 0!==Rn?Rn:null,w,function Tl(b){return b.resolve||{}}(w)),{segmentGroup:Pi,slicedSegments:dr}=Po(k,gi,Hi,yt);if(0===dr.length&&Pi.hasChildren())return this.processChildren(gr,yt,Pi).pipe((0,et.U)(el=>null===el?null:new V(Oa,el)));if(0===yt.length&&0===dr.length)return(0,re.of)(new V(Oa,[]));const fo=Oi(w)===ae;return this.processSegment(gr,yt,Pi,dr,fo?St:ae,!0).pipe((0,et.U)(el=>new V(Oa,el instanceof V?[el]:[])))}))):is(k)}))}getChildConfig(M,k,w){return k.children?(0,re.of)({routes:k.children,injector:M}):k.loadChildren?void 0!==k._loadedRoutes?(0,re.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):function rs(b,M,k,w){const B=M.canLoad;if(void 0===B||0===B.length)return(0,re.of)(!0);const ae=B.map(Pe=>{const Ct=Si(Pe,b);return In(function oa(b){return b&&Ks(b.canLoad)}(Ct)?Ct.canLoad(M,k):b.runInContext(()=>Ct(M,k)))});return(0,re.of)(ae).pipe(Ce(),$o())}(M,k,w).pipe((0,ye.z)(B=>B?this.configLoader.loadChildren(M,k).pipe((0,U.b)(ae=>{k._loadedRoutes=ae.routes,k._loadedInjector=ae.injector})):function Cr(b){return He(ia(!1,3))}())):(0,re.of)({routes:[],injector:M})}}function Sa(b){const M=b.value.routeConfig;return M&&""===M.path}function Gl(b){const M=[],k=new Set;for(const w of b){if(!Sa(w)){M.push(w);continue}const B=M.find(ae=>w.value.routeConfig===ae.value.routeConfig);void 0!==B?(B.children.push(...w.children),k.add(B)):M.push(w)}for(const w of k){const B=Gl(w.children);M.push(new V(w.value,B))}return M.filter(w=>!k.has(w))}function Ka(b){return{matched:!0,parameters:b.length>0?lr(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}function ji(b,M){return(0,ye.z)(k=>{const{targetSnapshot:w,guards:{canActivateChecks:B}}=k;if(!B.length)return(0,re.of)(k);const ae=B.map(yt=>yt.route),Pe=new Set(ae),Ct=P(ae[0].parent).slice(1);let cn=0;return(0,xe.D)(Ct).pipe((0,nt.b)(yt=>Pe.has(yt)?function G(b,M,k,w){const B=b.routeConfig,ae=b._resolve;return void 0!==(null==B?void 0:B.title)&&!qi(B)&&(ae[mn]=B.title),function Be(b,M,k,w){const B=zn(b);if(0===B.length)return(0,re.of)({});const ae={};return(0,xe.D)(B).pipe((0,ye.z)(Pe=>function j(b,M,k,w){var B;const ae=null!==(B=Es(M))&&void 0!==B?B:w,Pe=Si(b,ae);return In(Pe.resolve?Pe.resolve(M,k):ae.runInContext(()=>Pe(M,k)))}(b[Pe],M,k,w).pipe((0,ft.P)(),(0,U.b)(Ct=>{ae[Pe]=Ct}))),oe(1),function he(b){return(0,et.U)(()=>b)}(ae),rt(Pe=>Y(Pe)?Ge.E:He(Pe)))}(ae,b,M,w).pipe((0,et.U)(Pe=>(b._resolvedData=Pe,b.data=xr(b,b.parent,k).resolve,null)))}(yt,w,b,M):(yt.data=xr(yt,yt.parent,b).resolve,(0,re.of)(void 0))),(0,U.b)(()=>cn++),oe(1),(0,ye.z)(yt=>cn===Ct.length?(0,re.of)(k):Ge.E))})}function P(b){const M=b.children.map(k=>P(k)).flat();return[b,...M]}function Ie(b){return(0,Fe.w)(M=>{const k=b(M);return k?(0,xe.D)(k).pipe((0,et.U)(()=>M)):(0,re.of)(M)})}let tt=(()=>{var b;class M{buildTitle(w){let B,ae=w.root;for(;void 0!==ae;){var Pe;B=null!==(Pe=this.getResolvedTitleForRoute(ae))&&void 0!==Pe?Pe:B,ae=ae.children.find(Ct=>Ct.outlet===St)}return B}getResolvedTitleForRoute(w){return w.data[mn]}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:()=>(0,d.f3M)(Gt),providedIn:"root"}),M})(),Gt=(()=>{var b;class M extends tt{constructor(w){super(),this.title=w}updateTitle(w){const B=this.buildTitle(w);void 0!==B&&this.title.setTitle(B)}}return(b=M).\u0275fac=function(w){return new(w||b)(d.LFG(Ht.Dx))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();const an=new d.OlP("",{providedIn:"root",factory:()=>({})}),Tr=new d.OlP("ROUTES");let Br=(()=>{var b;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,re.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const B=In(w.loadComponent()).pipe((0,et.U)(Dr),(0,U.b)(Pe=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=Pe}),(0,Ve.x)(()=>{this.componentLoaders.delete(w)})),ae=new Dt(B,()=>new De.x).pipe(ot());return this.componentLoaders.set(w,ae),ae}loadChildren(w,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,re.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const Pe=function ur(b,M,k,w){return In(b.loadChildren()).pipe((0,et.U)(Dr),(0,ye.z)(B=>B instanceof d.YKP||Array.isArray(B)?(0,re.of)(B):(0,xe.D)(M.compileModuleAsync(B))),(0,et.U)(B=>{w&&w(b);let ae,Pe,Ct=!1;return Array.isArray(B)?(Pe=B,!0):(ae=B.create(k).injector,Pe=ae.get(Tr,[],{optional:!0,self:!0}).flat()),{routes:Pe.map(Ta),injector:ae}}))}(B,this.compiler,w,this.onLoadEndListener).pipe((0,Ve.x)(()=>{this.childrenLoaders.delete(B)})),Ct=new Dt(Pe,()=>new De.x).pipe(ot());return this.childrenLoaders.set(B,Ct),Ct}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();function Dr(b){return function vr(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let Fr=(()=>{var b;class M{}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:()=>(0,d.f3M)(Ji),providedIn:"root"}),M})(),Ji=(()=>{var b;class M{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,B){return w}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();const ks=new d.OlP(""),Ls=new d.OlP("");function Za(b,M,k){const w=b.get(Ls),B=b.get(qe.K0);return b.get(d.R0b).runOutsideAngular(()=>{if(!B.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,Promise.resolve();let ae;const Pe=new Promise(yt=>{ae=yt}),Ct=B.startViewTransition(()=>(ae(),function Xs(b){return new Promise(M=>{(0,d.T8G)(M,{injector:b})})}(b))),{onViewTransitionCreated:cn}=w;return cn&&(0,d.r_H)(b,()=>cn({transition:Ct,from:M,to:k})),Pe})}let Fs=(()=>{var b;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.transitionAbortSubject=new De.x,this.configLoader=(0,d.f3M)(Br),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(br),this.rootContexts=(0,d.f3M)(Mr),this.location=(0,d.f3M)(qe.Ye),this.inputBindingEnabled=null!==(0,d.f3M)(Ss,{optional:!0}),this.titleStrategy=(0,d.f3M)(tt),this.options=(0,d.f3M)(an,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.f3M)(Fr),this.createViewTransition=(0,d.f3M)(ks,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new it(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new $e(ae))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var B;const ae=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...w,id:ae})}setupNavigations(w,B,ae){return this.transitions=new ge.X({id:0,currentUrlTree:B,currentRawUrl:B,extractedUrl:this.urlHandlingStrategy.extract(B),urlAfterRedirects:this.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Oe,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,we.h)(Pe=>0!==Pe.id),(0,et.U)(Pe=>({...Pe,extractedUrl:this.urlHandlingStrategy.extract(Pe.rawUrl)})),(0,Fe.w)(Pe=>{this.currentTransition=Pe;let Ct=!1,cn=!1;return(0,re.of)(Pe).pipe((0,U.b)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Fe.w)(yt=>{var rn;const Rn=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),di=null!==(rn=yt.extras.onSameUrlNavigation)&&void 0!==rn?rn:w.onSameUrlNavigation;if(!Rn&&"reload"!==di){const gr="";return this.events.next(new $t(yt.id,this.urlSerializer.serialize(yt.rawUrl),gr,0)),yt.resolve(null),Ge.E}if(this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,re.of)(yt).pipe((0,Fe.w)(gr=>{var gi,Hi;const ni=null===(gi=this.transitions)||void 0===gi?void 0:gi.getValue();return this.events.next(new Se(gr.id,this.urlSerializer.serialize(gr.extractedUrl),gr.source,gr.restoredState)),ni!==(null===(Hi=this.transitions)||void 0===Hi?void 0:Hi.getValue())?Ge.E:Promise.resolve(gr)}),function Qs(b,M,k,w,B,ae){return(0,ye.z)(Pe=>function Ns(b,M,k,w,B,ae,Pe="emptyOnly"){return new Su(b,M,k,w,B,Pe,ae).recognize()}(b,M,k,w,Pe.extractedUrl,B,ae).pipe((0,et.U)(({state:Ct,tree:cn})=>({...Pe,targetSnapshot:Ct,urlAfterRedirects:cn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,U.b)(gr=>{Pe.targetSnapshot=gr.targetSnapshot,Pe.urlAfterRedirects=gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gr.urlAfterRedirects};const gi=new Fn(gr.id,this.urlSerializer.serialize(gr.extractedUrl),this.urlSerializer.serialize(gr.urlAfterRedirects),gr.targetSnapshot);this.events.next(gi)}));if(Rn&&this.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:gr,extractedUrl:gi,source:Hi,restoredState:ni,extras:Oa}=yt,Pi=new Se(gr,this.urlSerializer.serialize(gi),Hi,ni);this.events.next(Pi);const dr=_r(0,this.rootComponentType).snapshot;return this.currentTransition=Pe={...yt,targetSnapshot:dr,urlAfterRedirects:gi,extras:{...Oa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gi,(0,re.of)(Pe)}{const gr="";return this.events.next(new $t(yt.id,this.urlSerializer.serialize(yt.extractedUrl),gr,1)),yt.resolve(null),Ge.E}}),(0,U.b)(yt=>{const rn=new dn(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(rn)}),(0,et.U)(yt=>(this.currentTransition=Pe={...yt,guards:gc(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},Pe)),function W(b,M){return(0,ye.z)(k=>{const{targetSnapshot:w,currentSnapshot:B,guards:{canActivateChecks:ae,canDeactivateChecks:Pe}}=k;return 0===Pe.length&&0===ae.length?(0,re.of)({...k,guardsResult:!0}):function Me(b,M,k,w){return(0,xe.D)(b).pipe((0,ye.z)(B=>function ei(b,M,k,w,B){const ae=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,re.of)(!0);const Pe=ae.map(Ct=>{var cn;const yt=null!==(cn=Es(M))&&void 0!==cn?cn:B,rn=Si(Ct,yt);return In(function wn(b){return b&&Ks(b.canDeactivate)}(rn)?rn.canDeactivate(b,M,k,w):yt.runInContext(()=>rn(b,M,k,w))).pipe((0,ft.P)())});return(0,re.of)(Pe).pipe(Ce())}(B.component,B.route,k,M,w)),(0,ft.P)(B=>!0!==B,!0))}(Pe,w,B,b).pipe((0,ye.z)(Ct=>Ct&&function Wa(b){return"boolean"==typeof b}(Ct)?function hn(b,M,k,w){return(0,xe.D)(M).pipe((0,nt.b)(B=>(0,Ae.z)(function Ei(b,M){return null!==b&&M&&M(new Mt(b)),(0,re.of)(!0)}(B.route.parent,w),function _n(b,M){return null!==b&&M&&M(new Zt(b)),(0,re.of)(!0)}(B.route,w),function fs(b,M,k){const w=M[M.length-1],ae=M.slice(0,M.length-1).reverse().map(Pe=>function Ar(b){const M=b.routeConfig?b.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:b,guards:M}:null}(Pe)).filter(Pe=>null!==Pe).map(Pe=>Qe(()=>{const Ct=Pe.guards.map(cn=>{var yt;const rn=null!==(yt=Es(Pe.node))&&void 0!==yt?yt:k,Rn=Si(cn,rn);return In(function Ri(b){return b&&Ks(b.canActivateChild)}(Rn)?Rn.canActivateChild(w,b):rn.runInContext(()=>Rn(w,b))).pipe((0,ft.P)())});return(0,re.of)(Ct).pipe(Ce())}));return(0,re.of)(ae).pipe(Ce())}(b,B.path,k),function xs(b,M,k){const w=M.routeConfig?M.routeConfig.canActivate:null;if(!w||0===w.length)return(0,re.of)(!0);const B=w.map(ae=>Qe(()=>{var Pe;const Ct=null!==(Pe=Es(M))&&void 0!==Pe?Pe:k,cn=Si(ae,Ct);return In(function qa(b){return b&&Ks(b.canActivate)}(cn)?cn.canActivate(M,b):Ct.runInContext(()=>cn(M,b))).pipe((0,ft.P)())}));return(0,re.of)(B).pipe(Ce())}(b,B.route,k))),(0,ft.P)(B=>!0!==B,!0))}(w,ae,b,M):(0,re.of)(Ct)),(0,et.U)(Ct=>({...k,guardsResult:Ct})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,U.b)(yt=>{if(Pe.guardsResult=yt.guardsResult,Pr(yt.guardsResult))throw wa(0,yt.guardsResult);const rn=new wr(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(rn)}),(0,we.h)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Ie(yt=>{if(yt.guards.canActivateChecks.length)return(0,re.of)(yt).pipe((0,U.b)(rn=>{const Rn=new z(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(Rn)}),(0,Fe.w)(rn=>{let Rn=!1;return(0,re.of)(rn).pipe(ji(this.paramsInheritanceStrategy,this.environmentInjector),(0,U.b)({next:()=>Rn=!0,complete:()=>{Rn||this.cancelNavigationTransition(rn,"",2)}}))}),(0,U.b)(rn=>{const Rn=new ne(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(Rn)}))}),Ie(yt=>{const rn=Rn=>{var di;const gr=[];null!==(di=Rn.routeConfig)&&void 0!==di&&di.loadComponent&&!Rn.routeConfig._loadedComponent&&gr.push(this.configLoader.loadComponent(Rn.routeConfig).pipe((0,U.b)(gi=>{Rn.component=gi}),(0,et.U)(()=>{})));for(const gi of Rn.children)gr.push(...rn(gi));return gr};return(0,We.a)(rn(yt.targetSnapshot.root)).pipe((0,Ze.d)(),(0,me.q)(1))}),Ie(()=>this.afterPreactivation()),(0,Fe.w)(()=>{var yt;const{currentSnapshot:rn,targetSnapshot:Rn}=Pe,di=null===(yt=this.createViewTransition)||void 0===yt?void 0:yt.call(this,this.environmentInjector,rn.root,Rn.root);return di?(0,xe.D)(di).pipe((0,et.U)(()=>Pe)):(0,re.of)(Pe)}),(0,et.U)(yt=>{const rn=function Lo(b,M,k){const w=ds(b,M._root,k?k._root:void 0);return new gt(w,M)}(w.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=Pe={...yt,targetRouterState:rn},this.currentNavigation.targetRouterState=rn,Pe}),(0,U.b)(()=>{this.events.next(new qt)}),((b,M,k,w)=>(0,et.U)(B=>(new za(M,B.targetRouterState,B.currentRouterState,k,w).activate(b),B)))(this.rootContexts,w.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,me.q)(1),(0,U.b)({next:yt=>{var rn;Ct=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pt(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),null===(rn=this.titleStrategy)||void 0===rn||rn.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Ct=!0}}),function wt(b){return(0,Xe.e)((M,k)=>{(0,Te.Xf)(b).subscribe((0,Je.x)(k,()=>k.complete(),je.Z)),!k.closed&&M.subscribe(k)})}(this.transitionAbortSubject.pipe((0,U.b)(yt=>{throw yt}))),(0,Ve.x)(()=>{var yt;Ct||cn||this.cancelNavigationTransition(Pe,"",1),(null===(yt=this.currentNavigation)||void 0===yt?void 0:yt.id)===Pe.id&&(this.currentNavigation=null)}),rt(yt=>{if(cn=!0,sa(yt))this.events.next(new Vt(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),yt.message,yt.cancellationCode)),function xi(b){return sa(b)&&Pr(b.url)}(yt)?this.events.next(new vn(yt.url)):Pe.resolve(!1);else{var rn;this.events.next(new on(Pe.id,this.urlSerializer.serialize(Pe.extractedUrl),yt,null!==(rn=Pe.targetSnapshot)&&void 0!==rn?rn:void 0));try{Pe.resolve(w.errorHandler(yt))}catch(Rn){Pe.reject(Rn)}}return Ge.E}))}))}cancelNavigationTransition(w,B,ae){const Pe=new Vt(w.id,this.urlSerializer.serialize(w.extractedUrl),B,ae);this.events.next(Pe),w.resolve(!1)}isUpdatingInternalState(){var w,B;return(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())!==(null===(B=this.currentTransition)||void 0===B?void 0:B.currentUrlTree.toString())}isUpdatedBrowserUrl(){var w,B;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())&&!(null!==(B=this.currentTransition)&&void 0!==B&&B.extras.skipLocationChange)}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();function Ra(b){return b!==Oe}let Do=(()=>{var b;class M{}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:()=>(0,d.f3M)(ef),providedIn:"root"}),M})();class Qa{shouldDetach(M){return!1}store(M,k){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,k){return M.routeConfig===k.routeConfig}}let ef=(()=>{var b;class M extends Qa{}return(b=M).\u0275fac=(()=>{let k;return function(B){return(k||(k=d.n5z(b)))(B||b)}})(),b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})(),Js=(()=>{var b;class M{}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:()=>(0,d.f3M)(Ru),providedIn:"root"}),M})(),Ru=(()=>{var b;class M extends Js{constructor(){super(...arguments),this.location=(0,d.f3M)(qe.Ye),this.urlSerializer=(0,d.f3M)(br),this.options=(0,d.f3M)(an,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.f3M)(Fr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_r(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var w,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(w=null===(B=this.restoredState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==w?w:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(B=>{"popstate"===B.type&&w(B.url,B.state)})}handleRouterEvent(w,B){if(w instanceof Se)this.stateMemento=this.createStateMemento();else if(w instanceof $t)this.rawUrlTree=B.initialUrl;else if(w instanceof Fn){if("eager"===this.urlUpdateStrategy&&!B.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl);this.setBrowserUrl(ae,B)}}else w instanceof qt?(this.currentUrlTree=B.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B))):w instanceof Vt&&(3===w.code||2===w.code)?this.restoreHistory(B):w instanceof on?this.restoreHistory(B,!0):w instanceof pt&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,B){const ae=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(ae)||B.extras.replaceUrl){const Ct={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(ae,"",Ct)}else{const Pe={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(ae,"",Pe)}}restoreHistory(w,B=!1){if("computed"===this.canceledNavigationResolution){const Pe=this.currentPageId-this.browserPageId;0!==Pe?this.location.historyGo(Pe):this.currentUrlTree===w.finalUrl&&0===Pe&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){var B;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(B=w.finalUrl)&&void 0!==B?B:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,B){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:B}:{navigationId:w}}}return(b=M).\u0275fac=(()=>{let k;return function(B){return(k||(k=d.n5z(b)))(B||b)}})(),b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();var Xa=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(Xa||{});function Li(b,M){b.events.pipe((0,we.h)(k=>k instanceof pt||k instanceof Vt||k instanceof on||k instanceof $t),(0,et.U)(k=>k instanceof pt||k instanceof $t?Xa.COMPLETE:k instanceof Vt&&(0===k.code||1===k.code)?Xa.REDIRECTING:Xa.FAILED),(0,we.h)(k=>k!==Xa.REDIRECTING),(0,me.q)(1)).subscribe(()=>{M()})}function ud(b){throw b}const Pa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{var b;class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var w,B;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.f3M)(d.c2e),this.stateManager=(0,d.f3M)(Js),this.options=(0,d.f3M)(an,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.f3M)(Fs),this.urlSerializer=(0,d.f3M)(br),this.location=(0,d.f3M)(qe.Ye),this.urlHandlingStrategy=(0,d.f3M)(Fr),this._events=new De.x,this.errorHandler=this.options.errorHandler||ud,this.navigated=!1,this.routeReuseStrategy=(0,d.f3M)(Do),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(w=null===(B=(0,d.f3M)(Tr,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==w?w:[],this.componentInputBindingEnabled=!!(0,d.f3M)(Ss,{optional:!0}),this.eventsSubscription=new mt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(B=>{try{const ae=this.navigationTransitions.currentTransition,Pe=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==Pe)if(this.stateManager.handleRouterEvent(B,Pe),B instanceof Vt&&0!==B.code&&1!==B.code)this.navigated=!0;else if(B instanceof pt)this.navigated=!0;else if(B instanceof vn){const Ct=this.urlHandlingStrategy.merge(B.url,ae.currentRawUrl),cn={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ra(ae.source)};this.scheduleNavigation(Ct,Oe,null,cn,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function Bs(b){return!(b instanceof qt||b instanceof vn)})(B)&&this._events.next(B)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Oe,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((w,B)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(w,"popstate",B)},0)}))}navigateToSyncWithBrowser(w,B,ae){const Pe={replaceUrl:!0},Ct=null!=ae&&ae.navigationId?ae:null;if(ae){const yt={...ae};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(Pe.state=yt)}const cn=this.parseUrl(w);this.scheduleNavigation(cn,B,Ct,Pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ta),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,B={}){const{relativeTo:ae,queryParams:Pe,fragment:Ct,queryParamsHandling:cn,preserveFragment:yt}=B,rn=yt?this.currentUrlTree.fragment:Ct;let di,Rn=null;switch(cn){case"merge":Rn={...this.currentUrlTree.queryParams,...Pe};break;case"preserve":Rn=this.currentUrlTree.queryParams;break;default:Rn=Pe||null}null!==Rn&&(Rn=this.removeEmptyProps(Rn));try{di=Rt(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),di=this.currentUrlTree.root}return ct(di,w,Rn,null!=rn?rn:null)}navigateByUrl(w,B={skipLocationChange:!1}){const ae=Pr(w)?w:this.parseUrl(w),Pe=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Pe,Oe,null,B)}navigate(w,B={skipLocationChange:!1}){return function Vs(b){for(let M=0;M<b.length;M++)if(null==b[M])throw new d.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,B),B)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,B){let ae;if(ae=!0===B?{...Pa}:!1===B?{...eo}:B,Pr(w))return ci(this.currentUrlTree,w,ae);const Pe=this.parseUrl(w);return ci(this.currentUrlTree,Pe,ae)}removeEmptyProps(w){return Object.keys(w).reduce((B,ae)=>{const Pe=w[ae];return null!=Pe&&(B[ae]=Pe),B},{})}scheduleNavigation(w,B,ae,Pe,Ct){if(this.disposed)return Promise.resolve(!1);let cn,yt,rn;Ct?(cn=Ct.resolve,yt=Ct.reject,rn=Ct.promise):rn=new Promise((di,gr)=>{cn=di,yt=gr});const Rn=this.pendingTasks.add();return Li(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Rn))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:Pe,resolve:cn,reject:yt,promise:rn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rn.catch(di=>Promise.reject(di))}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})(),os=(()=>{var b;class M{constructor(w,B,ae,Pe,Ct,cn){var yt;this.router=w,this.route=B,this.tabIndexAttribute=ae,this.renderer=Pe,this.el=Ct,this.locationStrategy=cn,this.href=null,this.commands=null,this.onChanges=new De.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const rn=null===(yt=Ct.nativeElement.tagName)||void 0===yt?void 0:yt.toLowerCase();this.isAnchorElement="a"===rn||"area"===rn,this.isAnchorElement?this.subscription=w.events.subscribe(Rn=>{Rn instanceof pt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,B,ae,Pe,Ct){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||B||ae||Pe||Ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const B=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",B)}applyAttributeValue(w,B){const ae=this.renderer,Pe=this.el.nativeElement;null!==B?ae.setAttribute(Pe,w,B):ae.removeAttribute(Pe,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=M).\u0275fac=function(w){return new(w||b)(d.Y36(Ii),d.Y36(Ti),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(qe.S$))},b.\u0275dir=d.lG2({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,B){1&w&&d.NdJ("click",function(Pe){return B.onClick(Pe.button,Pe.ctrlKey,Pe.shiftKey,Pe.altKey,Pe.metaKey)}),2&w&&d.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),M})();class ls{}let Ki=(()=>{var b;class M{preload(w,B){return B().pipe(rt(()=>(0,re.of)(null)))}}return(b=M).\u0275fac=function(w){return new(w||b)},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})(),Yn=(()=>{var b;class M{constructor(w,B,ae,Pe,Ct){this.router=w,this.injector=ae,this.preloadingStrategy=Pe,this.loader=Ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,we.h)(w=>w instanceof pt),(0,nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,B){const ae=[];for(const yt of B){var Pe,Ct;yt.providers&&!yt._injector&&(yt._injector=(0,d.MMx)(yt.providers,w,`Route: ${yt.path}`));const rn=null!==(Pe=yt._injector)&&void 0!==Pe?Pe:w,Rn=null!==(Ct=yt._loadedInjector)&&void 0!==Ct?Ct:rn;var cn;(yt.loadChildren&&!yt._loadedRoutes&&void 0===yt.canLoad||yt.loadComponent&&!yt._loadedComponent)&&ae.push(this.preloadConfig(rn,yt)),(yt.children||yt._loadedRoutes)&&ae.push(this.processRoutes(Rn,null!==(cn=yt.children)&&void 0!==cn?cn:yt._loadedRoutes))}return(0,xe.D)(ae).pipe((0,jt.J)())}preloadConfig(w,B){return this.preloadingStrategy.preload(B,()=>{let ae;ae=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(w,B):(0,re.of)(null);const Pe=ae.pipe((0,ye.z)(Ct=>{var cn;return null===Ct?(0,re.of)(void 0):(B._loadedRoutes=Ct.routes,B._loadedInjector=Ct.injector,this.processRoutes(null!==(cn=Ct.injector)&&void 0!==cn?cn:w,Ct.routes))}));if(B.loadComponent&&!B._loadedComponent){const Ct=this.loader.loadComponent(B);return(0,xe.D)([Pe,Ct]).pipe((0,jt.J)())}return Pe})}}return(b=M).\u0275fac=function(w){return new(w||b)(d.LFG(Ii),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ls),d.LFG(Br))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),M})();const nr=new d.OlP("");let $c=(()=>{var b;class M{constructor(w,B,ae,Pe,Ct={}){this.urlSerializer=w,this.transitions=B,this.viewportScroller=ae,this.zone=Pe,this.options=Ct,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ct.scrollPositionRestoration=Ct.scrollPositionRestoration||"disabled",Ct.anchorScrolling=Ct.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Se?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof pt?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof $t&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Xt&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xt(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var w,B;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(b=M).\u0275fac=function(w){d.$Z()},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac}),M})();function en(b,M){return{\u0275kind:b,\u0275providers:M}}function sh(){const b=(0,d.f3M)(d.zs3);return M=>{var k,w;const B=b.get(d.z2F);if(M!==B.components[0])return;const ae=b.get(Ii),Pe=b.get(Ma);1===b.get(Mu)&&ae.initialNavigation(),null===(k=b.get(cs,null,d.XFs.Optional))||void 0===k||k.setUpPreloading(),null===(w=b.get(nr,null,d.XFs.Optional))||void 0===w||w.init(),ae.resetRootComponentType(B.componentTypes[0]),Pe.closed||(Pe.next(),Pe.complete(),Pe.unsubscribe())}}const Ma=new d.OlP("",{factory:()=>new De.x}),Mu=new d.OlP("",{providedIn:"root",factory:()=>1}),cs=new d.OlP("");function hd(b){return en(0,[{provide:cs,useExisting:Yn},{provide:ls,useExisting:b}])}function rr(b){return en(9,[{provide:ks,useValue:Za},{provide:Ls,useValue:{skipNextTransition:!(null==b||!b.skipInitialTransition),...b}}])}const si=new d.OlP("ROUTER_FORROOT_GUARD"),Dl=[qe.Ye,{provide:br,useClass:$r},Ii,Mr,{provide:Ti,useFactory:function Lt(b){return b.routerState.root},deps:[Ii]},Br,[]];let Kr=(()=>{var b;class M{constructor(w){}static forRoot(w,B){return{ngModule:M,providers:[Dl,[],{provide:Tr,multi:!0,useValue:w},{provide:si,useFactory:bl,deps:[[Ii,new d.FiY,new d.tp0]]},{provide:an,useValue:B||{}},null!=B&&B.useHash?{provide:qe.S$,useClass:qe.Do}:{provide:qe.S$,useClass:qe.b0},{provide:nr,useFactory:()=>{const b=(0,d.f3M)(qe.EM),M=(0,d.f3M)(d.R0b),k=(0,d.f3M)(an),w=(0,d.f3M)(Fs),B=(0,d.f3M)(br);return k.scrollOffset&&b.setOffset(k.scrollOffset),new $c(B,w,b,M,k)}},null!=B&&B.preloadingStrategy?hd(B.preloadingStrategy).\u0275providers:[],null!=B&&B.initialNavigation?pd(B):[],null!=B&&B.bindToComponentInputs?en(8,[jr,{provide:Ss,useExisting:jr}]).\u0275providers:[],null!=B&&B.enableViewTransitions?rr().\u0275providers:[],[{provide:Zi,useFactory:sh},{provide:d.tb,multi:!0,useExisting:Zi}]]}}static forChild(w){return{ngModule:M,providers:[{provide:Tr,multi:!0,useValue:w}]}}}return(b=M).\u0275fac=function(w){return new(w||b)(d.LFG(si,8))},b.\u0275mod=d.oAB({type:b}),b.\u0275inj=d.cJS({}),M})();function bl(b){return"guarded"}function pd(b){return["disabled"===b.initialNavigation?en(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const M=(0,d.f3M)(Ii);return()=>{M.setUpLocationChangeListener()}}},{provide:Mu,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?en(2,[{provide:Mu,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:M=>{const k=M.get(qe.V_,Promise.resolve());return()=>k.then(()=>new Promise(w=>{const B=M.get(Ii),ae=M.get(Ma);Li(B,()=>{w(!0)}),M.get(Fs).afterPreactivation=()=>(w(!0),ae.closed?(0,re.of)(void 0):ae),B.initialNavigation()}))}}]).\u0275providers:[]]}const Zi=new d.OlP("")},7879:(gn,ht,O)=>{"use strict";O.d(ht,{Am:()=>Ke,Ub:()=>We,Yd:()=>ge,in:()=>H});const d=[];var H=function(Ae){return Ae[Ae.DEBUG=0]="DEBUG",Ae[Ae.VERBOSE=1]="VERBOSE",Ae[Ae.INFO=2]="INFO",Ae[Ae.WARN=3]="WARN",Ae[Ae.ERROR=4]="ERROR",Ae[Ae.SILENT=5]="SILENT",Ae}(H||{});const J={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},de=H.INFO,xe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},re=(Ae,Te,...Qe)=>{if(Te<Ae.logLevel)return;const ze=(new Date).toISOString(),He=xe[Te];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[He](`[${ze}]  ${Ae.name}:`,...Qe)};class ge{constructor(Te){this.name=Te,this._logLevel=de,this._logHandler=re,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in H))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?J[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Te),this._logHandler(this,H.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Te),this._logHandler(this,H.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Te),this._logHandler(this,H.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Te),this._logHandler(this,H.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Te),this._logHandler(this,H.ERROR,...Te)}}function We(Ae){d.forEach(Te=>{Te.setLogLevel(Ae)})}function Ke(Ae,Te){for(const Qe of d){let ze=null;Te&&Te.level&&(ze=J[Te.level]),Qe.userLogHandler=null===Ae?null:(He,Ge,...mt)=>{const Xe=mt.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");Ge>=(null!=ze?ze:He.logLevel)&&Ae({level:H[Ge].toLowerCase(),message:Xe,args:mt,type:He.name})}}}},5472:(gn,ht,O)=>{"use strict";O.d(ht,{y4:()=>Xr,De:()=>xn,dy:()=>ui,oU:()=>Hn,ki:()=>Ui,O1:()=>dt,d8:()=>er,jP:()=>hr,UN:()=>Ye,r4:()=>On,SH:()=>bn,xs:()=>En,j:()=>jn,H:()=>qn,bk:()=>Et,DN:()=>Rt,Wn:()=>At,vk:()=>Ut});var d=O(5861),H=O(9212),J=O(2692),de=O(6814);class xe{constructor(){this.m=new Map}reset(Oe){this.m=new Map(Object.entries(Oe))}get(Oe,ee){const Se=this.m.get(Oe);return void 0!==Se?Se:ee}getBoolean(Oe,ee=!1){const Se=this.m.get(Oe);return void 0===Se?ee:"string"==typeof Se?"true"===Se:!!Se}getNumber(Oe,ee){const Se=parseFloat(this.m.get(Oe));return isNaN(Se)?void 0!==ee?ee:NaN:Se}set(Oe,ee){this.m.set(Oe,ee)}}const re=new xe,ze=_e=>Ge(_e),Ge=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let Oe=_e.Ionic.platforms;return null==Oe&&(Oe=_e.Ionic.platforms=mt(_e),Oe.forEach(ee=>_e.document.documentElement.classList.add(`plt-${ee}`))),Oe},mt=_e=>{const Oe=re.get("platform");return Object.keys(Ze).filter(ee=>{const Se=null==Oe?void 0:Oe[ee];return"function"==typeof Se?Se(_e):Ze[ee](_e)})},Je=_e=>!!(rt(_e,/iPad/i)||rt(_e,/Macintosh/i)&&me(_e)),De=_e=>rt(_e,/android|sink/i),me=_e=>It(_e,"(any-pointer:coarse)"),we=_e=>ye(_e)||ft(_e),ye=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),ft=_e=>{const Oe=_e.Capacitor;return!(null==Oe||!Oe.isNative)},rt=(_e,Oe)=>Oe.test(_e.navigator.userAgent),It=(_e,Oe)=>{var ee;return null===(ee=_e.matchMedia)||void 0===ee?void 0:ee.call(_e,Oe).matches},Ze={ipad:Je,iphone:_e=>rt(_e,/iPhone/i),ios:_e=>rt(_e,/iPhone|iPod/i)||Je(_e),android:De,phablet:_e=>{const Oe=_e.innerWidth,ee=_e.innerHeight,Se=Math.min(Oe,ee),pt=Math.max(Oe,ee);return Se>390&&Se<520&&pt>620&&pt<800},tablet:_e=>{const Oe=_e.innerWidth,ee=_e.innerHeight,Se=Math.min(Oe,ee),pt=Math.max(Oe,ee);return Je(_e)||(_e=>De(_e)&&!rt(_e,/mobile/i))(_e)||Se>460&&Se<820&&pt>780&&pt<1400},cordova:ye,capacitor:ft,electron:_e=>rt(_e,/electron/i),pwa:_e=>{var Oe;return!!(null!==(Oe=_e.matchMedia)&&void 0!==Oe&&Oe.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:me,mobileweb:_e=>me(_e)&&!we(_e),desktop:_e=>!me(_e),hybrid:we};var ie=O(191),he=O(3630),Ve=O(8645),je=O(2438),wt=O(5619),jt=O(2572),Ht=O(2096),St=O(7582),mn=O(2181),Kt=O(4664),Pt=O(3997),Nt=O(95);const Bt=["tabsInner"];let lr=(()=>{class _e{constructor(ee,Se){this.doc=ee,this.backButton=new Ve.x,this.keyboardDidShow=new Ve.x,this.keyboardDidHide=new Ve.x,this.pause=new Ve.x,this.resume=new Ve.x,this.resize=new Ve.x,Se.run(()=>{var pt;let Vt;this.win=ee.defaultView,this.backButton.subscribeWithPriority=function($t,on){return this.subscribe(Fn=>Fn.register($t,dn=>Se.run(()=>on(dn))))},Qn(this.pause,ee,"pause",Se),Qn(this.resume,ee,"resume",Se),Qn(this.backButton,ee,"ionBackButton",Se),Qn(this.resize,this.win,"resize",Se),Qn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Se),Qn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Se),this._readyPromise=new Promise($t=>{Vt=$t}),null!==(pt=this.win)&&void 0!==pt&&pt.cordova?ee.addEventListener("deviceready",()=>{Vt("cordova")},{once:!0}):Vt("dom")})}is(ee){return((_e,Oe)=>("string"==typeof _e&&(Oe=_e,_e=void 0),ze(_e).includes(Oe)))(this.win,ee)}platforms(){return ze(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ee){return In(this.win.location.href,ee)}isLandscape(){return!this.isPortrait()}isPortrait(){var ee,Se;return null===(ee=(Se=this.win).matchMedia)||void 0===ee?void 0:ee.call(Se,"(orientation: portrait)").matches}testUserAgent(ee){const Se=this.win.navigator;return!!(null!=Se&&Se.userAgent&&Se.userAgent.indexOf(ee)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.LFG(de.K0),H.LFG(H.R0b))},_e.\u0275prov=H.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const In=(_e,Oe)=>{Oe=Oe.replace(/[[\]\\]/g,"\\$&");const Se=new RegExp("[\\?&]"+Oe+"=([^&#]*)").exec(_e);return Se?decodeURIComponent(Se[1].replace(/\+/g," ")):null},Qn=(_e,Oe,ee,Se)=>{Oe&&Oe.addEventListener(ee,pt=>{Se.run(()=>{_e.next(null!=pt?pt.detail:void 0)})})};let bn=(()=>{class _e{constructor(ee,Se,pt,Vt){this.location=Se,this.serializer=pt,this.router=Vt,this.direction=Jn,this.animated=cr,this.guessDirection="forward",this.lastNavId=-1,Vt&&Vt.events.subscribe($t=>{if($t instanceof J.OD){const on=$t.restoredState?$t.restoredState.navigationId:$t.id;this.guessDirection=on<this.lastNavId?"back":"forward",this.guessAnimation=$t.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?$t.id:on}}),ee.backButton.subscribeWithPriority(0,$t=>{this.pop(),$t()})}navigateForward(ee,Se={}){return this.setDirection("forward",Se.animated,Se.animationDirection,Se.animation),this.navigate(ee,Se)}navigateBack(ee,Se={}){return this.setDirection("back",Se.animated,Se.animationDirection,Se.animation),this.navigate(ee,Se)}navigateRoot(ee,Se={}){return this.setDirection("root",Se.animated,Se.animationDirection,Se.animation),this.navigate(ee,Se)}back(ee={animated:!0,animationDirection:"back"}){return this.setDirection("back",ee.animated,ee.animationDirection,ee.animation),this.location.back()}pop(){var ee=this;return(0,d.Z)(function*(){let Se=ee.topOutlet;for(;Se;){if(yield Se.pop())return!0;Se=Se.parentOutlet}return!1})()}setDirection(ee,Se,pt,Vt){this.direction=ee,this.animated=ci(ee,Se,pt),this.animationBuilder=Vt}setTopOutlet(ee){this.topOutlet=ee}consumeTransition(){let Se,ee="root";const pt=this.animationBuilder;return"auto"===this.direction?(ee=this.guessDirection,Se=this.guessAnimation):(Se=this.animated,ee=this.direction),this.direction=Jn,this.animated=cr,this.animationBuilder=void 0,{direction:ee,animation:Se,animationBuilder:pt}}navigate(ee,Se){if(Array.isArray(ee))return this.router.navigate(ee,Se);{const pt=this.serializer.parse(ee.toString());return void 0!==Se.queryParams&&(pt.queryParams={...Se.queryParams}),void 0!==Se.fragment&&(pt.fragment=Se.fragment),this.router.navigateByUrl(pt,Se)}}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.LFG(lr),H.LFG(de.Ye),H.LFG(J.Hx),H.LFG(J.F0,8))},_e.\u0275prov=H.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const ci=(_e,Oe,ee)=>{if(!1!==Oe){if(void 0!==ee)return ee;if("forward"===_e||"back"===_e)return _e;if("root"===_e&&!0===Oe)return"forward"}},Jn="auto",cr=void 0;let xn=(()=>{class _e{get(ee,Se){const pt=qr();return pt?pt.get(ee,Se):null}getBoolean(ee,Se){const pt=qr();return!!pt&&pt.getBoolean(ee,Se)}getNumber(ee,Se){const pt=qr();return pt?pt.getNumber(ee,Se):0}}return _e.\u0275fac=function(ee){return new(ee||_e)},_e.\u0275prov=H.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})();const ui=new H.OlP("USERCONFIG"),qr=()=>{if(typeof window<"u"){const _e=window.Ionic;if(null!=_e&&_e.config)return _e.config}return null};class Sn{constructor(Oe={}){this.data=Oe}get(Oe){return this.data[Oe]}}let Xr=(()=>{class _e{constructor(){this.zone=(0,H.f3M)(H.R0b),this.applicationRef=(0,H.f3M)(H.z2F)}create(ee,Se,pt){return new ir(ee,Se,this.applicationRef,this.zone,pt)}}return _e.\u0275fac=function(ee){return new(ee||_e)},_e.\u0275prov=H.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class ir{constructor(Oe,ee,Se,pt,Vt){this.environmentInjector=Oe,this.injector=ee,this.applicationRef=Se,this.zone=pt,this.elementReferenceKey=Vt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Oe,ee,Se,pt){return this.zone.run(()=>new Promise(Vt=>{const $t={...Se};void 0!==this.elementReferenceKey&&($t[this.elementReferenceKey]=Oe),Vt(Ci(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Oe,ee,$t,pt,this.elementReferenceKey))}))}removeViewFromDom(Oe,ee){return this.zone.run(()=>new Promise(Se=>{const pt=this.elRefMap.get(ee);if(pt){pt.destroy(),this.elRefMap.delete(ee);const Vt=this.elEventsMap.get(ee);Vt&&(Vt(),this.elEventsMap.delete(ee))}Se()}))}}const Ci=(_e,Oe,ee,Se,pt,Vt,$t,on,Fn,dn,wr)=>{const z=H.zs3.create({providers:br(Fn),parent:ee}),ne=(0,H.LMc)(on,{environmentInjector:Oe,elementInjector:z}),$e=ne.instance,it=ne.location.nativeElement;if(Fn&&(wr&&void 0!==$e[wr]&&console.error(`[Ionic Error]: ${wr} is a reserved property when using ${$t.tagName.toLowerCase()}. Rename or remove the "${wr}" property from ${on.name}.`),Object.assign($e,Fn)),dn)for(const vt of dn)it.classList.add(vt);const Mt=pn(_e,$e,it);return $t.appendChild(it),Se.attachView(ne.hostView),pt.set(it,ne),Vt.set(it,Mt),it},Ir=[ie.L,ie.a,ie.b,ie.c,ie.d],pn=(_e,Oe,ee)=>_e.run(()=>{const Se=Ir.filter(pt=>"function"==typeof Oe[pt]).map(pt=>{const Vt=$t=>Oe[pt]($t.detail);return ee.addEventListener(pt,Vt),()=>ee.removeEventListener(pt,Vt)});return()=>Se.forEach(pt=>pt())}),sr=new H.OlP("NavParamsToken"),br=_e=>[{provide:sr,useValue:_e},{provide:Sn,useFactory:$r,deps:[sr]}],$r=_e=>new Sn(_e),ki=(_e,Oe)=>{const ee=_e.prototype;Oe.forEach(Se=>{Object.defineProperty(ee,Se,{get(){return this.el[Se]},set(pt){this.z.runOutsideAngular(()=>this.el[Se]=pt)}})})},fi=(_e,Oe)=>{const ee=_e.prototype;Oe.forEach(Se=>{ee[Se]=function(){const pt=arguments;return this.z.runOutsideAngular(()=>this.el[Se].apply(this.el,pt))}})},Gr=(_e,Oe,ee)=>{ee.forEach(Se=>_e[Se]=(0,je.R)(Oe,Se))};function ri(_e){return function(ee){const{defineCustomElementFn:Se,inputs:pt,methods:Vt}=_e;return void 0!==Se&&Se(),pt&&ki(ee,pt),Vt&&fi(ee,Vt),ee}}const ii=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Zn=["present","dismiss","onDidDismiss","onWillDismiss"];let er=(()=>{let _e=class{constructor(ee,Se,pt){this.z=pt,this.isCmpOpen=!1,this.el=Se.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),Gr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(H.sBO),H.Y36(H.SBq),H.Y36(H.R0b))},_e.\u0275dir=H.lG2({type:_e,selectors:[["ion-popover"]],contentQueries:function(ee,Se,pt){if(1&ee&&H.Suo(pt,H.Rgc,5),2&ee){let Vt;H.iGM(Vt=H.CRH())&&(Se.template=Vt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),_e=(0,St.gn)([ri({inputs:ii,methods:Zn})],_e),_e})();const mi=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],bi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ui=(()=>{let _e=class{constructor(ee,Se,pt){this.z=pt,this.isCmpOpen=!1,this.el=Se.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),Gr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(H.sBO),H.Y36(H.SBq),H.Y36(H.R0b))},_e.\u0275dir=H.lG2({type:_e,selectors:[["ion-modal"]],contentQueries:function(ee,Se,pt){if(1&ee&&H.Suo(pt,H.Rgc,5),2&ee){let Vt;H.iGM(Vt=H.CRH())&&(Se.template=Vt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),_e=(0,St.gn)([ri({inputs:mi,methods:bi})],_e),_e})();const pe=(_e,Oe)=>((_e=_e.filter(ee=>ee.stackId!==Oe.stackId)).push(Oe),_e),le=(_e,Oe)=>{const ee=_e.createUrlTree(["."],{relativeTo:Oe});return _e.serializeUrl(ee)},lt=(_e,Oe)=>!Oe||_e.stackId!==Oe.stackId,xt=(_e,Oe)=>{if(!_e)return;const ee=Yt(Oe);for(let Se=0;Se<ee.length;Se++){if(Se>=_e.length)return ee[Se];if(ee[Se]!==_e[Se])return}},Yt=_e=>_e.split("/").map(Oe=>Oe.trim()).filter(Oe=>""!==Oe),Wn=_e=>{_e&&(_e.ref.destroy(),_e.unlistenEvents())};class Xn{constructor(Oe,ee,Se,pt,Vt,$t){this.containerEl=ee,this.router=Se,this.navCtrl=pt,this.zone=Vt,this.location=$t,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Oe?Yt(Oe):void 0}createView(Oe,ee){var Se;const pt=le(this.router,ee),Vt=null==Oe||null===(Se=Oe.location)||void 0===Se?void 0:Se.nativeElement,$t=pn(this.zone,Oe.instance,Vt);return{id:this.nextId++,stackId:xt(this.tabsPrefix,pt),unlistenEvents:$t,element:Vt,ref:Oe,url:pt}}getExistingView(Oe){const ee=le(this.router,Oe),Se=this.views.find(pt=>pt.url===ee);return Se&&Se.ref.changeDetectorRef.reattach(),Se}setActive(Oe){var ee,Se;const pt=this.navCtrl.consumeTransition();let{direction:Vt,animation:$t,animationBuilder:on}=pt;const Fn=this.activeView,dn=lt(Oe,Fn);dn&&(Vt="back",$t=void 0);const wr=this.views.slice();let z;const ne=this.router;ne.getCurrentNavigation?z=ne.getCurrentNavigation():null!==(ee=ne.navigations)&&void 0!==ee&&ee.value&&(z=ne.navigations.value),null!==(Se=z)&&void 0!==Se&&null!==(Se=Se.extras)&&void 0!==Se&&Se.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const $e=this.views.includes(Oe),it=this.insertView(Oe,Vt);$e||Oe.ref.changeDetectorRef.detectChanges();const Mt=Oe.animationBuilder;return void 0===on&&"back"===Vt&&!dn&&void 0!==Mt&&(on=Mt),Fn&&(Fn.animationBuilder=on),this.zone.runOutsideAngular(()=>this.wait(()=>(Fn&&Fn.ref.changeDetectorRef.detach(),Oe.ref.changeDetectorRef.reattach(),this.transition(Oe,Fn,$t,this.canGoBack(1),!1,on).then(()=>mr(Oe,it,wr,this.location,this.zone)).then(()=>({enteringView:Oe,direction:Vt,animation:$t,tabSwitch:dn})))))}canGoBack(Oe,ee=this.getActiveStackId()){return this.getStack(ee).length>Oe}pop(Oe,ee=this.getActiveStackId()){return this.zone.run(()=>{const Se=this.getStack(ee);if(Se.length<=Oe)return Promise.resolve(!1);const pt=Se[Se.length-Oe-1];let Vt=pt.url;const $t=pt.savedData;if($t){var on;const dn=$t.get("primary");null!=dn&&null!==(on=dn.route)&&void 0!==on&&null!==(on=on._routerState)&&void 0!==on&&on.snapshot.url&&(Vt=dn.route._routerState.snapshot.url)}const{animationBuilder:Fn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Vt,{...pt.savedExtras,animation:Fn}).then(()=>!0)})}startBackTransition(){const Oe=this.activeView;if(Oe){const ee=this.getStack(Oe.stackId),Se=ee[ee.length-2],pt=Se.animationBuilder;return this.wait(()=>this.transition(Se,Oe,"back",this.canGoBack(2),!0,pt))}return Promise.resolve()}endBackTransition(Oe){Oe?(this.skipTransition=!0,this.pop(1)):this.activeView&&kn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Oe){const ee=this.getStack(Oe);return ee.length>0?ee[ee.length-1]:void 0}getRootUrl(Oe){const ee=this.getStack(Oe);return ee.length>0?ee[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Wn),this.activeView=void 0,this.views=[]}getStack(Oe){return this.views.filter(ee=>ee.stackId===Oe)}insertView(Oe,ee){return this.activeView=Oe,this.views=((_e,Oe,ee)=>"root"===ee?pe(_e,Oe):"forward"===ee?((_e,Oe)=>(_e.indexOf(Oe)>=0?_e=_e.filter(Se=>Se.stackId!==Oe.stackId||Se.id<=Oe.id):_e.push(Oe),_e))(_e,Oe):((_e,Oe)=>_e.indexOf(Oe)>=0?_e.filter(Se=>Se.stackId!==Oe.stackId||Se.id<=Oe.id):pe(_e,Oe))(_e,Oe))(this.views,Oe,ee),this.views.slice()}transition(Oe,ee,Se,pt,Vt,$t){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ee===Oe)return Promise.resolve(!1);const on=Oe?Oe.element:void 0,Fn=ee?ee.element:void 0,dn=this.containerEl;return on&&on!==Fn&&(on.classList.add("ion-page"),on.classList.add("ion-page-invisible"),on.parentElement!==dn&&dn.appendChild(on),dn.commit)?dn.commit(on,Fn,{duration:void 0===Se?0:void 0,direction:Se,showGoBack:pt,progressAnimation:Vt,animationBuilder:$t}):Promise.resolve(!1)}wait(Oe){var ee=this;return(0,d.Z)(function*(){void 0!==ee.runningTask&&(yield ee.runningTask,ee.runningTask=void 0);const Se=ee.runningTask=Oe();return Se.finally(()=>ee.runningTask=void 0),Se})()}}const mr=(_e,Oe,ee,Se,pt)=>"function"==typeof requestAnimationFrame?new Promise(Vt=>{requestAnimationFrame(()=>{kn(_e,Oe,ee,Se,pt),Vt()})}):Promise.resolve(),kn=(_e,Oe,ee,Se,pt)=>{pt.run(()=>ee.filter(Vt=>!Oe.includes(Vt)).forEach(Wn)),Oe.forEach(Vt=>{const on=Se.path().split("?")[0].split("#")[0];if(Vt!==_e&&Vt.url!==on){const Fn=Vt.element;Fn.setAttribute("aria-hidden","true"),Fn.classList.add("ion-page-hidden"),Vt.ref.changeDetectorRef.detach()}})};let hr=(()=>{class _e{constructor(ee,Se,pt,Vt,$t,on,Fn,dn){this.parentOutlet=dn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new wt.X(null),this.activated=null,this._activatedRoute=null,this.name=J.eC,this.stackWillChange=new H.vpe,this.stackDidChange=new H.vpe,this.activateEvents=new H.vpe,this.deactivateEvents=new H.vpe,this.parentContexts=(0,H.f3M)(J.y6),this.location=(0,H.f3M)(H.s_b),this.environmentInjector=(0,H.f3M)(H.lqb),this.inputBinder=(0,H.f3M)(Pr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,H.f3M)(xn),this.navCtrl=(0,H.f3M)(bn),this.nativeEl=Vt.nativeElement,this.name=ee||J.eC,this.tabsPrefix="true"===Se?le($t,Fn):void 0,this.stackCtrl=new Xn(this.tabsPrefix,this.nativeEl,$t,this.navCtrl,on,pt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(ee){this.nativeEl.animation=ee}set animated(ee){this.nativeEl.animated=ee}set swipeGesture(ee){this._swipeGesture=ee,this.nativeEl.swipeHandler=ee?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Se=>this.stackCtrl.endBackTransition(Se)}:void 0}ngOnDestroy(){var ee;this.stackCtrl.destroy(),null===(ee=this.inputBinder)||void 0===ee||ee.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ee=this.getContext();null!=ee&&ee.route&&this.activateWith(ee.route,ee.injector)}new Promise(ee=>(0,he.c)(this.nativeEl,ee)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ee,Se){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Se=this.getContext();this.activatedView.savedData=new Map(Se.children.contexts);const pt=this.activatedView.savedData.get("primary");if(pt&&Se.route&&(pt.route={...Se.route}),this.activatedView.savedExtras={},Se.route){const Vt=Se.route.snapshot;this.activatedView.savedExtras.queryParams=Vt.queryParams,this.activatedView.savedExtras.fragment=Vt.fragment}}const ee=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ee)}}activateWith(ee,Se){var pt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ee;let Vt,$t=this.stackCtrl.getExistingView(ee);if($t){Vt=this.activated=$t.ref;const dn=$t.savedData;dn&&(this.getContext().children.contexts=dn),this.updateActivatedRouteProxy(Vt.instance,ee)}else{var on;const dn=ee._futureSnapshot,wr=this.parentContexts.getOrCreateContext(this.name).children,z=new wt.X(null),ne=this.createActivatedRouteProxy(z,ee),$e=new wi(ne,wr,this.location.injector),it=null!==(on=dn.routeConfig.component)&&void 0!==on?on:dn.component;Vt=this.activated=this.location.createComponent(it,{index:this.location.length,injector:$e,environmentInjector:null!=Se?Se:this.environmentInjector}),z.next(Vt.instance),$t=this.stackCtrl.createView(this.activated,ee),this.proxyMap.set(Vt.instance,ne),this.currentActivatedRoute$.next({component:Vt.instance,activatedRoute:ee})}null===(pt=this.inputBinder)||void 0===pt||pt.bindActivatedRouteToOutletComponent(this),this.activatedView=$t,this.navCtrl.setTopOutlet(this);const Fn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:$t,tabSwitch:lt($t,Fn)}),this.stackCtrl.setActive($t).then(dn=>{this.activateEvents.emit(Vt.instance),this.stackDidChange.emit(dn)})}canGoBack(ee=1,Se){return this.stackCtrl.canGoBack(ee,Se)}pop(ee=1,Se){return this.stackCtrl.pop(ee,Se)}getLastUrl(ee){const Se=this.stackCtrl.getLastUrl(ee);return Se?Se.url:void 0}getLastRouteView(ee){return this.stackCtrl.getLastUrl(ee)}getRootView(ee){return this.stackCtrl.getRootUrl(ee)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ee,Se){const pt=new J.gz;return pt._futureSnapshot=Se._futureSnapshot,pt._routerState=Se._routerState,pt.snapshot=Se.snapshot,pt.outlet=Se.outlet,pt.component=Se.component,pt._paramMap=this.proxyObservable(ee,"paramMap"),pt._queryParamMap=this.proxyObservable(ee,"queryParamMap"),pt.url=this.proxyObservable(ee,"url"),pt.params=this.proxyObservable(ee,"params"),pt.queryParams=this.proxyObservable(ee,"queryParams"),pt.fragment=this.proxyObservable(ee,"fragment"),pt.data=this.proxyObservable(ee,"data"),pt}proxyObservable(ee,Se){return ee.pipe((0,mn.h)(pt=>!!pt),(0,Kt.w)(pt=>this.currentActivatedRoute$.pipe((0,mn.h)(Vt=>null!==Vt&&Vt.component===pt),(0,Kt.w)(Vt=>Vt&&Vt.activatedRoute[Se]),(0,Pt.x)())))}updateActivatedRouteProxy(ee,Se){const pt=this.proxyMap.get(ee);if(!pt)throw new Error("Could not find activated route proxy for view");pt._futureSnapshot=Se._futureSnapshot,pt._routerState=Se._routerState,pt.snapshot=Se.snapshot,pt.outlet=Se.outlet,pt.component=Se.component,this.currentActivatedRoute$.next({component:ee,activatedRoute:Se})}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.$8M("name"),H.$8M("tabs"),H.Y36(de.Ye),H.Y36(H.SBq),H.Y36(J.F0),H.Y36(H.R0b),H.Y36(J.gz),H.Y36(_e,12))},_e.\u0275dir=H.lG2({type:_e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),_e})();class wi{constructor(Oe,ee,Se){this.route=Oe,this.childContexts=ee,this.parent=Se}get(Oe,ee){return Oe===J.gz?this.route:Oe===J.y6?this.childContexts:this.parent.get(Oe,ee)}}const Pr=new H.OlP("");let Wi=(()=>{class _e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ee){this.unsubscribeFromRouteData(ee),this.subscribeToRouteData(ee)}unsubscribeFromRouteData(ee){var Se;null===(Se=this.outletDataSubscriptions.get(ee))||void 0===Se||Se.unsubscribe(),this.outletDataSubscriptions.delete(ee)}subscribeToRouteData(ee){const{activatedRoute:Se}=ee,pt=(0,jt.a)([Se.queryParams,Se.params,Se.data]).pipe((0,Kt.w)(([Vt,$t,on],Fn)=>(on={...Vt,...$t,...on},0===Fn?(0,Ht.of)(on):Promise.resolve(on)))).subscribe(Vt=>{if(!ee.isActivated||!ee.activatedComponentRef||ee.activatedRoute!==Se||null===Se.component)return void this.unsubscribeFromRouteData(ee);const $t=(0,H.qFp)(Se.component);if($t)for(const{templateName:on}of $t.inputs)ee.activatedComponentRef.setInput(on,Vt[on]);else this.unsubscribeFromRouteData(ee)});this.outletDataSubscriptions.set(ee,pt)}}return _e.\u0275fac=function(ee){return new(ee||_e)},_e.\u0275prov=H.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Rt=()=>({provide:Pr,useFactory:ct,deps:[J.F0]});function ct(_e){return null!=_e&&_e.componentInputBindingEnabled?new Wi:null}const Jt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Hn=(()=>{let _e=class{constructor(ee,Se,pt,Vt,$t,on){this.routerOutlet=ee,this.navCtrl=Se,this.config=pt,this.r=Vt,this.z=$t,on.detach(),this.el=this.r.nativeElement}onClick(ee){var Se;const pt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Se=this.routerOutlet)&&void 0!==Se&&Se.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ee.preventDefault()):null!=pt&&(this.navCtrl.navigateBack(pt,{animation:this.routerAnimation}),ee.preventDefault())}};return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(hr,8),H.Y36(bn),H.Y36(xn),H.Y36(H.SBq),H.Y36(H.R0b),H.Y36(H.sBO))},_e.\u0275dir=H.lG2({type:_e,hostBindings:function(ee,Se){1&ee&&H.NdJ("click",function(Vt){return Se.onClick(Vt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),_e=(0,St.gn)([ri({inputs:Jt})],_e),_e})(),jn=(()=>{class _e{constructor(ee,Se,pt,Vt,$t){this.locationStrategy=ee,this.navCtrl=Se,this.elementRef=pt,this.router=Vt,this.routerLink=$t,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Se=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Se}}onClick(ee){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ee.preventDefault()}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(de.S$),H.Y36(bn),H.Y36(H.SBq),H.Y36(J.F0),H.Y36(J.rH,8))},_e.\u0275dir=H.lG2({type:_e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ee,Se){1&ee&&H.NdJ("click",function(Vt){return Se.onClick(Vt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.TTD]}),_e})(),qn=(()=>{class _e{constructor(ee,Se,pt,Vt,$t){this.locationStrategy=ee,this.navCtrl=Se,this.elementRef=pt,this.router=Vt,this.routerLink=$t,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Se=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Se}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(de.S$),H.Y36(bn),H.Y36(H.SBq),H.Y36(J.F0),H.Y36(J.rH,8))},_e.\u0275dir=H.lG2({type:_e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ee,Se){1&ee&&H.NdJ("click",function(){return Se.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[H.TTD]}),_e})();const Bn=["animated","animation","root","rootParams","swipeGesture"],Yr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let dt=(()=>{let _e=class{constructor(ee,Se,pt,Vt,$t,on){this.z=$t,on.detach(),this.el=ee.nativeElement,ee.nativeElement.delegate=Vt.create(Se,pt),Gr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(H.SBq),H.Y36(H.lqb),H.Y36(H.zs3),H.Y36(Xr),H.Y36(H.R0b),H.Y36(H.sBO))},_e.\u0275dir=H.lG2({type:_e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),_e=(0,St.gn)([ri({inputs:Bn,methods:Yr})],_e),_e})(),Ye=(()=>{class _e{constructor(ee){this.navCtrl=ee,this.ionTabsWillChange=new H.vpe,this.ionTabsDidChange=new H.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ee,tabSwitch:Se}){const pt=ee.stackId;Se&&void 0!==pt&&this.ionTabsWillChange.emit({tab:pt})}onStackDidChange({enteringView:ee,tabSwitch:Se}){const pt=ee.stackId;Se&&void 0!==pt&&(this.tabBar&&(this.tabBar.selectedTab=pt),this.ionTabsDidChange.emit({tab:pt}))}select(ee){const Se="string"==typeof ee,pt=Se?ee:ee.detail.tab,Vt=this.outlet.getActiveStackId()===pt,$t=`${this.outlet.tabsPrefix}/${pt}`;if(Se||ee.stopPropagation(),Vt){const on=this.outlet.getActiveStackId(),Fn=this.outlet.getLastRouteView(on);if((null==Fn?void 0:Fn.url)===$t)return;const dn=this.outlet.getRootView(pt);return this.navCtrl.navigateRoot($t,{...dn&&$t===dn.url&&dn.savedExtras,animated:!0,animationDirection:"back"})}{const on=this.outlet.getLastRouteView(pt);return this.navCtrl.navigateRoot((null==on?void 0:on.url)||$t,{...null==on?void 0:on.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ee=>{const Se=ee.el.getAttribute("slot");Se!==this.tabBarSlot&&(this.tabBarSlot=Se,this.relocateTabBar())})}relocateTabBar(){const ee=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ee):this.tabsInner.nativeElement.after(ee)}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(bn))},_e.\u0275dir=H.lG2({type:_e,selectors:[["ion-tabs"]],viewQuery:function(ee,Se){if(1&ee&&H.Gf(Bt,7,H.SBq),2&ee){let pt;H.iGM(pt=H.CRH())&&(Se.tabsInner=pt.first)}},hostBindings:function(ee,Se){1&ee&&H.NdJ("ionTabButtonClick",function(Vt){return Se.select(Vt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),_e})();const At=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e);let Et=(()=>{class _e{constructor(ee,Se){this.injector=ee,this.elementRef=Se,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(ee){this.elementRef.nativeElement.value=this.lastValue=ee,Ut(this.elementRef)}handleValueChange(ee,Se){ee===this.elementRef.nativeElement&&(Se!==this.lastValue&&(this.lastValue=Se,this.onChange(Se)),Ut(this.elementRef))}_handleBlurEvent(ee){ee===this.elementRef.nativeElement&&(this.onTouched(),Ut(this.elementRef))}registerOnChange(ee){this.onChange=ee}registerOnTouched(ee){this.onTouched=ee}setDisabledState(ee){this.elementRef.nativeElement.disabled=ee}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ee;try{ee=this.injector.get(Nt.a5)}catch{}if(!ee)return;ee.statusChanges&&(this.statusChanges=ee.statusChanges.subscribe(()=>Ut(this.elementRef)));const Se=ee.control;Se&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Vt=>{if(typeof Se[Vt]<"u"){const $t=Se[Vt].bind(Se);Se[Vt]=(...on)=>{$t(...on),Ut(this.elementRef)}}})}}return _e.\u0275fac=function(ee){return new(ee||_e)(H.Y36(H.zs3),H.Y36(H.SBq))},_e.\u0275dir=H.lG2({type:_e,hostBindings:function(ee,Se){1&ee&&H.NdJ("ionBlur",function(Vt){return Se._handleBlurEvent(Vt.target)})}}),_e})();const Ut=_e=>{At(()=>{const Oe=_e.nativeElement,ee=null!=Oe.value&&Oe.value.toString().length>0,Se=Wt(Oe);Cn(Oe,Se);const pt=Oe.closest("ion-item");pt&&Cn(pt,ee?[...Se,"item-has-value"]:Se)})},Wt=_e=>{const Oe=_e.classList,ee=[];for(let Se=0;Se<Oe.length;Se++){const pt=Oe.item(Se);null!==pt&&yn(pt,"ng-")&&ee.push(`ion-${pt.substring(3)}`)}return ee},Cn=(_e,Oe)=>{const ee=_e.classList;ee.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ee.add(...Oe)},yn=(_e,Oe)=>_e.substring(0,Oe.length)===Oe;class On{shouldDetach(Oe){return!1}shouldAttach(Oe){return!1}store(Oe,ee){}retrieve(Oe){return null}shouldReuseRoute(Oe,ee){if(Oe.routeConfig!==ee.routeConfig)return!1;const Se=Oe.params,pt=ee.params,Vt=Object.keys(Se),$t=Object.keys(pt);if(Vt.length!==$t.length)return!1;for(const on of Vt)if(pt[on]!==Se[on])return!1;return!0}}class En{constructor(Oe){this.ctrl=Oe}create(Oe){return this.ctrl.create(Oe||{})}dismiss(Oe,ee,Se){return this.ctrl.dismiss(Oe,ee,Se)}getTop(){return this.ctrl.getTop()}}},6728:(gn,ht,O)=>{"use strict";O.d(ht,{dr:()=>Ht,BJ:()=>St,oU:()=>ee,yp:()=>Kt,YG:()=>Bt,Sm:()=>nn,PM:()=>zn,FN:()=>Gn,Zi:()=>lr,tO:()=>In,Dq:()=>Qn,wI:()=>Jn,W2:()=>cr,jY:()=>Ci,Gu:()=>Ir,gu:()=>pn,Xz:()=>sr,pK:()=>ki,Ie:()=>fi,Q$:()=>mi,q_:()=>bi,Nd:()=>Rt,VI:()=>ct,CK:()=>Bn,yq:()=>Ye,ZU:()=>At,UN:()=>Oe,wd:()=>Cn,sr:()=>En,Pc:()=>Jr,YI:()=>pt,j9:()=>Ze});var d=O(9212),H=O(95),J=O(5472),de=O(7582),xe=O(2438),re=O(6814),ge=O(2692),ze=(O(6410),O(448),O(2619),O(9023),O(9203),O(3882)),He=O(3365),mt=(O(1783),O(7612)),Je=(O(6225),O(5349));O(619);const qe=ze.i,Fe=["*"],me=["outlet"],Re=[[["","slot","top"]],"*"],we=["[slot=top]","*"];let Ze=(()=>{class R extends J.bk{constructor(V,be){super(V,be)}_handleInputEvent(V){this.handleValueChange(V,V.value)}}return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.zs3),d.Y36(d.SBq))},R.\u0275dir=d.lG2({type:R,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(V,be){1&V&&d.NdJ("ionInput",function(_r){return be._handleInputEvent(_r.target)})},features:[d._Bn([{provide:H.JU,useExisting:R,multi:!0}]),d.qOj]}),R})();const oe=(R,Ee)=>{const V=R.prototype;Ee.forEach(be=>{Object.defineProperty(V,be,{get(){return this.el[be]},set(gt){this.z.runOutsideAngular(()=>this.el[be]=gt)},configurable:!0})})},Q=(R,Ee)=>{const V=R.prototype;Ee.forEach(be=>{V[be]=function(){const gt=arguments;return this.z.runOutsideAngular(()=>this.el[be].apply(this.el,gt))}})},K=(R,Ee,V)=>{V.forEach(be=>R[be]=(0,xe.R)(Ee,be))};function he(R){return function(V){const{defineCustomElementFn:be,inputs:gt,methods:_r}=R;return void 0!==be&&be(),gt&&oe(V,gt),_r&&Q(V,_r),V}}let Ht=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-app"]],ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({})],R),R})(),St=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-avatar"]],ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({})],R),R})(),Kt=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode"]})],R),R})(),Bt=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement,K(this,this.el,["ionFocus","ionBlur"])}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],R),R})(),nn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["collapse"]})],R),R})(),zn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],R),R})(),Gn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["mode"]})],R),R})(),lr=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode","translucent"]})],R),R})(),In=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode"]})],R),R})(),Qn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode"]})],R),R})(),Jn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],R),R})(),cr=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement,K(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],R),R})(),Ci=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["fixed"]})],R),R})(),Ir=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["collapse","mode","translucent"]})],R),R})(),pn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],R),R})(),sr=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement,K(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["alt","src"]})],R),R})(),ki=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement,K(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],R),R})(),fi=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],R),R})(),mi=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode","position"]})],R),R})(),bi=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],R),R})(),Rt=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-row"]],ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({})],R),R})(),ct=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement,K(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],R),R})(),Bn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["animated"]})],R),R})(),Ye=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode","selectedTab","translucent"]})],R),R})(),At=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],R),R})(),Cn=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","size"]})],R),R})(),En=(()=>{let R=class{constructor(V,be,gt){this.z=gt,V.detach(),this.el=be.nativeElement}};return R.\u0275fac=function(V){return new(V||R)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R=(0,de.gn)([he({inputs:["color","mode"]})],R),R})(),_e=(()=>{class R extends J.jP{constructor(V,be,gt,_r,zr,Ti,xr,ts){super(V,be,gt,_r,zr,Ti,xr,ts),this.parentOutlet=ts}}return R.\u0275fac=function(V){return new(V||R)(d.$8M("name"),d.$8M("tabs"),d.Y36(re.Ye),d.Y36(d.SBq),d.Y36(ge.F0),d.Y36(d.R0b),d.Y36(ge.gz),d.Y36(R,12))},R.\u0275dir=d.lG2({type:R,selectors:[["ion-router-outlet"]],features:[d.qOj]}),R})(),Oe=(()=>{class R extends J.UN{}return R.\u0275fac=(()=>{let Ee;return function(be){return(Ee||(Ee=d.n5z(R)))(be||R)}})(),R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-tabs"]],contentQueries:function(V,be,gt){if(1&V&&(d.Suo(gt,Ye,5),d.Suo(gt,Ye,4)),2&V){let _r;d.iGM(_r=d.CRH())&&(be.tabBar=_r.first),d.iGM(_r=d.CRH())&&(be.tabBars=_r)}},viewQuery:function(V,be){if(1&V&&d.Gf(me,5,_e),2&V){let gt;d.iGM(gt=d.CRH())&&(be.outlet=gt.first)}},features:[d.qOj],ngContentSelectors:we,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(V,be){1&V&&(d.F$t(Re),d.Hsn(0),d.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),d.NdJ("stackWillChange",function(_r){return be.onStackWillChange(_r)})("stackDidChange",function(_r){return be.onStackDidChange(_r)}),d.qZA()(),d.Hsn(5,1))},dependencies:[_e],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),R})(),ee=(()=>{class R extends J.oU{constructor(V,be,gt,_r,zr,Ti){super(V,be,gt,_r,zr,Ti)}}return R.\u0275fac=function(V){return new(V||R)(d.Y36(_e,8),d.Y36(J.SH),d.Y36(J.De),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO))},R.\u0275cmp=d.Xpm({type:R,selectors:[["ion-back-button"]],features:[d.qOj],ngContentSelectors:Fe,decls:1,vars:0,template:function(V,be){1&V&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),R})(),pt=(()=>{class R extends J.j{}return R.\u0275fac=(()=>{let Ee;return function(be){return(Ee||(Ee=d.n5z(R)))(be||R)}})(),R.\u0275dir=d.lG2({type:R,selectors:[["","routerLink","",5,"a",5,"area"]],features:[d.qOj]}),R})();const Fn={provide:H.Cf,useExisting:(0,d.Gpc)(()=>dn),multi:!0};let dn=(()=>{class R extends H.Fd{}return R.\u0275fac=(()=>{let Ee;return function(be){return(Ee||(Ee=d.n5z(R)))(be||R)}})(),R.\u0275dir=d.lG2({type:R,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(V,be){2&V&&d.uIk("max",be._enabled?be.max:null)},features:[d._Bn([Fn]),d.qOj]}),R})();const wr={provide:H.Cf,useExisting:(0,d.Gpc)(()=>z),multi:!0};let z=(()=>{class R extends H.qQ{}return R.\u0275fac=(()=>{let Ee;return function(be){return(Ee||(Ee=d.n5z(R)))(be||R)}})(),R.\u0275dir=d.lG2({type:R,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(V,be){2&V&&d.uIk("min",be._enabled?be.min:null)},features:[d._Bn([wr]),d.qOj]}),R})(),ln=(()=>{class R extends J.xs{constructor(){super(mt.m),this.angularDelegate=(0,d.f3M)(J.y4),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(V){return super.create({...V,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return R.\u0275fac=function(V){return new(V||R)},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),R})();class qt extends J.xs{constructor(){super(mt.c),this.angularDelegate=(0,d.f3M)(J.y4),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(Ee){return super.create({...Ee,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Un=(R,Ee,V)=>()=>{if(Ee.defaultView&&typeof window<"u"){(0,He.s)({...R,_zoneGate:_r=>V.run(_r)});const gt="__zone_symbol__addEventListener"in Ee.body?"__zone_symbol__addEventListener":"addEventListener";return function De(){var R=[];if(typeof window<"u"){var Ee=window;(!Ee.customElements||Ee.Element&&(!Ee.Element.prototype.closest||!Ee.Element.prototype.matches||!Ee.Element.prototype.remove||!Ee.Element.prototype.getRootNode))&&R.push(O.e(6748).then(O.t.bind(O,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Ee.NodeList&&!Ee.NodeList.prototype.forEach||!Ee.fetch||!function(){try{var be=new URL("b","http://a");return be.pathname="c%20d","http://a/c%20d"===be.href&&be.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&R.push(O.e(2214).then(O.t.bind(O,2668,23)))}return Promise.all(R)}().then(()=>((R,Ee)=>{if(!(typeof window>"u"))return qe(),(0,Je.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Ee)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:J.Wn,jmp:_r=>V.runOutsideAngular(_r),ael(_r,zr,Ti,xr){_r[gt](zr,Ti,xr)},rel(_r,zr,Ti,xr){_r.removeEventListener(zr,Ti,xr)}}))}};let Jr=(()=>{class R{static forRoot(V){return{ngModule:R,providers:[{provide:J.dy,useValue:V},{provide:d.ip1,useFactory:Un,multi:!0,deps:[J.dy,re.K0,d.R0b]},(0,J.DN)()]}}}return R.\u0275fac=function(V){return new(V||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({providers:[J.y4,ln,qt],imports:[re.ez]}),R})()},5861:(gn,ht,O)=>{"use strict";function d(J,de,xe,re,ge,We,Ke){try{var Ae=J[We](Ke),Te=Ae.value}catch(Qe){return void xe(Qe)}Ae.done?de(Te):Promise.resolve(Te).then(re,ge)}function H(J){return function(){var de=this,xe=arguments;return new Promise(function(re,ge){var We=J.apply(de,xe);function Ke(Te){d(We,re,ge,Ke,Ae,"next",Te)}function Ae(Te){d(We,re,ge,Ke,Ae,"throw",Te)}Ke(void 0)})}}O.d(ht,{Z:()=>H})},1180:(gn,ht,O)=>{"use strict";function d(xe){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(xe)}function de(xe,re,ge){return(re=function J(xe){var re=function H(xe,re){if("object"!==d(xe)||null===xe)return xe;var ge=xe[Symbol.toPrimitive];if(void 0!==ge){var We=ge.call(xe,re||"default");if("object"!==d(We))return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(xe)}(xe,"string");return"symbol"===d(re)?re:String(re)}(re))in xe?Object.defineProperty(xe,re,{value:ge,enumerable:!0,configurable:!0,writable:!0}):xe[re]=ge,xe}O.d(ht,{Z:()=>de})},7582:(gn,ht,O)=>{"use strict";O.d(ht,{FC:()=>qe,KL:()=>Fe,ZT:()=>H,_T:()=>de,gn:()=>xe,mG:()=>Qe,qq:()=>De});var d=function(Q,K){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,he){ie.__proto__=he}||function(ie,he){for(var Ve in he)Object.prototype.hasOwnProperty.call(he,Ve)&&(ie[Ve]=he[Ve])})(Q,K)};function H(Q,K){if("function"!=typeof K&&null!==K)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function ie(){this.constructor=Q}d(Q,K),Q.prototype=null===K?Object.create(K):(ie.prototype=K.prototype,new ie)}function de(Q,K){var ie={};for(var he in Q)Object.prototype.hasOwnProperty.call(Q,he)&&K.indexOf(he)<0&&(ie[he]=Q[he]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(he=Object.getOwnPropertySymbols(Q);Ve<he.length;Ve++)K.indexOf(he[Ve])<0&&Object.prototype.propertyIsEnumerable.call(Q,he[Ve])&&(ie[he[Ve]]=Q[he[Ve]])}return ie}function xe(Q,K,ie,he){var wt,Ve=arguments.length,je=Ve<3?K:null===he?he=Object.getOwnPropertyDescriptor(K,ie):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(Q,K,ie,he);else for(var jt=Q.length-1;jt>=0;jt--)(wt=Q[jt])&&(je=(Ve<3?wt(je):Ve>3?wt(K,ie,je):wt(K,ie))||je);return Ve>3&&je&&Object.defineProperty(K,ie,je),je}function Qe(Q,K,ie,he){return new(ie||(ie=Promise))(function(je,wt){function jt(mn){try{St(he.next(mn))}catch(Kt){wt(Kt)}}function Ht(mn){try{St(he.throw(mn))}catch(Kt){wt(Kt)}}function St(mn){mn.done?je(mn.value):function Ve(je){return je instanceof ie?je:new ie(function(wt){wt(je)})}(mn.value).then(jt,Ht)}St((he=he.apply(Q,K||[])).next())})}function De(Q){return this instanceof De?(this.v=Q,this):new De(Q)}function qe(Q,K,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,he=ie.apply(Q,K||[]),je=[];return Ve={},wt("next"),wt("throw"),wt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function wt(Pt){he[Pt]&&(Ve[Pt]=function(Nt){return new Promise(function(Bt,nn){je.push([Pt,Nt,Bt,nn])>1||jt(Pt,Nt)})})}function jt(Pt,Nt){try{!function Ht(Pt){Pt.value instanceof De?Promise.resolve(Pt.value.v).then(St,mn):Kt(je[0][2],Pt)}(he[Pt](Nt))}catch(Bt){Kt(je[0][3],Bt)}}function St(Pt){jt("next",Pt)}function mn(Pt){jt("throw",Pt)}function Kt(Pt,Nt){Pt(Nt),je.shift(),je.length&&jt(je[0][0],je[0][1])}}function Fe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,K=Q[Symbol.asyncIterator];return K?K.call(Q):(Q=function mt(Q){var K="function"==typeof Symbol&&Symbol.iterator,ie=K&&Q[K],he=0;if(ie)return ie.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&he>=Q.length&&(Q=void 0),{value:Q&&Q[he++],done:!Q}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ie={},he("next"),he("throw"),he("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function he(je){ie[je]=Q[je]&&function(wt){return new Promise(function(jt,Ht){!function Ve(je,wt,jt,Ht){Promise.resolve(Ht).then(function(St){je({value:St,done:jt})},wt)}(jt,Ht,(wt=Q[je](wt)).done,wt.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},gn=>{gn(gn.s=7834)}]);