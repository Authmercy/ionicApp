(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{229:(un,ft,N)=>{"use strict";N.d(ft,{BH:()=>Xe,DV:()=>Hn,Dv:()=>wi,G6:()=>se,GJ:()=>Ht,L:()=>Ze,LL:()=>We,Pz:()=>Be,Sg:()=>pt,UG:()=>he,UI:()=>rr,US:()=>re,Wj:()=>tr,Wl:()=>At,Yr:()=>Qe,ZB:()=>Je,ZR:()=>$e,aH:()=>Ce,b$:()=>rt,cI:()=>Mt,dS:()=>oi,eu:()=>Z,g5:()=>J,gK:()=>Dr,gQ:()=>Bn,h$:()=>qe,hl:()=>x,hu:()=>$,jU:()=>Ie,lb:()=>Ar,m9:()=>Mi,ne:()=>Qr,p$:()=>Te,pd:()=>lr,r3:()=>Jt,ru:()=>Ue,tV:()=>be,uI:()=>Se,ug:()=>ki,vZ:()=>gn,w1:()=>st,w9:()=>Nt,xO:()=>ti,xb:()=>Fn,z$:()=>_e,zd:()=>Jn});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(lt,ge){if(!lt)throw J(ge)},J=function(lt){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+lt)},de=function(lt){const ge=[];let oe=0;for(let Le=0;Le<lt.length;Le++){let pe=lt.charCodeAt(Le);pe<128?ge[oe++]=pe:pe<2048?(ge[oe++]=pe>>6|192,ge[oe++]=63&pe|128):55296==(64512&pe)&&Le+1<lt.length&&56320==(64512&lt.charCodeAt(Le+1))?(pe=65536+((1023&pe)<<10)+(1023&lt.charCodeAt(++Le)),ge[oe++]=pe>>18|240,ge[oe++]=pe>>12&63|128,ge[oe++]=pe>>6&63|128,ge[oe++]=63&pe|128):(ge[oe++]=pe>>12|224,ge[oe++]=pe>>6&63|128,ge[oe++]=63&pe|128)}return ge},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(lt,ge){if(!Array.isArray(lt))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let pe=0;pe<lt.length;pe+=3){const ct=lt[pe],Ot=pe+1<lt.length,Wt=Ot?lt[pe+1]:0,$n=pe+2<lt.length,xn=$n?lt[pe+2]:0;let or=(15&Wt)<<2|xn>>6,Ei=63&xn;$n||(Ei=64,Ot||(or=64)),Le.push(oe[ct>>2],oe[(3&ct)<<4|Wt>>4],oe[or],oe[Ei])}return Le.join("")},encodeString(lt,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(lt):this.encodeByteArray(de(lt),ge)},decodeString(lt,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(lt):function(lt){const ge=[];let oe=0,Le=0;for(;oe<lt.length;){const pe=lt[oe++];if(pe<128)ge[Le++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const ct=lt[oe++];ge[Le++]=String.fromCharCode((31&pe)<<6|63&ct)}else if(pe>239&&pe<365){const $n=((7&pe)<<18|(63&lt[oe++])<<12|(63&lt[oe++])<<6|63&lt[oe++])-65536;ge[Le++]=String.fromCharCode(55296+($n>>10)),ge[Le++]=String.fromCharCode(56320+(1023&$n))}else{const ct=lt[oe++],Ot=lt[oe++];ge[Le++]=String.fromCharCode((15&pe)<<12|(63&ct)<<6|63&Ot)}}return ge.join("")}(this.decodeStringToByteArray(lt,ge))},decodeStringToByteArray(lt,ge){this.init_();const oe=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let pe=0;pe<lt.length;){const ct=oe[lt.charAt(pe++)],Wt=pe<lt.length?oe[lt.charAt(pe)]:0;++pe;const xn=pe<lt.length?oe[lt.charAt(pe)]:64;++pe;const Sn=pe<lt.length?oe[lt.charAt(pe)]:64;if(++pe,null==ct||null==Wt||null==xn||null==Sn)throw new me;Le.push(ct<<2|Wt>>4),64!==xn&&(Le.push(Wt<<4&240|xn>>2),64!==Sn&&Le.push(xn<<6&192|Sn))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let lt=0;lt<this.ENCODED_VALS.length;lt++)this.byteToCharMap_[lt]=this.ENCODED_VALS.charAt(lt),this.charToByteMap_[this.byteToCharMap_[lt]]=lt,this.byteToCharMapWebSafe_[lt]=this.ENCODED_VALS_WEBSAFE.charAt(lt),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[lt]]=lt,lt>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(lt)]=lt,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(lt)]=lt)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qe=function(lt){const ge=de(lt);return re.encodeByteArray(ge,!0)},Ze=function(lt){return qe(lt).replace(/\./g,"")},be=function(lt){try{return re.decodeString(lt,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function Te(lt){return Je(void 0,lt)}function Je(lt,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===lt&&(lt={});break;case Array:lt=[];break;default:return ge}for(const oe in ge)!ge.hasOwnProperty(oe)||!Ye(oe)||(lt[oe]=Je(lt[oe],ge[oe]));return lt}function Ye(lt){return"__proto__"!==lt}const nt=()=>{try{return function Ee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const lt=process.env.__FIREBASE_DEFAULTS__;return lt?JSON.parse(lt):void 0})()||(()=>{if(typeof document>"u")return;let lt;try{lt=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ge=lt&&be(lt[1]);return ge&&JSON.parse(ge)})()}catch(lt){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${lt}`)}},Ce=()=>{var lt;return null===(lt=nt())||void 0===lt?void 0:lt.config},Be=lt=>{var ge;return null===(ge=nt())||void 0===ge?void 0:ge[`_${lt}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,oe)=>{this.resolve=ge,this.reject=oe})}wrapCallback(ge){return(oe,Le)=>{oe?this.reject(oe):this.resolve(Le),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(oe):ge(oe,Le))}}}function pt(lt,ge){if(lt.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=ge||"demo-project",pe=lt.iat||0,ct=lt.sub||lt.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:pe,exp:pe+3600,auth_time:pe,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},lt);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(Ot)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function he(){var lt;const ge=null===(lt=nt())||void 0===lt?void 0:lt.forceEnvironment;if("node"===ge)return!0;if("browser"===ge)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Ue(){const lt="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof lt&&void 0!==lt.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const lt=_e();return lt.indexOf("MSIE ")>=0||lt.indexOf("Trident/")>=0}function Qe(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function se(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){try{return"object"==typeof indexedDB}catch{return!1}}function Z(){return new Promise((lt,ge)=>{try{let oe=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Le);pe.onsuccess=()=>{pe.result.close(),oe||self.indexedDB.deleteDatabase(Le),lt(!0)},pe.onupgradeneeded=()=>{oe=!1},pe.onerror=()=>{var ct;ge((null===(ct=pe.error)||void 0===ct?void 0:ct.message)||"")}}catch(oe){ge(oe)}})}class $e extends Error{constructor(ge,oe,Le){super(oe),this.code=ge,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,$e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(ge,oe,Le){this.service=ge,this.serviceName=oe,this.errors=Le}create(ge,...oe){const Le=oe[0]||{},pe=`${this.service}/${ge}`,ct=this.errors[ge],Ot=ct?function It(lt,ge){return lt.replace(Pt,(oe,Le)=>{const pe=ge[Le];return null!=pe?String(pe):`<${Le}?>`})}(ct,Le):"Error";return new $e(pe,`${this.serviceName}: ${Ot} (${pe}).`,Le)}}const Pt=/\{\$([^}]+)}/g;function Mt(lt){return JSON.parse(lt)}function At(lt){return JSON.stringify(lt)}const ln=function(lt){let ge={},oe={},Le={},pe="";try{const ct=lt.split(".");ge=Mt(be(ct[0])||""),oe=Mt(be(ct[1])||""),pe=ct[2],Le=oe.d||{},delete oe.d}catch{}return{header:ge,claims:oe,data:Le,signature:pe}},Nt=function(lt){const oe=ln(lt).claims;return!!oe&&"object"==typeof oe&&oe.hasOwnProperty("iat")},Ht=function(lt){const ge=ln(lt).claims;return"object"==typeof ge&&!0===ge.admin};function Jt(lt,ge){return Object.prototype.hasOwnProperty.call(lt,ge)}function Hn(lt,ge){if(Object.prototype.hasOwnProperty.call(lt,ge))return lt[ge]}function Fn(lt){for(const ge in lt)if(Object.prototype.hasOwnProperty.call(lt,ge))return!1;return!0}function rr(lt,ge,oe){const Le={};for(const pe in lt)Object.prototype.hasOwnProperty.call(lt,pe)&&(Le[pe]=ge.call(oe,lt[pe],pe,lt));return Le}function gn(lt,ge){if(lt===ge)return!0;const oe=Object.keys(lt),Le=Object.keys(ge);for(const pe of oe){if(!Le.includes(pe))return!1;const ct=lt[pe],Ot=ge[pe];if(er(ct)&&er(Ot)){if(!gn(ct,Ot))return!1}else if(ct!==Ot)return!1}for(const pe of Le)if(!oe.includes(pe))return!1;return!0}function er(lt){return null!==lt&&"object"==typeof lt}function ti(lt){const ge=[];for(const[oe,Le]of Object.entries(lt))Array.isArray(Le)?Le.forEach(pe=>{ge.push(encodeURIComponent(oe)+"="+encodeURIComponent(pe))}):ge.push(encodeURIComponent(oe)+"="+encodeURIComponent(Le));return ge.length?"&"+ge.join("&"):""}function Jn(lt){const ge={};return lt.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[pe,ct]=Le.split("=");ge[decodeURIComponent(pe)]=decodeURIComponent(ct)}}),ge}function lr(lt){const ge=lt.indexOf("?");if(!ge)return"";const oe=lt.indexOf("#",ge);return lt.substring(ge,oe>0?oe:void 0)}class Bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ge=1;ge<this.blockSize;++ge)this.pad_[ge]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ge,oe){oe||(oe=0);const Le=this.W_;if("string"==typeof ge)for(let Sn=0;Sn<16;Sn++)Le[Sn]=ge.charCodeAt(oe)<<24|ge.charCodeAt(oe+1)<<16|ge.charCodeAt(oe+2)<<8|ge.charCodeAt(oe+3),oe+=4;else for(let Sn=0;Sn<16;Sn++)Le[Sn]=ge[oe]<<24|ge[oe+1]<<16|ge[oe+2]<<8|ge[oe+3],oe+=4;for(let Sn=16;Sn<80;Sn++){const or=Le[Sn-3]^Le[Sn-8]^Le[Sn-14]^Le[Sn-16];Le[Sn]=4294967295&(or<<1|or>>>31)}let xn,ur,pe=this.chain_[0],ct=this.chain_[1],Ot=this.chain_[2],Wt=this.chain_[3],$n=this.chain_[4];for(let Sn=0;Sn<80;Sn++){Sn<40?Sn<20?(xn=Wt^ct&(Ot^Wt),ur=1518500249):(xn=ct^Ot^Wt,ur=1859775393):Sn<60?(xn=ct&Ot|Wt&(ct|Ot),ur=2400959708):(xn=ct^Ot^Wt,ur=3395469782);const or=(pe<<5|pe>>>27)+xn+$n+ur+Le[Sn]&4294967295;$n=Wt,Wt=Ot,Ot=4294967295&(ct<<30|ct>>>2),ct=pe,pe=or}this.chain_[0]=this.chain_[0]+pe&4294967295,this.chain_[1]=this.chain_[1]+ct&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+Wt&4294967295,this.chain_[4]=this.chain_[4]+$n&4294967295}update(ge,oe){if(null==ge)return;void 0===oe&&(oe=ge.length);const Le=oe-this.blockSize;let pe=0;const ct=this.buf_;let Ot=this.inbuf_;for(;pe<oe;){if(0===Ot)for(;pe<=Le;)this.compress_(ge,pe),pe+=this.blockSize;if("string"==typeof ge){for(;pe<oe;)if(ct[Ot]=ge.charCodeAt(pe),++Ot,++pe,Ot===this.blockSize){this.compress_(ct),Ot=0;break}}else for(;pe<oe;)if(ct[Ot]=ge[pe],++Ot,++pe,Ot===this.blockSize){this.compress_(ct),Ot=0;break}}this.inbuf_=Ot,this.total_+=oe}digest(){const ge=[];let oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&oe,oe/=256;this.compress_(this.buf_);let Le=0;for(let pe=0;pe<5;pe++)for(let ct=24;ct>=0;ct-=8)ge[Le]=this.chain_[pe]>>ct&255,++Le;return ge}}function Qr(lt,ge){const oe=new $r(lt,ge);return oe.subscribe.bind(oe)}class $r{constructor(ge,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{ge(this)}).catch(Le=>{this.error(Le)})}next(ge){this.forEachObserver(oe=>{oe.next(ge)})}error(ge){this.forEachObserver(oe=>{oe.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,oe,Le){let pe;if(void 0===ge&&void 0===oe&&void 0===Le)throw new Error("Missing Observer.");pe=function Lr(lt,ge){if("object"!=typeof lt||null===lt)return!1;for(const oe of ge)if(oe in lt&&"function"==typeof lt[oe])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:oe,complete:Le},void 0===pe.next&&(pe.next=Mn),void 0===pe.error&&(pe.error=Mn),void 0===pe.complete&&(pe.complete=Mn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch{}}),this.observers.push(pe),ct}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,ge)}sendOne(ge,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{oe(this.observers[ge])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}const wi=function(lt,ge,oe,Le){let pe;if(Le<ge?pe="at least "+ge:Le>oe&&(pe=0===oe?"none":"no more than "+oe),pe)throw new Error(lt+" failed: Was called with "+Le+(1===Le?" argument.":" arguments.")+" Expects "+pe+".")};function Dr(lt,ge){return`${lt} failed: ${ge} argument `}function tr(lt,ge,oe,Le){if((!Le||oe)&&"function"!=typeof oe)throw new Error(Dr(lt,ge)+"must be a valid function.")}function Ar(lt,ge,oe,Le){if((!Le||oe)&&("object"!=typeof oe||null===oe))throw new Error(Dr(lt,ge)+"must be a valid context object.")}const oi=function(lt){const ge=[];let oe=0;for(let Le=0;Le<lt.length;Le++){let pe=lt.charCodeAt(Le);if(pe>=55296&&pe<=56319){const ct=pe-55296;Le++,$(Le<lt.length,"Surrogate pair missing trail surrogate."),pe=65536+(ct<<10)+(lt.charCodeAt(Le)-56320)}pe<128?ge[oe++]=pe:pe<2048?(ge[oe++]=pe>>6|192,ge[oe++]=63&pe|128):pe<65536?(ge[oe++]=pe>>12|224,ge[oe++]=pe>>6&63|128,ge[oe++]=63&pe|128):(ge[oe++]=pe>>18|240,ge[oe++]=pe>>12&63|128,ge[oe++]=pe>>6&63|128,ge[oe++]=63&pe|128)}return ge},ki=function(lt){let ge=0;for(let oe=0;oe<lt.length;oe++){const Le=lt.charCodeAt(oe);Le<128?ge++:Le<2048?ge+=2:Le>=55296&&Le<=56319?(ge+=4,oe++):ge+=3}return ge};function Mi(lt){return lt&&lt._delegate?lt._delegate:lt}},7382:(un,ft,N)=>{"use strict";N.d(ft,{X:()=>yt});var d=N(7582),J=N(5592),de=N(2438),Oe={error:"cordova_not_available"},re={error:"plugin_not_installed"};function me(Qe){if(typeof window<"u"&&window.angular){var x=window.document,Z=window.angular.element(x.querySelector("[ng-app]")||x.body).injector();if(Z)return Z.get("$q")(function(je,$e){Qe(je,$e)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(je,$e){Qe(je,$e)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Je(Qe,se,x){var Z,ce;"string"==typeof Qe?Z=Qe:(Z=Qe.constructor.getPluginRef(),x=Qe.constructor.getPluginName(),ce=Qe.constructor.getPluginInstallName());var je=et(Z);return!(!je||se&&typeof je[se]>"u")||(typeof window>"u"||!window.cordova?(function Et(Qe,se){typeof process>"u"&&console.warn(se?"Native: tried calling "+Qe+"."+se+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Qe+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(x,se),Oe):(function at(Qe,se,x){console.warn(x?"Native: tried calling "+Qe+"."+x+", but the "+Qe+" plugin is not installed.":"Native: tried accessing the "+Qe+" plugin but it's not installed."),se&&console.warn("Install the "+Qe+" plugin: 'ionic cordova plugin add "+se+"'")}(x,ce,se),re))}function Ke(Qe,se,x,Z,ce,je){void 0===Z&&(Z={}),x=function Ee(Qe,se,x,Z){if(void 0===se&&(se={}),se.sync)return Qe;if("reverse"===se.callbackOrder)Qe.unshift(Z),Qe.unshift(x);else if("node"===se.callbackStyle)Qe.push(function(We,It){We?Z(We):x(It)});else if("object"===se.callbackStyle&&se.successName&&se.errorName){var ce={};ce[se.successName]=x,ce[se.errorName]=Z,Qe.push(ce)}else if(typeof se.successIndex<"u"||typeof se.errorIndex<"u"){var je=function(){se.successIndex>Qe.length?Qe[se.successIndex]=x:Qe.splice(se.successIndex,0,x)},$e=function(){se.errorIndex>Qe.length?Qe[se.errorIndex]=Z:Qe.splice(se.errorIndex,0,Z)};se.successIndex>se.errorIndex?($e(),je()):(je(),$e())}else Qe.push(x),Qe.push(Z);return Qe}(x,Z,ce,je);var $e=Je(Qe,se);if(!0===$e){var We=et(Qe.constructor.getPluginRef());return We[se].apply(We,x)}return $e}function et(Qe){return typeof window<"u"?nt(window,Qe):null}function nt(Qe,se){for(var x=se.split("."),Z=Qe,ce=0;ce<x.length;ce++){if(!Z)return null;Z=Z[x[ce]]}return Z}var _e=function(){function Qe(){}return Qe.installed=function(){return!0===Je(this.pluginRef)},Qe.getPlugin=function(){return typeof window<"u"?function Xe(Qe,se){for(var x=se.split("."),Z=Qe,ce=0;ce<x.length;ce++){if(!Z)return null;Z=Z[x[ce]]}return Z}(window,this.pluginRef):null},Qe.getPluginName=function(){return this.pluginName},Qe.getPluginRef=function(){return this.pluginRef},Qe.getPluginInstallName=function(){return this.plugin},Qe.getSupportedPlatforms=function(){return this.platforms},Qe.pluginName="",Qe.pluginRef="",Qe.plugin="",Qe.repo="",Qe.platforms=[],Qe.install="",Qe}();function Se(Qe,se,x,Z){return function(Qe,se,x){return void 0===x&&(x={}),function(){for(var Z=[],ce=0;ce<arguments.length;ce++)Z[ce]=arguments[ce];return x.sync?Ke(Qe,se,Z,x):x.observable?function be(Qe,se,x,Z){return void 0===Z&&(Z={}),new J.y(function(ce){var je;return je=Z.destruct?Ke(Qe,se,x,Z,function(){for(var $e=[],We=0;We<arguments.length;We++)$e[We]=arguments[We];return ce.next($e)},function(){for(var $e=[],We=0;We<arguments.length;We++)$e[We]=arguments[We];return ce.error($e)}):Ke(Qe,se,x,Z,ce.next.bind(ce),ce.error.bind(ce)),je&&je.error&&(ce.error(je.error),ce.complete()),function(){try{if(Z.clearFunction)return Z.clearWithArgs?Ke(Qe,Z.clearFunction,x,Z,ce.next.bind(ce),ce.error.bind(ce)):Ke(Qe,Z.clearFunction,[])}catch($e){console.warn("Unable to clear the previous observable watch for",Qe.constructor.getPluginName(),se),console.warn($e)}}})}(Qe,se,Z,x):x.eventObservable&&x.event?function Te(Qe,se){return se=typeof window<"u"&&se?nt(window,se):se||(typeof window<"u"?window:{}),(0,de.R)(se,Qe)}(x.event,x.element):x.otherPromise?function Ze(Qe,se,x,Z){return void 0===Z&&(Z={}),me(function(ce,je){var $e=Ke(Qe,se,x,Z);$e?$e.error?je($e.error):$e.then&&$e.then(ce).catch(je):je({error:"unexpected_error"})})}(Qe,se,Z,x):function qe(Qe,se,x,Z){void 0===Z&&(Z={});var ce,je,$e=me(function(We,It){ce=Z.destruct?Ke(Qe,se,x,Z,function(){for(var Pt=[],Mt=0;Mt<arguments.length;Mt++)Pt[Mt]=arguments[Mt];return We(Pt)},function(){for(var Pt=[],Mt=0;Mt<arguments.length;Mt++)Pt[Mt]=arguments[Mt];return It(Pt)}):Ke(Qe,se,x,Z,We,It),je=It});return ce&&ce.error&&($e.catch(function(){}),"function"==typeof je&&je(ce.error)),$e}(Qe,se,Z,x)}}(Qe,se,x).apply(this,Z)}!function $(){if(typeof process>"u"){var Qe=typeof window<"u"?window:{},x=Date.now(),Z=!1;Qe.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-x)+" ms"),Z=!0}),setTimeout(function(){!Z&&Qe.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var st=N(9212),yt=function(Qe){function se(){return null!==Qe&&Qe.apply(this,arguments)||this}return(0,d.ZT)(se,Qe),se.prototype.callNumber=function(x,Z){return Se(this,"callNumber",{callbackOrder:"reverse"},arguments)},se.prototype.isCallSupported=function(){return Se(this,"isCallSupported",{},arguments)},se.\u0275fac=(()=>{let x;return function(ce){return(x||(x=st.n5z(se)))(ce||se)}})(),se.\u0275prov=st.Yz7({token:se,factory:se.\u0275fac}),se.pluginName="CallNumber",se.plugin="call-number",se.pluginRef="plugins.CallNumber",se.repo="https://github.com/Rohfosho/CordovaCallNumberPlugin",se.platforms=["Android","iOS"],se=(0,d.gn)([],se)}(_e)},7863:(un,ft,N)=>{"use strict";N.d(ft,{KY:()=>pt,gR:()=>Te,DM:()=>_e,e4:()=>Ie,sM:()=>re,G5:()=>Je});var $=N(5592),J=N(2438),de={error:"cordova_not_available"},Oe={error:"plugin_not_installed"};function re(Me){if(typeof window<"u"&&window.angular){var yt=window.document,Qe=window.angular.element(yt.querySelector("[ng-app]")||yt.body).injector();if(Qe)return Qe.get("$q")(function(x,Z){Me(x,Z)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(x,Z){Me(x,Z)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function Te(Me,st,yt){var Qe,se,x;return"string"==typeof Me?Qe=Me:(Qe=Me.constructor.getPluginRef(),yt=Me.constructor.getPluginName(),x=Me.constructor.getPluginInstallName()),!(!(se=_t(Qe))||st&&typeof se[st]>"u")||(typeof window>"u"||!window.cordova?(function at(Me,st){typeof process>"u"&&console.warn(st?"Native: tried calling "+Me+"."+st+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+Me+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(yt,st),de):(function nt(Me,st,yt){console.warn(yt?"Native: tried calling "+Me+"."+yt+", but the "+Me+" plugin is not installed.":"Native: tried accessing the "+Me+" plugin but it's not installed."),st&&console.warn("Install the "+Me+" plugin: 'ionic cordova plugin add "+st+"'")}(yt,x,st),Oe))}function Je(Me,st){return Me._objectInstance&&(!st||typeof Me._objectInstance[st]<"u")}function Ye(Me,st,yt,Qe){if(void 0===st&&(st={}),st.sync)return Me;if("reverse"===st.callbackOrder)Me.unshift(Qe),Me.unshift(yt);else if("node"===st.callbackStyle)Me.push(function(ce,je){ce?Qe(ce):yt(je)});else if("object"===st.callbackStyle&&st.successName&&st.errorName){var se={};se[st.successName]=yt,se[st.errorName]=Qe,Me.push(se)}else if(typeof st.successIndex<"u"||typeof st.errorIndex<"u"){var x=function(){st.successIndex>Me.length?Me[st.successIndex]=yt:Me.splice(st.successIndex,0,yt)},Z=function(){st.errorIndex>Me.length?Me[st.errorIndex]=Qe:Me.splice(st.errorIndex,0,Qe)};st.successIndex>st.errorIndex?(Z(),x()):(x(),Z())}else Me.push(yt),Me.push(Qe);return Me}function Ee(Me,st,yt,Qe,se,x){void 0===Qe&&(Qe={}),yt=Ye(yt,Qe,se,x);var Z=Te(Me,st);if(!0===Z){var ce=_t(Me.constructor.getPluginRef());return ce[st].apply(ce,yt)}return Z}function Ke(Me,st,yt,Qe,se,x){if(void 0===Qe&&(Qe={}),yt=Ye(yt,Qe,se,x),Je(Me,st))return Me._objectInstance[st].apply(Me._objectInstance,yt)}function _t(Me){return typeof window<"u"?et(window,Me):null}function et(Me,st){for(var yt=st.split("."),Qe=Me,se=0;se<yt.length;se++){if(!Qe)return null;Qe=Qe[yt[se]]}return Qe}var Et=function(Me,st,yt){return void 0===yt&&(yt={}),function(){for(var Qe=[],se=0;se<arguments.length;se++)Qe[se]=arguments[se];return yt.sync?Ee(Me,st,Qe,yt):yt.observable?function Ze(Me,st,yt,Qe){return void 0===Qe&&(Qe={}),new $.y(function(se){var x;return x=Qe.destruct?Ee(Me,st,yt,Qe,function(){for(var Z=[],ce=0;ce<arguments.length;ce++)Z[ce]=arguments[ce];return se.next(Z)},function(){for(var Z=[],ce=0;ce<arguments.length;ce++)Z[ce]=arguments[ce];return se.error(Z)}):Ee(Me,st,yt,Qe,se.next.bind(se),se.error.bind(se)),x&&x.error&&(se.error(x.error),se.complete()),function(){try{if(Qe.clearFunction)return Qe.clearWithArgs?Ee(Me,Qe.clearFunction,yt,Qe,se.next.bind(se),se.error.bind(se)):Ee(Me,Qe.clearFunction,[])}catch(Z){console.warn("Unable to clear the previous observable watch for",Me.constructor.getPluginName(),st),console.warn(Z)}}})}(Me,st,Qe,yt):yt.eventObservable&&yt.event?function be(Me,st){return st=typeof window<"u"&&st?et(window,st):st||(typeof window<"u"?window:{}),(0,J.R)(st,Me)}(yt.event,yt.element):yt.otherPromise?function qe(Me,st,yt,Qe){return void 0===Qe&&(Qe={}),re(function(se,x){var Z=Ee(Me,st,yt,Qe);Z?Z.error?x(Z.error):Z.then&&Z.then(se).catch(x):x({error:"unexpected_error"})})}(Me,st,Qe,yt):function me(Me,st,yt,Qe){void 0===Qe&&(Qe={});var se,x,Z=re(function(ce,je){se=Qe.destruct?Ee(Me,st,yt,Qe,function(){for(var $e=[],We=0;We<arguments.length;We++)$e[We]=arguments[We];return ce($e)},function(){for(var $e=[],We=0;We<arguments.length;We++)$e[We]=arguments[We];return je($e)}):Ee(Me,st,yt,Qe,ce,je),x=je});return se&&se.error&&(Z.catch(function(){}),"function"==typeof x&&x(se.error)),Z}(Me,st,Qe,yt)}},pt=function(){function Me(){}return Me.installed=function(){return!0===Te(this.pluginRef)},Me.getPlugin=function(){return typeof window<"u"?function Be(Me,st){for(var yt=st.split("."),Qe=Me,se=0;se<yt.length;se++){if(!Qe)return null;Qe=Qe[yt[se]]}return Qe}(window,this.pluginRef):null},Me.getPluginName=function(){return this.pluginName},Me.getPluginRef=function(){return this.pluginRef},Me.getPluginInstallName=function(){return this.plugin},Me.getSupportedPlatforms=function(){return this.platforms},Me.pluginName="",Me.pluginRef="",Me.plugin="",Me.repo="",Me.platforms=[],Me.install="",Me}();function _e(Me,st,yt,Qe){return Et(Me,st,yt).apply(this,Qe)}function Ie(Me,st,yt,Qe){return Qe=Array.from(Qe),function Ce(Me,st,yt){return void 0===yt&&(yt={}),function(){for(var Qe=[],se=0;se<arguments.length;se++)Qe[se]=arguments[se];if(yt.sync)return Ke(Me,st,Qe,yt);if(yt.observable)return new $.y(function(je){var $e;return $e=yt.destruct?Ke(Me,st,Qe,yt,function(){for(var We=[],It=0;It<arguments.length;It++)We[It]=arguments[It];return je.next(We)},function(){for(var We=[],It=0;It<arguments.length;It++)We[It]=arguments[It];return je.error(We)}):Ke(Me,st,Qe,yt,je.next.bind(je),je.error.bind(je)),$e&&$e.error&&je.error($e.error),function(){try{return yt.clearWithArgs?Ke(Me,yt.clearFunction,Qe,yt,je.next.bind(je),je.error.bind(je)):Ke(Me,yt.clearFunction,[])}catch(We){console.warn("Unable to clear the previous observable watch for",Me.constructor.getPluginName(),st),console.warn(We)}}});if(yt.otherPromise)return re(function(je,$e){var We;We=yt.destruct?Ke(Me,st,Qe,yt,function(){for(var It=[],Pt=0;Pt<arguments.length;Pt++)It[Pt]=arguments[Pt];return je(It)},function(){for(var It=[],Pt=0;Pt<arguments.length;Pt++)It[Pt]=arguments[Pt];return $e(It)}):Ke(Me,st,Qe,yt,je,$e),We&&We.then?We.then(je,$e):$e()});var x,Z,ce=re(function(je,$e){x=yt.destruct?Ke(Me,st,Qe,yt,function(){for(var We=[],It=0;It<arguments.length;It++)We[It]=arguments[It];return je(We)},function(){for(var We=[],It=0;It<arguments.length;It++)We[It]=arguments[It];return $e(We)}):Ke(Me,st,Qe,yt,je,$e),Z=$e});return x&&x.error&&(ce.catch(function(){}),"function"==typeof Z&&Z(x.error)),ce}}(Me,st,yt).apply(this,Qe)}!function d(){if(typeof process>"u"){var Me=typeof window<"u"?window:{},yt=Date.now(),Qe=!1;Me.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-yt)+" ms"),Qe=!0}),setTimeout(function(){!Qe&&Me.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},7513:(un,ft,N)=>{"use strict";N.d(ft,{w:()=>de});var d=N(7582),$=N(9212),J=N(7863),de=function(Oe){function re(){return null!==Oe&&Oe.apply(this,arguments)||this}return(0,d.ZT)(re,Oe),re.prototype.hasPermission=function(){return(0,J.DM)(this,"hasPermission",{successIndex:0,errorIndex:2},arguments)},re.prototype.requestPermission=function(){return(0,J.DM)(this,"requestPermission",{successIndex:0,errorIndex:2},arguments)},re.prototype.hasAccount=function(){var me=this;return function(){if(!0===(0,J.gR)(me))return(0,J.sM)(function(qe){re.getPlugin().hasAccount(function(Ze){qe(!!Ze)})})}()},re.prototype.hasClient=function(me){var qe=this;return function(){if(!0===(0,J.gR)(qe))return(0,J.sM)(function(Ze){me?re.getPlugin().hasClient(me,function(be){Ze(!!be)}):re.getPlugin().getClients(function(be){Ze(be&&be.length>0)})})}()},re.prototype.getClients=function(){var me=this;return function(){if(!0===(0,J.gR)(me))return(0,J.sM)(function(qe){re.getPlugin().getClients(function(Ze){"[object String]"===Object.prototype.toString.call(Ze)&&(Ze=[Ze]),qe(Ze)})})}()},re.prototype.isAvailable=function(me){var qe=this;return function(){if(!0===(0,J.gR)(qe))return(0,J.sM)(function(Ze){Promise.all([qe.hasAccount,qe.hasClient(me)]).then(function(be){return Ze(2===be.length&&be[0]&&be[1])})})}()},re.prototype.open=function(me,qe){return(0,J.DM)(this,"open",{successIndex:1,errorIndex:3},arguments)},re.prototype.addAlias=function(me,qe){return(0,J.DM)(this,"addAlias",{},arguments)},re.pluginName="EmailComposer",re.plugin="cordova-plugin-email-composer",re.pluginRef="cordova.plugins.email",re.repo="https://github.com/katzer/cordova-plugin-email-composer",re.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows","macOS"],re.decorators=[{type:$.GSi}],re}(J.KY)},8662:(un,ft,N)=>{"use strict";N.d(ft,{b:()=>Oe});var d=N(7582),$=N(9212),J=N(7863),de=N(5592),Oe=function(re){function me(){return null!==re&&re.apply(this,arguments)||this}return(0,d.ZT)(me,re),me.prototype.getCurrentPosition=function(qe){return(0,J.DM)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},me.prototype.watchPosition=function(qe){return new de.y(function(Ze){var be=navigator.geolocation.watchPosition(Ze.next.bind(Ze),Ze.next.bind(Ze),qe);return function(){return navigator.geolocation.clearWatch(be)}})},me.pluginName="Geolocation",me.plugin="cordova-plugin-geolocation",me.pluginRef="navigator.geolocation",me.repo="https://github.com/apache/cordova-plugin-geolocation",me.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',me.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],me.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],me.decorators=[{type:$.GSi}],me}(J.KY)},8285:(un,ft,N)=>{"use strict";N.d(ft,{i:()=>re});var d=N(7582),$=N(9212),J=N(7863),de=N(5592),Oe=function(){function me(qe,Ze,be){try{be&&"string"!=typeof be&&(be=Object.keys(be).map(function(Te){return Te+"="+be[Te]}).join(",")),this._objectInstance=cordova.InAppBrowser.open(qe,Ze,be)}catch{typeof window<"u"&&window.open(qe,Ze),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return me.prototype._loadAfterBeforeload=function(qe){return(0,J.e4)(this,"_loadAfterBeforeload",{sync:!0},arguments)},me.prototype.show=function(){return(0,J.e4)(this,"show",{sync:!0},arguments)},me.prototype.close=function(){return(0,J.e4)(this,"close",{sync:!0},arguments)},me.prototype.hide=function(){return(0,J.e4)(this,"hide",{sync:!0},arguments)},me.prototype.executeScript=function(qe){return(0,J.e4)(this,"executeScript",{},arguments)},me.prototype.insertCSS=function(qe){return(0,J.e4)(this,"insertCSS",{},arguments)},me.prototype.on=function(qe){var Ze=this;return function(){if(!0===(0,J.G5)(Ze))return new de.y(function(be){return Ze._objectInstance.addEventListener(qe,be.next.bind(be)),function(){return Ze._objectInstance.removeEventListener(qe,be.next.bind(be))}})}()},me.prototype.on=function(qe){var Ze=this;return function(){if(!0===(0,J.G5)(Ze))return new de.y(function(be){return Ze._objectInstance.addEventListener(qe,be.next.bind(be)),function(){return Ze._objectInstance.removeEventListener(qe,be.next.bind(be))}})}()},me}(),re=function(me){function qe(){return null!==me&&me.apply(this,arguments)||this}return(0,d.ZT)(qe,me),qe.prototype.create=function(Ze,be,Te){return new Oe(Ze,be,Te)},qe.pluginName="InAppBrowser",qe.plugin="cordova-plugin-inappbrowser",qe.pluginRef="cordova.InAppBrowser",qe.repo="https://github.com/apache/cordova-plugin-inappbrowser",qe.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],qe.decorators=[{type:$.GSi}],qe}(J.KY)},7413:(un,ft,N)=>{"use strict";N.d(ft,{d:()=>de});var d=N(7582),$=N(9212),J=N(7863),de=function(Oe){function re(){return null!==Oe&&Oe.apply(this,arguments)||this}return(0,d.ZT)(re,Oe),re.prototype.reverseGeocode=function(me,qe,Ze){return(0,J.DM)(this,"reverseGeocode",{callbackOrder:"reverse"},arguments)},re.prototype.forwardGeocode=function(me,qe){return(0,J.DM)(this,"forwardGeocode",{callbackOrder:"reverse"},arguments)},re.pluginName="NativeGeocoder",re.plugin="cordova-plugin-nativegeocoder",re.pluginRef="nativegeocoder",re.repo="https://github.com/sebastianbaar/cordova-plugin-nativegeocoder",re.platforms=["iOS","Android"],re.decorators=[{type:$.GSi}],re}(J.KY)},3630:(un,ft,N)=>{"use strict";N.d(ft,{c:()=>J,r:()=>Te});const J=(_e,Se)=>{_e.componentOnReady?_e.componentOnReady().then(he=>Se(he)):Te(()=>Se(_e))},Te=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e)},191:(un,ft,N)=>{"use strict";N.d(ft,{L:()=>d,a:()=>$,b:()=>J,c:()=>de,d:()=>Oe,g:()=>_e});const d="ionViewWillEnter",$="ionViewDidEnter",J="ionViewWillLeave",de="ionViewDidLeave",Oe="ionViewWillUnload",_e=Se=>Se.classList.contains("ion-page")?Se:Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Se},6410:(un,ft,N)=>{"use strict";N.d(ft,{c:()=>_t});var d=N(6225),$=N(839);let J;const Oe=et=>et.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=et=>(void 0===J&&(J=void 0===et.style.animationName&&void 0!==et.style.webkitAnimationName?"-webkit-":""),J),me=(et,nt,at)=>{const Et=nt.startsWith("animation")?re(et):"";et.style.setProperty(Et+nt,at)},qe=(et,nt)=>{const at=nt.startsWith("animation")?re(et):"";et.style.removeProperty(at+nt)},Te=[],Ke=(et=[],nt)=>{if(void 0!==nt){const at=Array.isArray(nt)?nt:[nt];return[...et,...at]}return et},_t=et=>{let nt,at,Et,Ce,Be,Xe,Ie,x,Z,ce,je,Pt,Mt,pt=[],_e=[],Se=[],he=!1,Ue={},rt=[],Me=[],st={},yt=0,Qe=!1,se=!1,$e=!0,We=!1,It=!0,At=!1;const ln=et,Kt=[],Rt=[],Nt=[],Ht=[],Jt=[],Hn=[],Fn=[],rr=[],gn=[],er=[],_n=[],ti="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,Jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ti,Bn=()=>_n,Mn=(z,ie)=>{const ze=ie.findIndex(it=>it.c===z);ze>-1&&ie.splice(ze,1)},Dr=(z,ie)=>((null!=ie&&ie.oneTimeCallback?Rt:Kt).push({c:z,o:ie}),Mt),tr=()=>{if(Jn)_n.forEach(z=>{z.cancel()}),_n.length=0;else{const z=Ht.slice();(0,$.r)(()=>{z.forEach(ie=>{qe(ie,"animation-name"),qe(ie,"animation-duration"),qe(ie,"animation-timing-function"),qe(ie,"animation-iteration-count"),qe(ie,"animation-delay"),qe(ie,"animation-play-state"),qe(ie,"animation-fill-mode"),qe(ie,"animation-direction")})})}},Ar=()=>{Hn.forEach(z=>{null!=z&&z.parentNode&&z.parentNode.removeChild(z)}),Hn.length=0},ge=()=>void 0!==Be?Be:Ie?Ie.getFill():"both",oe=()=>void 0!==Z?Z:void 0!==Xe?Xe:Ie?Ie.getDirection():"normal",Le=()=>Qe?"linear":void 0!==Et?Et:Ie?Ie.getEasing():"linear",pe=()=>se?0:void 0!==ce?ce:void 0!==at?at:Ie?Ie.getDuration():0,ct=()=>void 0!==Ce?Ce:Ie?Ie.getIterations():1,Ot=()=>void 0!==je?je:void 0!==nt?nt:Ie?Ie.getDelay():0,Yn=()=>{0!==yt&&(yt--,0===yt&&((()=>{Ne(),gn.forEach(xt=>xt()),er.forEach(xt=>xt());const z=$e?1:0,ie=rt,ze=Me,it=st;Ht.forEach(xt=>{const T=xt.classList;ie.forEach(Q=>T.add(Q)),ze.forEach(Q=>T.remove(Q));for(const Q in it)it.hasOwnProperty(Q)&&me(xt,Q,it[Q])}),Kt.forEach(xt=>xt.c(z,Mt)),Rt.forEach(xt=>xt.c(z,Mt)),Rt.length=0,It=!0,$e&&(We=!0),$e=!0})(),Ie&&Ie.animationFinish()))},kn=(z=!0)=>{Ar();const ie=(et=>(et.forEach(nt=>{for(const at in nt)if(nt.hasOwnProperty(at)){const Et=nt[at];if("easing"===at)nt["animation-timing-function"]=Et,delete nt[at];else{const Ce=Oe(at);Ce!==at&&(nt[Ce]=Et,delete nt[at])}}}),et))(pt);Ht.forEach(ze=>{if(ie.length>0){const it=((et=[])=>et.map(nt=>{const at=nt.offset,Et=[];for(const Ce in nt)nt.hasOwnProperty(Ce)&&"offset"!==Ce&&Et.push(`${Ce}: ${nt[Ce]};`);return`${100*at}% { ${Et.join(" ")} }`}).join(" "))(ie);Pt=void 0!==et?et:(et=>{let nt=Te.indexOf(et);return nt<0&&(nt=Te.push(et)-1),`ion-animation-${nt}`})(it);const xt=((et,nt,at)=>{var Et;const Ce=(et=>{const nt=void 0!==et.getRootNode?et.getRootNode():et;return nt.head||nt})(at),Be=re(at),Xe=Ce.querySelector("#"+et);if(Xe)return Xe;const pt=(null!==(Et=at.ownerDocument)&&void 0!==Et?Et:document).createElement("style");return pt.id=et,pt.textContent=`@${Be}keyframes ${et} { ${nt} } @${Be}keyframes ${et}-alt { ${nt} }`,Ce.appendChild(pt),pt})(Pt,it,ze);Hn.push(xt),me(ze,"animation-duration",`${pe()}ms`),me(ze,"animation-timing-function",Le()),me(ze,"animation-delay",`${Ot()}ms`),me(ze,"animation-fill-mode",ge()),me(ze,"animation-direction",oe());const T=ct()===1/0?"infinite":ct().toString();me(ze,"animation-iteration-count",T),me(ze,"animation-play-state","paused"),z&&me(ze,"animation-name",`${xt.id}-alt`),(0,$.r)(()=>{me(ze,"animation-name",xt.id||null)})}})},dt=(z=!0)=>{(()=>{Fn.forEach(it=>it()),rr.forEach(it=>it());const z=_e,ie=Se,ze=Ue;Ht.forEach(it=>{const xt=it.classList;z.forEach(T=>xt.add(T)),ie.forEach(T=>xt.remove(T));for(const T in ze)ze.hasOwnProperty(T)&&me(it,T,ze[T])})})(),pt.length>0&&(Jn?(Ht.forEach(z=>{const ie=z.animate(pt,{id:ln,delay:Ot(),duration:pe(),easing:Le(),iterations:ct(),fill:ge(),direction:oe()});ie.pause(),_n.push(ie)}),_n.length>0&&(_n[0].onfinish=()=>{Yn()})):kn(z)),he=!0},He=z=>{if(z=Math.min(Math.max(z,0),.9999),Jn)_n.forEach(ie=>{ie.currentTime=ie.effect.getComputedTiming().delay+pe()*z,ie.pause()});else{const ie=`-${pe()*z}ms`;Ht.forEach(ze=>{pt.length>0&&(me(ze,"animation-delay",ie),me(ze,"animation-play-state","paused"))})}},Tt=z=>{_n.forEach(ie=>{ie.effect.updateTiming({delay:Ot(),duration:pe(),easing:Le(),iterations:ct(),fill:ge(),direction:oe()})}),void 0!==z&&He(z)},vt=(z=!0,ie)=>{(0,$.r)(()=>{Ht.forEach(ze=>{me(ze,"animation-name",Pt||null),me(ze,"animation-duration",`${pe()}ms`),me(ze,"animation-timing-function",Le()),me(ze,"animation-delay",void 0!==ie?`-${ie*pe()}ms`:`${Ot()}ms`),me(ze,"animation-fill-mode",ge()||null),me(ze,"animation-direction",oe()||null);const it=ct()===1/0?"infinite":ct().toString();me(ze,"animation-iteration-count",it),z&&me(ze,"animation-name",`${Pt}-alt`),(0,$.r)(()=>{me(ze,"animation-name",Pt||null)})})})},Ut=(z=!1,ie=!0,ze)=>(z&&Jt.forEach(it=>{it.update(z,ie,ze)}),Jn?Tt(ze):vt(ie,ze),Mt),Rn=()=>{he&&(Jn?_n.forEach(z=>{z.pause()}):Ht.forEach(z=>{me(z,"animation-play-state","paused")}),At=!0)},De=()=>{x=void 0,Yn()},Ne=()=>{x&&clearTimeout(x)},jt=z=>new Promise(ie=>{null!=z&&z.sync&&(se=!0,Dr(()=>se=!1,{oneTimeCallback:!0})),he||dt(),We&&(Jn?(He(0),Tt()):vt(),We=!1),It&&(yt=Jt.length+1,It=!1);const ze=()=>{Mn(it,Rt),ie()},it=()=>{Mn(ze,Nt),ie()};Dr(it,{oneTimeCallback:!0}),((z,ie)=>{Nt.push({c:z,o:{oneTimeCallback:!0}})})(ze),Jt.forEach(xt=>{xt.play()}),Jn?(_n.forEach(z=>{z.play()}),(0===pt.length||0===Ht.length)&&Yn()):(()=>{if(Ne(),(0,$.r)(()=>{Ht.forEach(z=>{pt.length>0&&me(z,"animation-play-state","running")})}),0===pt.length||0===Ht.length)Yn();else{const z=Ot()||0,ie=pe()||0,ze=ct()||1;isFinite(ze)&&(x=setTimeout(De,z+ie*ze+100)),((et,nt)=>{let at;const Et={passive:!0},Be=Xe=>{et===Xe.target&&(at&&at(),Ne(),(0,$.r)(()=>{Ht.forEach(z=>{qe(z,"animation-duration"),qe(z,"animation-delay"),qe(z,"animation-play-state")}),(0,$.r)(Yn)}))};et&&(et.addEventListener("webkitAnimationEnd",Be,Et),et.addEventListener("animationend",Be,Et),at=()=>{et.removeEventListener("webkitAnimationEnd",Be,Et),et.removeEventListener("animationend",Be,Et)})})(Ht[0])}})(),At=!1}),Nn=(z,ie)=>{const ze=pt[0];return void 0===ze||void 0!==ze.offset&&0!==ze.offset?pt=[{offset:0,[z]:ie},...pt]:ze[z]=ie,Mt};return Mt={parentAnimation:Ie,elements:Ht,childAnimations:Jt,id:ln,animationFinish:Yn,from:Nn,to:(z,ie)=>{const ze=pt[pt.length-1];return void 0===ze||void 0!==ze.offset&&1!==ze.offset?pt=[...pt,{offset:1,[z]:ie}]:ze[z]=ie,Mt},fromTo:(z,ie,ze)=>Nn(z,ie).to(z,ze),parent:z=>(Ie=z,Mt),play:jt,pause:()=>(Jt.forEach(z=>{z.pause()}),Rn(),Mt),stop:()=>{Jt.forEach(z=>{z.stop()}),he&&(tr(),he=!1),Qe=!1,se=!1,It=!0,Z=void 0,ce=void 0,je=void 0,yt=0,We=!1,$e=!0,At=!1,Nt.forEach(z=>z.c(0,Mt)),Nt.length=0},destroy:z=>(Jt.forEach(ie=>{ie.destroy(z)}),(z=>{tr(),z&&Ar()})(z),Ht.length=0,Jt.length=0,pt.length=0,Kt.length=0,Rt.length=0,he=!1,It=!0,Mt),keyframes:z=>{const ie=pt!==z;return pt=z,ie&&(z=>{Jn?Bn().forEach(ie=>{const ze=ie.effect;if(ze.setKeyframes)ze.setKeyframes(z);else{const it=new KeyframeEffect(ze.target,z,ze.getTiming());ie.effect=it}}):kn()})(pt),Mt},addAnimation:z=>{if(null!=z)if(Array.isArray(z))for(const ie of z)ie.parent(Mt),Jt.push(ie);else z.parent(Mt),Jt.push(z);return Mt},addElement:z=>{if(null!=z)if(1===z.nodeType)Ht.push(z);else if(z.length>=0)for(let ie=0;ie<z.length;ie++)Ht.push(z[ie]);else console.error("Invalid addElement value");return Mt},update:Ut,fill:z=>(Be=z,Ut(!0),Mt),direction:z=>(Xe=z,Ut(!0),Mt),iterations:z=>(Ce=z,Ut(!0),Mt),duration:z=>(!Jn&&0===z&&(z=1),at=z,Ut(!0),Mt),easing:z=>(Et=z,Ut(!0),Mt),delay:z=>(nt=z,Ut(!0),Mt),getWebAnimations:Bn,getKeyframes:()=>pt,getFill:ge,getDirection:oe,getDelay:Ot,getIterations:ct,getEasing:Le,getDuration:pe,afterAddRead:z=>(gn.push(z),Mt),afterAddWrite:z=>(er.push(z),Mt),afterClearStyles:(z=[])=>{for(const ie of z)st[ie]="";return Mt},afterStyles:(z={})=>(st=z,Mt),afterRemoveClass:z=>(Me=Ke(Me,z),Mt),afterAddClass:z=>(rt=Ke(rt,z),Mt),beforeAddRead:z=>(Fn.push(z),Mt),beforeAddWrite:z=>(rr.push(z),Mt),beforeClearStyles:(z=[])=>{for(const ie of z)Ue[ie]="";return Mt},beforeStyles:(z={})=>(Ue=z,Mt),beforeRemoveClass:z=>(Se=Ke(Se,z),Mt),beforeAddClass:z=>(_e=Ke(_e,z),Mt),onFinish:Dr,isRunning:()=>0!==yt&&!At,progressStart:(z=!1,ie)=>(Jt.forEach(ze=>{ze.progressStart(z,ie)}),Rn(),Qe=z,he||dt(),Ut(!1,!0,ie),Mt),progressStep:z=>(Jt.forEach(ie=>{ie.progressStep(z)}),He(z),Mt),progressEnd:(z,ie,ze)=>(Qe=!1,Jt.forEach(it=>{it.progressEnd(z,ie,ze)}),void 0!==ze&&(ce=ze),We=!1,$e=!0,0===z?(Z="reverse"===oe()?"normal":"reverse","reverse"===Z&&($e=!1),Jn?(Ut(),He(1-ie)):(je=(1-ie)*pe()*-1,Ut(!1,!1))):1===z&&(Jn?(Ut(),He(ie)):(je=ie*pe()*-1,Ut(!1,!1))),void 0!==z&&(Dr(()=>{ce=void 0,Z=void 0,je=void 0},{oneTimeCallback:!0}),Ie||jt()),Mt)}}},3365:(un,ft,N)=>{"use strict";N.d(ft,{E:()=>be,a:()=>d,s:()=>qe});const d=Te=>{try{if(Te instanceof me)return Te.value;if(!de()||"string"!=typeof Te||""===Te)return Te;if(Te.includes("onload="))return"";const Je=document.createDocumentFragment(),Ye=document.createElement("div");Je.appendChild(Ye),Ye.innerHTML=Te,re.forEach(et=>{const nt=Je.querySelectorAll(et);for(let at=nt.length-1;at>=0;at--){const Et=nt[at];Et.parentNode?Et.parentNode.removeChild(Et):Je.removeChild(Et);const Ce=J(Et);for(let Be=0;Be<Ce.length;Be++)$(Ce[Be])}});const Ee=J(Je);for(let et=0;et<Ee.length;et++)$(Ee[et]);const Ke=document.createElement("div");Ke.appendChild(Je);const _t=Ke.querySelector("div");return null!==_t?_t.innerHTML:Ke.innerHTML}catch(Je){return console.error(Je),""}},$=Te=>{if(Te.nodeType&&1!==Te.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Te.attributes instanceof NamedNodeMap))return void Te.remove();for(let Ye=Te.attributes.length-1;Ye>=0;Ye--){const Ee=Te.attributes.item(Ye),Ke=Ee.name;if(!Oe.includes(Ke.toLowerCase())){Te.removeAttribute(Ke);continue}const _t=Ee.value,et=Te[Ke];(null!=_t&&_t.toLowerCase().includes("javascript:")||null!=et&&et.toLowerCase().includes("javascript:"))&&Te.removeAttribute(Ke)}const Je=J(Te);for(let Ye=0;Ye<Je.length;Ye++)$(Je[Ye])},J=Te=>null!=Te.children?Te.children:Te.childNodes,de=()=>{var Te;const Je=window,Ye=null===(Te=null==Je?void 0:Je.Ionic)||void 0===Te?void 0:Te.config;return!Ye||(Ye.get?Ye.get("sanitizerEnabled",!0):!0===Ye.sanitizerEnabled||void 0===Ye.sanitizerEnabled)},Oe=["class","id","href","src","name","slot"],re=["script","style","iframe","meta","link","object","embed"];class me{constructor(Je){this.value=Je}}const qe=Te=>{const Je=window,Ye=Je.Ionic;if(!Ye||!Ye.config||"Object"===Ye.config.constructor.name)return Je.Ionic=Je.Ionic||{},Je.Ionic.config=Object.assign(Object.assign({},Je.Ionic.config),Te),Je.Ionic.config},be=!1},6559:(un,ft,N)=>{"use strict";N.d(ft,{C:()=>Oe,a:()=>J,d:()=>de});var d=N(5861),$=N(839);const J=function(){var re=(0,d.Z)(function*(me,qe,Ze,be,Te,Je){var Ye;if(me)return me.attachViewToDom(qe,Ze,Te,be);if(!(Je||"string"==typeof Ze||Ze instanceof HTMLElement))throw new Error("framework delegate is missing");const Ee="string"==typeof Ze?null===(Ye=qe.ownerDocument)||void 0===Ye?void 0:Ye.createElement(Ze):Ze;return be&&be.forEach(Ke=>Ee.classList.add(Ke)),Te&&Object.assign(Ee,Te),qe.appendChild(Ee),yield new Promise(Ke=>(0,$.c)(Ee,Ke)),Ee});return function(qe,Ze,be,Te,Je,Ye){return re.apply(this,arguments)}}(),de=(re,me)=>{if(me){if(re)return re.removeViewFromDom(me.parentElement,me);me.remove()}return Promise.resolve()},Oe=()=>{let re,me;return{attachViewToDom:function(){var be=(0,d.Z)(function*(Te,Je,Ye={},Ee=[]){var Ke,_t;let et;if(re=Te,Je){const at="string"==typeof Je?null===(Ke=re.ownerDocument)||void 0===Ke?void 0:Ke.createElement(Je):Je;Ee.forEach(Et=>at.classList.add(Et)),Object.assign(at,Ye),re.appendChild(at),et=at,yield new Promise(Et=>(0,$.c)(at,Et))}else if(re.children.length>0&&("ION-MODAL"===re.tagName||"ION-POPOVER"===re.tagName)&&!(et=re.children[0]).classList.contains("ion-delegate-host")){const Et=null===(_t=re.ownerDocument)||void 0===_t?void 0:_t.createElement("div");Et.classList.add("ion-delegate-host"),Ee.forEach(Ce=>Et.classList.add(Ce)),Et.append(...re.children),re.appendChild(Et),et=Et}const nt=document.querySelector("ion-app")||document.body;return me=document.createComment("ionic teleport"),re.parentNode.insertBefore(me,re),nt.appendChild(re),null!=et?et:re});return function(Je,Ye){return be.apply(this,arguments)}}(),removeViewFromDom:()=>(re&&me&&(me.parentNode.insertBefore(re,me),me.remove()),Promise.resolve())}}},619:(un,ft,N)=>{"use strict";N.d(ft,{G:()=>Oe});class ${constructor(me,qe,Ze,be,Te){this.id=qe,this.name=Ze,this.disableScroll=Te,this.priority=1e6*be+qe,this.ctrl=me}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const me=this.ctrl.capture(this.name,this.id,this.priority);return me&&this.disableScroll&&this.ctrl.disableScroll(this.id),me}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class J{constructor(me,qe,Ze,be){this.id=qe,this.disable=Ze,this.disableScroll=be,this.ctrl=me}block(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.disableGesture(me,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const me of this.disable)this.ctrl.enableGesture(me,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const de="backdrop-no-scroll",Oe=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(me){var qe;return new $(this,this.newID(),me.name,null!==(qe=me.priority)&&void 0!==qe?qe:0,!!me.disableScroll)}createBlocker(me={}){return new J(this,this.newID(),me.disable,!!me.disableScroll)}start(me,qe,Ze){return this.canStart(me)?(this.requestedStart.set(qe,Ze),!0):(this.requestedStart.delete(qe),!1)}capture(me,qe,Ze){if(!this.start(me,qe,Ze))return!1;const be=this.requestedStart;let Te=-1e4;if(be.forEach(Je=>{Te=Math.max(Te,Je)}),Te===Ze){this.capturedId=qe,be.clear();const Je=new CustomEvent("ionGestureCaptured",{detail:{gestureName:me}});return document.dispatchEvent(Je),!0}return be.delete(qe),!1}release(me){this.requestedStart.delete(me),this.capturedId===me&&(this.capturedId=void 0)}disableGesture(me,qe){let Ze=this.disabledGestures.get(me);void 0===Ze&&(Ze=new Set,this.disabledGestures.set(me,Ze)),Ze.add(qe)}enableGesture(me,qe){const Ze=this.disabledGestures.get(me);void 0!==Ze&&Ze.delete(qe)}disableScroll(me){this.disabledScroll.add(me),1===this.disabledScroll.size&&document.body.classList.add(de)}enableScroll(me){this.disabledScroll.delete(me),0===this.disabledScroll.size&&document.body.classList.remove(de)}canStart(me){return!(void 0!==this.capturedId||this.isDisabled(me))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(me){const qe=this.disabledGestures.get(me);return!!(qe&&qe.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(un,ft,N)=>{"use strict";N.r(ft),N.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Oe,OVERLAY_BACK_BUTTON_PRIORITY:()=>de,blockHardwareBackButton:()=>$,startHardwareBackButton:()=>J});var d=N(5861);const $=()=>{document.addEventListener("backbutton",()=>{})},J=()=>{const re=document;let me=!1;re.addEventListener("backbutton",()=>{if(me)return;let qe=0,Ze=[];const be=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ye,Ee){Ze.push({priority:Ye,handler:Ee,id:qe++})}}});re.dispatchEvent(be);const Te=function(){var Ye=(0,d.Z)(function*(Ee){try{if(null!=Ee&&Ee.handler){const Ke=Ee.handler(Je);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return Ye.apply(this,arguments)}}(),Je=()=>{if(Ze.length>0){let Ye={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ze.forEach(Ee=>{Ee.priority>=Ye.priority&&(Ye=Ee)}),me=!0,Ze=Ze.filter(Ee=>Ee.id!==Ye.id),Te(Ye).then(()=>me=!1)}};Je()})},de=100,Oe=99},839:(un,ft,N)=>{"use strict";N.d(ft,{a:()=>qe,b:()=>Ze,c:()=>J,d:()=>_t,e:()=>Ke,f:()=>Ee,g:()=>be,h:()=>Ye,i:()=>me,j:()=>Be,k:()=>Oe,l:()=>et,m:()=>de,n:()=>Je,o:()=>nt,p:()=>Ce,q:()=>Xe,r:()=>Te,s:()=>pt,t:()=>d,u:()=>at,v:()=>Et});const d=(_e,Se=0)=>new Promise(he=>{$(_e,Se,he)}),$=(_e,Se=0,he)=>{let Ie,Ue;const rt={passive:!0},st=()=>{Ie&&Ie()},yt=Qe=>{(void 0===Qe||_e===Qe.target)&&(st(),he(Qe))};return _e&&(_e.addEventListener("webkitTransitionEnd",yt,rt),_e.addEventListener("transitionend",yt,rt),Ue=setTimeout(yt,Se+500),Ie=()=>{Ue&&(clearTimeout(Ue),Ue=void 0),_e.removeEventListener("webkitTransitionEnd",yt,rt),_e.removeEventListener("transitionend",yt,rt)}),st},J=(_e,Se)=>{_e.componentOnReady?_e.componentOnReady().then(he=>Se(he)):Te(()=>Se(_e))},de=_e=>void 0!==_e.componentOnReady,Oe=(_e,Se=[])=>{const he={};return Se.forEach(Ie=>{_e.hasAttribute(Ie)&&(null!==_e.getAttribute(Ie)&&(he[Ie]=_e.getAttribute(Ie)),_e.removeAttribute(Ie))}),he},re=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],me=(_e,Se)=>{let he=re;return Se&&Se.length>0&&(he=he.filter(Ie=>!Se.includes(Ie))),Oe(_e,he)},qe=(_e,Se,he,Ie)=>{var Ue;if(typeof window<"u"){const rt=window,Me=null===(Ue=null==rt?void 0:rt.Ionic)||void 0===Ue?void 0:Ue.config;if(Me){const st=Me.get("_ael");if(st)return st(_e,Se,he,Ie);if(Me._ael)return Me._ael(_e,Se,he,Ie)}}return _e.addEventListener(Se,he,Ie)},Ze=(_e,Se,he,Ie)=>{var Ue;if(typeof window<"u"){const rt=window,Me=null===(Ue=null==rt?void 0:rt.Ionic)||void 0===Ue?void 0:Ue.config;if(Me){const st=Me.get("_rel");if(st)return st(_e,Se,he,Ie);if(Me._rel)return Me._rel(_e,Se,he,Ie)}}return _e.removeEventListener(Se,he,Ie)},be=(_e,Se=_e)=>_e.shadowRoot||Se,Te=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e),Je=_e=>!!_e.shadowRoot&&!!_e.attachShadow,Ye=_e=>{const Se=_e.closest("ion-item");return Se?Se.querySelector("ion-label"):null},Ee=_e=>{if(_e.focus(),_e.classList.contains("ion-focusable")){const Se=_e.closest("ion-app");Se&&Se.setFocus([_e])}},Ke=(_e,Se)=>{let he;const Ie=_e.getAttribute("aria-labelledby"),Ue=_e.id;let rt=null!==Ie&&""!==Ie.trim()?Ie:Se+"-lbl",Me=null!==Ie&&""!==Ie.trim()?document.getElementById(Ie):Ye(_e);return Me?(null===Ie&&(Me.id=rt),he=Me.textContent,Me.setAttribute("aria-hidden","true")):""!==Ue.trim()&&(Me=document.querySelector(`label[for="${Ue}"]`),Me&&(""!==Me.id?rt=Me.id:Me.id=rt=`${Ue}-lbl`,he=Me.textContent)),{label:Me,labelId:rt,labelText:he}},_t=(_e,Se,he,Ie,Ue)=>{if(_e||Je(Se)){let rt=Se.querySelector("input.aux-input");rt||(rt=Se.ownerDocument.createElement("input"),rt.type="hidden",rt.classList.add("aux-input"),Se.appendChild(rt)),rt.disabled=Ue,rt.name=he,rt.value=Ie||""}},et=(_e,Se,he)=>Math.max(_e,Math.min(Se,he)),nt=(_e,Se)=>{if(!_e){const he="ASSERT: "+Se;throw console.error(he),new Error(he)}},at=_e=>_e.timeStamp||Date.now(),Et=_e=>{if(_e){const Se=_e.changedTouches;if(Se&&Se.length>0){const he=Se[0];return{x:he.clientX,y:he.clientY}}if(void 0!==_e.pageX)return{x:_e.pageX,y:_e.pageY}}return{x:0,y:0}},Ce=_e=>{const Se="rtl"===document.dir;switch(_e){case"start":return Se;case"end":return!Se;default:throw new Error(`"${_e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(_e,Se)=>{const he=_e._original||_e;return{_original:_e,emit:Xe(he.emit.bind(he),Se)}},Xe=(_e,Se=0)=>{let he;return(...Ie)=>{clearTimeout(he),he=setTimeout(_e,Se,...Ie)}},pt=(_e,Se)=>{if(null!=_e||(_e={}),null!=Se||(Se={}),_e===Se)return!0;const he=Object.keys(_e);if(he.length!==Object.keys(Se).length)return!1;for(const Ie of he)if(!(Ie in Se)||_e[Ie]!==Se[Ie])return!1;return!0}},1783:(un,ft,N)=>{"use strict";N.d(ft,{m:()=>Je});var d=N(5861),$=N(6710),J=N(2124),de=N(839),Oe=N(3882),re=N(6410);const me=Ye=>(0,re.c)().duration(Ye?400:300),qe=Ye=>{let Ee,Ke;const _t=Ye.width+8,et=(0,re.c)(),nt=(0,re.c)();Ye.isEndSide?(Ee=_t+"px",Ke="0px"):(Ee=-_t+"px",Ke="0px"),et.addElement(Ye.menuInnerEl).fromTo("transform",`translateX(${Ee})`,`translateX(${Ke})`);const Et="ios"===(0,Oe.b)(Ye),Ce=Et?.2:.25;return nt.addElement(Ye.backdropEl).fromTo("opacity",.01,Ce),me(Et).addAnimation([et,nt])},Ze=Ye=>{let Ee,Ke;const _t=(0,Oe.b)(Ye),et=Ye.width;Ye.isEndSide?(Ee=-et+"px",Ke=et+"px"):(Ee=et+"px",Ke=-et+"px");const nt=(0,re.c)().addElement(Ye.menuInnerEl).fromTo("transform",`translateX(${Ke})`,"translateX(0px)"),at=(0,re.c)().addElement(Ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ee})`),Et=(0,re.c)().addElement(Ye.backdropEl).fromTo("opacity",.01,.32);return me("ios"===_t).addAnimation([nt,at,Et])},be=Ye=>{const Ee=(0,Oe.b)(Ye),Ke=Ye.width*(Ye.isEndSide?-1:1)+"px",_t=(0,re.c)().addElement(Ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`);return me("ios"===Ee).addAnimation(_t)},Je=(()=>{const Ye=new Map,Ee=[],Ke=function(){var x=(0,d.Z)(function*(Z){const ce=yield Be(Z,!0);return!!ce&&ce.open()});return function(ce){return x.apply(this,arguments)}}(),_t=function(){var x=(0,d.Z)(function*(Z){const ce=yield void 0!==Z?Be(Z,!0):Xe();return void 0!==ce&&ce.close()});return function(ce){return x.apply(this,arguments)}}(),et=function(){var x=(0,d.Z)(function*(Z){const ce=yield Be(Z,!0);return!!ce&&ce.toggle()});return function(ce){return x.apply(this,arguments)}}(),nt=function(){var x=(0,d.Z)(function*(Z,ce){const je=yield Be(ce);return je&&(je.disabled=!Z),je});return function(ce,je){return x.apply(this,arguments)}}(),at=function(){var x=(0,d.Z)(function*(Z,ce){const je=yield Be(ce);return je&&(je.swipeGesture=Z),je});return function(ce,je){return x.apply(this,arguments)}}(),Et=function(){var x=(0,d.Z)(function*(Z){if(null!=Z){const ce=yield Be(Z);return void 0!==ce&&ce.isOpen()}return void 0!==(yield Xe())});return function(ce){return x.apply(this,arguments)}}(),Ce=function(){var x=(0,d.Z)(function*(Z){const ce=yield Be(Z);return!!ce&&!ce.disabled});return function(ce){return x.apply(this,arguments)}}(),Be=function(){var x=(0,d.Z)(function*(Z,ce=!1){if(yield se(),"start"===Z||"end"===Z){const $e=Ee.filter(It=>It.side===Z&&!It.disabled);if($e.length>=1)return $e.length>1&&ce&&(0,$.p)(`menuController queried for a menu on the "${Z}" side, but ${$e.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,$e.map(It=>It.el)),$e[0].el;const We=Ee.filter(It=>It.side===Z);if(We.length>=1)return We.length>1&&ce&&(0,$.p)(`menuController queried for a menu on the "${Z}" side, but ${We.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,We.map(It=>It.el)),We[0].el}else if(null!=Z)return Qe($e=>$e.menuId===Z);return Qe($e=>!$e.disabled)||(Ee.length>0?Ee[0].el:void 0)});return function(ce){return x.apply(this,arguments)}}(),Xe=function(){var x=(0,d.Z)(function*(){return yield se(),Me()});return function(){return x.apply(this,arguments)}}(),pt=function(){var x=(0,d.Z)(function*(){return yield se(),st()});return function(){return x.apply(this,arguments)}}(),_e=function(){var x=(0,d.Z)(function*(){return yield se(),yt()});return function(){return x.apply(this,arguments)}}(),Se=(x,Z)=>{Ye.set(x,Z)},Ue=function(){var x=(0,d.Z)(function*(Z,ce,je){if(yt())return!1;if(ce){const $e=yield Xe();$e&&Z.el!==$e&&(yield $e.setOpen(!1,!1))}return Z._setOpen(ce,je)});return function(ce,je,$e){return x.apply(this,arguments)}}(),Me=()=>Qe(x=>x._isOpen),st=()=>Ee.map(x=>x.el),yt=()=>Ee.some(x=>x.isAnimating),Qe=x=>{const Z=Ee.find(x);if(void 0!==Z)return Z.el},se=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(x=>new Promise(Z=>(0,de.c)(x,Z))));return Se("reveal",be),Se("push",Ze),Se("overlay",qe),typeof document<"u"&&document.addEventListener("ionBackButton",x=>{const Z=Me();Z&&x.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:Se,get:Be,getMenus:pt,getOpen:Xe,isEnabled:Ce,swipeGesture:at,isAnimating:_e,isOpen:Et,enable:nt,toggle:et,close:_t,open:Ke,_getOpenSync:Me,_createAnimation:(x,Z)=>{const ce=Ye.get(x);if(!ce)throw new Error("animation not registered");return ce(Z)},_register:x=>{Ee.indexOf(x)<0&&Ee.push(x)},_unregister:x=>{const Z=Ee.indexOf(x);Z>-1&&Ee.splice(Z,1)},_setOpen:Ue}})()},6710:(un,ft,N)=>{"use strict";N.d(ft,{a:()=>$,b:()=>J,p:()=>d});const d=(de,...Oe)=>console.warn(`[Ionic Warning]: ${de}`,...Oe),$=(de,...Oe)=>console.error(`[Ionic Error]: ${de}`,...Oe),J=(de,...Oe)=>console.error(`<${de.tagName.toLowerCase()}> must be used inside ${Oe.join(" or ")}.`)},448:(un,ft,N)=>{"use strict";N.d(ft,{b:()=>re,c:()=>me,d:()=>qe,e:()=>_e,g:()=>Ie,l:()=>Xe,s:()=>Se,t:()=>Te,w:()=>pt});var d=N(5861),$=N(5349),J=N(839);const re="ionViewWillLeave",me="ionViewDidLeave",qe="ionViewWillUnload",Te=Ue=>new Promise((rt,Me)=>{(0,$.w)(()=>{Je(Ue),Ye(Ue).then(st=>{st.animation&&st.animation.destroy(),Ee(Ue),rt(st)},st=>{Ee(Ue),Me(st)})})}),Je=Ue=>{const rt=Ue.enteringEl,Me=Ue.leavingEl;he(rt,Me,Ue.direction),Ue.showGoBack?rt.classList.add("can-go-back"):rt.classList.remove("can-go-back"),Se(rt,!1),rt.style.setProperty("pointer-events","none"),Me&&(Se(Me,!1),Me.style.setProperty("pointer-events","none"))},Ye=function(){var Ue=(0,d.Z)(function*(rt){const Me=yield Ke(rt);return Me&&$.B.isBrowser?_t(Me,rt):et(rt)});return function(Me){return Ue.apply(this,arguments)}}(),Ee=Ue=>{const rt=Ue.enteringEl,Me=Ue.leavingEl;rt.classList.remove("ion-page-invisible"),rt.style.removeProperty("pointer-events"),void 0!==Me&&(Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"))},Ke=function(){var Ue=(0,d.Z)(function*(rt){return rt.leavingEl&&rt.animated&&0!==rt.duration?rt.animationBuilder?rt.animationBuilder:"ios"===rt.mode?(yield Promise.resolve().then(N.bind(N,2619))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,9023))).mdTransitionAnimation:void 0});return function(Me){return Ue.apply(this,arguments)}}(),_t=function(){var Ue=(0,d.Z)(function*(rt,Me){yield nt(Me,!0);const st=rt(Me.baseEl,Me);Ce(Me.enteringEl,Me.leavingEl);const yt=yield Et(st,Me);return Me.progressCallback&&Me.progressCallback(void 0),yt&&Be(Me.enteringEl,Me.leavingEl),{hasCompleted:yt,animation:st}});return function(Me,st){return Ue.apply(this,arguments)}}(),et=function(){var Ue=(0,d.Z)(function*(rt){const Me=rt.enteringEl,st=rt.leavingEl;return yield nt(rt,!1),Ce(Me,st),Be(Me,st),{hasCompleted:!0}});return function(Me){return Ue.apply(this,arguments)}}(),nt=function(){var Ue=(0,d.Z)(function*(rt,Me){(void 0!==rt.deepWait?rt.deepWait:Me)&&(yield Promise.all([_e(rt.enteringEl),_e(rt.leavingEl)])),yield at(rt.viewIsReady,rt.enteringEl)});return function(Me,st){return Ue.apply(this,arguments)}}(),at=function(){var Ue=(0,d.Z)(function*(rt,Me){rt&&(yield rt(Me))});return function(Me,st){return Ue.apply(this,arguments)}}(),Et=(Ue,rt)=>{const Me=rt.progressCallback,st=new Promise(yt=>{Ue.onFinish(Qe=>yt(1===Qe))});return Me?(Ue.progressStart(!0),Me(Ue)):Ue.play(),st},Ce=(Ue,rt)=>{Xe(rt,re),Xe(Ue,"ionViewWillEnter")},Be=(Ue,rt)=>{Xe(Ue,"ionViewDidEnter"),Xe(rt,me)},Xe=(Ue,rt)=>{if(Ue){const Me=new CustomEvent(rt,{bubbles:!1,cancelable:!1});Ue.dispatchEvent(Me)}},pt=()=>new Promise(Ue=>(0,J.r)(()=>(0,J.r)(()=>Ue()))),_e=function(){var Ue=(0,d.Z)(function*(rt){const Me=rt;if(Me){if(null!=Me.componentOnReady){if(null!=(yield Me.componentOnReady()))return}else if(null!=Me.__registerHost)return void(yield new Promise(yt=>(0,J.r)(yt)));yield Promise.all(Array.from(Me.children).map(_e))}});return function(Me){return Ue.apply(this,arguments)}}(),Se=(Ue,rt)=>{rt?(Ue.setAttribute("aria-hidden","true"),Ue.classList.add("ion-page-hidden")):(Ue.hidden=!1,Ue.removeAttribute("aria-hidden"),Ue.classList.remove("ion-page-hidden"))},he=(Ue,rt,Me)=>{void 0!==Ue&&(Ue.style.zIndex="back"===Me?"99":"101"),void 0!==rt&&(rt.style.zIndex="100")},Ie=Ue=>Ue.classList.contains("ion-page")?Ue:Ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ue},6225:(un,ft,N)=>{"use strict";N.d(ft,{d:()=>$,w:()=>d});const d=typeof window<"u"?window:void 0,$=typeof document<"u"?document:void 0},5349:(un,ft,N)=>{"use strict";N.d(ft,{B:()=>Je,H:()=>Qe,a:()=>mn,b:()=>Hr,c:()=>Pt,d:()=>Kt,e:()=>nn,f:()=>ln,g:()=>Mt,h:()=>st,i:()=>ge,j:()=>Ye,r:()=>kn,w:()=>dr});var d=N(5861);let de,Oe,re,me=!1,qe=!1,Ze=!1,be=!1,Te=!1;const Je={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ye=z=>{const ie=new URL(z,Rn.$resourcesUrl$);return ie.origin!==Cn.location.origin?ie.href:ie.pathname},Et="s-id",Ce="sty-id",pt="slot-fb{display:contents}slot-fb[hidden]{display:none}",_e="http://www.w3.org/1999/xlink",Se={},rt=z=>"object"==(z=typeof z)||"function"===z;function Me(z){var ie,ze,it;return null!==(it=null===(ze=null===(ie=z.head)||void 0===ie?void 0:ie.querySelector('meta[name="csp-nonce"]'))||void 0===ze?void 0:ze.getAttribute("content"))&&void 0!==it?it:void 0}const st=(z,ie,...ze)=>{let it=null,xt=null,T=null,Q=!1,k=!1;const te=[],xe=Vn=>{for(let nr=0;nr<Vn.length;nr++)it=Vn[nr],Array.isArray(it)?xe(it):null!=it&&"boolean"!=typeof it&&((Q="function"!=typeof z&&!rt(it))&&(it=String(it)),Q&&k?te[te.length-1].$text$+=it:te.push(Q?yt(null,it):it),k=Q)};if(xe(ze),ie){ie.key&&(xt=ie.key),ie.name&&(T=ie.name);{const Vn=ie.className||ie.class;Vn&&(ie.class="object"!=typeof Vn?Vn:Object.keys(Vn).filter(nr=>Vn[nr]).join(" "))}}if("function"==typeof z)return z(null===ie?{}:ie,te,x);const $t=yt(z,null);return $t.$attrs$=ie,te.length>0&&($t.$children$=te),$t.$key$=xt,$t.$name$=T,$t},yt=(z,ie)=>({$flags$:0,$tag$:z,$text$:ie,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Qe={},x={forEach:(z,ie)=>z.map(Z).forEach(ie),map:(z,ie)=>z.map(Z).map(ie).map(ce)},Z=z=>({vattrs:z.$attrs$,vchildren:z.$children$,vkey:z.$key$,vname:z.$name$,vtag:z.$tag$,vtext:z.$text$}),ce=z=>{if("function"==typeof z.vtag){const ze=Object.assign({},z.vattrs);return z.vkey&&(ze.key=z.vkey),z.vname&&(ze.name=z.vname),st(z.vtag,ze,...z.vchildren||[])}const ie=yt(z.vtag,z.vtext);return ie.$attrs$=z.vattrs,ie.$children$=z.vchildren,ie.$key$=z.vkey,ie.$name$=z.vname,ie},$e=(z,ie,ze,it,xt,T,Q)=>{let k,te,xe,$t;if(1===T.nodeType){for(k=T.getAttribute("c-id"),k&&(te=k.split("."),(te[0]===Q||"0"===te[0])&&(xe={$flags$:0,$hostId$:te[0],$nodeId$:te[1],$depth$:te[2],$index$:te[3],$tag$:T.tagName.toLowerCase(),$elm$:T,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ie.push(xe),T.removeAttribute("c-id"),z.$children$||(z.$children$=[]),z.$children$[xe.$index$]=xe,z=xe,it&&"0"===xe.$depth$&&(it[xe.$index$]=xe.$elm$))),$t=T.childNodes.length-1;$t>=0;$t--)$e(z,ie,ze,it,xt,T.childNodes[$t],Q);if(T.shadowRoot)for($t=T.shadowRoot.childNodes.length-1;$t>=0;$t--)$e(z,ie,ze,it,xt,T.shadowRoot.childNodes[$t],Q)}else if(8===T.nodeType)te=T.nodeValue.split("."),(te[1]===Q||"0"===te[1])&&(k=te[0],xe={$flags$:0,$hostId$:te[1],$nodeId$:te[2],$depth$:te[3],$index$:te[4],$elm$:T,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===k?(xe.$elm$=T.nextSibling,xe.$elm$&&3===xe.$elm$.nodeType&&(xe.$text$=xe.$elm$.textContent,ie.push(xe),T.remove(),z.$children$||(z.$children$=[]),z.$children$[xe.$index$]=xe,it&&"0"===xe.$depth$&&(it[xe.$index$]=xe.$elm$))):xe.$hostId$===Q&&("s"===k?(xe.$tag$="slot",T["s-sn"]=te[5]?xe.$name$=te[5]:"",T["s-sr"]=!0,it&&(xe.$elm$=fn.createElement(xe.$tag$),xe.$name$&&xe.$elm$.setAttribute("name",xe.$name$),T.parentNode.insertBefore(xe.$elm$,T),T.remove(),"0"===xe.$depth$&&(it[xe.$index$]=xe.$elm$)),ze.push(xe),z.$children$||(z.$children$=[]),z.$children$[xe.$index$]=xe):"r"===k&&(it?T.remove():(xt["s-cr"]=T,T["s-cn"]=!0))));else if(z&&"style"===z.$tag$){const Vn=yt(null,T.textContent);Vn.$elm$=T,Vn.$index$="0",z.$children$=[Vn]}},We=(z,ie)=>{if(1===z.nodeType){let ze=0;for(;ze<z.childNodes.length;ze++)We(z.childNodes[ze],ie);if(z.shadowRoot)for(ze=0;ze<z.shadowRoot.childNodes.length;ze++)We(z.shadowRoot.childNodes[ze],ie)}else if(8===z.nodeType){const ze=z.nodeValue.split(".");"o"===ze[0]&&(ie.set(ze[1]+"."+ze[2],z),z.nodeValue="",z["s-en"]=ze[3])}},Pt=z=>Yt.push(z),Mt=z=>Yn(z).$modeName$,ln=z=>Yn(z).$hostElement$,Kt=(z,ie,ze)=>{const it=ln(z);return{emit:xt=>Rt(it,ie,{bubbles:!!(4&ze),composed:!!(2&ze),cancelable:!!(1&ze),detail:xt})}},Rt=(z,ie,ze)=>{const it=Rn.ce(ie,ze);return z.dispatchEvent(it),it},Nt=new WeakMap,Ht=(z,ie,ze)=>{let it=Ut.get(z);ee&&ze?(it=it||new CSSStyleSheet,"string"==typeof it?it=ie:it.replaceSync(ie)):it=ie,Ut.set(z,it)},Jt=(z,ie,ze)=>{var it;const xt=Fn(ie,ze),T=Ut.get(xt);if(z=11===z.nodeType?z:fn,T)if("string"==typeof T){let k,Q=Nt.get(z=z.head||z);if(Q||Nt.set(z,Q=new Set),!Q.has(xt)){if(z.host&&(k=z.querySelector(`[${Ce}="${xt}"]`)))k.innerHTML=T;else{k=fn.createElement("style"),k.innerHTML=T;const te=null!==(it=Rn.$nonce$)&&void 0!==it?it:Me(fn);null!=te&&k.setAttribute("nonce",te),z.insertBefore(k,z.querySelector("link"))}4&ie.$flags$&&(k.innerHTML+=pt),Q&&Q.add(xt)}}else z.adoptedStyleSheets.includes(T)||(z.adoptedStyleSheets=[...z.adoptedStyleSheets,T]);return xt},Fn=(z,ie)=>"sc-"+(ie&&32&z.$flags$?z.$tagName$+"-"+ie:z.$tagName$),rr=z=>z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),gn=(z,ie,ze,it,xt,T)=>{if(ze!==it){let Q=dt(z,ie),k=ie.toLowerCase();if("class"===ie){const te=z.classList,xe=_n(ze),$t=_n(it);te.remove(...xe.filter(Vn=>Vn&&!$t.includes(Vn))),te.add(...$t.filter(Vn=>Vn&&!xe.includes(Vn)))}else if("style"===ie){for(const te in ze)(!it||null==it[te])&&(te.includes("-")?z.style.removeProperty(te):z.style[te]="");for(const te in it)(!ze||it[te]!==ze[te])&&(te.includes("-")?z.style.setProperty(te,it[te]):z.style[te]=it[te])}else if("key"!==ie)if("ref"===ie)it&&it(z);else if(Q||"o"!==ie[0]||"n"!==ie[1]){const te=rt(it);if((Q||te&&null!==it)&&!xt)try{if(z.tagName.includes("-"))z[ie]=it;else{const $t=null==it?"":it;"list"===ie?Q=!1:(null==ze||z[ie]!=$t)&&(z[ie]=$t)}}catch{}let xe=!1;k!==(k=k.replace(/^xlink\:?/,""))&&(ie=k,xe=!0),null==it||!1===it?(!1!==it||""===z.getAttribute(ie))&&(xe?z.removeAttributeNS(_e,ie):z.removeAttribute(ie)):(!Q||4&T||xt)&&!te&&(it=!0===it?"":it,xe?z.setAttributeNS(_e,ie,it):z.setAttribute(ie,it))}else if(ie="-"===ie[2]?ie.slice(3):dt(Cn,k)?k.slice(2):k[2]+ie.slice(3),ze||it){const te=ie.endsWith(ti);ie=ie.replace(Jn,""),ze&&Rn.rel(z,ie,ze,te),it&&Rn.ael(z,ie,it,te)}}},er=/\s/,_n=z=>z?z.split(er):[],ti="Capture",Jn=new RegExp(ti+"$"),lr=(z,ie,ze,it)=>{const xt=11===ie.$elm$.nodeType&&ie.$elm$.host?ie.$elm$.host:ie.$elm$,T=z&&z.$attrs$||Se,Q=ie.$attrs$||Se;for(it in T)it in Q||gn(xt,it,T[it],void 0,ze,ie.$flags$);for(it in Q)gn(xt,it,T[it],Q[it],ze,ie.$flags$)},Bn=(z,ie,ze,it)=>{var xt;const T=ie.$children$[ze];let k,te,xe,Q=0;if(me||(Ze=!0,"slot"===T.$tag$&&(de&&it.classList.add(de+"-s"),T.$flags$|=T.$children$?2:1)),null!==T.$text$)k=T.$elm$=fn.createTextNode(T.$text$);else if(1&T.$flags$)k=T.$elm$=fn.createTextNode("");else{if(be||(be="svg"===T.$tag$),k=T.$elm$=fn.createElementNS(be?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&T.$flags$?"slot-fb":T.$tag$),be&&"foreignObject"===T.$tag$&&(be=!1),lr(null,T,be),(z=>null!=z)(de)&&k["s-si"]!==de&&k.classList.add(k["s-si"]=de),T.$children$)for(Q=0;Q<T.$children$.length;++Q)te=Bn(z,T,Q,k),te&&k.appendChild(te);"svg"===T.$tag$?be=!1:"foreignObject"===k.tagName&&(be=!0)}return k["s-hn"]=re,3&T.$flags$&&(k["s-sr"]=!0,k["s-fs"]=null===(xt=T.$attrs$)||void 0===xt?void 0:xt.slot,k["s-cr"]=Oe,k["s-sn"]=T.$name$||"",xe=z&&z.$children$&&z.$children$[ze],xe&&xe.$tag$===T.$tag$&&z.$elm$&&Qr(z.$elm$,!1)),k},Qr=(z,ie)=>{var ze;Rn.$flags$|=1;const it=z.childNodes;for(let xt=it.length-1;xt>=0;xt--){const T=it[xt];T["s-hn"]!==re&&T["s-ol"]&&(Dr(T).insertBefore(T,wi(T)),T["s-ol"].remove(),T["s-ol"]=void 0,T["s-sh"]=void 0,1===T.nodeType&&T.setAttribute("slot",null!==(ze=T["s-sn"])&&void 0!==ze?ze:""),Ze=!0),ie&&Qr(T,ie)}Rn.$flags$&=-2},$r=(z,ie,ze,it,xt,T)=>{let k,Q=z["s-cr"]&&z["s-cr"].parentNode||z;for(Q.shadowRoot&&Q.tagName===re&&(Q=Q.shadowRoot);xt<=T;++xt)it[xt]&&(k=Bn(null,ze,xt,z),k&&(it[xt].$elm$=k,Q.insertBefore(k,wi(ie))))},vn=(z,ie,ze)=>{for(let it=ie;it<=ze;++it){const xt=z[it];if(xt){const T=xt.$elm$;Ti(xt),T&&(qe=!0,T["s-ol"]?T["s-ol"].remove():Qr(T,!0),T.remove())}}},Mn=(z,ie)=>z.$tag$===ie.$tag$&&("slot"===z.$tag$?z.$name$===ie.$name$:z.$key$===ie.$key$),wi=z=>z&&z["s-ol"]||z,Dr=z=>(z["s-ol"]?z["s-ol"]:z).parentNode,hn=(z,ie)=>{const ze=ie.$elm$=z.$elm$,it=z.$children$,xt=ie.$children$,T=ie.$tag$,Q=ie.$text$;let k;null===Q?(be="svg"===T||"foreignObject"!==T&&be,"slot"===T||lr(z,ie,be),null!==it&&null!==xt?((z,ie,ze,it)=>{let li,Ii,xt=0,T=0,Q=0,k=0,te=ie.length-1,xe=ie[0],$t=ie[te],Vn=it.length-1,nr=it[0],_r=it[Vn];for(;xt<=te&&T<=Vn;)if(null==xe)xe=ie[++xt];else if(null==$t)$t=ie[--te];else if(null==nr)nr=it[++T];else if(null==_r)_r=it[--Vn];else if(Mn(xe,nr))hn(xe,nr),xe=ie[++xt],nr=it[++T];else if(Mn($t,_r))hn($t,_r),$t=ie[--te],_r=it[--Vn];else if(Mn(xe,_r))("slot"===xe.$tag$||"slot"===_r.$tag$)&&Qr(xe.$elm$.parentNode,!1),hn(xe,_r),z.insertBefore(xe.$elm$,$t.$elm$.nextSibling),xe=ie[++xt],_r=it[--Vn];else if(Mn($t,nr))("slot"===xe.$tag$||"slot"===_r.$tag$)&&Qr($t.$elm$.parentNode,!1),hn($t,nr),z.insertBefore($t.$elm$,xe.$elm$),$t=ie[--te],nr=it[++T];else{for(Q=-1,k=xt;k<=te;++k)if(ie[k]&&null!==ie[k].$key$&&ie[k].$key$===nr.$key$){Q=k;break}Q>=0?(Ii=ie[Q],Ii.$tag$!==nr.$tag$?li=Bn(ie&&ie[T],ze,Q,z):(hn(Ii,nr),ie[Q]=void 0,li=Ii.$elm$),nr=it[++T]):(li=Bn(ie&&ie[T],ze,T,z),nr=it[++T]),li&&Dr(xe.$elm$).insertBefore(li,wi(xe.$elm$))}xt>te?$r(z,null==it[Vn+1]?null:it[Vn+1].$elm$,ze,it,T,Vn):T>Vn&&vn(ie,xt,te)})(ze,it,ie,xt):null!==xt?(null!==z.$text$&&(ze.textContent=""),$r(ze,null,ie,xt,0,xt.length-1)):null!==it&&vn(it,0,it.length-1),be&&"svg"===T&&(be=!1)):(k=ze["s-cr"])?k.parentNode.textContent=Q:z.$text$!==Q&&(ze.data=Q)},tr=z=>{const ie=z.childNodes;for(const ze of ie)if(1===ze.nodeType){if(ze["s-sr"]){const it=ze["s-sn"];ze.hidden=!1;for(const xt of ie)if(xt!==ze)if(xt["s-hn"]!==ze["s-hn"]||""!==it){if(1===xt.nodeType&&(it===xt.getAttribute("slot")||it===xt["s-sn"])){ze.hidden=!0;break}}else if(1===xt.nodeType||3===xt.nodeType&&""!==xt.textContent.trim()){ze.hidden=!0;break}}tr(ze)}},Ar=[],oi=z=>{let ie,ze,it;for(const xt of z.childNodes){if(xt["s-sr"]&&(ie=xt["s-cr"])&&ie.parentNode){ze=ie.parentNode.childNodes;const T=xt["s-sn"];for(it=ze.length-1;it>=0;it--)if(ie=ze[it],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==xt["s-hn"])if(ki(ie,T)){let Q=Ar.find(k=>k.$nodeToRelocate$===ie);qe=!0,ie["s-sn"]=ie["s-sn"]||T,Q?(Q.$nodeToRelocate$["s-sh"]=xt["s-hn"],Q.$slotRefNode$=xt):(ie["s-sh"]=xt["s-hn"],Ar.push({$slotRefNode$:xt,$nodeToRelocate$:ie})),ie["s-sr"]&&Ar.map(k=>{ki(k.$nodeToRelocate$,ie["s-sn"])&&(Q=Ar.find(te=>te.$nodeToRelocate$===ie),Q&&!k.$slotRefNode$&&(k.$slotRefNode$=Q.$slotRefNode$))})}else Ar.some(Q=>Q.$nodeToRelocate$===ie)||Ar.push({$nodeToRelocate$:ie})}1===xt.nodeType&&oi(xt)}},ki=(z,ie)=>1===z.nodeType?null===z.getAttribute("slot")&&""===ie||z.getAttribute("slot")===ie:z["s-sn"]===ie||""===ie,Ti=z=>{z.$attrs$&&z.$attrs$.ref&&z.$attrs$.ref(null),z.$children$&&z.$children$.map(Ti)},jr=(z,ie)=>{ie&&!z.$onRenderResolve$&&ie["s-p"]&&ie["s-p"].push(new Promise(ze=>z.$onRenderResolve$=ze))},Fr=(z,ie)=>{if(z.$flags$|=16,!(4&z.$flags$))return jr(z,z.$ancestorComponent$),dr(()=>Gn(z,ie));z.$flags$|=512},Gn=(z,ie)=>{const it=z.$lazyInstance$;let xt;return ie&&(z.$flags$|=256,z.$queuedListeners$&&(z.$queuedListeners$.map(([T,Q])=>Le(it,T,Q)),z.$queuedListeners$=void 0),xt=Le(it,"componentWillLoad")),xt=Un(xt,()=>Le(it,"componentWillRender")),Un(xt,()=>Pi(z,it,ie))},Un=(z,ie)=>ai(z)?z.then(ie):ie(),ai=z=>z instanceof Promise||z&&z.then&&"function"==typeof z.then,Pi=function(){var z=(0,d.Z)(function*(ie,ze,it){var xt;const T=ie.$hostElement$,k=T["s-rc"];it&&(z=>{const ie=z.$cmpMeta$,ze=z.$hostElement$,it=ie.$flags$,T=Jt(ze.shadowRoot?ze.shadowRoot:ze.getRootNode(),ie,z.$modeName$);10&it&&(ze["s-sc"]=T,ze.classList.add(T+"-h"),2&it&&ze.classList.add(T+"-s"))})(ie);Mi(ie,ze,T,it),k&&(k.map(xe=>xe()),T["s-rc"]=void 0);{const xe=null!==(xt=T["s-p"])&&void 0!==xt?xt:[],$t=()=>lt(ie);0===xe.length?$t():(Promise.all(xe).then($t),ie.$flags$|=4,xe.length=0)}});return function(ze,it,xt){return z.apply(this,arguments)}}(),Mi=(z,ie,ze,it)=>{try{ie=ie.render&&ie.render(),z.$flags$&=-17,z.$flags$|=2,((z,ie,ze=!1)=>{var it,xt;const T=z.$hostElement$,Q=z.$cmpMeta$,k=z.$vnode$||yt(null,null),te=(z=>z&&z.$tag$===Qe)(ie)?ie:st(null,null,ie);if(re=T.tagName,Q.$attrsToReflect$&&(te.$attrs$=te.$attrs$||{},Q.$attrsToReflect$.map(([xe,$t])=>te.$attrs$[$t]=T[xe])),ze&&te.$attrs$)for(const xe of Object.keys(te.$attrs$))T.hasAttribute(xe)&&!["key","ref","style","class"].includes(xe)&&(te.$attrs$[xe]=T[xe]);if(te.$tag$=null,te.$flags$|=4,z.$vnode$=te,te.$elm$=k.$elm$=T.shadowRoot||T,de=T["s-sc"],Oe=T["s-cr"],me=0!=(1&Q.$flags$),qe=!1,hn(k,te),Rn.$flags$|=1,Ze){oi(te.$elm$);for(const xe of Ar){const $t=xe.$nodeToRelocate$;if(!$t["s-ol"]){const Vn=fn.createTextNode("");Vn["s-nr"]=$t,$t.parentNode.insertBefore($t["s-ol"]=Vn,$t)}}for(const xe of Ar){const $t=xe.$nodeToRelocate$,Vn=xe.$slotRefNode$;if(Vn){const nr=Vn.parentNode;let _r=Vn.nextSibling;{let li=null===(it=$t["s-ol"])||void 0===it?void 0:it.previousSibling;for(;li;){let Ii=null!==(xt=li["s-nr"])&&void 0!==xt?xt:null;if(Ii&&Ii["s-sn"]===$t["s-sn"]&&nr===Ii.parentNode&&(Ii=Ii.nextSibling,!Ii||!Ii["s-nr"])){_r=Ii;break}li=li.previousSibling}}(!_r&&nr!==$t.parentNode||$t.nextSibling!==_r)&&$t!==_r&&(!$t["s-hn"]&&$t["s-ol"]&&($t["s-hn"]=$t["s-ol"].parentNode.nodeName),nr.insertBefore($t,_r))}else 1===$t.nodeType&&($t.hidden=!0)}}qe&&tr(te.$elm$),Rn.$flags$&=-2,Ar.length=0})(z,ie,it)}catch(xt){He(xt,z.$hostElement$)}return null},lt=z=>{const ze=z.$hostElement$,xt=z.$lazyInstance$,T=z.$ancestorComponent$;Le(xt,"componentDidRender"),64&z.$flags$?Le(xt,"componentDidUpdate"):(z.$flags$|=64,pe(ze),Le(xt,"componentDidLoad"),z.$onReadyResolve$(ze),T||oe()),z.$onInstanceResolve$(ze),z.$onRenderResolve$&&(z.$onRenderResolve$(),z.$onRenderResolve$=void 0),512&z.$flags$&&Nn(()=>Fr(z,!1)),z.$flags$&=-517},ge=z=>{{const ie=Yn(z),ze=ie.$hostElement$.isConnected;return ze&&2==(18&ie.$flags$)&&Fr(ie,!1),ze}},oe=z=>{pe(fn.documentElement),Nn(()=>Rt(Cn,"appload",{detail:{namespace:"ionic"}}))},Le=(z,ie,ze)=>{if(z&&z[ie])try{return z[ie](ze)}catch(it){He(it)}},pe=z=>z.classList.add("hydrated"),Wt=(z,ie,ze)=>{var it;if(ie.$members$){z.watchers&&(ie.$watchers$=z.watchers);const xt=Object.entries(ie.$members$),T=z.prototype;if(xt.map(([Q,[k]])=>{31&k||2&ze&&32&k?Object.defineProperty(T,Q,{get(){return((z,ie)=>Yn(this).$instanceValues$.get(ie))(0,Q)},set(te){((z,ie,ze,it)=>{const xt=Yn(z),T=xt.$hostElement$,Q=xt.$instanceValues$.get(ie),k=xt.$flags$,te=xt.$lazyInstance$;ze=((z,ie)=>null==z||rt(z)?z:4&ie?"false"!==z&&(""===z||!!z):2&ie?parseFloat(z):1&ie?String(z):z)(ze,it.$members$[ie][0]);const xe=Number.isNaN(Q)&&Number.isNaN(ze);if((!(8&k)||void 0===Q)&&ze!==Q&&!xe&&(xt.$instanceValues$.set(ie,ze),te)){if(it.$watchers$&&128&k){const Vn=it.$watchers$[ie];Vn&&Vn.map(nr=>{try{te[nr](ze,Q,ie)}catch(_r){He(_r,T)}})}2==(18&k)&&Fr(xt,!1)}})(this,Q,te,ie)},configurable:!0,enumerable:!0}):1&ze&&64&k&&Object.defineProperty(T,Q,{value(...te){const xe=Yn(this);return xe.$onInstancePromise$.then(()=>xe.$lazyInstance$[Q](...te))}})}),1&ze){const Q=new Map;T.attributeChangedCallback=function(k,te,xe){Rn.jmp(()=>{const $t=Q.get(k);if(this.hasOwnProperty($t))xe=this[$t],delete this[$t];else{if(T.hasOwnProperty($t)&&"number"==typeof this[$t]&&this[$t]==xe)return;if(null==$t){const Vn=Yn(this),nr=null==Vn?void 0:Vn.$flags$;if(!(8&nr)&&128&nr&&xe!==te){const _r=Vn.$lazyInstance$,li=ie.$watchers$[k];null==li||li.forEach(Ii=>{null!=_r[Ii]&&_r[Ii].call(_r,xe,te,k)})}return}}this[$t]=(null!==xe||"boolean"!=typeof this[$t])&&xe})},z.observedAttributes=Array.from(new Set([...Object.keys(null!==(it=ie.$watchers$)&&void 0!==it?it:{}),...xt.filter(([k,te])=>15&te[0]).map(([k,te])=>{const xe=te[1]||k;return Q.set(xe,k),512&te[0]&&ie.$attrsToReflect$.push([k,xe]),xe})]))}}return z},$n=function(){var z=(0,d.Z)(function*(ie,ze,it,xt){let T;if(!(32&ze.$flags$)){ze.$flags$|=32;{if(T=vt(it),T.then){const xe=()=>{};T=yield T,xe()}T.isProxied||(it.$watchers$=T.watchers,Wt(T,it,2),T.isProxied=!0);const te=()=>{};ze.$flags$|=8;try{new T(ze)}catch(xe){He(xe)}ze.$flags$&=-9,ze.$flags$|=128,te(),xn(ze.$lazyInstance$)}if(T.style){let te=T.style;"string"!=typeof te&&(te=te[ze.$modeName$=(z=>Yt.map(ie=>ie(z)).find(ie=>!!ie))(ie)]);const xe=Fn(it,ze.$modeName$);if(!Ut.has(xe)){const $t=()=>{};Ht(xe,te,!!(1&it.$flags$)),$t()}}}const Q=ze.$ancestorComponent$,k=()=>Fr(ze,!0);Q&&Q["s-rc"]?Q["s-rc"].push(k):k()});return function(ze,it,xt,T){return z.apply(this,arguments)}}(),xn=z=>{Le(z,"connectedCallback")},Sn=z=>{const ie=z["s-cr"]=fn.createComment("");ie["s-cn"]=!0,z.insertBefore(ie,z.firstChild)},or=z=>{Le(z,"disconnectedCallback")},Ei=function(){var z=(0,d.Z)(function*(ie){if(!(1&Rn.$flags$)){const ze=Yn(ie);ze.$rmListeners$&&(ze.$rmListeners$.map(it=>it()),ze.$rmListeners$=void 0),null!=ze&&ze.$lazyInstance$?or(ze.$lazyInstance$):null!=ze&&ze.$onReadyPromise$&&ze.$onReadyPromise$.then(()=>or(ze.$lazyInstance$))}});return function(ze){return z.apply(this,arguments)}}(),Hr=(z,ie={})=>{var ze;const xt=[],T=ie.exclude||[],Q=Cn.customElements,k=fn.head,te=k.querySelector("meta[charset]"),xe=fn.createElement("style"),$t=[],Vn=fn.querySelectorAll(`[${Ce}]`);let nr,_r=!0,li=0;for(Object.assign(Rn,ie),Rn.$resourcesUrl$=new URL(ie.resourcesUrl||"./",fn.baseURI).href,Rn.$flags$|=2;li<Vn.length;li++)Ht(Vn[li].getAttribute(Ce),rr(Vn[li].innerHTML),!0);let Ii=!1;if(z.map(Jr=>{Jr[1].map(Di=>{var Ms;const fi={$flags$:Di[0],$tagName$:Di[1],$members$:Di[2],$listeners$:Di[3]};4&fi.$flags$&&(Ii=!0),fi.$members$=Di[2],fi.$listeners$=Di[3],fi.$attrsToReflect$=[],fi.$watchers$=null!==(Ms=Di[4])&&void 0!==Ms?Ms:{};const Ds=fi.$tagName$,Ui=class extends HTMLElement{constructor(us){super(us),Xr(us=this,fi),1&fi.$flags$&&us.attachShadow({mode:"open",delegatesFocus:!!(16&fi.$flags$)})}connectedCallback(){nr&&(clearTimeout(nr),nr=null),_r?$t.push(this):Rn.jmp(()=>(z=>{if(!(1&Rn.$flags$)){const ie=Yn(z),ze=ie.$cmpMeta$,it=()=>{};if(1&ie.$flags$)Hi(z,ie,ze.$listeners$),null!=ie&&ie.$lazyInstance$?xn(ie.$lazyInstance$):null!=ie&&ie.$onReadyPromise$&&ie.$onReadyPromise$.then(()=>xn(ie.$lazyInstance$));else{let xt;if(ie.$flags$|=1,xt=z.getAttribute(Et),xt){if(1&ze.$flags$){const T=Jt(z.shadowRoot,ze,z.getAttribute("s-mode"));z.classList.remove(T+"-h",T+"-s")}((z,ie,ze,it)=>{const T=z.shadowRoot,Q=[],te=T?[]:null,xe=it.$vnode$=yt(ie,null);Rn.$orgLocNodes$||We(fn.body,Rn.$orgLocNodes$=new Map),z[Et]=ze,z.removeAttribute(Et),$e(xe,Q,[],te,z,z,ze),Q.map($t=>{const Vn=$t.$hostId$+"."+$t.$nodeId$,nr=Rn.$orgLocNodes$.get(Vn),_r=$t.$elm$;nr&&De&&""===nr["s-en"]&&nr.parentNode.insertBefore(_r,nr.nextSibling),T||(_r["s-hn"]=ie,nr&&(_r["s-ol"]=nr,_r["s-ol"]["s-nr"]=_r)),Rn.$orgLocNodes$.delete(Vn)}),T&&te.map($t=>{$t&&T.appendChild($t)})})(z,ze.$tagName$,xt,ie)}xt||12&ze.$flags$&&Sn(z);{let T=z;for(;T=T.parentNode||T.host;)if(1===T.nodeType&&T.hasAttribute("s-id")&&T["s-p"]||T["s-p"]){jr(ie,ie.$ancestorComponent$=T);break}}ze.$members$&&Object.entries(ze.$members$).map(([T,[Q]])=>{if(31&Q&&z.hasOwnProperty(T)){const k=z[T];delete z[T],z[T]=k}}),$n(z,ie,ze)}it()}})(this))}disconnectedCallback(){Rn.jmp(()=>Ei(this))}componentOnReady(){return Yn(this).$onReadyPromise$}};fi.$lazyBundleId$=Jr[0],!T.includes(Ds)&&!Q.get(Ds)&&(xt.push(Ds),Q.define(Ds,Wt(Ui,fi,1)))})}),Ii&&(xe.innerHTML+=pt),xe.innerHTML+=xt+"{visibility:hidden}.hydrated{visibility:inherit}",xe.innerHTML.length){xe.setAttribute("data-styles",""),k.insertBefore(xe,te?te.nextSibling:k.firstChild);const Jr=null!==(ze=Rn.$nonce$)&&void 0!==ze?ze:Me(fn);null!=Jr&&xe.setAttribute("nonce",Jr)}_r=!1,$t.length?$t.map(Jr=>Jr.connectedCallback()):Rn.jmp(()=>nr=setTimeout(oe,30))},Hi=(z,ie,ze,it)=>{ze&&ze.map(([xt,T,Q])=>{const k=ut(z,xt),te=St(ie,Q),xe=Qt(xt);Rn.ael(k,T,te,xe),(ie.$rmListeners$=ie.$rmListeners$||[]).push(()=>Rn.rel(k,T,te,xe))})},St=(z,ie)=>ze=>{try{256&z.$flags$?z.$lazyInstance$[ie](ze):(z.$queuedListeners$=z.$queuedListeners$||[]).push([ie,ze])}catch(it){He(it)}},ut=(z,ie)=>4&ie?fn:8&ie?Cn:16&ie?fn.body:z,Qt=z=>0!=(2&z),Xn=new WeakMap,Yn=z=>Xn.get(z),kn=(z,ie)=>Xn.set(ie.$lazyInstance$=z,ie),Xr=(z,ie)=>{const ze={$flags$:0,$hostElement$:z,$cmpMeta$:ie,$instanceValues$:new Map};return ze.$onInstancePromise$=new Promise(it=>ze.$onInstanceResolve$=it),ze.$onReadyPromise$=new Promise(it=>ze.$onReadyResolve$=it),z["s-p"]=[],z["s-rc"]=[],Hi(z,ze,ie.$listeners$),Xn.set(z,ze)},dt=(z,ie)=>ie in z,He=(z,ie)=>(0,console.error)(z,ie),Tt=new Map,vt=(z,ie,ze)=>{const it=z.$tagName$.replace(/-/g,"_"),xt=z.$lazyBundleId$,T=Tt.get(xt);return T?T[it]:N(863)(`./${xt}.entry.js`).then(Q=>(Tt.set(xt,Q),Q[it]),He)},Ut=new Map,Yt=[],Cn=typeof window<"u"?window:{},fn=Cn.document||{head:{}},Rn={$flags$:0,$resourcesUrl$:"",jmp:z=>z(),raf:z=>requestAnimationFrame(z),ael:(z,ie,ze,it)=>z.addEventListener(ie,ze,it),rel:(z,ie,ze,it)=>z.removeEventListener(ie,ze,it),ce:(z,ie)=>new CustomEvent(z,ie)},mn=z=>{Object.assign(Rn,z)},De=!0,ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ae=[],gt=[],Bt=(z,ie)=>ze=>{z.push(ze),Te||(Te=!0,ie&&4&Rn.$flags$?Nn(tn):Rn.raf(tn))},jt=z=>{for(let ie=0;ie<z.length;ie++)try{z[ie](performance.now())}catch(ze){He(ze)}z.length=0},tn=()=>{jt(Ae),jt(gt),(Te=Ae.length>0)&&Rn.raf(tn)},Nn=z=>Promise.resolve(void 0).then(z),nn=Bt(Ae,!1),dr=Bt(gt,!0)},9203:(un,ft,N)=>{"use strict";N.r(ft),N.d(ft,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>Ze});var d=N(619);const $=(Ye,Ee,Ke,_t)=>{const et=J(Ye)?{capture:!!_t.capture,passive:!!_t.passive}:!!_t.capture;let nt,at;return Ye.__zone_symbol__addEventListener?(nt="__zone_symbol__addEventListener",at="__zone_symbol__removeEventListener"):(nt="addEventListener",at="removeEventListener"),Ye[nt](Ee,Ke,et),()=>{Ye[at](Ee,Ke,et)}},J=Ye=>{if(void 0===de)try{const Ee=Object.defineProperty({},"passive",{get:()=>{de=!0}});Ye.addEventListener("optsTest",()=>{},Ee)}catch{de=!1}return!!de};let de;const me=Ye=>Ye instanceof Document?Ye:Ye.ownerDocument,Ze=Ye=>{let Ee=!1,Ke=!1,_t=!0,et=!1;const nt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ye),at=nt.canStart,Et=nt.onWillStart,Ce=nt.onStart,Be=nt.onEnd,Xe=nt.notCaptured,pt=nt.onMove,_e=nt.threshold,Se=nt.passive,he=nt.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ue=((Ye,Ee,Ke)=>{const _t=Ke*(Math.PI/180),et="x"===Ye,nt=Math.cos(_t),at=Ee*Ee;let Et=0,Ce=0,Be=!1,Xe=0;return{start(pt,_e){Et=pt,Ce=_e,Xe=0,Be=!0},detect(pt,_e){if(!Be)return!1;const Se=pt-Et,he=_e-Ce,Ie=Se*Se+he*he;if(Ie<at)return!1;const Ue=Math.sqrt(Ie),rt=(et?Se:he)/Ue;return Xe=rt>nt?1:rt<-nt?-1:0,Be=!1,!0},isGesture:()=>0!==Xe,getDirection:()=>Xe}})(nt.direction,nt.threshold,nt.maxAngle),rt=d.G.createGesture({name:Ye.gestureName,priority:Ye.gesturePriority,disableScroll:Ye.disableScroll}),yt=()=>{Ee&&(et=!1,pt&&pt(Ie))},Qe=()=>!!rt.capture()&&(Ee=!0,_t=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,Et?Et(Ie).then(x):x(),!0),x=()=>{he&&(()=>{if(typeof document<"u"){const We=document.activeElement;null!=We&&We.blur&&We.blur()}})(),Ce&&Ce(Ie),_t=!0},Z=()=>{Ee=!1,Ke=!1,et=!1,_t=!0,rt.release()},ce=We=>{const It=Ee,Pt=_t;if(Z(),Pt){if(be(Ie,We),It)return void(Be&&Be(Ie));Xe&&Xe(Ie)}},je=((Ye,Ee,Ke,_t,et)=>{let nt,at,Et,Ce,Be,Xe,pt,_e=0;const Se=se=>{_e=Date.now()+2e3,Ee(se)&&(!at&&Ke&&(at=$(Ye,"touchmove",Ke,et)),Et||(Et=$(se.target,"touchend",Ie,et)),Ce||(Ce=$(se.target,"touchcancel",Ie,et)))},he=se=>{_e>Date.now()||Ee(se)&&(!Xe&&Ke&&(Xe=$(me(Ye),"mousemove",Ke,et)),pt||(pt=$(me(Ye),"mouseup",Ue,et)))},Ie=se=>{rt(),_t&&_t(se)},Ue=se=>{Me(),_t&&_t(se)},rt=()=>{at&&at(),Et&&Et(),Ce&&Ce(),at=Et=Ce=void 0},Me=()=>{Xe&&Xe(),pt&&pt(),Xe=pt=void 0},st=()=>{rt(),Me()},yt=(se=!0)=>{se?(nt||(nt=$(Ye,"touchstart",Se,et)),Be||(Be=$(Ye,"mousedown",he,et))):(nt&&nt(),Be&&Be(),nt=Be=void 0,st())};return{enable:yt,stop:st,destroy:()=>{yt(!1),_t=Ke=Ee=void 0}}})(nt.el,We=>{const It=Je(We);return!(Ke||!_t||(Te(We,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=It,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=We,at&&!1===at(Ie))||(rt.release(),!rt.start()))&&(Ke=!0,0===_e?Qe():(Ue.start(Ie.startX,Ie.startY),!0))},We=>{Ee?!et&&_t&&(et=!0,be(Ie,We),requestAnimationFrame(yt)):(be(Ie,We),Ue.detect(Ie.currentX,Ie.currentY)&&(!Ue.isGesture()||!Qe())&&$e())},ce,{capture:!1,passive:Se}),$e=()=>{Z(),je.stop(),Xe&&Xe(Ie)};return{enable(We=!0){We||(Ee&&ce(void 0),Z()),je.enable(We)},destroy(){rt.destroy(),je.destroy()}}},be=(Ye,Ee)=>{if(!Ee)return;const Ke=Ye.currentX,_t=Ye.currentY,et=Ye.currentTime;Te(Ee,Ye);const nt=Ye.currentX,at=Ye.currentY,Ce=(Ye.currentTime=Je(Ee))-et;if(Ce>0&&Ce<100){const Xe=(at-_t)/Ce;Ye.velocityX=(nt-Ke)/Ce*.7+.3*Ye.velocityX,Ye.velocityY=.7*Xe+.3*Ye.velocityY}Ye.deltaX=nt-Ye.startX,Ye.deltaY=at-Ye.startY,Ye.event=Ee},Te=(Ye,Ee)=>{let Ke=0,_t=0;if(Ye){const et=Ye.changedTouches;if(et&&et.length>0){const nt=et[0];Ke=nt.clientX,_t=nt.clientY}else void 0!==Ye.pageX&&(Ke=Ye.pageX,_t=Ye.pageY)}Ee.currentX=Ke,Ee.currentY=_t},Je=Ye=>Ye.timeStamp||Date.now()},1450:(un,ft,N)=>{"use strict";N.d(ft,{Fy:()=>Ze.m,L$:()=>Ye,oq:()=>Ze.c,qc:()=>me.s}),N(6410),N(448),N(2619),N(9023),N(9203),N(3882);var me=N(3365),Ze=(N(1783),N(7612));N(6225),N(5349),N(619);const Ye=Ee=>{const{swiper:Ke,extendParams:_t}=Ee,et={effect:void 0,direction:"horizontal",initialSlide:0,loop:!1,parallax:!1,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,zoom:{maxRatio:3,minRatio:1,toggle:!1},touchRatio:1,touchAngle:45,simulateTouch:!0,touchStartPreventDefault:!1,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loopAdditionalSlides:0,noSwiping:!0,runCallbacksOnInit:!0,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flipEffect:{slideShadows:!0,limitRotation:!0},cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:!1},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};Ke.pagination&&(et.pagination={type:"bullets",clickable:!1,hideOnClick:!1}),Ke.scrollbar&&(et.scrollbar={hide:!0}),_t(et)}},3882:(un,ft,N)=>{"use strict";N.d(ft,{a:()=>Te,b:()=>yt,c:()=>J,i:()=>Qe});var d=N(5349);class ${constructor(){this.m=new Map}reset(x){this.m=new Map(Object.entries(x))}get(x,Z){const ce=this.m.get(x);return void 0!==ce?ce:Z}getBoolean(x,Z=!1){const ce=this.m.get(x);return void 0===ce?Z:"string"==typeof ce?"true"===ce:!!ce}getNumber(x,Z){const ce=parseFloat(this.m.get(x));return isNaN(ce)?void 0!==Z?Z:NaN:ce}set(x,Z){this.m.set(x,Z)}}const J=new $,Ze="ionic-persist-config",Te=(se,x)=>("string"==typeof se&&(x=se,se=void 0),(se=>Je(se))(se).includes(x)),Je=(se=window)=>{if(typeof se>"u")return[];se.Ionic=se.Ionic||{};let x=se.Ionic.platforms;return null==x&&(x=se.Ionic.platforms=Ye(se),x.forEach(Z=>se.document.documentElement.classList.add(`plt-${Z}`))),x},Ye=se=>{const x=J.get("platform");return Object.keys(Me).filter(Z=>{const ce=null==x?void 0:x[Z];return"function"==typeof ce?ce(se):Me[Z](se)})},Ke=se=>!!(Ue(se,/iPad/i)||Ue(se,/Macintosh/i)&&Be(se)),nt=se=>Ue(se,/android|sink/i),Be=se=>rt(se,"(any-pointer:coarse)"),pt=se=>_e(se)||Se(se),_e=se=>!!(se.cordova||se.phonegap||se.PhoneGap),Se=se=>{const x=se.Capacitor;return!(null==x||!x.isNative)},Ue=(se,x)=>x.test(se.navigator.userAgent),rt=(se,x)=>{var Z;return null===(Z=se.matchMedia)||void 0===Z?void 0:Z.call(se,x).matches},Me={ipad:Ke,iphone:se=>Ue(se,/iPhone/i),ios:se=>Ue(se,/iPhone|iPod/i)||Ke(se),android:nt,phablet:se=>{const x=se.innerWidth,Z=se.innerHeight,ce=Math.min(x,Z),je=Math.max(x,Z);return ce>390&&ce<520&&je>620&&je<800},tablet:se=>{const x=se.innerWidth,Z=se.innerHeight,ce=Math.min(x,Z),je=Math.max(x,Z);return Ke(se)||(se=>nt(se)&&!Ue(se,/mobile/i))(se)||ce>460&&ce<820&&je>780&&je<1400},cordova:_e,capacitor:Se,electron:se=>Ue(se,/electron/i),pwa:se=>{var x;return!!(null!==(x=se.matchMedia)&&void 0!==x&&x.call(se,"(display-mode: standalone)").matches||se.navigator.standalone)},mobile:Be,mobileweb:se=>Be(se)&&!pt(se),desktop:se=>!Be(se),hybrid:pt};let st;const yt=se=>se&&(0,d.g)(se)||st,Qe=(se={})=>{if(typeof window>"u")return;const x=window.document,Z=window,ce=Z.Ionic=Z.Ionic||{},je={};se._ael&&(je.ael=se._ael),se._rel&&(je.rel=se._rel),se._ce&&(je.ce=se._ce),(0,d.a)(je);const $e=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(se=>{try{const x=se.sessionStorage.getItem(Ze);return null!==x?JSON.parse(x):{}}catch{return{}}})(Z)),{persistConfig:!1}),ce.config),(se=>{const x={};return se.location.search.slice(1).split("&").map(Z=>Z.split("=")).map(([Z,ce])=>[decodeURIComponent(Z),decodeURIComponent(ce)]).filter(([Z])=>((se,x)=>se.substr(0,x.length)===x)(Z,"ionic:")).map(([Z,ce])=>[Z.slice(6),ce]).forEach(([Z,ce])=>{x[Z]=ce}),x})(Z)),se);J.reset($e),J.getBoolean("persistConfig")&&((se,x)=>{try{se.sessionStorage.setItem(Ze,JSON.stringify(x))}catch{return}})(Z,$e),Je(Z),ce.config=J,ce.mode=st=J.get("mode",x.documentElement.getAttribute("mode")||(Te(Z,"ios")?"ios":"md")),J.set("mode",st),x.documentElement.setAttribute("mode",st),x.documentElement.classList.add(st),J.getBoolean("_testing")&&J.set("animated",!1);const We=Pt=>{var Mt;return null===(Mt=Pt.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},It=Pt=>["ios","md"].includes(Pt);(0,d.c)(Pt=>{for(;Pt;){const Mt=Pt.mode||Pt.getAttribute("mode");if(Mt){if(It(Mt))return Mt;We(Pt)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}Pt=Pt.parentElement}return st})}},2619:(un,ft,N)=>{"use strict";N.r(ft),N.d(ft,{iosTransitionAnimation:()=>Ye,shadow:()=>me});var d=N(6410),$=N(448);N(6225),N(5349);const re=Ke=>document.querySelector(`${Ke}.ion-cloned-element`),me=Ke=>Ke.shadowRoot||Ke,qe=Ke=>{const _t="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs"),et="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=_t){const nt=_t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=nt?nt.querySelector(et):null}return Ke.querySelector(et)},Ze=(Ke,_t)=>{const et="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs");let nt=[];if(null!=et){const at=et.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=at&&(nt=at.querySelectorAll("ion-buttons"))}else nt=Ke.querySelectorAll("ion-buttons");for(const at of nt){const Et=at.closest("ion-header"),Ce=Et&&!Et.classList.contains("header-collapse-condense-inactive"),Be=at.querySelector("ion-back-button"),Xe=at.classList.contains("buttons-collapse");if(null!==Be&&("start"===at.slot||""===at.slot)&&(Xe&&Ce&&_t||!Xe))return Be}return null},Te=(Ke,_t,et,nt,at,Et,Ce,Be,Xe)=>{var pt,_e;const Se=_t?`calc(100% - ${at.right+4}px)`:at.left-4+"px",he=_t?"right":"left",Ie=_t?"left":"right",Ue=_t?"right":"left",rt=(null===(pt=Et.textContent)||void 0===pt?void 0:pt.trim())===(null===(_e=Be.textContent)||void 0===_e?void 0:_e.trim()),st=(Xe.height-Ee)/Ce.height,yt=rt?`scale(${Xe.width/Ce.width}, ${st})`:`scale(${st})`,Qe="scale(1)",x=me(nt).querySelector("ion-icon").getBoundingClientRect(),Z=_t?x.width/2-(x.right-at.right)+"px":at.left-x.width/2+"px",ce=_t?`-${window.innerWidth-at.right}px`:`${at.left}px`,je=`${Xe.top}px`,$e=`${at.top}px`,Pt=et?[{offset:0,transform:`translate3d(${ce}, ${$e}, 0)`},{offset:1,transform:`translate3d(${Z}, ${je}, 0)`}]:[{offset:0,transform:`translate3d(${Z}, ${je}, 0)`},{offset:1,transform:`translate3d(${ce}, ${$e}, 0)`}],ln=et?[{offset:0,opacity:1,transform:Qe},{offset:1,opacity:0,transform:yt}]:[{offset:0,opacity:0,transform:yt},{offset:1,opacity:1,transform:Qe}],Nt=et?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ht=(0,d.c)(),Jt=(0,d.c)(),Hn=(0,d.c)(),Fn=re("ion-back-button"),rr=me(Fn).querySelector(".button-text"),gn=me(Fn).querySelector("ion-icon");Fn.text=nt.text,Fn.mode=nt.mode,Fn.icon=nt.icon,Fn.color=nt.color,Fn.disabled=nt.disabled,Fn.style.setProperty("display","block"),Fn.style.setProperty("position","fixed"),Jt.addElement(gn),Ht.addElement(rr),Hn.addElement(Fn),Hn.beforeStyles({position:"absolute",top:"0px",[Ue]:"0px"}).keyframes(Pt),Ht.beforeStyles({"transform-origin":`${he} top`}).beforeAddWrite(()=>{nt.style.setProperty("display","none"),Fn.style.setProperty(he,Se)}).afterAddWrite(()=>{nt.style.setProperty("display",""),Fn.style.setProperty("display","none"),Fn.style.removeProperty(he)}).keyframes(ln),Jt.beforeStyles({"transform-origin":`${Ie} center`}).keyframes(Nt),Ke.addAnimation([Ht,Jt,Hn])},Je=(Ke,_t,et,nt,at,Et,Ce,Be)=>{var Xe,pt;const _e=_t?"right":"left",Se=_t?`calc(100% - ${at.right}px)`:`${at.left}px`,Ie=`${at.top}px`,rt=_t?`-${window.innerWidth-Be.right-8}px`:Be.x-8+"px",st=Be.y-2+"px",yt=(null===(Xe=Ce.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(pt=nt.textContent)||void 0===pt?void 0:pt.trim()),se=Be.height/(Et.height-Ee),x="scale(1)",Z=yt?`scale(${Be.width/Et.width}, ${se})`:`scale(${se})`,$e=et?[{offset:0,opacity:0,transform:`translate3d(${rt}, ${st}, 0) ${Z}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ie}, 0) ${x}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ie}, 0) ${x}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${rt}, ${st}, 0) ${Z}`}],We=re("ion-title"),It=(0,d.c)();We.innerText=nt.innerText,We.size=nt.size,We.color=nt.color,It.addElement(We),It.beforeStyles({"transform-origin":`${_e} top`,height:`${at.height}px`,display:"",position:"relative",[_e]:Se}).beforeAddWrite(()=>{nt.style.setProperty("opacity","0")}).afterAddWrite(()=>{nt.style.setProperty("opacity",""),We.style.setProperty("display","none")}).keyframes($e),Ke.addAnimation(It)},Ye=(Ke,_t)=>{var et;try{const nt="cubic-bezier(0.32,0.72,0,1)",at="opacity",Et="transform",Ce="0%",Xe="rtl"===Ke.ownerDocument.dir,pt=Xe?"-99.5%":"99.5%",_e=Xe?"33%":"-33%",Se=_t.enteringEl,he=_t.leavingEl,Ie="back"===_t.direction,Ue=Se.querySelector(":scope > ion-content"),rt=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Me=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),st=(0,d.c)(),yt=(0,d.c)();if(st.addElement(Se).duration((null!==(et=_t.duration)&&void 0!==et?et:0)||540).easing(_t.easing||nt).fill("both").beforeRemoveClass("ion-page-invisible"),he&&null!=Ke){const Z=(0,d.c)();Z.addElement(Ke),st.addAnimation(Z)}if(Ue||0!==Me.length||0!==rt.length?(yt.addElement(Ue),yt.addElement(rt)):yt.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),st.addAnimation(yt),Ie?yt.beforeClearStyles([at]).fromTo("transform",`translateX(${_e})`,`translateX(${Ce})`).fromTo(at,.8,1):yt.beforeClearStyles([at]).fromTo("transform",`translateX(${pt})`,`translateX(${Ce})`),Ue){const Z=me(Ue).querySelector(".transition-effect");if(Z){const ce=Z.querySelector(".transition-cover"),je=Z.querySelector(".transition-shadow"),$e=(0,d.c)(),We=(0,d.c)(),It=(0,d.c)();$e.addElement(Z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),We.addElement(ce).beforeClearStyles([at]).fromTo(at,0,.1),It.addElement(je).beforeClearStyles([at]).fromTo(at,.03,.7),$e.addAnimation([We,It]),yt.addAnimation([$e])}}const Qe=Se.querySelector("ion-header.header-collapse-condense"),{forward:se,backward:x}=((Ke,_t,et,nt,at)=>{const Et=Ze(nt,et),Ce=qe(at),Be=qe(nt),Xe=Ze(at,et),pt=null!==Et&&null!==Ce&&!et,_e=null!==Be&&null!==Xe&&et;if(pt){const Se=Ce.getBoundingClientRect(),he=Et.getBoundingClientRect(),Ie=me(Et).querySelector(".button-text"),Ue=Ie.getBoundingClientRect(),Me=me(Ce).querySelector(".toolbar-title").getBoundingClientRect();Je(Ke,_t,et,Ce,Se,Me,Ie,Ue),Te(Ke,_t,et,Et,he,Ie,Ue,Ce,Me)}else if(_e){const Se=Be.getBoundingClientRect(),he=Xe.getBoundingClientRect(),Ie=me(Xe).querySelector(".button-text"),Ue=Ie.getBoundingClientRect(),Me=me(Be).querySelector(".toolbar-title").getBoundingClientRect();Je(Ke,_t,et,Be,Se,Me,Ie,Ue),Te(Ke,_t,et,Xe,he,Ie,Ue,Be,Me)}return{forward:pt,backward:_e}})(st,Xe,Ie,Se,he);if(Me.forEach(Z=>{const ce=(0,d.c)();ce.addElement(Z),st.addAnimation(ce);const je=(0,d.c)();je.addElement(Z.querySelector("ion-title"));const $e=(0,d.c)(),We=Array.from(Z.querySelectorAll("ion-buttons,[menuToggle]")),It=Z.closest("ion-header"),Pt=null==It?void 0:It.classList.contains("header-collapse-condense-inactive");let Mt;Mt=We.filter(Ie?Nt=>{const Ht=Nt.classList.contains("buttons-collapse");return Ht&&!Pt||!Ht}:Nt=>!Nt.classList.contains("buttons-collapse")),$e.addElement(Mt);const At=(0,d.c)();At.addElement(Z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ln=(0,d.c)();ln.addElement(me(Z).querySelector(".toolbar-background"));const Kt=(0,d.c)(),Rt=Z.querySelector("ion-back-button");if(Rt&&Kt.addElement(Rt),ce.addAnimation([je,$e,At,ln,Kt]),$e.fromTo(at,.01,1),At.fromTo(at,.01,1),Ie)Pt||je.fromTo("transform",`translateX(${_e})`,`translateX(${Ce})`).fromTo(at,.01,1),At.fromTo("transform",`translateX(${_e})`,`translateX(${Ce})`),Kt.fromTo(at,.01,1);else if(Qe||je.fromTo("transform",`translateX(${pt})`,`translateX(${Ce})`).fromTo(at,.01,1),At.fromTo("transform",`translateX(${pt})`,`translateX(${Ce})`),ln.beforeClearStyles([at,"transform"]),(null==It?void 0:It.translucent)?ln.fromTo("transform",Xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ln.fromTo(at,.01,"var(--opacity)"),se||Kt.fromTo(at,.01,1),Rt&&!se){const Ht=(0,d.c)();Ht.addElement(me(Rt).querySelector(".button-text")).fromTo("transform",Xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ce.addAnimation(Ht)}}),he){const Z=(0,d.c)(),ce=he.querySelector(":scope > ion-content"),je=he.querySelectorAll(":scope > ion-header > ion-toolbar"),$e=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ce||0!==je.length||0!==$e.length?(Z.addElement(ce),Z.addElement($e)):Z.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),st.addAnimation(Z),Ie){Z.beforeClearStyles([at]).fromTo("transform",`translateX(${Ce})`,Xe?"translateX(-100%)":"translateX(100%)");const We=(0,$.g)(he);st.afterAddWrite(()=>{"normal"===st.getDirection()&&We.style.setProperty("display","none")})}else Z.fromTo("transform",`translateX(${Ce})`,`translateX(${_e})`).fromTo(at,1,.8);if(ce){const We=me(ce).querySelector(".transition-effect");if(We){const It=We.querySelector(".transition-cover"),Pt=We.querySelector(".transition-shadow"),Mt=(0,d.c)(),At=(0,d.c)(),ln=(0,d.c)();Mt.addElement(We).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),At.addElement(It).beforeClearStyles([at]).fromTo(at,.1,0),ln.addElement(Pt).beforeClearStyles([at]).fromTo(at,.7,.03),Mt.addAnimation([At,ln]),Z.addAnimation([Mt])}}je.forEach(We=>{const It=(0,d.c)();It.addElement(We);const Pt=(0,d.c)();Pt.addElement(We.querySelector("ion-title"));const Mt=(0,d.c)(),At=We.querySelectorAll("ion-buttons,[menuToggle]"),ln=We.closest("ion-header"),Kt=null==ln?void 0:ln.classList.contains("header-collapse-condense-inactive"),Rt=Array.from(At).filter(rr=>{const gn=rr.classList.contains("buttons-collapse");return gn&&!Kt||!gn});Mt.addElement(Rt);const Nt=(0,d.c)(),Ht=We.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ht.length>0&&Nt.addElement(Ht);const Jt=(0,d.c)();Jt.addElement(me(We).querySelector(".toolbar-background"));const Hn=(0,d.c)(),Fn=We.querySelector("ion-back-button");if(Fn&&Hn.addElement(Fn),It.addAnimation([Pt,Mt,Nt,Hn,Jt]),st.addAnimation(It),Hn.fromTo(at,.99,0),Mt.fromTo(at,.99,0),Nt.fromTo(at,.99,0),Ie){if(Kt||Pt.fromTo("transform",`translateX(${Ce})`,Xe?"translateX(-100%)":"translateX(100%)").fromTo(at,.99,0),Nt.fromTo("transform",`translateX(${Ce})`,Xe?"translateX(-100%)":"translateX(100%)"),Jt.beforeClearStyles([at,"transform"]),(null==ln?void 0:ln.translucent)?Jt.fromTo("transform","translateX(0px)",Xe?"translateX(-100%)":"translateX(100%)"):Jt.fromTo(at,"var(--opacity)",0),Fn&&!x){const gn=(0,d.c)();gn.addElement(me(Fn).querySelector(".button-text")).fromTo("transform",`translateX(${Ce})`,`translateX(${(Xe?-124:124)+"px"})`),It.addAnimation(gn)}}else Kt||Pt.fromTo("transform",`translateX(${Ce})`,`translateX(${_e})`).fromTo(at,.99,0).afterClearStyles([Et,at]),Nt.fromTo("transform",`translateX(${Ce})`,`translateX(${_e})`).afterClearStyles([Et,at]),Hn.afterClearStyles([at]),Pt.afterClearStyles([at]),Mt.afterClearStyles([at])})}return st}catch(nt){throw nt}},Ee=10},9023:(un,ft,N)=>{"use strict";N.r(ft),N.d(ft,{mdTransitionAnimation:()=>Oe});var d=N(6410),$=N(448);N(6225),N(5349);const Oe=(re,me)=>{var qe,Ze,be;const Ye="back"===me.direction,Ke=me.leavingEl,_t=(0,$.g)(me.enteringEl),et=_t.querySelector("ion-toolbar"),nt=(0,d.c)();if(nt.addElement(_t).fill("both").beforeRemoveClass("ion-page-invisible"),Ye?nt.duration((null!==(qe=me.duration)&&void 0!==qe?qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):nt.duration((null!==(Ze=me.duration)&&void 0!==Ze?Ze:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),et){const at=(0,d.c)();at.addElement(et),nt.addAnimation(at)}if(Ke&&Ye){nt.duration((null!==(be=me.duration)&&void 0!==be?be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const at=(0,d.c)();at.addElement((0,$.g)(Ke)).onFinish(Et=>{1===Et&&at.elements.length>0&&at.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),nt.addAnimation(at)}return nt}},7612:(un,ft,N)=>{"use strict";N.d(ft,{B:()=>Pt,G:()=>Mt,a:()=>Je,b:()=>Ye,c:()=>et,d:()=>At,e:()=>ln,f:()=>yt,g:()=>se,h:()=>ce,i:()=>$e,j:()=>at,k:()=>Et,m:()=>Ke,n:()=>be,o:()=>Xe,q:()=>Me,s:()=>It});var d=N(5861),$=N(6225),J=N(3882),de=N(6559),Oe=N(2124),re=N(839),me=N(6710);let qe=0,Ze=0;const be=new WeakMap,Te=Kt=>({create:Rt=>Ce(Kt,Rt),dismiss:(Rt,Nt,Ht)=>Ie(document,Rt,Nt,Kt,Ht),getTop:()=>(0,d.Z)(function*(){return Me(document,Kt)})()}),Je=Te("ion-alert"),Ye=Te("ion-action-sheet"),Ke=Te("ion-modal"),et=Te("ion-popover"),at=Kt=>{typeof document<"u"&&he(document);const Rt=qe++;Kt.overlayIndex=Rt},Et=Kt=>(Kt.hasAttribute("id")||(Kt.id="ion-overlay-"+ ++Ze),Kt.id),Ce=(Kt,Rt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Kt).then(()=>{const Nt=document.createElement(Kt);return Nt.classList.add("overlay-hidden"),Object.assign(Nt,Object.assign(Object.assign({},Rt),{hasController:!0})),x(document).appendChild(Nt),new Promise(Ht=>(0,re.c)(Nt,Ht))}):Promise.resolve(),Be='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Xe=(Kt,Rt)=>{let Nt=Kt.querySelector(Be);const Ht=null==Nt?void 0:Nt.shadowRoot;Ht&&(Nt=Ht.querySelector(Be)||Nt),Nt?(0,re.f)(Nt):Rt.focus()},_e=(Kt,Rt)=>{const Nt=Array.from(Kt.querySelectorAll(Be));let Ht=Nt.length>0?Nt[Nt.length-1]:null;const Jt=null==Ht?void 0:Ht.shadowRoot;Jt&&(Ht=Jt.querySelector(Be)||Ht),Ht?Ht.focus():Rt.focus()},he=Kt=>{0===qe&&(qe=1,Kt.addEventListener("focus",Rt=>{((Kt,Rt)=>{const Nt=Me(Rt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ht=Kt.target;Nt&&Ht&&!Nt.classList.contains("ion-disable-focus-trap")&&(Nt.shadowRoot?(()=>{if(Nt.contains(Ht))Nt.lastFocus=Ht;else{const Fn=Nt.lastFocus;Xe(Nt,Nt),Fn===Rt.activeElement&&_e(Nt,Nt),Nt.lastFocus=Rt.activeElement}})():(()=>{if(Nt===Ht)Nt.lastFocus=void 0;else{const Fn=(0,re.g)(Nt);if(!Fn.contains(Ht))return;const rr=Fn.querySelector(".ion-overlay-wrapper");if(!rr)return;if(rr.contains(Ht)||Ht===Fn.querySelector("ion-backdrop"))Nt.lastFocus=Ht;else{const gn=Nt.lastFocus;Xe(rr,Nt),gn===Rt.activeElement&&_e(rr,Nt),Nt.lastFocus=Rt.activeElement}}})())})(Rt,Kt)},!0),Kt.addEventListener("ionBackButton",Rt=>{const Nt=Me(Kt);null!=Nt&&Nt.backdropDismiss&&Rt.detail.register(Oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>Nt.dismiss(void 0,Pt))}),Kt.addEventListener("keydown",Rt=>{if("Escape"===Rt.key){const Nt=Me(Kt);null!=Nt&&Nt.backdropDismiss&&Nt.dismiss(void 0,Pt)}}))},Ie=(Kt,Rt,Nt,Ht,Jt)=>{const Hn=Me(Kt,Ht,Jt);return Hn?Hn.dismiss(Rt,Nt):Promise.reject("overlay does not exist")},rt=(Kt,Rt)=>((Kt,Rt)=>(void 0===Rt&&(Rt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Kt.querySelectorAll(Rt)).filter(Nt=>Nt.overlayIndex>0)))(Kt,Rt).filter(Nt=>!(Kt=>Kt.classList.contains("overlay-hidden"))(Nt)),Me=(Kt,Rt,Nt)=>{const Ht=rt(Kt,Rt);return void 0===Nt?Ht[Ht.length-1]:Ht.find(Jt=>Jt.id===Nt)},st=(Kt=!1)=>{const Nt=x(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Nt&&(Kt?Nt.setAttribute("aria-hidden","true"):Nt.removeAttribute("aria-hidden"))},yt=function(){var Kt=(0,d.Z)(function*(Rt,Nt,Ht,Jt,Hn){var Fn,rr;if(Rt.presented)return;st(!0),Rt.presented=!0,Rt.willPresent.emit(),null===(Fn=Rt.willPresentShorthand)||void 0===Fn||Fn.emit();const gn=(0,J.b)(Rt),er=Rt.enterAnimation?Rt.enterAnimation:J.c.get(Nt,"ios"===gn?Ht:Jt);(yield Z(Rt,er,Rt.el,Hn))&&(Rt.didPresent.emit(),null===(rr=Rt.didPresentShorthand)||void 0===rr||rr.emit()),"ION-TOAST"!==Rt.el.tagName&&Qe(Rt.el),Rt.keyboardClose&&(null===document.activeElement||!Rt.el.contains(document.activeElement))&&Rt.el.focus()});return function(Nt,Ht,Jt,Hn,Fn){return Kt.apply(this,arguments)}}(),Qe=function(){var Kt=(0,d.Z)(function*(Rt){let Nt=document.activeElement;if(!Nt)return;const Ht=null==Nt?void 0:Nt.shadowRoot;Ht&&(Nt=Ht.querySelector(Be)||Nt),yield Rt.onDidDismiss(),Nt.focus()});return function(Nt){return Kt.apply(this,arguments)}}(),se=function(){var Kt=(0,d.Z)(function*(Rt,Nt,Ht,Jt,Hn,Fn,rr){var gn,er;if(!Rt.presented)return!1;void 0!==$.d&&1===rt($.d).length&&st(!1),Rt.presented=!1;try{Rt.el.style.setProperty("pointer-events","none"),Rt.willDismiss.emit({data:Nt,role:Ht}),null===(gn=Rt.willDismissShorthand)||void 0===gn||gn.emit({data:Nt,role:Ht});const _n=(0,J.b)(Rt),ti=Rt.leaveAnimation?Rt.leaveAnimation:J.c.get(Jt,"ios"===_n?Hn:Fn);Ht!==Mt&&(yield Z(Rt,ti,Rt.el,rr)),Rt.didDismiss.emit({data:Nt,role:Ht}),null===(er=Rt.didDismissShorthand)||void 0===er||er.emit({data:Nt,role:Ht}),be.delete(Rt),Rt.el.classList.add("overlay-hidden"),Rt.el.style.removeProperty("pointer-events"),void 0!==Rt.el.lastFocus&&(Rt.el.lastFocus=void 0)}catch(_n){console.error(_n)}return Rt.el.remove(),!0});return function(Nt,Ht,Jt,Hn,Fn,rr,gn){return Kt.apply(this,arguments)}}(),x=Kt=>Kt.querySelector("ion-app")||Kt.body,Z=function(){var Kt=(0,d.Z)(function*(Rt,Nt,Ht,Jt){Ht.classList.remove("overlay-hidden");const Fn=Nt(Rt.el,Jt);(!Rt.animated||!J.c.getBoolean("animated",!0))&&Fn.duration(0),Rt.keyboardClose&&Fn.beforeAddWrite(()=>{const gn=Ht.ownerDocument.activeElement;null!=gn&&gn.matches("input,ion-input, ion-textarea")&&gn.blur()});const rr=be.get(Rt)||[];return be.set(Rt,[...rr,Fn]),yield Fn.play(),!0});return function(Nt,Ht,Jt,Hn){return Kt.apply(this,arguments)}}(),ce=(Kt,Rt)=>{let Nt;const Ht=new Promise(Jt=>Nt=Jt);return je(Kt,Rt,Jt=>{Nt(Jt.detail)}),Ht},je=(Kt,Rt,Nt)=>{const Ht=Jt=>{(0,re.b)(Kt,Rt,Ht),Nt(Jt)};(0,re.a)(Kt,Rt,Ht)},$e=Kt=>"cancel"===Kt||Kt===Pt,We=Kt=>Kt(),It=(Kt,Rt)=>{if("function"==typeof Kt)return J.c.get("_zoneGate",We)(()=>{try{return Kt(Rt)}catch(Ht){throw Ht}})},Pt="backdrop",Mt="gesture",At=Kt=>{let Nt,Rt=!1;const Ht=(0,de.C)(),Jt=(rr=!1)=>{if(Nt&&!rr)return{delegate:Nt,inline:Rt};const{el:gn,hasController:er,delegate:_n}=Kt;return Rt=null!==gn.parentNode&&!er,Nt=Rt?_n||Ht:_n,{inline:Rt,delegate:Nt}};return{attachViewToDom:function(){var rr=(0,d.Z)(function*(gn){const{delegate:er}=Jt(!0);if(er)return yield er.attachViewToDom(Kt.el,gn);const{hasController:_n}=Kt;if(_n&&void 0!==gn)throw new Error("framework delegate is missing");return null});return function(er){return rr.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rr}=Jt();rr&&void 0!==Kt.el&&rr.removeViewFromDom(Kt.el.parentElement,Kt.el)}}},ln=()=>{let Kt;const Rt=()=>{Kt&&(Kt(),Kt=void 0)};return{addClickListener:(Ht,Jt)=>{Rt();const Hn=void 0!==Jt?document.getElementById(Jt):null;Hn?Kt=((rr,gn)=>{const er=()=>{gn.present()};return rr.addEventListener("click",er),()=>{rr.removeEventListener("click",er)}})(Hn,Ht):(0,me.p)(`A trigger element with the ID "${Jt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ht)},removeClickListener:Rt}}},7834:(un,ft,N)=>{"use strict";var d=N(6593),$=N(9212),J=N(2692),de=N(9862),Oe=N(5472),re=N(8602),me=N(7513),qe=N(7382),Ze=N(8662),be=N(7413);const Te=()=>["accueil"],Je=()=>["categorie"],Ye=()=>["acote"],Ee=()=>["apropos"],Ke=()=>["home"];let _t=(()=>{var h;class l{constructor(g){this.router=g}isLoginPage(){return"/login"===this.router.url}}return(h=l).\u0275fac=function(g){return new(g||h)($.Y36(J.F0))},h.\u0275cmp=$.Xpm({type:h,selectors:[["app-root"]],decls:21,vars:10,consts:[["contentId","main-content"],[1,"ion-padding"],[3,"routerLink"],["id","main-content"]],template:function(g,I){1&g&&($.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",0)(3,"ion-content",1)(4,"ion-header")(5,"ion-toolbar")(6,"ion-title"),$._uU(7,"Menu"),$.qZA()()(),$.TgZ(8,"ion-menu-toggle")(9,"ion-list")(10,"ion-item",2),$._uU(11,"Home"),$.qZA(),$.TgZ(12,"ion-item",2),$._uU(13,"Category"),$.qZA(),$.TgZ(14,"ion-item",2),$._uU(15,"A cote de moi"),$.qZA(),$.TgZ(16,"ion-item",2),$._uU(17,"A propos"),$.qZA(),$.TgZ(18,"ion-item",2),$._uU(19,"Deconnexion"),$.qZA()()()()(),$._UZ(20,"ion-router-outlet",3),$.qZA()()),2&g&&($.xp6(10),$.Q6J("routerLink",$.DdM(5,Te)),$.xp6(2),$.Q6J("routerLink",$.DdM(6,Je)),$.xp6(2),$.Q6J("routerLink",$.DdM(7,Ye)),$.xp6(2),$.Q6J("routerLink",$.DdM(8,Ee)),$.xp6(2),$.Q6J("routerLink",$.DdM(9,Ke)))},dependencies:[re.dr,re.W2,re.Gu,re.Ie,re.q_,re.z0,re.zc,re.jI,re.wd,re.sr,re.jP,re.YI,J.rH],styles:["ion-toolbar[_ngcontent-%COMP%]{font-size:20px}.point[_ngcontent-%COMP%]{padding-left:80px}ion-card-title[_ngcontent-%COMP%]{margin-top:70px;font-size:20px;color:#5b5fb8;text-align:center;font-weight:500}ion-title[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{text-align:center;position:relative}"]}),l})();var et=N(8285);const nt=[{path:"home",loadChildren:()=>N.e(6260).then(N.bind(N,6260)).then(h=>h.HomePageModule)},{path:"registration",loadChildren:()=>Promise.all([N.e(6315),N.e(2160)]).then(N.bind(N,2160)).then(h=>h.RegistrationPageModule)},{path:"verify-email",loadChildren:()=>Promise.all([N.e(6315),N.e(8480)]).then(N.bind(N,8480)).then(h=>h.VerifyEmailPageModule)},{path:"password-reset",loadChildren:()=>Promise.all([N.e(6315),N.e(9536)]).then(N.bind(N,9536)).then(h=>h.PasswordResetPageModule)},{path:"login",loadChildren:()=>Promise.all([N.e(6315),N.e(3687)]).then(N.bind(N,3687)).then(h=>h.LoginPageModule)},{path:"accueil",loadChildren:()=>N.e(7266).then(N.bind(N,7266)).then(h=>h.AccueilPageModule)},{path:"details",loadChildren:()=>Promise.all([N.e(8592),N.e(8395)]).then(N.bind(N,8395)).then(h=>h.DetailsPageModule)},{path:"category",loadChildren:()=>N.e(4819).then(N.bind(N,4819)).then(h=>h.CategoryPageModule)},{path:"category-ci",loadChildren:()=>N.e(4295).then(N.bind(N,4295)).then(h=>h.CategoryCIPageModule)},{path:"category-sa",loadChildren:()=>N.e(3421).then(N.bind(N,3421)).then(h=>h.CategorySAPageModule)},{path:"category-nigeria",loadChildren:()=>N.e(578).then(N.bind(N,578)).then(h=>h.CategoryNigeriaPageModule)},{path:"apropos",loadChildren:()=>N.e(3160).then(N.bind(N,3160)).then(h=>h.AproposPageModule)},{path:"acote",loadChildren:()=>Promise.all([N.e(8592),N.e(5600)]).then(N.bind(N,5600)).then(h=>h.AcotePageModule)},{path:"list",loadChildren:()=>Promise.all([N.e(8592),N.e(1167)]).then(N.bind(N,1167)).then(h=>h.ListPageModule)},{path:"menu",loadChildren:()=>N.e(8325).then(N.bind(N,8325)).then(h=>h.MenuPageModule)},{path:"categorie",loadChildren:()=>N.e(8685).then(N.bind(N,8685)).then(h=>h.CategoriePageModule)},{path:"",loadChildren:()=>N.e(9630).then(N.bind(N,9630)).then(h=>h.OngletsPageModule)},{path:"onglets",loadChildren:()=>N.e(9630).then(N.bind(N,9630)).then(h=>h.OngletsPageModule)},{path:"trajet",loadChildren:()=>N.e(2446).then(N.bind(N,2446)).then(h=>h.TrajetPageModule)}];let at=(()=>{var h;class l{}return(h=l).\u0275fac=function(g){return new(g||h)},h.\u0275mod=$.oAB({type:h}),h.\u0275inj=$.cJS({imports:[J.Bz.forRoot(nt,{preloadingStrategy:J.wm}),J.Bz]}),l})();var Et=N(7217),Ce=N(7213),Be=N(1180),Xe=N(9230),pt=N(5592),_e=N(2096),Se=N(2459),he=N(6321),Ie=N(9360),Ue=N(8251),Me=N(7398),st=N(4664),yt=N(3399),Qe=N(5861),se=N(9823),x=N(229),Z=N(6820);const ce="firebasestorage.googleapis.com",je="storageBucket";class Pt extends x.ZR{constructor(l,c,g=0){super(At(l),`Firebase Storage: ${c} (${At(l)})`),this.status_=g,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(l){this.status_=l}_codeEquals(l){return At(l)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(l){this.customData.serverResponse=l,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Mt=function(h){return h.UNKNOWN="unknown",h.OBJECT_NOT_FOUND="object-not-found",h.BUCKET_NOT_FOUND="bucket-not-found",h.PROJECT_NOT_FOUND="project-not-found",h.QUOTA_EXCEEDED="quota-exceeded",h.UNAUTHENTICATED="unauthenticated",h.UNAUTHORIZED="unauthorized",h.UNAUTHORIZED_APP="unauthorized-app",h.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",h.INVALID_CHECKSUM="invalid-checksum",h.CANCELED="canceled",h.INVALID_EVENT_NAME="invalid-event-name",h.INVALID_URL="invalid-url",h.INVALID_DEFAULT_BUCKET="invalid-default-bucket",h.NO_DEFAULT_BUCKET="no-default-bucket",h.CANNOT_SLICE_BLOB="cannot-slice-blob",h.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",h.NO_DOWNLOAD_URL="no-download-url",h.INVALID_ARGUMENT="invalid-argument",h.INVALID_ARGUMENT_COUNT="invalid-argument-count",h.APP_DELETED="app-deleted",h.INVALID_ROOT_OPERATION="invalid-root-operation",h.INVALID_FORMAT="invalid-format",h.INTERNAL_ERROR="internal-error",h.UNSUPPORTED_ENVIRONMENT="unsupported-environment",h}(Mt||{});function At(h){return"storage/"+h}function ln(){return new Pt(Mt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hn(){return new Pt(Mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fn(){return new Pt(Mt.CANCELED,"User canceled the upload/download.")}function _n(){return new Pt(Mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Bn(h){return new Pt(Mt.INVALID_ARGUMENT,h)}function Qr(){return new Pt(Mt.APP_DELETED,"The Firebase app was deleted.")}function $r(h){return new Pt(Mt.INVALID_ROOT_OPERATION,"The operation '"+h+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vn(h,l){return new Pt(Mt.INVALID_FORMAT,"String does not match format '"+h+"': "+l)}function Lr(h){throw new Pt(Mt.INTERNAL_ERROR,"Internal error: "+h)}class Mn{constructor(l,c){this.bucket=l,this.path_=c}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const l=encodeURIComponent;return"/b/"+l(this.bucket)+"/o/"+l(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(l,c){let g;try{g=Mn.makeFromUrl(l,c)}catch{return new Mn(l,"")}if(""===g.path)return g;throw function gn(h){return new Pt(Mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+h+"'.")}(l)}static makeFromUrl(l,c){let g=null;const I="([A-Za-z0-9.\\-_]+)",ne=new RegExp("^gs://"+I+"(/(.*))?$","i");function ke(cs){cs.path_=decodeURIComponent(cs.path)}const kt=c.replace(/[.]/g,"\\."),ls=[{regex:ne,indices:{bucket:1,path:3},postModify:function P(cs){"/"===cs.path.charAt(cs.path.length-1)&&(cs.path_=cs.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${kt}/v[A-Za-z0-9_]+/b/${I}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ke},{regex:new RegExp(`^https?://${c===ce?"(?:storage.googleapis.com|storage.cloud.google.com)":c}/${I}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ke}];for(let cs=0;cs<ls.length;cs++){const jh=ls[cs],wl=jh.regex.exec(l);if(wl){let Xu=wl[jh.indices.path];Xu||(Xu=""),g=new Mn(wl[jh.indices.bucket],Xu),jh.postModify(g);break}}if(null==g)throw function rr(h){return new Pt(Mt.INVALID_URL,"Invalid URL '"+h+"'.")}(l);return g}}class wi{constructor(l){this.promise_=Promise.reject(l)}getPromise(){return this.promise_}cancel(l=!1){}}function ki(h){return"string"==typeof h||h instanceof String}function Ti(h){return Nr()&&h instanceof Blob}function Nr(){return typeof Blob<"u"&&!(0,x.UG)()}function jr(h,l,c,g){if(g<l)throw Bn(`Invalid value for '${h}'. Expected ${l} or greater.`);if(g>c)throw Bn(`Invalid value for '${h}'. Expected ${c} or less.`)}function Fr(h,l,c){let g=l;return null==c&&(g=`https://${l}`),`${c}://${g}/v0${h}`}function Gn(h){const l=encodeURIComponent;let c="?";for(const g in h)h.hasOwnProperty(g)&&(c=c+(l(g)+"=")+l(h[g])+"&");return c=c.slice(0,-1),c}var Un=function(h){return h[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT",h}(Un||{});function ai(h,l){const c=h>=500&&h<600,I=-1!==[408,429].indexOf(h),P=-1!==l.indexOf(h);return c||I||P}class Pi{constructor(l,c,g,I,P,B,ne,ye,ke,wt,kt,zt=!0){this.url_=l,this.method_=c,this.headers_=g,this.body_=I,this.successCodes_=P,this.additionalRetryCodes_=B,this.callback_=ne,this.errorCallback_=ye,this.timeout_=ke,this.progressCallback_=wt,this.connectionFactory_=kt,this.retry=zt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((En,Ln)=>{this.resolve_=En,this.reject_=Ln,this.start_()})}start_(){const c=(g,I)=>{const P=this.resolve_,B=this.reject_,ne=I.connection;if(I.wasSuccessCode)try{const ye=this.callback_(ne,ne.getResponse());!function tr(h){return void 0!==h}(ye)?P():P(ye)}catch(ye){B(ye)}else if(null!==ne){const ye=ln();ye.serverResponse=ne.getErrorText(),B(this.errorCallback_?this.errorCallback_(ne,ye):ye)}else B(I.canceled?this.appDelete_?Qr():Fn():Hn())};this.canceled_?c(0,new Mi(!1,null,!0)):this.backoffId_=function Dr(h,l,c){let g=1,I=null,P=null,B=!1,ne=0;function ye(){return 2===ne}let ke=!1;function wt(...Wr){ke||(ke=!0,l.apply(null,Wr))}function kt(Wr){I=setTimeout(()=>{I=null,h(En,ye())},Wr)}function zt(){P&&clearTimeout(P)}function En(Wr,...Hs){if(ke)return void zt();if(Wr)return zt(),void wt.call(null,Wr,...Hs);if(ye()||B)return zt(),void wt.call(null,Wr,...Hs);let ls;g<64&&(g*=2),1===ne?(ne=2,ls=0):ls=1e3*(g+Math.random()),kt(ls)}let Ln=!1;function Mr(Wr){Ln||(Ln=!0,zt(),!ke&&(null!==I?(Wr||(ne=2),clearTimeout(I),kt(0)):Wr||(ne=1)))}return kt(0),P=setTimeout(()=>{B=!0,Mr(!0)},c),Mr}((g,I)=>{if(I)return void g(!1,new Mi(!1,null,!0));const P=this.connectionFactory_();this.pendingConnection_=P;const B=ne=>{null!==this.progressCallback_&&this.progressCallback_(ne.loaded,ne.lengthComputable?ne.total:-1)};null!==this.progressCallback_&&P.addUploadProgressListener(B),P.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&P.removeUploadProgressListener(B),this.pendingConnection_=null;const ne=P.getErrorCode()===Un.NO_ERROR,ye=P.getStatus();if(!ne||ai(ye,this.additionalRetryCodes_)&&this.retry){const wt=P.getErrorCode()===Un.ABORT;return void g(!1,new Mi(!1,null,wt))}const ke=-1!==this.successCodes_.indexOf(ye);g(!0,new Mi(ke,P))})},c,this.timeout_)}getPromise(){return this.promise_}cancel(l){this.canceled_=!0,this.appDelete_=l||!1,null!==this.backoffId_&&function hn(h){h(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mi{constructor(l,c,g){this.wasSuccessCode=l,this.connection=c,this.canceled=!!g}}function Ot(...h){const l=function ct(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==l){const c=new l;for(let g=0;g<h.length;g++)c.append(h[g]);return c.getBlob()}if(Nr())return new Blob(h);throw new Pt(Mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ur{constructor(l,c){this.data=l,this.contentType=c||null}}function Sn(h,l){switch(h){case xn.RAW:return new ur(or(l));case xn.BASE64:case xn.BASE64URL:return new ur(Hr(h,l));case xn.DATA_URL:return new ur(function St(h){const l=new Hi(h);return l.base64?Hr(xn.BASE64,l.rest):function Ei(h){let l;try{l=decodeURIComponent(h)}catch{throw vn(xn.DATA_URL,"Malformed data URL.")}return or(l)}(l.rest)}(l),function ut(h){return new Hi(h).contentType}(l))}throw ln()}function or(h){const l=[];for(let c=0;c<h.length;c++){let g=h.charCodeAt(c);g<=127?l.push(g):g<=2047?l.push(192|g>>6,128|63&g):55296==(64512&g)?c<h.length-1&&56320==(64512&h.charCodeAt(c+1))?(g=65536|(1023&g)<<10|1023&h.charCodeAt(++c),l.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|63&g)):l.push(239,191,189):56320==(64512&g)?l.push(239,191,189):l.push(224|g>>12,128|g>>6&63,128|63&g)}return new Uint8Array(l)}function Hr(h,l){switch(h){case xn.BASE64:{const I=-1!==l.indexOf("-"),P=-1!==l.indexOf("_");if(I||P)throw vn(h,"Invalid character '"+(I?"-":"_")+"' found: is it base64url encoded?");break}case xn.BASE64URL:{const I=-1!==l.indexOf("+"),P=-1!==l.indexOf("/");if(I||P)throw vn(h,"Invalid character '"+(I?"+":"/")+"' found: is it base64 encoded?");l=l.replace(/-/g,"+").replace(/_/g,"/");break}}let c;try{c=function $n(h){if(typeof atob>"u")throw function lr(h){return new Pt(Mt.UNSUPPORTED_ENVIRONMENT,`${h} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(h)}(l)}catch(I){throw I.message.includes("polyfill")?I:vn(h,"Invalid character found")}const g=new Uint8Array(c.length);for(let I=0;I<c.length;I++)g[I]=c.charCodeAt(I);return g}class Hi{constructor(l){this.base64=!1,this.contentType=null;const c=l.match(/^data:([^,]+)?,/);if(null===c)throw vn(xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const g=c[1]||null;null!=g&&(this.base64=function Qt(h,l){return h.length>=l.length&&h.substring(h.length-l.length)===l}(g,";base64"),this.contentType=this.base64?g.substring(0,g.length-7):g),this.rest=l.substring(l.indexOf(",")+1)}}class bn{constructor(l,c){let g=0,I="";Ti(l)?(this.data_=l,g=l.size,I=l.type):l instanceof ArrayBuffer?(c?this.data_=new Uint8Array(l):(this.data_=new Uint8Array(l.byteLength),this.data_.set(new Uint8Array(l))),g=this.data_.length):l instanceof Uint8Array&&(c?this.data_=l:(this.data_=new Uint8Array(l.length),this.data_.set(l)),g=l.length),this.size_=g,this.type_=I}size(){return this.size_}type(){return this.type_}slice(l,c){if(Ti(this.data_)){const I=function Wt(h,l,c){return h.webkitSlice?h.webkitSlice(l,c):h.mozSlice?h.mozSlice(l,c):h.slice?h.slice(l,c):null}(this.data_,l,c);return null===I?null:new bn(I)}{const g=new Uint8Array(this.data_.buffer,l,c-l);return new bn(g,!0)}}static getBlob(...l){if(Nr()){const c=l.map(g=>g instanceof bn?g.data_:g);return new bn(Ot.apply(null,c))}{const c=l.map(B=>ki(B)?Sn(xn.RAW,B).data:B.data_);let g=0;c.forEach(B=>{g+=B.byteLength});const I=new Uint8Array(g);let P=0;return c.forEach(B=>{for(let ne=0;ne<B.length;ne++)I[P++]=B[ne]}),new bn(I,!0)}}uploadData(){return this.data_}}function Xn(h){let l;try{l=JSON.parse(h)}catch{return null}return function oi(h){return"object"==typeof h&&!Array.isArray(h)}(l)?l:null}function Xr(h){const l=h.lastIndexOf("/",h.length-2);return-1===l?h:h.slice(l+1)}function dt(h,l){return l}class He{constructor(l,c,g,I){this.server=l,this.local=c||l,this.writable=!!g,this.xform=I||dt}}let Tt=null;function Ut(){if(Tt)return Tt;const h=[];h.push(new He("bucket")),h.push(new He("generation")),h.push(new He("metageneration")),h.push(new He("name","fullPath",!0));const c=new He("name");c.xform=function l(P,B){return function vt(h){return!ki(h)||h.length<2?h:Xr(h)}(B)},h.push(c);const I=new He("size");return I.xform=function g(P,B){return void 0!==B?Number(B):B},h.push(I),h.push(new He("timeCreated")),h.push(new He("updated")),h.push(new He("md5Hash",null,!0)),h.push(new He("cacheControl",null,!0)),h.push(new He("contentDisposition",null,!0)),h.push(new He("contentEncoding",null,!0)),h.push(new He("contentLanguage",null,!0)),h.push(new He("contentType",null,!0)),h.push(new He("metadata","customMetadata",!0)),Tt=h,Tt}function fn(h,l,c){const g=Xn(l);return null===g?null:function Cn(h,l,c){const g={type:"file"},I=c.length;for(let P=0;P<I;P++){const B=c[P];g[B.local]=B.xform(g,l[B.server])}return function Yt(h,l){Object.defineProperty(h,"ref",{get:function c(){const P=new Mn(h.bucket,h.fullPath);return l._makeStorageReference(P)}})}(g,h),g}(h,g,c)}function mn(h,l){const c={},g=l.length;for(let I=0;I<g;I++){const P=l[I];P.writable&&(c[P.server]=h[P.local])}return JSON.stringify(c)}const De="prefixes",Ne="items";class gt{constructor(l,c,g,I){this.url=l,this.method=c,this.handler=g,this.timeout=I,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Bt(h){if(!h)throw ln()}function jt(h,l){return function c(g,I){const P=fn(h,I,l);return Bt(null!==P),P}}function nn(h){return function l(c,g){let I;return I=401===c.getStatus()?c.getErrorText().includes("Firebase App Check token is invalid")?function Ht(){return new Pt(Mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Nt(){return new Pt(Mt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===c.getStatus()?function Rt(h){return new Pt(Mt.QUOTA_EXCEEDED,"Quota for bucket '"+h+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(h.bucket):403===c.getStatus()?function Jt(h){return new Pt(Mt.UNAUTHORIZED,"User does not have permission to access '"+h+"'.")}(h.path):g,I.status=c.getStatus(),I.serverResponse=g.serverResponse,I}}function dr(h){const l=nn(h);return function c(g,I){let P=l(g,I);return 404===g.getStatus()&&(P=function Kt(h){return new Pt(Mt.OBJECT_NOT_FOUND,"Object '"+h+"' does not exist.")}(h.path)),P.serverResponse=I.serverResponse,P}}function z(h,l,c){const I=Fr(l.fullServerUrl(),h.host,h._protocol),B=h.maxOperationRetryTime,ne=new gt(I,"GET",jt(h,c),B);return ne.errorHandler=dr(l),ne}function ie(h,l,c,g,I){const P={};P.prefix=l.isRoot?"":l.path+"/",c&&c.length>0&&(P.delimiter=c),g&&(P.pageToken=g),I&&(P.maxResults=I);const ne=Fr(l.bucketOnlyServerUrl(),h.host,h._protocol),ke=h.maxOperationRetryTime,wt=new gt(ne,"GET",function tn(h,l){return function c(g,I){const P=function Ae(h,l,c){const g=Xn(c);return null===g?null:function ee(h,l,c){const g={prefixes:[],items:[],nextPageToken:c.nextPageToken};if(c[De])for(const I of c[De]){const P=I.replace(/\/$/,""),B=h._makeStorageReference(new Mn(l,P));g.prefixes.push(B)}if(c[Ne])for(const I of c[Ne]){const P=h._makeStorageReference(new Mn(l,I.name));g.items.push(P)}return g}(h,l,g)}(h,l,I);return Bt(null!==P),P}}(h,l.bucket),ke);return wt.urlParams=P,wt.errorHandler=nn(l),wt}function k(h,l,c){const g=Object.assign({},c);return g.fullPath=h.path,g.size=l.size(),g.contentType||(g.contentType=function Q(h,l){return h&&h.contentType||l&&l.type()||"application/octet-stream"}(null,l)),g}class xe{constructor(l,c,g,I){this.current=l,this.total=c,this.finalized=!!g,this.metadata=I||null}}function $t(h,l){let c=null;try{c=h.getResponseHeader("X-Goog-Upload-Status")}catch{Bt(!1)}return Bt(!!c&&-1!==(l||["active"]).indexOf(c)),c}const Ii={STATE_CHANGED:"state_changed"},Jr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Di(h){switch(h){case"running":case"pausing":case"canceling":return Jr.RUNNING;case"paused":return Jr.PAUSED;case"success":return Jr.SUCCESS;case"canceled":return Jr.CANCELED;default:return Jr.ERROR}}class Ms{constructor(l,c,g){if(function Ar(h){return"function"==typeof h}(l)||null!=c||null!=g)this.next=l,this.error=null!=c?c:void 0,this.complete=null!=g?g:void 0;else{const P=l;this.next=P.next,this.error=P.error,this.complete=P.complete}}}function fi(h){return(...l)=>{Promise.resolve().then(()=>h(...l))}}let Ds=null;class Ui{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Un.NO_ERROR,this.sendPromise_=new Promise(l=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Un.ABORT,l()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Un.NETWORK_ERROR,l()}),this.xhr_.addEventListener("load",()=>{l()})})}send(l,c,g,I){if(this.sent_)throw Lr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(c,l,!0),void 0!==I)for(const P in I)I.hasOwnProperty(P)&&this.xhr_.setRequestHeader(P,I[P].toString());return void 0!==g?this.xhr_.send(g):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Lr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(l){return this.xhr_.getResponseHeader(l)}addUploadProgressListener(l){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",l)}removeUploadProgressListener(l){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",l)}}class us extends Ui{initXhr(){this.xhr_.responseType="text"}}function Cr(){return Ds?Ds():new us}class Do{constructor(l,c,g=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=l,this._blob=c,this._metadata=g,this._mappings=Ut(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=I=>{if(this._request=void 0,this._chunkMultiplier=1,I._codeEquals(Mt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const P=this.isExponentialBackoffExpired();if(ai(I.status,[])){if(!P)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();I=Hn()}this._error=I,this._transition("error")}},this._metadataErrorHandler=I=>{this._request=void 0,I._codeEquals(Mt.CANCELED)?this.completeTransitions_():(this._error=I,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((I,P)=>{this._resolve=I,this._reject=P,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const l=this._transferred;return c=>this._updateProgress(l+c)}_shouldDoResumable(l){return l.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(l){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([c,g])=>{switch(this._state){case"running":l(c,g);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((l,c)=>{const g=function Vn(h,l,c,g,I){const P=l.bucketOnlyServerUrl(),B=k(l,g,I),ne={name:B.fullPath},ye=Fr(P,h.host,h._protocol),wt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${g.size()}`,"X-Goog-Upload-Header-Content-Type":B.contentType,"Content-Type":"application/json; charset=utf-8"},kt=mn(B,c),Ln=new gt(ye,"POST",function En(Mr){let Wr;$t(Mr);try{Wr=Mr.getResponseHeader("X-Goog-Upload-URL")}catch{Bt(!1)}return Bt(ki(Wr)),Wr},h.maxUploadRetryTime);return Ln.urlParams=ne,Ln.headers=wt,Ln.body=kt,Ln.errorHandler=nn(l),Ln}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(g,Cr,l,c);this._request=I,I.getPromise().then(P=>{this._request=void 0,this._uploadUrl=P,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const l=this._uploadUrl;this._resolveToken((c,g)=>{const I=function nr(h,l,c,g){const ye=new gt(c,"POST",function P(ke){const wt=$t(ke,["active","final"]);let kt=null;try{kt=ke.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bt(!1)}kt||Bt(!1);const zt=Number(kt);return Bt(!isNaN(zt)),new xe(zt,g.size(),"final"===wt)},h.maxUploadRetryTime);return ye.headers={"X-Goog-Upload-Command":"query"},ye.errorHandler=nn(l),ye}(this._ref.storage,this._ref._location,l,this._blob),P=this._ref.storage._makeRequest(I,Cr,c,g);this._request=P,P.getPromise().then(B=>{this._request=void 0,this._updateProgress(B.current),this._needToFetchStatus=!1,B.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const l=262144*this._chunkMultiplier,c=new xe(this._transferred,this._blob.size()),g=this._uploadUrl;this._resolveToken((I,P)=>{let B;try{B=function li(h,l,c,g,I,P,B,ne){const ye=new xe(0,0);if(B?(ye.current=B.current,ye.total=B.total):(ye.current=0,ye.total=g.size()),g.size()!==ye.total)throw function ti(){return new Pt(Mt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ke=ye.total-ye.current;let wt=ke;I>0&&(wt=Math.min(wt,I));const kt=ye.current;let En="";En=0===wt?"finalize":ke===wt?"upload, finalize":"upload";const Ln={"X-Goog-Upload-Command":En,"X-Goog-Upload-Offset":`${ye.current}`},Mr=g.slice(kt,kt+wt);if(null===Mr)throw _n();const ls=new gt(c,"POST",function Wr(cs,jh){const wl=$t(cs,["active","final"]),kf=ye.current+wt,Xu=g.size();let Pp;return Pp="final"===wl?jt(l,P)(cs,jh):null,new xe(kf,Xu,"final"===wl,Pp)},l.maxUploadRetryTime);return ls.headers=Ln,ls.body=Mr.uploadData(),ls.progressCallback=ne||null,ls.errorHandler=nn(h),ls}(this._ref._location,this._ref.storage,g,this._blob,l,this._mappings,c,this._makeProgressCallback())}catch(ye){return this._error=ye,void this._transition("error")}const ne=this._ref.storage._makeRequest(B,Cr,I,P,!1);this._request=ne,ne.getPromise().then(ye=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ye.current),ye.finalized?(this._metadata=ye.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((l,c)=>{const g=z(this._ref.storage,this._ref._location,this._mappings),I=this._ref.storage._makeRequest(g,Cr,l,c);this._request=I,I.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((l,c)=>{const g=function te(h,l,c,g,I){const P=l.bucketOnlyServerUrl(),B={"X-Goog-Upload-Protocol":"multipart"},ye=function ne(){let ls="";for(let cs=0;cs<2;cs++)ls+=Math.random().toString().slice(2);return ls}();B["Content-Type"]="multipart/related; boundary="+ye;const ke=k(l,g,I),wt=mn(ke,c),En=bn.getBlob("--"+ye+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+wt+"\r\n--"+ye+"\r\nContent-Type: "+ke.contentType+"\r\n\r\n",g,"\r\n--"+ye+"--");if(null===En)throw _n();const Ln={name:ke.fullPath},Mr=Fr(P,h.host,h._protocol),Hs=h.maxUploadRetryTime,mo=new gt(Mr,"POST",jt(h,c),Hs);return mo.urlParams=Ln,mo.headers=B,mo.body=En.uploadData(),mo.errorHandler=nn(l),mo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),I=this._ref.storage._makeRequest(g,Cr,l,c);this._request=I,I.getPromise().then(P=>{this._request=void 0,this._metadata=P,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(l){const c=this._transferred;this._transferred=l,this._transferred!==c&&this._notifyObservers()}_transition(l){if(this._state!==l)switch(l){case"canceling":case"pausing":this._state=l,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const c="paused"===this._state;this._state=l,c&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=l,this._notifyObservers();break;case"canceled":this._error=Fn(),this._state=l,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const l=Di(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:l,metadata:this._metadata,task:this,ref:this._ref}}on(l,c,g,I){const P=new Ms(c||void 0,g||void 0,I||void 0);return this._addObserver(P),()=>{this._removeObserver(P)}}then(l,c){return this._promise.then(l,c)}catch(l){return this.then(null,l)}_addObserver(l){this._observers.push(l),this._notifyObserver(l)}_removeObserver(l){const c=this._observers.indexOf(l);-1!==c&&this._observers.splice(c,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(c=>{this._notifyObserver(c)})}_finishPromise(){if(void 0!==this._resolve){let l=!0;switch(Di(this._state)){case Jr.SUCCESS:fi(this._resolve.bind(null,this.snapshot))();break;case Jr.CANCELED:case Jr.ERROR:fi(this._reject.bind(null,this._error))();break;default:l=!1}l&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(l){switch(Di(this._state)){case Jr.RUNNING:case Jr.PAUSED:l.next&&fi(l.next.bind(l,this.snapshot))();break;case Jr.SUCCESS:l.complete&&fi(l.complete.bind(l))();break;default:l.error&&fi(l.error.bind(l,this._error))()}}resume(){const l="paused"===this._state||"pausing"===this._state;return l&&this._transition("running"),l}pause(){const l="running"===this._state;return l&&this._transition("pausing"),l}cancel(){const l="running"===this._state||"pausing"===this._state;return l&&this._transition("canceling"),l}}class ys{constructor(l,c){this._service=l,this._location=c instanceof Mn?c:Mn.makeFromUrl(c,l.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(l,c){return new ys(l,c)}get root(){const l=new Mn(this._location.bucket,"");return this._newRef(this._service,l)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xr(this._location.path)}get storage(){return this._service}get parent(){const l=function Yn(h){if(0===h.length)return null;const l=h.lastIndexOf("/");return-1===l?"":h.slice(0,l)}(this._location.path);if(null===l)return null;const c=new Mn(this._location.bucket,l);return new ys(this._service,c)}_throwIfRoot(l){if(""===this._location.path)throw $r(l)}}function ds(h,l,c){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Qe.Z)(function*(h,l,c){const I=yield xs(h,{pageToken:c});l.prefixes.push(...I.prefixes),l.items.push(...I.items),null!=I.nextPageToken&&(yield ds(h,l,I.nextPageToken))})).apply(this,arguments)}function xs(h,l){null!=l&&"number"==typeof l.maxResults&&jr("options.maxResults",1,1e3,l.maxResults);const c=l||{},g=ie(h.storage,h._location,"/",c.pageToken,c.maxResults);return h.storage.makeRequestWithTokens(g,Cr)}function Ca(h){h._throwIfRoot("getDownloadURL");const l=function it(h,l,c){const I=Fr(l.fullServerUrl(),h.host,h._protocol),B=h.maxOperationRetryTime,ne=new gt(I,"GET",function Nn(h,l){return function c(g,I){const P=fn(h,I,l);return Bt(null!==P),function Rn(h,l,c,g){const I=Xn(l);if(null===I||!ki(I.downloadTokens))return null;const P=I.downloadTokens;if(0===P.length)return null;const B=encodeURIComponent;return P.split(",").map(ke=>{const kt=h.fullPath;return Fr("/b/"+B(h.bucket)+"/o/"+B(kt),c,g)+Gn({alt:"media",token:ke})})[0]}(P,I,h.host,h._protocol)}}(h,c),B);return ne.errorHandler=dr(l),ne}(h.storage,h._location,Ut());return h.storage.makeRequestWithTokens(l,Cr).then(c=>{if(null===c)throw function Jn(){return new Pt(Mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return c})}function la(h,l){const c=function kn(h,l){const c=l.split("/").filter(g=>g.length>0).join("/");return 0===h.length?c:h+"/"+c}(h._location.path,l),g=new Mn(h._location.bucket,c);return new ys(h.storage,g)}function Ys(h,l){if(h instanceof ua){const c=h;if(null==c._bucket)throw function er(){return new Pt(Mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+je+"' property when initializing the app?")}();const g=new ys(c,c._bucket);return null!=l?Ys(g,l):g}return void 0!==l?la(h,l):h}function Oc(h,l){if(l&&function jo(h){return/^[A-Za-z]+:\/\//.test(h)}(l)){if(h instanceof ua)return function ca(h,l){return new ys(h,l)}(h,l);throw Bn("To use ref(service, url), the first argument must be a Storage instance.")}return Ys(h,l)}function vo(h,l){const c=null==l?void 0:l[je];return null==c?null:Mn.makeFromBucketSpec(c,h)}class ua{constructor(l,c,g,I,P){this.app=l,this._authProvider=c,this._appCheckProvider=g,this._url=I,this._firebaseVersion=P,this._bucket=null,this._host=ce,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=I?Mn.makeFromBucketSpec(I,this._host):vo(this._host,this.app.options)}get host(){return this._host}set host(l){this._host=l,this._bucket=null!=this._url?Mn.makeFromBucketSpec(this._url,l):vo(l,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(l){jr("time",0,Number.POSITIVE_INFINITY,l),this._maxUploadRetryTime=l}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(l){jr("time",0,Number.POSITIVE_INFINITY,l),this._maxOperationRetryTime=l}_getAuthToken(){var l=this;return(0,Qe.Z)(function*(){if(l._overrideAuthToken)return l._overrideAuthToken;const c=l._authProvider.getImmediate({optional:!0});if(c){const g=yield c.getToken();if(null!==g)return g.accessToken}return null})()}_getAppCheckToken(){var l=this;return(0,Qe.Z)(function*(){const c=l._appCheckProvider.getImmediate({optional:!0});return c?(yield c.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(l=>l.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(l){return new ys(this,l)}_makeRequest(l,c,g,I,P=!0){if(this._deleted)return new wi(Qr());{const B=function pe(h,l,c,g,I,P,B=!0){const ne=Gn(h.urlParams),ye=h.url+ne,ke=Object.assign({},h.headers);return function oe(h,l){l&&(h["X-Firebase-GMPID"]=l)}(ke,l),function lt(h,l){null!==l&&l.length>0&&(h.Authorization="Firebase "+l)}(ke,c),function ge(h,l){h["X-Firebase-Storage-Version"]="webjs/"+(null!=l?l:"AppManager")}(ke,P),function Le(h,l){null!==l&&(h["X-Firebase-AppCheck"]=l)}(ke,g),new Pi(ye,h.method,ke,h.body,h.successCodes,h.additionalRetryCodes,h.handler,h.errorHandler,h.timeout,h.progressCallback,I,B)}(l,this._appId,g,I,c,this._firebaseVersion,P);return this._requests.add(B),B.getPromise().then(()=>this._requests.delete(B),()=>this._requests.delete(B)),B}}makeRequestWithTokens(l,c){var g=this;return(0,Qe.Z)(function*(){const[I,P]=yield Promise.all([g._getAuthToken(),g._getAppCheckToken()]);return g._makeRequest(l,c,I,P).getPromise()})()}}const hu="@firebase/storage";function Ir(h,l){return Oc(h=(0,x.m9)(h),l)}function ll(h,{instanceIdentifier:l}){const c=h.getProvider("app").getImmediate(),g=h.getProvider("auth-internal"),I=h.getProvider("app-check-internal");return new ua(c,g,I,l,se.SDK_VERSION)}!function cl(){(0,se._registerComponent)(new Z.wA("storage",ll,"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(hu,"0.11.2",""),(0,se.registerVersion)(hu,"0.11.2","esm2017")}();class Ao{constructor(l,c,g){this._delegate=l,this.task=c,this.ref=g}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ta{constructor(l,c){this._delegate=l,this._ref=c,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ao(this._delegate.snapshot,this,this._ref)}then(l,c){return this._delegate.then(g=>{if(l)return l(new Ao(g,this,this._ref))},c)}on(l,c,g,I){let P;return c&&(P="function"==typeof c?B=>c(new Ao(B,this,this._ref)):{next:c.next?B=>c.next(new Ao(B,this,this._ref)):void 0,complete:c.complete||void 0,error:c.error||void 0}),this._delegate.on(l,P,g||void 0,I||void 0)}}class Ai{constructor(l,c){this._delegate=l,this._service=c}get prefixes(){return this._delegate.prefixes.map(l=>new pn(l,this._service))}get items(){return this._delegate.items.map(l=>new pn(l,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class pn{constructor(l,c){this._delegate=l,this.storage=c}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(l){const c=function xi(h,l){return la(h,l)}(this._delegate,l);return new pn(c,this.storage)}get root(){return new pn(this._delegate.root,this.storage)}get parent(){const l=this._delegate.parent;return null==l?null:new pn(l,this.storage)}put(l,c){return this._throwIfRoot("put"),new Ta(function Es(h,l,c){return function zs(h,l,c){return h._throwIfRoot("uploadBytesResumable"),new Do(h,new bn(l),c)}(h=(0,x.m9)(h),l,c)}(this._delegate,l,c),this)}putString(l,c=xn.RAW,g){this._throwIfRoot("putString");const I=Sn(c,l),P=Object.assign({},g);return null==P.contentType&&null!=I.contentType&&(P.contentType=I.contentType),new Ta(new Do(this._delegate,new bn(I.data,!0),P),this)}listAll(){return function rc(h){return function $o(h){const l={prefixes:[],items:[]};return ds(h,l).then(()=>l)}(h=(0,x.m9)(h))}(this._delegate).then(l=>new Ai(l,this.storage))}list(l){return function Ua(h,l){return xs(h=(0,x.m9)(h),l)}(this._delegate,l||void 0).then(c=>new Ai(c,this.storage))}getMetadata(){return function tc(h){return function ts(h){h._throwIfRoot("getMetadata");const l=z(h.storage,h._location,Ut());return h.storage.makeRequestWithTokens(l,Cr)}(h=(0,x.m9)(h))}(this._delegate)}updateMetadata(l){return function nc(h,l){return function Ia(h,l){h._throwIfRoot("updateMetadata");const c=function xt(h,l,c,g){const P=Fr(l.fullServerUrl(),h.host,h._protocol),ne=mn(c,g),ke=h.maxOperationRetryTime,wt=new gt(P,"PATCH",jt(h,g),ke);return wt.headers={"Content-Type":"application/json; charset=utf-8"},wt.body=ne,wt.errorHandler=dr(l),wt}(h.storage,h._location,l,Ut());return h.storage.makeRequestWithTokens(c,Cr)}(h=(0,x.m9)(h),l)}(this._delegate,l)}getDownloadURL(){return function Ks(h){return Ca(h=(0,x.m9)(h))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function bl(h){return function Li(h){h._throwIfRoot("deleteObject");const l=function T(h,l){const g=Fr(l.fullServerUrl(),h.host,h._protocol),ne=new gt(g,"DELETE",function B(ye,ke){},h.maxOperationRetryTime);return ne.successCodes=[200,204],ne.errorHandler=dr(l),ne}(h.storage,h._location);return h.storage.makeRequestWithTokens(l,Cr)}(h=(0,x.m9)(h))}(this._delegate)}_throwIfRoot(l){if(""===this._delegate._location.path)throw $r(l)}}class ar{constructor(l,c){this.app=l,this._delegate=c}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(l){if(hr(l))throw Bn("ref() expected a child path but got a URL, use refFromURL instead.");return new pn(Ir(this._delegate,l),this)}refFromURL(l){if(!hr(l))throw Bn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mn.makeFromUrl(l,this._delegate.host)}catch{throw Bn("refFromUrl() expected a valid full URL but got an invalid one.")}return new pn(Ir(this._delegate,l),this)}setMaxUploadRetryTime(l){this._delegate.maxUploadRetryTime=l}setMaxOperationRetryTime(l){this._delegate.maxOperationRetryTime=l}useEmulator(l,c,g={}){!function oo(h,l,c,g={}){!function Va(h,l,c,g={}){h.host=`${l}:${c}`,h._protocol="http";const{mockUserToken:I}=g;I&&(h._overrideAuthToken="string"==typeof I?I:(0,x.Sg)(I,h.app.options.projectId))}(h,l,c,g)}(this._delegate,l,c,g)}}function hr(h){return/^[A-Za-z]+:\/\//.test(h)}function we(h,{instanceIdentifier:l}){const c=h.getProvider("app-compat").getImmediate(),g=h.getProvider("storage").getImmediate({identifier:l});return new ar(c,g)}!function W(h){const l={TaskState:Jr,TaskEvent:Ii,StringFormat:xn,Storage:ar,Reference:pn};h.INTERNAL.registerComponent(new Z.wA("storage-compat",we,"PUBLIC").setServiceProps(l).setMultipleInstances(!0)),h.registerVersion("@firebase/storage-compat","0.3.2")}(yt.Z);var Pe=N(120);function dn(h){const l=function an(h){return new pt.y(l=>{const c=B=>l.next(B);c(h.snapshot);const P=h.on("state_changed",c);return h.then(B=>{c(B),l.complete()},B=>{c(h.snapshot),(B=>{l.error(B)})(B)}),function(){P()}}).pipe(function rt(h,l=he.z){return(0,Ie.e)((c,g)=>{let I=null,P=null,B=null;const ne=()=>{if(I){I.unsubscribe(),I=null;const ke=P;P=null,g.next(ke)}};function ye(){const ke=B+h,wt=l.now();if(wt<ke)return I=this.schedule(void 0,ke-wt),void g.add(I);ne()}c.subscribe((0,Ue.x)(g,ke=>{P=ke,B=l.now(),I||(I=l.schedule(ye,h),g.add(I))},()=>{ne(),g.complete()},void 0,()=>{P=I=null}))})}(0))}(h);return{task:h,then:h.then.bind(h),catch:h.catch.bind(h),pause:h.pause.bind(h),cancel:h.cancel.bind(h),resume:h.resume.bind(h),snapshotChanges:()=>l,percentageChanges:()=>l.pipe((0,Me.U)(c=>c.bytesTransferred/c.totalBytes*100))}}function ni(h){return{getDownloadURL:()=>(0,_e.of)(void 0).pipe(Xe.fc,(0,st.w)(()=>h.getDownloadURL()),Xe.iC),getMetadata:()=>(0,_e.of)(void 0).pipe(Xe.fc,(0,st.w)(()=>h.getMetadata()),Xe.iC),delete:()=>(0,Se.D)(h.delete()),child:l=>ni(h.child(l)),updateMetadata:l=>(0,Se.D)(h.updateMetadata(l)),put:(l,c)=>dn(h.put(l,c)),putString:(l,c,g)=>dn(h.putString(l,c,g)),list:l=>(0,Se.D)(h.list(l)),listAll:()=>(0,Se.D)(h.listAll())}}const As=new $.OlP("angularfire2.storageBucket"),gs=new $.OlP("angularfire2.storage.maxUploadRetryTime"),qr=new $.OlP("angularfire2.storage.maxOperationRetryTime"),ns=new $.OlP("angularfire2.storage.use-emulator");let Ho=(()=>{var h;class l{constructor(g,I,P,B,ne,ye,ke,wt,kt,zt){(0,Be.Z)(this,"storage",void 0);const En=(0,Et.on)(g,ne,I);this.storage=(0,Et.cc)(`${En.name}.storage.${P}`,"AngularFireStorage",En.name,()=>{const Ln=ne.runOutsideAngular(()=>En.storage(P||void 0)),Mr=kt;return Mr&&Ln.useEmulator(...Mr),ke&&Ln.setMaxUploadRetryTime(ke),wt&&Ln.setMaxOperationRetryTime(wt),Ln},[ke,wt])}ref(g){return ni(this.storage.ref(g))}refFromURL(g){return ni(this.storage.refFromURL(g))}upload(g,I,P){return ni(this.storage.ref(g)).put(I,P)}}return h=l,(0,Be.Z)(l,"\u0275fac",function(g){return new(g||h)($.LFG(Et.Dh),$.LFG(Et.xv,8),$.LFG(As,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(Xe.HU),$.LFG(gs,8),$.LFG(qr,8),$.LFG(ns,8),$.LFG(Xe.Rf,8))}),(0,Be.Z)(l,"\u0275prov",$.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"})),l})(),yo=(()=>{var h;class l{}return h=l,(0,Be.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Be.Z)(l,"\u0275mod",$.oAB({type:h})),(0,Be.Z)(l,"\u0275inj",$.cJS({})),l})(),$a=(()=>{var h;class l{constructor(){Pe.Z.registerVersion("angularfire",Xe.q4.full,"gcs-compat")}}return h=l,(0,Be.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Be.Z)(l,"\u0275mod",$.oAB({type:h})),(0,Be.Z)(l,"\u0275inj",$.cJS({providers:[Ho],imports:[yo]})),l})();var rs=N(2736),Da=N(3020),lo=N(6699),vr=N(4829),Al=N(2737),Eo=N(2420),ha=N(4564),zi=N(3997),ja=N(3019),Zi=(N(8313),N(7879));const zo="@firebase/database";let fa="";function Zs(h){fa=h}class Yo{constructor(l){this.domStorage_=l,this.prefix_="firebase:"}set(l,c){null==c?this.domStorage_.removeItem(this.prefixedName_(l)):this.domStorage_.setItem(this.prefixedName_(l),(0,x.Wl)(c))}get(l){const c=this.domStorage_.getItem(this.prefixedName_(l));return null==c?null:(0,x.cI)(c)}remove(l){this.domStorage_.removeItem(this.prefixedName_(l))}prefixedName_(l){return this.prefix_+l}toString(){return this.domStorage_.toString()}}class ad{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(l,c){null==c?delete this.cache_[l]:this.cache_[l]=c}get(l){return(0,x.r3)(this.cache_,l)?this.cache_[l]:null}remove(l){delete this.cache_[l]}}const fu=function(h){try{if(typeof window<"u"&&typeof window[h]<"u"){const l=window[h];return l.setItem("firebase:sentinel","cache"),l.removeItem("firebase:sentinel"),new Yo(l)}}catch{}return new ad},So=fu("localStorage"),ic=fu("sessionStorage"),pa=new Zi.Yd("@firebase/database"),Ss=function(){let h=1;return function(){return h++}}(),ld=function(h){const l=(0,x.dS)(h),c=new x.gQ;c.update(l);const g=c.digest();return x.US.encodeByteArray(g)},ul=function(...h){let l="";for(let c=0;c<h.length;c++){const g=h[c];Array.isArray(g)||g&&"object"==typeof g&&"number"==typeof g.length?l+=ul.apply(null,g):l+="object"==typeof g?(0,x.Wl)(g):g,l+=" "}return l};let Ro=null,dl=!0;const qo=function(h,l){(0,x.hu)(!l||!0===h||!1===h,"Can't turn on custom loggers persistently."),!0===h?(pa.logLevel=Zi.in.VERBOSE,Ro=pa.log.bind(pa),l&&ic.set("logging_enabled",!0)):"function"==typeof h?Ro=h:(Ro=null,ic.remove("logging_enabled"))},R=function(...h){if(!0===dl&&(dl=!1,null===Ro&&!0===ic.get("logging_enabled")&&qo(!0)),Ro){const l=ul.apply(null,h);Ro(l)}},G=function(h){return function(...l){R(h,...l)}},Ve=function(...h){const l="FIREBASE INTERNAL ERROR: "+ul(...h);pa.error(l)},H=function(...h){const l=`FIREBASE FATAL ERROR: ${ul(...h)}`;throw pa.error(l),new Error(l)},ve=function(...h){const l="FIREBASE WARNING: "+ul(...h);pa.warn(l)},Gt=function(h){return"number"==typeof h&&(h!=h||h===Number.POSITIVE_INFINITY||h===Number.NEGATIVE_INFINITY)},fr="[MIN_NAME]",wr="[MAX_NAME]",Tr=function(h,l){if(h===l)return 0;if(h===fr||l===wr)return-1;if(l===fr||h===wr)return 1;{const c=oh(h),g=oh(l);return null!==c?null!==g?c-g==0?h.length-l.length:c-g:-1:null!==g?1:h<l?-1:1}},pr=function(h,l){return h===l?0:h<l?-1:1},mr=function(h,l){if(l&&h in l)return l[h];throw new Error("Missing required key ("+h+") in object: "+(0,x.Wl)(l))},Pr=function(h){if("object"!=typeof h||null===h)return(0,x.Wl)(h);const l=[];for(const g in h)l.push(g);l.sort();let c="{";for(let g=0;g<l.length;g++)0!==g&&(c+=","),c+=(0,x.Wl)(l[g]),c+=":",c+=Pr(h[l[g]]);return c+="}",c},Qi=function(h,l){const c=h.length;if(c<=l)return[h];const g=[];for(let I=0;I<c;I+=l)g.push(h.substring(I,I+l>c?c:I+l));return g};function si(h,l){for(const c in h)h.hasOwnProperty(c)&&l(c,h[c])}const Rs=function(h){(0,x.hu)(!Gt(h),"Invalid JSON number");const g=1023;let I,P,B,ne,ye;0===h?(P=0,B=0,I=1/h==-1/0?1:0):(I=h<0,(h=Math.abs(h))>=Math.pow(2,1-g)?(ne=Math.min(Math.floor(Math.log(h)/Math.LN2),g),P=ne+g,B=Math.round(h*Math.pow(2,52-ne)-Math.pow(2,52))):(P=0,B=Math.round(h/Math.pow(2,-1074))));const ke=[];for(ye=52;ye;ye-=1)ke.push(B%2?1:0),B=Math.floor(B/2);for(ye=11;ye;ye-=1)ke.push(P%2?1:0),P=Math.floor(P/2);ke.push(I?1:0),ke.reverse();const wt=ke.join("");let kt="";for(ye=0;ye<64;ye+=8){let zt=parseInt(wt.substr(ye,8),2).toString(16);1===zt.length&&(zt="0"+zt),kt+=zt}return kt.toLowerCase()},Aa=new RegExp("^-?(0*)\\d{1,10}$"),oh=function(h){if(Aa.test(h)){const l=Number(h);if(l>=-2147483648&&l<=2147483647)return l}return null},Os=function(h){try{h()}catch(l){setTimeout(()=>{throw ve("Exception was thrown by user callback.",l.stack||""),l},Math.floor(0))}},Zo=function(h,l){const c=setTimeout(h,l);return"number"==typeof c&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(c):"object"==typeof c&&c.unref&&c.unref(),c};class Gi{constructor(l,c){this.appName_=l,this.appCheckProvider=c,this.appCheck=null==c?void 0:c.getImmediate({optional:!0}),this.appCheck||null==c||c.get().then(g=>this.appCheck=g)}getToken(l){return this.appCheck?this.appCheck.getToken(l):new Promise((c,g)=>{setTimeout(()=>{this.appCheck?this.getToken(l).then(c,g):c(null)},0)})}addTokenChangeListener(l){var c;null===(c=this.appCheckProvider)||void 0===c||c.get().then(g=>g.addTokenListener(l))}notifyForInvalidToken(){ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ah{constructor(l,c,g){this.appName_=l,this.firebaseOptions_=c,this.authProvider_=g,this.auth_=null,this.auth_=g.getImmediate({optional:!0}),this.auth_||g.onInit(I=>this.auth_=I)}getToken(l){return this.auth_?this.auth_.getToken(l).catch(c=>c&&"auth/token-not-initialized"===c.code?(R("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(c)):new Promise((c,g)=>{setTimeout(()=>{this.auth_?this.getToken(l).then(c,g):c(null)},0)})}addTokenChangeListener(l){this.auth_?this.auth_.addAuthTokenListener(l):this.authProvider_.get().then(c=>c.addAuthTokenListener(l))}removeTokenChangeListener(l){this.authProvider_.get().then(c=>c.removeAuthTokenListener(l))}notifyForInvalidToken(){let l='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';l+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ve(l)}}let Po=(()=>{class h{constructor(c){this.accessToken=c}getToken(c){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(c){c(this.accessToken)}removeTokenChangeListener(c){}notifyForInvalidToken(){}}return h.OWNER="owner",h})();const lh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pu="websocket",zn="long_polling";class Qn{constructor(l,c,g,I,P=!1,B="",ne=!1,ye=!1){this.secure=c,this.namespace=g,this.webSocketOnly=I,this.nodeAdmin=P,this.persistenceKey=B,this.includeNamespaceInQueryParams=ne,this.isUsingEmulator=ye,this._host=l.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=So.get("host:"+l)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(l){l!==this.internalHost&&(this.internalHost=l,this.isCacheableHost()&&So.set("host:"+this._host,this.internalHost))}toString(){let l=this.toURLString();return this.persistenceKey&&(l+="<"+this.persistenceKey+">"),l}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Tn(h,l,c){let g;if((0,x.hu)("string"==typeof l,"typeof type must == string"),(0,x.hu)("object"==typeof c,"typeof params must == object"),l===pu)g=(h.secure?"wss://":"ws://")+h.internalHost+"/.ws?";else{if(l!==zn)throw new Error("Unknown connection type: "+l);g=(h.secure?"https://":"http://")+h.internalHost+"/.lp?"}(function cd(h){return h.host!==h.internalHost||h.isCustomHost()||h.includeNamespaceInQueryParams})(h)&&(c.ns=h.namespace);const I=[];return si(c,(P,B)=>{I.push(P+"="+B)}),g+I.join("&")}class Ft{constructor(){this.counters_={}}incrementCounter(l,c=1){(0,x.r3)(this.counters_,l)||(this.counters_[l]=0),this.counters_[l]+=c}get(){return(0,x.p$)(this.counters_)}}const Zt={},Kn={};function gu(h){const l=h.toString();return Zt[l]||(Zt[l]=new Ft),Zt[l]}class ud{constructor(l){this.onMessage_=l,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(l,c){this.closeAfterResponse=l,this.onClose=c,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(l,c){for(this.pendingResponses[l]=c;this.pendingResponses[this.currentResponseNum];){const g=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let I=0;I<g.length;++I)g[I]&&Os(()=>{this.onMessage_(g[I])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yn{constructor(l,c,g,I,P,B,ne){this.connId=l,this.repoInfo=c,this.applicationId=g,this.appCheckToken=I,this.authToken=P,this.transportSessionId=B,this.lastSessionId=ne,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=G(l),this.stats_=gu(c),this.urlFn=ye=>(this.appCheckToken&&(ye.ac=this.appCheckToken),Tn(c,zn,ye))}open(l,c){this.curSegmentNum=0,this.onDisconnect_=c,this.myPacketOrderer=new ud(l),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(h){if((0,x.Yr)()||"complete"===document.readyState)h();else{let l=!1;const c=function(){document.body?l||(l=!0,h()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mo((...P)=>{const[B,ne,ye,ke,wt]=P;if(this.incrementIncomingBytes_(P),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===B)this.id=ne,this.password=ye;else{if("close"!==B)throw new Error("Unrecognized command received: "+B);ne?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(ne,()=>{this.onClosed_()})):this.onClosed_()}},(...P)=>{const[B,ne]=P;this.incrementIncomingBytes_(P),this.myPacketOrderer.handleResponse(B,ne)},()=>{this.onClosed_()},this.urlFn);const g={start:"t"};g.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(g.cb=this.scriptTagHolder.uniqueCallbackIdentifier),g.v="5",this.transportSessionId&&(g.s=this.transportSessionId),this.lastSessionId&&(g.ls=this.lastSessionId),this.applicationId&&(g.p=this.applicationId),this.appCheckToken&&(g.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&lh.test(location.hostname)&&(g.r="f");const I=this.urlFn(g);this.log_("Connecting via long-poll to "+I),this.scriptTagHolder.addTag(I,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yn.forceAllow_=!0}static forceDisallow(){yn.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!yn.forceAllow_&&(yn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(l){const c=(0,x.Wl)(l);this.bytesSent+=c.length,this.stats_.incrementCounter("bytes_sent",c.length);const g=(0,x.h$)(c),I=Qi(g,1840);for(let P=0;P<I.length;P++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,I.length,I[P]),this.curSegmentNum++}addDisconnectPingFrame(l,c){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const g={dframe:"t"};g.id=l,g.pw=c,this.myDisconnFrame.src=this.urlFn(g),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(l){const c=(0,x.Wl)(l).length;this.bytesReceived+=c,this.stats_.incrementCounter("bytes_received",c)}}class Mo{constructor(l,c,g,I){if(this.onDisconnect=g,this.urlFn=I,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=l,this.onMessageCB=c;else{this.uniqueCallbackIdentifier=Ss(),window["pLPCommand"+this.uniqueCallbackIdentifier]=l,window["pRTLPCB"+this.uniqueCallbackIdentifier]=c,this.myIFrame=Mo.createIFrame_();let P="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(P='<script>document.domain="'+document.domain+'";<\/script>');const B="<html><body>"+P+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(B),this.myIFrame.doc.close()}catch(ne){R("frame writing exception"),ne.stack&&R(ne.stack),R(ne)}}}static createIFrame_(){const l=document.createElement("iframe");if(l.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(l);try{l.contentWindow.document||R("No IE domain setting required")}catch{const g=document.domain;l.src="javascript:void((function(){document.open();document.domain='"+g+"';document.close();})())"}return l.contentDocument?l.doc=l.contentDocument:l.contentWindow?l.doc=l.contentWindow.document:l.document&&(l.doc=l.document),l}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const l=this.onDisconnect;l&&(this.onDisconnect=null,l())}startLongPoll(l,c){for(this.myID=l,this.myPW=c,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const l={};l.id=this.myID,l.pw=this.myPW,l.ser=this.currentSerial;let c=this.urlFn(l),g="",I=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+g.length<=1870;){const B=this.pendingSegs.shift();g=g+"&seg"+I+"="+B.seg+"&ts"+I+"="+B.ts+"&d"+I+"="+B.d,I++}return c+=g,this.addLongPollTag_(c,this.currentSerial),!0}return!1}enqueueSegment(l,c,g){this.pendingSegs.push({seg:l,ts:c,d:g}),this.alive&&this.newRequest_()}addLongPollTag_(l,c){this.outstandingRequests.add(c);const g=()=>{this.outstandingRequests.delete(c),this.newRequest_()},I=setTimeout(g,Math.floor(25e3));this.addTag(l,()=>{clearTimeout(I),g()})}addTag(l,c){(0,x.Yr)()?this.doNodeLongPoll(l,c):setTimeout(()=>{try{if(!this.sendNewPolls)return;const g=this.myIFrame.doc.createElement("script");g.type="text/javascript",g.async=!0,g.src=l,g.onload=g.onreadystatechange=function(){const I=g.readyState;(!I||"loaded"===I||"complete"===I)&&(g.onload=g.onreadystatechange=null,g.parentNode&&g.parentNode.removeChild(g),c())},g.onerror=()=>{R("Long-poll script failed to load: "+l),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(g)}catch{}},Math.floor(1))}}let oc=null;typeof MozWebSocket<"u"?oc=MozWebSocket:typeof WebSocket<"u"&&(oc=WebSocket);let Oi=(()=>{class h{constructor(c,g,I,P,B,ne,ye){this.connId=c,this.applicationId=I,this.appCheckToken=P,this.authToken=B,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=G(this.connId),this.stats_=gu(g),this.connURL=h.connectionURL_(g,ne,ye,P,I),this.nodeAdmin=g.nodeAdmin}static connectionURL_(c,g,I,P,B){const ne={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&lh.test(location.hostname)&&(ne.r="f"),g&&(ne.s=g),I&&(ne.ls=I),P&&(ne.ac=P),B&&(ne.p=B),Tn(c,pu,ne)}open(c,g){this.onDisconnect=g,this.onMessage=c,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,So.set("previous_websocket_failure",!0);try{let I;if((0,x.Yr)()){I={headers:{"User-Agent":`Firebase/5/${fa}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(I.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(I.headers["X-Firebase-AppCheck"]=this.appCheckToken);const B=process.env,ne=0===this.connURL.indexOf("wss://")?B.HTTPS_PROXY||B.https_proxy:B.HTTP_PROXY||B.http_proxy;ne&&(I.proxy={origin:ne})}this.mySock=new oc(this.connURL,[],I)}catch(I){this.log_("Error instantiating WebSocket.");const P=I.message||I.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=I=>{this.handleIncomingFrame(I)},this.mySock.onerror=I=>{this.log_("WebSocket error.  Closing connection.");const P=I.message||I.data;P&&this.log_(P),this.onClosed_()}}start(){}static forceDisallow(){h.forceDisallow_=!0}static isAvailable(){let c=!1;if(typeof navigator<"u"&&navigator.userAgent){const I=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);I&&I.length>1&&parseFloat(I[1])<4.4&&(c=!0)}return!c&&null!==oc&&!h.forceDisallow_}static previouslyFailed(){return So.isInMemoryStorage||!0===So.get("previous_websocket_failure")}markConnectionHealthy(){So.remove("previous_websocket_failure")}appendFrame_(c){if(this.frames.push(c),this.frames.length===this.totalFrames){const g=this.frames.join("");this.frames=null;const I=(0,x.cI)(g);this.onMessage(I)}}handleNewFrameCount_(c){this.totalFrames=c,this.frames=[]}extractFrameCount_(c){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),c.length<=6){const g=Number(c);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),c}handleIncomingFrame(c){if(null===this.mySock)return;const g=c.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{const I=this.extractFrameCount_(g);null!==I&&this.appendFrame_(I)}}send(c){this.resetKeepAlive();const g=(0,x.Wl)(c);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const I=Qi(g,16384);I.length>1&&this.sendString_(String(I.length));for(let P=0;P<I.length;P++)this.sendString_(I[P])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(c){try{this.mySock.send(c)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return h.responsesRequiredToBeHealthy=2,h.healthyTimeout=3e4,h})(),Ra=(()=>{class h{constructor(c){this.initTransports_(c)}static get ALL_TRANSPORTS(){return[yn,Oi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(c){const g=Oi&&Oi.isAvailable();let I=g&&!Oi.previouslyFailed();if(c.webSocketOnly&&(g||ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),I=!0),I)this.transports_=[Oi];else{const P=this.transports_=[];for(const B of h.ALL_TRANSPORTS)B&&B.isAvailable()&&P.push(B);h.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return h.globalTransportInitialized_=!1,h})();class rn{constructor(l,c,g,I,P,B,ne,ye,ke,wt){this.id=l,this.repoInfo_=c,this.applicationId_=g,this.appCheckToken_=I,this.authToken_=P,this.onMessage_=B,this.onReady_=ne,this.onDisconnect_=ye,this.onKill_=ke,this.lastSessionId=wt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=G("c:"+this.id+":"),this.transportManager_=new Ra(c),this.log_("Connection created"),this.start_()}start_(){const l=this.transportManager_.initialTransport();this.conn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.conn_),g=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(c,g)},Math.floor(0));const I=l.healthyTimeout||0;I>0&&(this.healthyTimeout_=Zo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(I)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(l){return c=>{l===this.conn_?this.onConnectionLost_(c):l===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(l){return c=>{2!==this.state_&&(l===this.rx_?this.onPrimaryMessageReceived_(c):l===this.secondaryConn_?this.onSecondaryMessageReceived_(c):this.log_("message on old connection"))}}sendRequest(l){this.sendData_({t:"d",d:l})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(l){if("t"in l){const c=l.t;"a"===c?this.upgradeIfSecondaryHealthy_():"r"===c?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===c&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(l){const c=mr("t",l),g=mr("d",l);if("c"===c)this.onSecondaryControl_(g);else{if("d"!==c)throw new Error("Unknown protocol layer: "+c);this.pendingDataMessages.push(g)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(l){const c=mr("t",l),g=mr("d",l);"c"===c?this.onControl_(g):"d"===c&&this.onDataMessage_(g)}onDataMessage_(l){this.onPrimaryResponse_(),this.onMessage_(l)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(l){const c=mr("t",l);if("d"in l){const g=l.d;if("h"===c){const I=Object.assign({},g);this.repoInfo_.isUsingEmulator&&(I.h=this.repoInfo_.host),this.onHandshake_(I)}else if("n"===c){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let I=0;I<this.pendingDataMessages.length;++I)this.onDataMessage_(this.pendingDataMessages[I]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===c?this.onConnectionShutdown_(g):"r"===c?this.onReset_(g):"e"===c?Ve("Server Error: "+g):"o"===c?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ve("Unknown control packet command: "+c)}}onHandshake_(l){const c=l.ts,g=l.v,I=l.h;this.sessionId=l.s,this.repoInfo_.host=I,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,c),"5"!==g&&ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const l=this.transportManager_.upgradeTransport();l&&this.startUpgrade_(l)}startUpgrade_(l){this.secondaryConn_=new l(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=l.responsesRequiredToBeHealthy||0;const c=this.connReceiver_(this.secondaryConn_),g=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(c,g),Zo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(l){this.log_("Reset packet received.  New host: "+l),this.repoInfo_.host=l,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(l,c){this.log_("Realtime connection established."),this.conn_=l,this.state_=1,this.onReady_&&(this.onReady_(c,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const l=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===l||this.rx_===l)&&this.close()}onConnectionLost_(l){this.conn_=null,l||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(So.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(l){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(l),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(l){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(l)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bt{put(l,c,g,I){}merge(l,c,g,I){}refreshAuthToken(l){}refreshAppCheckToken(l){}onDisconnectPut(l,c,g){}onDisconnectMerge(l,c,g){}onDisconnectCancel(l,c){}reportStats(l){}}class Dn{constructor(l){this.allowedEvents_=l,this.listeners_={},(0,x.hu)(Array.isArray(l)&&l.length>0,"Requires a non-empty array")}trigger(l,...c){if(Array.isArray(this.listeners_[l])){const g=[...this.listeners_[l]];for(let I=0;I<g.length;I++)g[I].callback.apply(g[I].context,c)}}on(l,c,g){this.validateEventType_(l),this.listeners_[l]=this.listeners_[l]||[],this.listeners_[l].push({callback:c,context:g});const I=this.getInitialEvent(l);I&&c.apply(g,I)}off(l,c,g){this.validateEventType_(l);const I=this.listeners_[l]||[];for(let P=0;P<I.length;P++)if(I[P].callback===c&&(!g||g===I[P].context))return void I.splice(P,1)}validateEventType_(l){(0,x.hu)(this.allowedEvents_.find(c=>c===l),"Unknown event: "+l)}}class yr extends Dn{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yr}getInitialEvent(l){return(0,x.hu)("online"===l,"Unknown event type: "+l),[this.online_]}currentlyOnline(){return this.online_}}class sr{constructor(l,c){if(void 0===c){this.pieces_=l.split("/");let g=0;for(let I=0;I<this.pieces_.length;I++)this.pieces_[I].length>0&&(this.pieces_[g]=this.pieces_[I],g++);this.pieces_.length=g,this.pieceNum_=0}else this.pieces_=l,this.pieceNum_=c}toString(){let l="";for(let c=this.pieceNum_;c<this.pieces_.length;c++)""!==this.pieces_[c]&&(l+="/"+this.pieces_[c]);return l||"/"}}function cr(){return new sr("")}function Wn(h){return h.pieceNum_>=h.pieces_.length?null:h.pieces_[h.pieceNum_]}function Xs(h){return h.pieces_.length-h.pieceNum_}function mi(h){let l=h.pieceNum_;return l<h.pieces_.length&&l++,new sr(h.pieces_,l)}function Xi(h){return h.pieceNum_<h.pieces_.length?h.pieces_[h.pieces_.length-1]:null}function xo(h,l=0){return h.pieces_.slice(h.pieceNum_+l)}function Pa(h){if(h.pieceNum_>=h.pieces_.length)return null;const l=[];for(let c=h.pieceNum_;c<h.pieces_.length-1;c++)l.push(h.pieces_[c]);return new sr(l,0)}function Fi(h,l){const c=[];for(let g=h.pieceNum_;g<h.pieces_.length;g++)c.push(h.pieces_[g]);if(l instanceof sr)for(let g=l.pieceNum_;g<l.pieces_.length;g++)c.push(l.pieces_[g]);else{const g=l.split("/");for(let I=0;I<g.length;I++)g[I].length>0&&c.push(g[I])}return new sr(c,0)}function Rr(h){return h.pieceNum_>=h.pieces_.length}function Js(h,l){const c=Wn(h),g=Wn(l);if(null===c)return l;if(c===g)return Js(mi(h),mi(l));throw new Error("INTERNAL ERROR: innerPath ("+l+") is not within outerPath ("+h+")")}function Nc(h,l){const c=xo(h,0),g=xo(l,0);for(let I=0;I<c.length&&I<g.length;I++){const P=Tr(c[I],g[I]);if(0!==P)return P}return c.length===g.length?0:c.length<g.length?-1:1}function ac(h,l){if(Xs(h)!==Xs(l))return!1;for(let c=h.pieceNum_,g=l.pieceNum_;c<=h.pieces_.length;c++,g++)if(h.pieces_[c]!==l.pieces_[g])return!1;return!0}function Oo(h,l){let c=h.pieceNum_,g=l.pieceNum_;if(Xs(h)>Xs(l))return!1;for(;c<h.pieces_.length;){if(h.pieces_[c]!==l.pieces_[g])return!1;++c,++g}return!0}class hd{constructor(l,c){this.errorPrefix_=c,this.parts_=xo(l,0),this.byteLength_=Math.max(1,this.parts_.length);for(let g=0;g<this.parts_.length;g++)this.byteLength_+=(0,x.ug)(this.parts_[g]);dh(this)}}function dh(h){if(h.byteLength_>768)throw new Error(h.errorPrefix_+"has a key path longer than 768 bytes ("+h.byteLength_+").");if(h.parts_.length>32)throw new Error(h.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ma(h))}function Ma(h){return 0===h.parts_.length?"":"in property '"+h.parts_.join(".")+"'"}class kc extends Dn{constructor(){let l,c;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(c="visibilitychange",l="hidden"):typeof document.mozHidden<"u"?(c="mozvisibilitychange",l="mozHidden"):typeof document.msHidden<"u"?(c="msvisibilitychange",l="msHidden"):typeof document.webkitHidden<"u"&&(c="webkitvisibilitychange",l="webkitHidden")),this.visible_=!0,c&&document.addEventListener(c,()=>{const g=!document[l];g!==this.visible_&&(this.visible_=g,this.trigger("visible",g))},!1)}static getInstance(){return new kc}getInitialEvent(l){return(0,x.hu)("visible"===l,"Unknown event type: "+l),[this.visible_]}}const fd=1e3;let gl,Ya=(()=>{class h extends bt{constructor(c,g,I,P,B,ne,ye,ke){if(super(),this.repoInfo_=c,this.applicationId_=g,this.onDataUpdate_=I,this.onConnectStatus_=P,this.onServerInfoUpdate_=B,this.authTokenProvider_=ne,this.appCheckTokenProvider_=ye,this.authOverride_=ke,this.id=h.nextPersistentConnectionId_++,this.log_=G("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ke&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kc.getInstance().on("visible",this.onVisible_,this),-1===c.host.indexOf("fblocal")&&yr.getInstance().on("online",this.onOnline_,this)}sendRequest(c,g,I){const P=++this.requestNumber_,B={r:P,a:c,b:g};this.log_((0,x.Wl)(B)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(B),I&&(this.requestCBHash_[P]=I)}get(c){this.initConnection_();const g=new x.BH,P={action:"g",request:{p:c._path.toString(),q:c._queryObject},onComplete:ne=>{const ye=ne.d;"ok"===ne.s?g.resolve(ye):g.reject(ye)}};return this.outstandingGets_.push(P),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),g.promise}listen(c,g,I,P){this.initConnection_();const B=c._queryIdentifier,ne=c._path.toString();this.log_("Listen called for "+ne+" "+B),this.listens.has(ne)||this.listens.set(ne,new Map),(0,x.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(ne).has(B),"listen() called twice for same path/queryId.");const ye={onComplete:P,hashFn:g,query:c,tag:I};this.listens.get(ne).set(B,ye),this.connected_&&this.sendListen_(ye)}sendGet_(c){const g=this.outstandingGets_[c];this.sendRequest("g",g.request,I=>{delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),g.onComplete&&g.onComplete(I)})}sendListen_(c){const g=c.query,I=g._path.toString(),P=g._queryIdentifier;this.log_("Listen on "+I+" for "+P);const B={p:I};c.tag&&(B.q=g._queryObject,B.t=c.tag),B.h=c.hashFn(),this.sendRequest("q",B,ye=>{const ke=ye.d,wt=ye.s;h.warnOnListenWarnings_(ke,g),(this.listens.get(I)&&this.listens.get(I).get(P))===c&&(this.log_("listen response",ye),"ok"!==wt&&this.removeListen_(I,P),c.onComplete&&c.onComplete(wt,ke))})}static warnOnListenWarnings_(c,g){if(c&&"object"==typeof c&&(0,x.r3)(c,"w")){const I=(0,x.DV)(c,"w");if(Array.isArray(I)&&~I.indexOf("no_index")){const P='".indexOn": "'+g._queryParams.getIndex().toString()+'"',B=g._path.toString();ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${P} at ${B} to your security rules for better performance.`)}}}refreshAuthToken(c){this.authToken_=c,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(c)}reduceReconnectDelayIfAdminCredential_(c){(c&&40===c.length||(0,x.GJ)(c))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(c){this.appCheckToken_=c,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const c=this.authToken_,g=(0,x.w9)(c)?"auth":"gauth",I={cred:c};null===this.authOverride_?I.noauth=!0:"object"==typeof this.authOverride_&&(I.authvar=this.authOverride_),this.sendRequest(g,I,P=>{const B=P.s,ne=P.d||"error";this.authToken_===c&&("ok"===B?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(B,ne))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},c=>{const g=c.s,I=c.d||"error";"ok"===g?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(g,I)})}unlisten(c,g){const I=c._path.toString(),P=c._queryIdentifier;this.log_("Unlisten called for "+I+" "+P),(0,x.hu)(c._queryParams.isDefault()||!c._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(I,P)&&this.connected_&&this.sendUnlisten_(I,P,c._queryObject,g)}sendUnlisten_(c,g,I,P){this.log_("Unlisten on "+c+" for "+g);const B={p:c};P&&(B.q=I,B.t=P),this.sendRequest("n",B)}onDisconnectPut(c,g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",c,g,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"o",data:g,onComplete:I})}onDisconnectMerge(c,g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",c,g,I):this.onDisconnectRequestQueue_.push({pathString:c,action:"om",data:g,onComplete:I})}onDisconnectCancel(c,g){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",c,null,g):this.onDisconnectRequestQueue_.push({pathString:c,action:"oc",data:null,onComplete:g})}sendOnDisconnect_(c,g,I,P){const B={p:g,d:I};this.log_("onDisconnect "+c,B),this.sendRequest(c,B,ne=>{P&&setTimeout(()=>{P(ne.s,ne.d)},Math.floor(0))})}put(c,g,I,P){this.putInternal("p",c,g,I,P)}merge(c,g,I,P){this.putInternal("m",c,g,I,P)}putInternal(c,g,I,P,B){this.initConnection_();const ne={p:g,d:I};void 0!==B&&(ne.h=B),this.outstandingPuts_.push({action:c,request:ne,onComplete:P}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+g)}sendPut_(c){const g=this.outstandingPuts_[c].action,I=this.outstandingPuts_[c].request,P=this.outstandingPuts_[c].onComplete;this.outstandingPuts_[c].queued=this.connected_,this.sendRequest(g,I,B=>{this.log_(g+" response",B),delete this.outstandingPuts_[c],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),P&&P(B.s,B.d)})}reportStats(c){if(this.connected_){const g={c};this.log_("reportStats",g),this.sendRequest("s",g,I=>{"ok"!==I.s&&this.log_("reportStats","Error sending stats: "+I.d)})}}onDataMessage_(c){if("r"in c){this.log_("from server: "+(0,x.Wl)(c));const g=c.r,I=this.requestCBHash_[g];I&&(delete this.requestCBHash_[g],I(c.b))}else{if("error"in c)throw"A server-side error has occurred: "+c.error;"a"in c&&this.onDataPush_(c.a,c.b)}}onDataPush_(c,g){this.log_("handleServerMessage",c,g),"d"===c?this.onDataUpdate_(g.p,g.d,!1,g.t):"m"===c?this.onDataUpdate_(g.p,g.d,!0,g.t):"c"===c?this.onListenRevoked_(g.p,g.q):"ac"===c?this.onAuthRevoked_(g.s,g.d):"apc"===c?this.onAppCheckRevoked_(g.s,g.d):"sd"===c?this.onSecurityDebugPacket_(g):Ve("Unrecognized action received from server: "+(0,x.Wl)(c)+"\nAre you using the latest client?")}onReady_(c,g){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(c),this.lastSessionId=g,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(c){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(c))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(c){c&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fd,this.realtime_||this.scheduleConnect_(0)),this.visible_=c}onOnline_(c){c?(this.log_("Browser went online."),this.reconnectDelay_=fd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=fd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const c=(new Date).getTime()-this.lastConnectionAttemptTime_;let g=Math.max(0,this.reconnectDelay_-c);g=Math.random()*g,this.log_("Trying to reconnect in "+g+"ms"),this.scheduleConnect_(g),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var c=this;return(0,Qe.Z)(function*(){if(c.shouldReconnect_()){c.log_("Making a connection attempt"),c.lastConnectionAttemptTime_=(new Date).getTime(),c.lastConnectionEstablishedTime_=null;const g=c.onDataMessage_.bind(c),I=c.onReady_.bind(c),P=c.onRealtimeDisconnect_.bind(c),B=c.id+":"+h.nextConnectionId_++,ne=c.lastSessionId;let ye=!1,ke=null;const wt=function(){ke?ke.close():(ye=!0,P())};c.realtime_={close:wt,sendRequest:function(En){(0,x.hu)(ke,"sendRequest call when we're not connected not allowed."),ke.sendRequest(En)}};const zt=c.forceTokenRefresh_;c.forceTokenRefresh_=!1;try{const[En,Ln]=yield Promise.all([c.authTokenProvider_.getToken(zt),c.appCheckTokenProvider_.getToken(zt)]);ye?R("getToken() completed but was canceled"):(R("getToken() completed. Creating connection."),c.authToken_=En&&En.accessToken,c.appCheckToken_=Ln&&Ln.token,ke=new rn(B,c.repoInfo_,c.applicationId_,c.appCheckToken_,c.authToken_,g,I,P,Mr=>{ve(Mr+" ("+c.repoInfo_.toString()+")"),c.interrupt("server_kill")},ne))}catch(En){c.log_("Failed to get token: "+En),ye||(c.repoInfo_.nodeAdmin&&ve(En),wt())}}})()}interrupt(c){R("Interrupting connection for reason: "+c),this.interruptReasons_[c]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(c){R("Resuming connection for reason: "+c),delete this.interruptReasons_[c],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=fd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(c){const g=c-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:g})}cancelSentTransactions_(){for(let c=0;c<this.outstandingPuts_.length;c++){const g=this.outstandingPuts_[c];g&&"h"in g.request&&g.queued&&(g.onComplete&&g.onComplete("disconnect"),delete this.outstandingPuts_[c],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(c,g){let I;I=g?g.map(B=>Pr(B)).join("$"):"default";const P=this.removeListen_(c,I);P&&P.onComplete&&P.onComplete("permission_denied")}removeListen_(c,g){const I=new sr(c).toString();let P;if(this.listens.has(I)){const B=this.listens.get(I);P=B.get(g),B.delete(g),0===B.size&&this.listens.delete(I)}else P=void 0;return P}onAuthRevoked_(c,g){R("Auth token revoked: "+c+"/"+g),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===c||"permission_denied"===c)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(c,g){R("App check token revoked: "+c+"/"+g),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===c||"permission_denied"===c)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(c){this.securityDebugCallback_?this.securityDebugCallback_(c):"msg"in c&&console.log("FIREBASE: "+c.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const c of this.listens.values())for(const g of c.values())this.sendListen_(g);for(let c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){const c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(let c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)}sendConnectStats_(){const c={};let g="js";(0,x.Yr)()&&(g=this.repoInfo_.nodeAdmin?"admin_node":"node"),c["sdk."+g+"."+fa.replace(/\./g,"-")]=1,(0,x.uI)()?c["framework.cordova"]=1:(0,x.b$)()&&(c["framework.reactnative"]=1),this.reportStats(c)}shouldReconnect_(){const c=yr.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&c}}return h.nextPersistentConnectionId_=0,h.nextConnectionId_=0,h})();class Br{constructor(l,c){this.name=l,this.node=c}static Wrap(l,c){return new Br(l,c)}}class Lc{getCompare(){return this.compare.bind(this)}indexedValueChanged(l,c){const g=new Br(fr,l),I=new Br(fr,c);return 0!==this.compare(g,I)}minPost(){return Br.MIN}}class yu extends Lc{static get __EMPTY_NODE(){return gl}static set __EMPTY_NODE(l){gl=l}compare(l,c){return Tr(l.name,c.name)}isDefinedOn(l){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(l,c){return!1}minPost(){return Br.MIN}maxPost(){return new Br(wr,gl)}makePost(l,c){return(0,x.hu)("string"==typeof l,"KeyIndex indexValue must always be a string."),new Br(l,gl)}toString(){return".key"}}const _i=new yu;class hh{constructor(l,c,g,I,P=null){this.isReverse_=I,this.resultGenerator_=P,this.nodeStack_=[];let B=1;for(;!l.isEmpty();)if(B=c?g(l.key,c):1,I&&(B*=-1),B<0)l=this.isReverse_?l.left:l.right;else{if(0===B){this.nodeStack_.push(l);break}this.nodeStack_.push(l),l=this.isReverse_?l.right:l.left}}getNext(){if(0===this.nodeStack_.length)return null;let c,l=this.nodeStack_.pop();if(c=this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value},this.isReverse_)for(l=l.left;!l.isEmpty();)this.nodeStack_.push(l),l=l.right;else for(l=l.right;!l.isEmpty();)this.nodeStack_.push(l),l=l.left;return c}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const l=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(l.key,l.value):{key:l.key,value:l.value}}}let ui,ks=(()=>{class h{constructor(c,g,I,P,B){this.key=c,this.value=g,this.color=null!=I?I:h.RED,this.left=null!=P?P:Gr.EMPTY_NODE,this.right=null!=B?B:Gr.EMPTY_NODE}copy(c,g,I,P,B){return new h(null!=c?c:this.key,null!=g?g:this.value,null!=I?I:this.color,null!=P?P:this.left,null!=B?B:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(c){return this.left.inorderTraversal(c)||!!c(this.key,this.value)||this.right.inorderTraversal(c)}reverseTraversal(c){return this.right.reverseTraversal(c)||c(this.key,this.value)||this.left.reverseTraversal(c)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(c,g,I){let P=this;const B=I(c,P.key);return P=B<0?P.copy(null,null,null,P.left.insert(c,g,I),null):0===B?P.copy(null,g,null,null,null):P.copy(null,null,null,null,P.right.insert(c,g,I)),P.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gr.EMPTY_NODE;let c=this;return!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.removeMin_(),null),c.fixUp_()}remove(c,g){let I,P;if(I=this,g(c,I.key)<0)!I.left.isEmpty()&&!I.left.isRed_()&&!I.left.left.isRed_()&&(I=I.moveRedLeft_()),I=I.copy(null,null,null,I.left.remove(c,g),null);else{if(I.left.isRed_()&&(I=I.rotateRight_()),!I.right.isEmpty()&&!I.right.isRed_()&&!I.right.left.isRed_()&&(I=I.moveRedRight_()),0===g(c,I.key)){if(I.right.isEmpty())return Gr.EMPTY_NODE;P=I.right.min_(),I=I.copy(P.key,P.value,null,null,I.right.removeMin_())}I=I.copy(null,null,null,null,I.right.remove(c,g))}return I.fixUp_()}isRed_(){return this.color}fixUp_(){let c=this;return c.right.isRed_()&&!c.left.isRed_()&&(c=c.rotateLeft_()),c.left.isRed_()&&c.left.left.isRed_()&&(c=c.rotateRight_()),c.left.isRed_()&&c.right.isRed_()&&(c=c.colorFlip_()),c}moveRedLeft_(){let c=this.colorFlip_();return c.right.left.isRed_()&&(c=c.copy(null,null,null,null,c.right.rotateRight_()),c=c.rotateLeft_(),c=c.colorFlip_()),c}moveRedRight_(){let c=this.colorFlip_();return c.left.left.isRed_()&&(c=c.rotateRight_(),c=c.colorFlip_()),c}rotateLeft_(){const c=this.copy(null,null,h.RED,null,this.right.left);return this.right.copy(null,null,this.color,c,null)}rotateRight_(){const c=this.copy(null,null,h.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,c)}colorFlip_(){const c=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,c,g)}checkMaxDepth_(){const c=this.check_();return Math.pow(2,c)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const c=this.left.check_();if(c!==this.right.check_())throw new Error("Black depths differ");return c+(this.isRed_()?0:1)}}return h.RED=!0,h.BLACK=!1,h})();class Gr{constructor(l,c=Gr.EMPTY_NODE){this.comparator_=l,this.root_=c}insert(l,c){return new Gr(this.comparator_,this.root_.insert(l,c,this.comparator_).copy(null,null,ks.BLACK,null,null))}remove(l){return new Gr(this.comparator_,this.root_.remove(l,this.comparator_).copy(null,null,ks.BLACK,null,null))}get(l){let c,g=this.root_;for(;!g.isEmpty();){if(c=this.comparator_(l,g.key),0===c)return g.value;c<0?g=g.left:c>0&&(g=g.right)}return null}getPredecessorKey(l){let c,g=this.root_,I=null;for(;!g.isEmpty();){if(c=this.comparator_(l,g.key),0===c){if(g.left.isEmpty())return I?I.key:null;for(g=g.left;!g.right.isEmpty();)g=g.right;return g.key}c<0?g=g.left:c>0&&(I=g,g=g.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(l){return this.root_.inorderTraversal(l)}reverseTraversal(l){return this.root_.reverseTraversal(l)}getIterator(l){return new hh(this.root_,null,this.comparator_,!1,l)}getIteratorFrom(l,c){return new hh(this.root_,l,this.comparator_,!1,c)}getReverseIteratorFrom(l,c){return new hh(this.root_,l,this.comparator_,!0,c)}getReverseIterator(l){return new hh(this.root_,null,this.comparator_,!0,l)}}function No(h,l){return Tr(h.name,l.name)}function Ls(h,l){return Tr(h,l)}Gr.EMPTY_NODE=new class gd{copy(l,c,g,I,P){return this}insert(l,c,g){return new ks(l,c,null)}remove(l,c){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Pl=function(h){return"number"==typeof h?"number:"+Rs(h):"string:"+h},eo=function(h){if(h.isLeafNode()){const l=h.val();(0,x.hu)("string"==typeof l||"number"==typeof l||"object"==typeof l&&(0,x.r3)(l,".sv"),"Priority must be a string or number.")}else(0,x.hu)(h===ui||h.isEmpty(),"priority of unexpected type.");(0,x.hu)(h===ui||h.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let _d,Cs,Xh,cc=(()=>{class h{constructor(c,g=h.__childrenNodeConstructor.EMPTY_NODE){this.value_=c,this.priorityNode_=g,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),eo(this.priorityNode_)}static set __childrenNodeConstructor(c){_d=c}static get __childrenNodeConstructor(){return _d}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(c){return new h(this.value_,c)}getImmediateChild(c){return".priority"===c?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}getChild(c){return Rr(c)?this:".priority"===Wn(c)?this.priorityNode_:h.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(c,g){return null}updateImmediateChild(c,g){return".priority"===c?this.updatePriority(g):g.isEmpty()&&".priority"!==c?this:h.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(c,g).updatePriority(this.priorityNode_)}updateChild(c,g){const I=Wn(c);return null===I?g:g.isEmpty()&&".priority"!==I?this:((0,x.hu)(".priority"!==I||1===Xs(c),".priority must be the last token in a path"),this.updateImmediateChild(I,h.__childrenNodeConstructor.EMPTY_NODE.updateChild(mi(c),g)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(c,g){return!1}val(c){return c&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let c="";this.priorityNode_.isEmpty()||(c+="priority:"+Pl(this.priorityNode_.val())+":");const g=typeof this.value_;c+=g+":",c+="number"===g?Rs(this.value_):this.value_,this.lazyHash_=ld(c)}return this.lazyHash_}getValue(){return this.value_}compareTo(c){return c===h.__childrenNodeConstructor.EMPTY_NODE?1:c instanceof h.__childrenNodeConstructor?-1:((0,x.hu)(c.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(c))}compareToLeafNode_(c){const g=typeof c.value_,I=typeof this.value_,P=h.VALUE_TYPE_ORDER.indexOf(g),B=h.VALUE_TYPE_ORDER.indexOf(I);return(0,x.hu)(P>=0,"Unknown leaf type: "+g),(0,x.hu)(B>=0,"Unknown leaf type: "+I),P===B?"object"===I?0:this.value_<c.value_?-1:this.value_===c.value_?0:1:B-P}withIndex(){return this}isIndexed(){return!0}equals(c){return c===this||!!c.isLeafNode()&&(this.value_===c.value_&&this.priorityNode_.equals(c.priorityNode_))}}return h.VALUE_TYPE_ORDER=["object","boolean","number","string"],h})();const vi=new class Ml extends Lc{compare(l,c){const g=l.node.getPriority(),I=c.node.getPriority(),P=g.compareTo(I);return 0===P?Tr(l.name,c.name):P}isDefinedOn(l){return!l.getPriority().isEmpty()}indexedValueChanged(l,c){return!l.getPriority().equals(c.getPriority())}minPost(){return Br.MIN}maxPost(){return new Br(wr,new cc("[PRIORITY-POST]",Xh))}makePost(l,c){const g=Cs(l);return new Br(c,new cc("[PRIORITY-POST]",g))}toString(){return".priority"}},ml=Math.log(2);class Fc{constructor(l){this.count=parseInt(Math.log(l+1)/ml,10),this.current_=this.count-1;const I=(P=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=l+1&I}nextBitIsOne(){const l=!(this.bits_&1<<this.current_);return this.current_--,l}}const uc=function(h,l,c,g){h.sort(l);const I=function(ye,ke){const wt=ke-ye;let kt,zt;if(0===wt)return null;if(1===wt)return kt=h[ye],zt=c?c(kt):kt,new ks(zt,kt.node,ks.BLACK,null,null);{const En=parseInt(wt/2,10)+ye,Ln=I(ye,En),Mr=I(En+1,ke);return kt=h[En],zt=c?c(kt):kt,new ks(zt,kt.node,ks.BLACK,Ln,Mr)}},ne=function(ye){let ke=null,wt=null,kt=h.length;const zt=function(Ln,Mr){const Wr=kt-Ln,Hs=kt;kt-=Ln;const mo=I(Wr+1,Hs),ls=h[Wr],cs=c?c(ls):ls;En(new ks(cs,ls.node,Mr,null,mo))},En=function(Ln){ke?(ke.left=Ln,ke=Ln):(wt=Ln,ke=Ln)};for(let Ln=0;Ln<ye.count;++Ln){const Mr=ye.nextBitIsOne(),Wr=Math.pow(2,ye.count-(Ln+1));Mr?zt(Wr,ks.BLACK):(zt(Wr,ks.BLACK),zt(Wr,ks.RED))}return wt}(new Fc(h.length));return new Gr(g||l,ne)};let ma;const Fs={};class Vs{constructor(l,c){this.indexes_=l,this.indexSet_=c}static get Default(){return(0,x.hu)(Fs&&vi,"ChildrenNode.ts has not been loaded"),ma=ma||new Vs({".priority":Fs},{".priority":vi}),ma}get(l){const c=(0,x.DV)(this.indexes_,l);if(!c)throw new Error("No index defined for "+l);return c instanceof Gr?c:null}hasIndex(l){return(0,x.r3)(this.indexSet_,l.toString())}addIndex(l,c){(0,x.hu)(l!==_i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const g=[];let I=!1;const P=c.getIterator(Br.Wrap);let ne,B=P.getNext();for(;B;)I=I||l.isDefinedOn(B.node),g.push(B),B=P.getNext();ne=I?uc(g,l.getCompare()):Fs;const ye=l.toString(),ke=Object.assign({},this.indexSet_);ke[ye]=l;const wt=Object.assign({},this.indexes_);return wt[ye]=ne,new Vs(wt,ke)}addToIndexes(l,c){const g=(0,x.UI)(this.indexes_,(I,P)=>{const B=(0,x.DV)(this.indexSet_,P);if((0,x.hu)(B,"Missing index implementation for "+P),I===Fs){if(B.isDefinedOn(l.node)){const ne=[],ye=c.getIterator(Br.Wrap);let ke=ye.getNext();for(;ke;)ke.name!==l.name&&ne.push(ke),ke=ye.getNext();return ne.push(l),uc(ne,B.getCompare())}return Fs}{const ne=c.get(l.name);let ye=I;return ne&&(ye=ye.remove(new Br(l.name,ne))),ye.insert(l,l.node)}});return new Vs(g,this.indexSet_)}removeFromIndexes(l,c){const g=(0,x.UI)(this.indexes_,I=>{if(I===Fs)return I;{const P=c.get(l.name);return P?I.remove(new Br(l.name,P)):I}});return new Vs(g,this.indexSet_)}}let Vi,Er=(()=>{class h{constructor(c,g,I){this.children_=c,this.priorityNode_=g,this.indexMap_=I,this.lazyHash_=null,this.priorityNode_&&eo(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vi||(Vi=new h(new Gr(Ls),null,Vs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vi}updatePriority(c){return this.children_.isEmpty()?this:new h(this.children_,c,this.indexMap_)}getImmediateChild(c){if(".priority"===c)return this.getPriority();{const g=this.children_.get(c);return null===g?Vi:g}}getChild(c){const g=Wn(c);return null===g?this:this.getImmediateChild(g).getChild(mi(c))}hasChild(c){return null!==this.children_.get(c)}updateImmediateChild(c,g){if((0,x.hu)(g,"We should always be passing snapshot nodes"),".priority"===c)return this.updatePriority(g);{const I=new Br(c,g);let P,B;g.isEmpty()?(P=this.children_.remove(c),B=this.indexMap_.removeFromIndexes(I,this.children_)):(P=this.children_.insert(c,g),B=this.indexMap_.addToIndexes(I,this.children_));const ne=P.isEmpty()?Vi:this.priorityNode_;return new h(P,ne,B)}}updateChild(c,g){const I=Wn(c);if(null===I)return g;{(0,x.hu)(".priority"!==Wn(c)||1===Xs(c),".priority must be the last token in a path");const P=this.getImmediateChild(I).updateChild(mi(c),g);return this.updateImmediateChild(I,P)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(c){if(this.isEmpty())return null;const g={};let I=0,P=0,B=!0;if(this.forEachChild(vi,(ne,ye)=>{g[ne]=ye.val(c),I++,B&&h.INTEGER_REGEXP_.test(ne)?P=Math.max(P,Number(ne)):B=!1}),!c&&B&&P<2*I){const ne=[];for(const ye in g)ne[ye]=g[ye];return ne}return c&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g}hash(){if(null===this.lazyHash_){let c="";this.getPriority().isEmpty()||(c+="priority:"+Pl(this.getPriority().val())+":"),this.forEachChild(vi,(g,I)=>{const P=I.hash();""!==P&&(c+=":"+g+":"+P)}),this.lazyHash_=""===c?"":ld(c)}return this.lazyHash_}getPredecessorChildName(c,g,I){const P=this.resolveIndex_(I);if(P){const B=P.getPredecessorKey(new Br(c,g));return B?B.name:null}return this.children_.getPredecessorKey(c)}getFirstChildName(c){const g=this.resolveIndex_(c);if(g){const I=g.minKey();return I&&I.name}return this.children_.minKey()}getFirstChild(c){const g=this.getFirstChildName(c);return g?new Br(g,this.children_.get(g)):null}getLastChildName(c){const g=this.resolveIndex_(c);if(g){const I=g.maxKey();return I&&I.name}return this.children_.maxKey()}getLastChild(c){const g=this.getLastChildName(c);return g?new Br(g,this.children_.get(g)):null}forEachChild(c,g){const I=this.resolveIndex_(c);return I?I.inorderTraversal(P=>g(P.name,P.node)):this.children_.inorderTraversal(g)}getIterator(c){return this.getIteratorFrom(c.minPost(),c)}getIteratorFrom(c,g){const I=this.resolveIndex_(g);if(I)return I.getIteratorFrom(c,P=>P);{const P=this.children_.getIteratorFrom(c.name,Br.Wrap);let B=P.peek();for(;null!=B&&g.compare(B,c)<0;)P.getNext(),B=P.peek();return P}}getReverseIterator(c){return this.getReverseIteratorFrom(c.maxPost(),c)}getReverseIteratorFrom(c,g){const I=this.resolveIndex_(g);if(I)return I.getReverseIteratorFrom(c,P=>P);{const P=this.children_.getReverseIteratorFrom(c.name,Br.Wrap);let B=P.peek();for(;null!=B&&g.compare(B,c)>0;)P.getNext(),B=P.peek();return P}}compareTo(c){return this.isEmpty()?c.isEmpty()?0:-1:c.isLeafNode()||c.isEmpty()?1:c===ko?-1:0}withIndex(c){if(c===_i||this.indexMap_.hasIndex(c))return this;{const g=this.indexMap_.addIndex(c,this.children_);return new h(this.children_,this.priorityNode_,g)}}isIndexed(c){return c===_i||this.indexMap_.hasIndex(c)}equals(c){if(c===this)return!0;if(c.isLeafNode())return!1;{const g=c;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){const I=this.getIterator(vi),P=g.getIterator(vi);let B=I.getNext(),ne=P.getNext();for(;B&&ne;){if(B.name!==ne.name||!B.node.equals(ne.node))return!1;B=I.getNext(),ne=P.getNext()}return null===B&&null===ne}return!1}return!1}}resolveIndex_(c){return c===_i?null:this.indexMap_.get(c.toString())}}return h.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,h})();const ko=new class Vc extends Er{constructor(){super(new Gr(Ls),Er.EMPTY_NODE,Vs.Default)}compareTo(l){return l===this?0:1}equals(l){return l===this}getPriority(){return this}getImmediateChild(l){return Er.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Br,{MIN:{value:new Br(fr,Er.EMPTY_NODE)},MAX:{value:new Br(wr,ko)}}),yu.__EMPTY_NODE=Er.EMPTY_NODE,cc.__childrenNodeConstructor=Er,function md(h){ui=h}(ko),function fs(h){Xh=h}(ko);const Wf=!0;function Bi(h,l=null){if(null===h)return Er.EMPTY_NODE;if("object"==typeof h&&".priority"in h&&(l=h[".priority"]),(0,x.hu)(null===l||"string"==typeof l||"number"==typeof l||"object"==typeof l&&".sv"in l,"Invalid priority type found: "+typeof l),"object"==typeof h&&".value"in h&&null!==h[".value"]&&(h=h[".value"]),"object"!=typeof h||".sv"in h)return new cc(h,Bi(l));if(h instanceof Array||!Wf){let c=Er.EMPTY_NODE;return si(h,(g,I)=>{if((0,x.r3)(h,g)&&"."!==g.substring(0,1)){const P=Bi(I);(P.isLeafNode()||!P.isEmpty())&&(c=c.updateImmediateChild(g,P))}}),c.updatePriority(Bi(l))}{const c=[];let g=!1;if(si(h,(B,ne)=>{if("."!==B.substring(0,1)){const ye=Bi(ne);ye.isEmpty()||(g=g||!ye.getPriority().isEmpty(),c.push(new Br(B,ye)))}}),0===c.length)return Er.EMPTY_NODE;const P=uc(c,No,B=>B.name,Ls);if(g){const B=uc(c,vi.getCompare());return new Er(P,Bi(l),new Vs({".priority":B},{".priority":vi}))}return new Er(P,Bi(l),Vs.Default)}}!function qa(h){Cs=h}(Bi);class xl extends Lc{constructor(l){super(),this.indexPath_=l,(0,x.hu)(!Rr(l)&&".priority"!==Wn(l),"Can't create PathIndex with empty path or .priority key")}extractChild(l){return l.getChild(this.indexPath_)}isDefinedOn(l){return!l.getChild(this.indexPath_).isEmpty()}compare(l,c){const g=this.extractChild(l.node),I=this.extractChild(c.node),P=g.compareTo(I);return 0===P?Tr(l.name,c.name):P}makePost(l,c){const g=Bi(l),I=Er.EMPTY_NODE.updateChild(this.indexPath_,g);return new Br(c,I)}maxPost(){const l=Er.EMPTY_NODE.updateChild(this.indexPath_,ko);return new Br(wr,l)}toString(){return xo(this.indexPath_,0).join("/")}}const Xo=new class Ol extends Lc{compare(l,c){const g=l.node.compareTo(c.node);return 0===g?Tr(l.name,c.name):g}isDefinedOn(l){return!0}indexedValueChanged(l,c){return!l.equals(c)}minPost(){return Br.MIN}maxPost(){return Br.MAX}makePost(l,c){const g=Bi(l);return new Br(c,g)}toString(){return".value"}};function Nl(h){return{type:"value",snapshotNode:h}}function _a(h,l){return{type:"child_added",snapshotNode:l,childName:h}}function dc(h,l){return{type:"child_removed",snapshotNode:l,childName:h}}function Ka(h,l,c){return{type:"child_changed",snapshotNode:l,childName:h,oldSnap:c}}class Bc{constructor(l){this.index_=l}updateChild(l,c,g,I,P,B){(0,x.hu)(l.isIndexed(this.index_),"A node must be indexed if only a child is updated");const ne=l.getImmediateChild(c);return ne.getChild(I).equals(g.getChild(I))&&ne.isEmpty()===g.isEmpty()||(null!=B&&(g.isEmpty()?l.hasChild(c)?B.trackChildChange(dc(c,ne)):(0,x.hu)(l.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):ne.isEmpty()?B.trackChildChange(_a(c,g)):B.trackChildChange(Ka(c,g,ne))),l.isLeafNode()&&g.isEmpty())?l:l.updateImmediateChild(c,g).withIndex(this.index_)}updateFullNode(l,c,g){return null!=g&&(l.isLeafNode()||l.forEachChild(vi,(I,P)=>{c.hasChild(I)||g.trackChildChange(dc(I,P))}),c.isLeafNode()||c.forEachChild(vi,(I,P)=>{if(l.hasChild(I)){const B=l.getImmediateChild(I);B.equals(P)||g.trackChildChange(Ka(I,P,B))}else g.trackChildChange(_a(I,P))})),c.withIndex(this.index_)}updatePriority(l,c){return l.isEmpty()?Er.EMPTY_NODE:l.updatePriority(c)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hc{constructor(l){this.indexedFilter_=new Bc(l.getIndex()),this.index_=l.getIndex(),this.startPost_=hc.getStartPost_(l),this.endPost_=hc.getEndPost_(l),this.startIsInclusive_=!l.startAfterSet_,this.endIsInclusive_=!l.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(l){const c=this.startIsInclusive_?this.index_.compare(this.getStartPost(),l)<=0:this.index_.compare(this.getStartPost(),l)<0,g=this.endIsInclusive_?this.index_.compare(l,this.getEndPost())<=0:this.index_.compare(l,this.getEndPost())<0;return c&&g}updateChild(l,c,g,I,P,B){return this.matches(new Br(c,g))||(g=Er.EMPTY_NODE),this.indexedFilter_.updateChild(l,c,g,I,P,B)}updateFullNode(l,c,g){c.isLeafNode()&&(c=Er.EMPTY_NODE);let I=c.withIndex(this.index_);I=I.updatePriority(Er.EMPTY_NODE);const P=this;return c.forEachChild(vi,(B,ne)=>{P.matches(new Br(B,ne))||(I=I.updateImmediateChild(B,Er.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(l,I,g)}updatePriority(l,c){return l}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(l){if(l.hasStart()){const c=l.getIndexStartName();return l.getIndex().makePost(l.getIndexStartValue(),c)}return l.getIndex().minPost()}static getEndPost_(l){if(l.hasEnd()){const c=l.getIndexEndName();return l.getIndex().makePost(l.getIndexEndValue(),c)}return l.getIndex().maxPost()}}class bm{constructor(l){this.withinDirectionalStart=c=>this.reverse_?this.withinEndPost(c):this.withinStartPost(c),this.withinDirectionalEnd=c=>this.reverse_?this.withinStartPost(c):this.withinEndPost(c),this.withinStartPost=c=>{const g=this.index_.compare(this.rangedFilter_.getStartPost(),c);return this.startIsInclusive_?g<=0:g<0},this.withinEndPost=c=>{const g=this.index_.compare(c,this.rangedFilter_.getEndPost());return this.endIsInclusive_?g<=0:g<0},this.rangedFilter_=new hc(l),this.index_=l.getIndex(),this.limit_=l.getLimit(),this.reverse_=!l.isViewFromLeft(),this.startIsInclusive_=!l.startAfterSet_,this.endIsInclusive_=!l.endBeforeSet_}updateChild(l,c,g,I,P,B){return this.rangedFilter_.matches(new Br(c,g))||(g=Er.EMPTY_NODE),l.getImmediateChild(c).equals(g)?l:l.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(l,c,g,I,P,B):this.fullLimitUpdateChild_(l,c,g,P,B)}updateFullNode(l,c,g){let I;if(c.isLeafNode()||c.isEmpty())I=Er.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<c.numChildren()&&c.isIndexed(this.index_)){let P;I=Er.EMPTY_NODE.withIndex(this.index_),P=this.reverse_?c.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let B=0;for(;P.hasNext()&&B<this.limit_;){const ne=P.getNext();if(this.withinDirectionalStart(ne)){if(!this.withinDirectionalEnd(ne))break;I=I.updateImmediateChild(ne.name,ne.node),B++}}}else{let P;I=c.withIndex(this.index_),I=I.updatePriority(Er.EMPTY_NODE),P=this.reverse_?I.getReverseIterator(this.index_):I.getIterator(this.index_);let B=0;for(;P.hasNext();){const ne=P.getNext();B<this.limit_&&this.withinDirectionalStart(ne)&&this.withinDirectionalEnd(ne)?B++:I=I.updateImmediateChild(ne.name,Er.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(l,I,g)}updatePriority(l,c){return l}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(l,c,g,I,P){let B;if(this.reverse_){const kt=this.index_.getCompare();B=(zt,En)=>kt(En,zt)}else B=this.index_.getCompare();const ne=l;(0,x.hu)(ne.numChildren()===this.limit_,"");const ye=new Br(c,g),ke=this.reverse_?ne.getFirstChild(this.index_):ne.getLastChild(this.index_),wt=this.rangedFilter_.matches(ye);if(ne.hasChild(c)){const kt=ne.getImmediateChild(c);let zt=I.getChildAfterChild(this.index_,ke,this.reverse_);for(;null!=zt&&(zt.name===c||ne.hasChild(zt.name));)zt=I.getChildAfterChild(this.index_,zt,this.reverse_);const En=null==zt?1:B(zt,ye);if(wt&&!g.isEmpty()&&En>=0)return null!=P&&P.trackChildChange(Ka(c,g,kt)),ne.updateImmediateChild(c,g);{null!=P&&P.trackChildChange(dc(c,kt));const Mr=ne.updateImmediateChild(c,Er.EMPTY_NODE);return null!=zt&&this.rangedFilter_.matches(zt)?(null!=P&&P.trackChildChange(_a(zt.name,zt.node)),Mr.updateImmediateChild(zt.name,zt.node)):Mr}}return g.isEmpty()?l:wt&&B(ke,ye)>=0?(null!=P&&(P.trackChildChange(dc(ke.name,ke.node)),P.trackChildChange(_a(c,g))),ne.updateImmediateChild(c,g).updateImmediateChild(ke.name,Er.EMPTY_NODE)):l}}class Jh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vi}copy(){const l=new Jh;return l.limitSet_=this.limitSet_,l.limit_=this.limit_,l.startSet_=this.startSet_,l.startAfterSet_=this.startAfterSet_,l.indexStartValue_=this.indexStartValue_,l.startNameSet_=this.startNameSet_,l.indexStartName_=this.indexStartName_,l.endSet_=this.endSet_,l.endBeforeSet_=this.endBeforeSet_,l.indexEndValue_=this.indexEndValue_,l.endNameSet_=this.endNameSet_,l.indexEndName_=this.indexEndName_,l.index_=this.index_,l.viewFrom_=this.viewFrom_,l}}function kl(h,l,c){const g=h.copy();return g.startSet_=!0,void 0===l&&(l=null),g.indexStartValue_=l,null!=c?(g.startNameSet_=!0,g.indexStartName_=c):(g.startNameSet_=!1,g.indexStartName_=""),g}function _l(h,l,c){const g=h.copy();return g.endSet_=!0,void 0===l&&(l=null),g.indexEndValue_=l,void 0!==c?(g.endNameSet_=!0,g.indexEndName_=c):(g.endNameSet_=!1,g.indexEndName_=""),g}function vd(h,l){const c=h.copy();return c.index_=l,c}function vl(h){const l={};if(h.isDefault())return l;let c;if(h.index_===vi?c="$priority":h.index_===Xo?c="$value":h.index_===_i?c="$key":((0,x.hu)(h.index_ instanceof xl,"Unrecognized index type!"),c=h.index_.toString()),l.orderBy=(0,x.Wl)(c),h.startSet_){const g=h.startAfterSet_?"startAfter":"startAt";l[g]=(0,x.Wl)(h.indexStartValue_),h.startNameSet_&&(l[g]+=","+(0,x.Wl)(h.indexStartName_))}if(h.endSet_){const g=h.endBeforeSet_?"endBefore":"endAt";l[g]=(0,x.Wl)(h.indexEndValue_),h.endNameSet_&&(l[g]+=","+(0,x.Wl)(h.indexEndName_))}return h.limitSet_&&(h.isViewFromLeft()?l.limitToFirst=h.limit_:l.limitToLast=h.limit_),l}function Yf(h){const l={};if(h.startSet_&&(l.sp=h.indexStartValue_,h.startNameSet_&&(l.sn=h.indexStartName_),l.sin=!h.startAfterSet_),h.endSet_&&(l.ep=h.indexEndValue_,h.endNameSet_&&(l.en=h.indexEndName_),l.ein=!h.endBeforeSet_),h.limitSet_){l.l=h.limit_;let c=h.viewFrom_;""===c&&(c=h.isViewFromLeft()?"l":"r"),l.vf=c}return h.index_!==vi&&(l.i=h.index_.toString()),l}class to extends bt{constructor(l,c,g,I){super(),this.repoInfo_=l,this.onDataUpdate_=c,this.authTokenProvider_=g,this.appCheckTokenProvider_=I,this.log_=G("p:rest:"),this.listens_={}}reportStats(l){throw new Error("Method not implemented.")}static getListenId_(l,c){return void 0!==c?"tag$"+c:((0,x.hu)(l._queryParams.isDefault(),"should have a tag if it's not a default query."),l._path.toString())}listen(l,c,g,I){const P=l._path.toString();this.log_("Listen called for "+P+" "+l._queryIdentifier);const B=to.getListenId_(l,g),ne={};this.listens_[B]=ne;const ye=vl(l._queryParams);this.restRequest_(P+".json",ye,(ke,wt)=>{let kt=wt;if(404===ke&&(kt=null,ke=null),null===ke&&this.onDataUpdate_(P,kt,!1,g),(0,x.DV)(this.listens_,B)===ne){let zt;zt=ke?401===ke?"permission_denied":"rest_error:"+ke:"ok",I(zt,null)}})}unlisten(l,c){const g=to.getListenId_(l,c);delete this.listens_[g]}get(l){const c=vl(l._queryParams),g=l._path.toString(),I=new x.BH;return this.restRequest_(g+".json",c,(P,B)=>{let ne=B;404===P&&(ne=null,P=null),null===P?(this.onDataUpdate_(g,ne,!1,null),I.resolve(ne)):I.reject(new Error(ne))}),I.promise}refreshAuthToken(l){}restRequest_(l,c={},g){return c.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([I,P])=>{I&&I.accessToken&&(c.auth=I.accessToken),P&&P.token&&(c.ac=P.token);const B=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+l+"?ns="+this.repoInfo_.namespace+(0,x.xO)(c);this.log_("Sending REST request for "+B);const ne=new XMLHttpRequest;ne.onreadystatechange=()=>{if(g&&4===ne.readyState){this.log_("REST Response for "+B+" received. status:",ne.status,"response:",ne.responseText);let ye=null;if(ne.status>=200&&ne.status<300){try{ye=(0,x.cI)(ne.responseText)}catch{ve("Failed to parse JSON response for "+B+": "+ne.responseText)}g(null,ye)}else 401!==ne.status&&404!==ne.status&&ve("Got unsuccessful REST response for "+B+" Status: "+ne.status),g(ne.status);g=null}},ne.open("GET",B,!0),ne.send()})}}class zr{constructor(){this.rootNode_=Er.EMPTY_NODE}getNode(l){return this.rootNode_.getChild(l)}updateSnapshot(l,c){this.rootNode_=this.rootNode_.updateChild(l,c)}}function yi(){return{value:null,children:new Map}}function Jo(h,l,c){if(Rr(l))h.value=c,h.children.clear();else if(null!==h.value)h.value=h.value.updateChild(l,c);else{const g=Wn(l);h.children.has(g)||h.children.set(g,yi()),Jo(h.children.get(g),l=mi(l),c)}}function Ll(h,l){if(Rr(l))return h.value=null,h.children.clear(),!0;if(null!==h.value){if(h.value.isLeafNode())return!1;{const c=h.value;return h.value=null,c.forEachChild(vi,(g,I)=>{Jo(h,new sr(g),I)}),Ll(h,l)}}if(h.children.size>0){const c=Wn(l);return l=mi(l),h.children.has(c)&&Ll(h.children.get(c),l)&&h.children.delete(c),0===h.children.size}return!0}function Uc(h,l,c){null!==h.value?c(l,h.value):function sg(h,l){h.children.forEach((c,g)=>{l(g,c)})}(h,(g,I)=>{Uc(I,new sr(l.toString()+"/"+g),c)})}class ph{constructor(l){this.collection_=l,this.last_=null}get(){const l=this.collection_.get(),c=Object.assign({},l);return this.last_&&si(this.last_,(g,I)=>{c[g]=c[g]-I}),this.last_=l,c}}class fc{constructor(l,c){this.server_=c,this.statsToReport_={},this.statsListener_=new ph(l);const g=1e4+2e4*Math.random();Zo(this.reportStats_.bind(this),Math.floor(g))}reportStats_(){const l=this.statsListener_.get(),c={};let g=!1;si(l,(I,P)=>{P>0&&(0,x.r3)(this.statsToReport_,I)&&(c[I]=P,g=!0)}),g&&this.server_.reportStats(c),Zo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Fl=function(h){return h[h.OVERWRITE=0]="OVERWRITE",h[h.MERGE=1]="MERGE",h[h.ACK_USER_WRITE=2]="ACK_USER_WRITE",h[h.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",h}(Fl||{});function Ed(h){return{fromUser:!1,fromServer:!0,queryId:h,tagged:!0}}class Id{constructor(l,c,g){this.path=l,this.affectedTree=c,this.revert=g,this.type=Fl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(l){if(Rr(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const c=this.affectedTree.subtree(new sr(l));return new Id(cr(),c,this.revert)}}return(0,x.hu)(Wn(this.path)===l,"operationForChild called for unrelated child."),new Id(mi(this.path),this.affectedTree,this.revert)}}class vh{constructor(l,c){this.source=l,this.path=c,this.type=Fl.LISTEN_COMPLETE}operationForChild(l){return Rr(this.path)?new vh(this.source,cr()):new vh(this.source,mi(this.path))}}class Vl{constructor(l,c,g){this.source=l,this.path=c,this.snap=g,this.type=Fl.OVERWRITE}operationForChild(l){return Rr(this.path)?new Vl(this.source,cr(),this.snap.getImmediateChild(l)):new Vl(this.source,mi(this.path),this.snap)}}class $c{constructor(l,c,g){this.source=l,this.path=c,this.children=g,this.type=Fl.MERGE}operationForChild(l){if(Rr(this.path)){const c=this.children.subtree(new sr(l));return c.isEmpty()?null:c.value?new Vl(this.source,cr(),c.value):new $c(this.source,cr(),c)}return(0,x.hu)(Wn(this.path)===l,"Can't get a merge for a child not on the path of the operation"),new $c(this.source,mi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Lo{constructor(l,c,g){this.node_=l,this.fullyInitialized_=c,this.filtered_=g}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(l){if(Rr(l))return this.isFullyInitialized()&&!this.filtered_;const c=Wn(l);return this.isCompleteForChild(c)}isCompleteForChild(l){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(l)}getNode(){return this.node_}}class Za{constructor(l){this.query_=l,this.index_=this.query_._queryParams.getIndex()}}function Qa(h,l,c,g,I,P){const B=g.filter(ne=>ne.type===c);B.sort((ne,ye)=>function Cd(h,l,c){if(null==l.childName||null==c.childName)throw(0,x.g5)("Should only compare child_ events.");const g=new Br(l.childName,l.snapshotNode),I=new Br(c.childName,c.snapshotNode);return h.index_.compare(g,I)}(h,ne,ye)),B.forEach(ne=>{const ye=function yh(h,l,c){return"value"===l.type||"child_removed"===l.type||(l.prevName=c.getPredecessorChildName(l.childName,l.snapshotNode,h.index_)),l}(h,ne,P);I.forEach(ke=>{ke.respondsTo(ne.type)&&l.push(ke.createEvent(ye,h.query_))})})}function wd(h,l){return{eventCache:h,serverCache:l}}function ea(h,l,c,g){return wd(new Lo(l,c,g),h.serverCache)}function Iu(h,l,c,g){return wd(h.eventCache,new Lo(l,c,g))}function xa(h){return h.eventCache.isFullyInitialized()?h.eventCache.getNode():null}function pc(h){return h.serverCache.isFullyInitialized()?h.serverCache.getNode():null}let Xa;class Or{constructor(l,c=(()=>(Xa||(Xa=new Gr(pr)),Xa))()){this.value=l,this.children=c}static fromObject(l){let c=new Or(null);return si(l,(g,I)=>{c=c.set(new sr(g),I)}),c}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(l,c){if(null!=this.value&&c(this.value))return{path:cr(),value:this.value};if(Rr(l))return null;{const g=Wn(l),I=this.children.get(g);if(null!==I){const P=I.findRootMostMatchingPathAndValue(mi(l),c);return null!=P?{path:Fi(new sr(g),P.path),value:P.value}:null}return null}}findRootMostValueAndPath(l){return this.findRootMostMatchingPathAndValue(l,()=>!0)}subtree(l){if(Rr(l))return this;{const c=Wn(l),g=this.children.get(c);return null!==g?g.subtree(mi(l)):new Or(null)}}set(l,c){if(Rr(l))return new Or(c,this.children);{const g=Wn(l),P=(this.children.get(g)||new Or(null)).set(mi(l),c),B=this.children.insert(g,P);return new Or(this.value,B)}}remove(l){if(Rr(l))return this.children.isEmpty()?new Or(null):new Or(null,this.children);{const c=Wn(l),g=this.children.get(c);if(g){const I=g.remove(mi(l));let P;return P=I.isEmpty()?this.children.remove(c):this.children.insert(c,I),null===this.value&&P.isEmpty()?new Or(null):new Or(this.value,P)}return this}}get(l){if(Rr(l))return this.value;{const c=Wn(l),g=this.children.get(c);return g?g.get(mi(l)):null}}setTree(l,c){if(Rr(l))return c;{const g=Wn(l),P=(this.children.get(g)||new Or(null)).setTree(mi(l),c);let B;return B=P.isEmpty()?this.children.remove(g):this.children.insert(g,P),new Or(this.value,B)}}fold(l){return this.fold_(cr(),l)}fold_(l,c){const g={};return this.children.inorderTraversal((I,P)=>{g[I]=P.fold_(Fi(l,I),c)}),c(l,this.value,g)}findOnPath(l,c){return this.findOnPath_(l,cr(),c)}findOnPath_(l,c,g){const I=!!this.value&&g(c,this.value);if(I)return I;if(Rr(l))return null;{const P=Wn(l),B=this.children.get(P);return B?B.findOnPath_(mi(l),Fi(c,P),g):null}}foreachOnPath(l,c){return this.foreachOnPath_(l,cr(),c)}foreachOnPath_(l,c,g){if(Rr(l))return this;{this.value&&g(c,this.value);const I=Wn(l),P=this.children.get(I);return P?P.foreachOnPath_(mi(l),Fi(c,I),g):new Or(null)}}foreach(l){this.foreach_(cr(),l)}foreach_(l,c){this.children.inorderTraversal((g,I)=>{I.foreach_(Fi(l,g),c)}),this.value&&c(l,this.value)}foreachChild(l){this.children.inorderTraversal((c,g)=>{g.value&&l(c,g.value)})}}class no{constructor(l){this.writeTree_=l}static empty(){return new no(new Or(null))}}function jc(h,l,c){if(Rr(l))return new no(new Or(c));{const g=h.writeTree_.findRootMostValueAndPath(l);if(null!=g){const I=g.path;let P=g.value;const B=Js(I,l);return P=P.updateChild(B,c),new no(h.writeTree_.set(I,P))}{const I=new Or(c),P=h.writeTree_.setTree(l,I);return new no(P)}}}function Hc(h,l,c){let g=h;return si(c,(I,P)=>{g=jc(g,Fi(l,I),P)}),g}function Gc(h,l){if(Rr(l))return no.empty();{const c=h.writeTree_.setTree(l,new Or(null));return new no(c)}}function Eh(h,l){return null!=va(h,l)}function va(h,l){const c=h.writeTree_.findRootMostValueAndPath(l);return null!=c?h.writeTree_.get(c.path).getChild(Js(c.path,l)):null}function wu(h){const l=[],c=h.writeTree_.value;return null!=c?c.isLeafNode()||c.forEachChild(vi,(g,I)=>{l.push(new Br(g,I))}):h.writeTree_.children.inorderTraversal((g,I)=>{null!=I.value&&l.push(new Br(g,I.value))}),l}function Bl(h,l){if(Rr(l))return h;{const c=va(h,l);return new no(null!=c?new Or(c):h.writeTree_.subtree(l))}}function Tu(h){return h.writeTree_.isEmpty()}function Ja(h,l){return el(cr(),h.writeTree_,l)}function el(h,l,c){if(null!=l.value)return c.updateChild(h,l.value);{let g=null;return l.children.inorderTraversal((I,P)=>{".priority"===I?((0,x.hu)(null!==P.value,"Priority writes must always be leaf nodes"),g=P.value):c=el(Fi(h,I),P,c)}),!c.getChild(h).isEmpty()&&null!==g&&(c=c.updateChild(Fi(h,".priority"),g)),c}}function Du(h,l){return _c(l,h)}function tl(h,l){if(h.snap)return Oo(h.path,l);for(const c in h.children)if(h.children.hasOwnProperty(c)&&Oo(Fi(h.path,c),l))return!0;return!1}function Au(h){return h.visible}function Su(h,l,c){let g=no.empty();for(let I=0;I<h.length;++I){const P=h[I];if(l(P)){const B=P.path;let ne;if(P.snap)Oo(c,B)?(ne=Js(c,B),g=jc(g,ne,P.snap)):Oo(B,c)&&(ne=Js(B,c),g=jc(g,cr(),P.snap.getChild(ne)));else{if(!P.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(Oo(c,B))ne=Js(c,B),g=Hc(g,ne,P.children);else if(Oo(B,c))if(ne=Js(B,c),Rr(ne))g=Hc(g,cr(),P.children);else{const ye=(0,x.DV)(P.children,Wn(ne));if(ye){const ke=ye.getChild(mi(ne));g=jc(g,cr(),ke)}}}}}return g}function qf(h,l,c,g,I){if(g||I){const P=Bl(h.visibleWrites,l);return!I&&Tu(P)?c:I||null!=c||Eh(P,cr())?Ja(Su(h.allWrites,function(ke){return(ke.visible||I)&&(!g||!~g.indexOf(ke.writeId))&&(Oo(ke.path,l)||Oo(l,ke.path))},l),c||Er.EMPTY_NODE):null}{const P=va(h.visibleWrites,l);if(null!=P)return P;{const B=Bl(h.visibleWrites,l);return Tu(B)?c:null!=c||Eh(B,cr())?Ja(B,c||Er.EMPTY_NODE):null}}}function yl(h,l,c,g){return qf(h.writeTree,h.treePath,l,c,g)}function ef(h,l){return function kr(h,l,c){let g=Er.EMPTY_NODE;const I=va(h.visibleWrites,l);if(I)return I.isLeafNode()||I.forEachChild(vi,(P,B)=>{g=g.updateImmediateChild(P,B)}),g;if(c){const P=Bl(h.visibleWrites,l);return c.forEachChild(vi,(B,ne)=>{const ye=Ja(Bl(P,new sr(B)),ne);g=g.updateImmediateChild(B,ye)}),wu(P).forEach(B=>{g=g.updateImmediateChild(B.name,B.node)}),g}return wu(Bl(h.visibleWrites,l)).forEach(B=>{g=g.updateImmediateChild(B.name,B.node)}),g}(h.writeTree,h.treePath,l)}function wh(h,l,c,g){return function bd(h,l,c,g,I){(0,x.hu)(g||I,"Either existingEventSnap or existingServerSnap must exist");const P=Fi(l,c);if(Eh(h.visibleWrites,P))return null;{const B=Bl(h.visibleWrites,P);return Tu(B)?I.getChild(c):Ja(B,I.getChild(c))}}(h.writeTree,h.treePath,l,c,g)}function mc(h,l){return function gc(h,l){return va(h.visibleWrites,l)}(h.writeTree,Fi(h.treePath,l))}function ta(h,l,c){return function Ch(h,l,c,g){const I=Fi(l,c),P=va(h.visibleWrites,I);return null!=P?P:g.isCompleteForChild(c)?Ja(Bl(h.visibleWrites,I),g.getNode().getImmediateChild(c)):null}(h.writeTree,h.treePath,l,c)}function Ru(h,l){return _c(Fi(h.treePath,l),h.writeTree)}function _c(h,l){return{treePath:h,writeTree:l}}class Zf{constructor(){this.changeMap=new Map}trackChildChange(l){const c=l.type,g=l.childName;(0,x.hu)("child_added"===c||"child_changed"===c||"child_removed"===c,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==g,"Only non-priority child changes can be tracked.");const I=this.changeMap.get(g);if(I){const P=I.type;if("child_added"===c&&"child_removed"===P)this.changeMap.set(g,Ka(g,l.snapshotNode,I.snapshotNode));else if("child_removed"===c&&"child_added"===P)this.changeMap.delete(g);else if("child_removed"===c&&"child_changed"===P)this.changeMap.set(g,dc(g,I.oldSnap));else if("child_changed"===c&&"child_added"===P)this.changeMap.set(g,_a(g,l.snapshotNode));else{if("child_changed"!==c||"child_changed"!==P)throw(0,x.g5)("Illegal combination of changes: "+l+" occurred after "+I);this.changeMap.set(g,Ka(g,l.snapshotNode,I.oldSnap))}}else this.changeMap.set(g,l)}getChanges(){return Array.from(this.changeMap.values())}}const vc=new class zc{getCompleteChild(l){return null}getChildAfterChild(l,c,g){return null}};class Sd{constructor(l,c,g=null){this.writes_=l,this.viewCache_=c,this.optCompleteServerCache_=g}getCompleteChild(l){const c=this.viewCache_.eventCache;if(c.isCompleteForChild(l))return c.getNode().getImmediateChild(l);{const g=null!=this.optCompleteServerCache_?new Lo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ta(this.writes_,l,g)}}getChildAfterChild(l,c,g){const I=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pc(this.viewCache_),P=function Bs(h,l,c,g,I,P){return function Kf(h,l,c,g,I,P,B){let ne;const ye=Bl(h.visibleWrites,l),ke=va(ye,cr());if(null!=ke)ne=ke;else{if(null==c)return[];ne=Ja(ye,c)}if(ne=ne.withIndex(B),ne.isEmpty()||ne.isLeafNode())return[];{const wt=[],kt=B.getCompare(),zt=P?ne.getReverseIteratorFrom(g,B):ne.getIteratorFrom(g,B);let En=zt.getNext();for(;En&&wt.length<I;)0!==kt(En,g)&&wt.push(En),En=zt.getNext();return wt}}(h.writeTree,h.treePath,l,c,g,I,P)}(this.writes_,I,c,1,g,l);return 0===P.length?null:P[0]}}function Ul(h,l,c,g,I,P){const B=l.eventCache;if(null!=mc(g,c))return l;{let ne,ye;if(Rr(c))if((0,x.hu)(l.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),l.serverCache.isFiltered()){const ke=pc(l),kt=ef(g,ke instanceof Er?ke:Er.EMPTY_NODE);ne=h.filter.updateFullNode(l.eventCache.getNode(),kt,P)}else{const ke=yl(g,pc(l));ne=h.filter.updateFullNode(l.eventCache.getNode(),ke,P)}else{const ke=Wn(c);if(".priority"===ke){(0,x.hu)(1===Xs(c),"Can't have a priority with additional path components");const wt=B.getNode();ye=l.serverCache.getNode();const kt=wh(g,c,wt,ye);ne=null!=kt?h.filter.updatePriority(wt,kt):B.getNode()}else{const wt=mi(c);let kt;if(B.isCompleteForChild(ke)){ye=l.serverCache.getNode();const zt=wh(g,c,B.getNode(),ye);kt=null!=zt?B.getNode().getImmediateChild(ke).updateChild(wt,zt):B.getNode().getImmediateChild(ke)}else kt=ta(g,ke,l.serverCache);ne=null!=kt?h.filter.updateChild(B.getNode(),ke,kt,wt,I,P):B.getNode()}}return ea(l,ne,B.isFullyInitialized()||Rr(c),h.filter.filtersNodes())}}function yc(h,l,c,g,I,P,B,ne){const ye=l.serverCache;let ke;const wt=B?h.filter:h.filter.getIndexedFilter();if(Rr(c))ke=wt.updateFullNode(ye.getNode(),g,null);else if(wt.filtersNodes()&&!ye.isFiltered()){const En=ye.getNode().updateChild(c,g);ke=wt.updateFullNode(ye.getNode(),En,null)}else{const En=Wn(c);if(!ye.isCompleteForPath(c)&&Xs(c)>1)return l;const Ln=mi(c),Wr=ye.getNode().getImmediateChild(En).updateChild(Ln,g);ke=".priority"===En?wt.updatePriority(ye.getNode(),Wr):wt.updateChild(ye.getNode(),En,Wr,Ln,vc,null)}const kt=Iu(l,ke,ye.isFullyInitialized()||Rr(c),wt.filtersNodes());return Ul(h,kt,c,I,new Sd(I,kt,P),ne)}function wo(h,l,c,g,I,P,B){const ne=l.eventCache;let ye,ke;const wt=new Sd(I,l,P);if(Rr(c))ke=h.filter.updateFullNode(l.eventCache.getNode(),g,B),ye=ea(l,ke,!0,h.filter.filtersNodes());else{const kt=Wn(c);if(".priority"===kt)ke=h.filter.updatePriority(l.eventCache.getNode(),g),ye=ea(l,ke,ne.isFullyInitialized(),ne.isFiltered());else{const zt=mi(c),En=ne.getNode().getImmediateChild(kt);let Ln;if(Rr(zt))Ln=g;else{const Mr=wt.getCompleteChild(kt);Ln=null!=Mr?".priority"===Xi(zt)&&Mr.getChild(Pa(zt)).isEmpty()?Mr:Mr.updateChild(zt,g):Er.EMPTY_NODE}ye=En.equals(Ln)?l:ea(l,h.filter.updateChild(ne.getNode(),kt,Ln,zt,wt,B),ne.isFullyInitialized(),h.filter.filtersNodes())}}return ye}function Pu(h,l){return h.eventCache.isCompleteForChild(l)}function Qf(h,l,c){return c.foreach((g,I)=>{l=l.updateChild(g,I)}),l}function qc(h,l,c,g,I,P,B,ne){if(l.serverCache.getNode().isEmpty()&&!l.serverCache.isFullyInitialized())return l;let ke,ye=l;ke=Rr(c)?g:new Or(null).setTree(c,g);const wt=l.serverCache.getNode();return ke.children.inorderTraversal((kt,zt)=>{if(wt.hasChild(kt)){const Ln=Qf(0,l.serverCache.getNode().getImmediateChild(kt),zt);ye=yc(h,ye,new sr(kt),Ln,I,P,B,ne)}}),ke.children.inorderTraversal((kt,zt)=>{const En=!l.serverCache.isCompleteForChild(kt)&&null===zt.value;if(!wt.hasChild(kt)&&!En){const Mr=Qf(0,l.serverCache.getNode().getImmediateChild(kt),zt);ye=yc(h,ye,new sr(kt),Mr,I,P,B,ne)}}),ye}class rf{constructor(l,c){this.query_=l,this.eventRegistrations_=[];const g=this.query_._queryParams,I=new Bc(g.getIndex()),P=function rg(h){return h.loadsAllData()?new Bc(h.getIndex()):h.hasLimit()?new bm(h):new hc(h)}(g);this.processor_=function Wc(h){return{filter:h}}(P);const B=c.serverCache,ne=c.eventCache,ye=I.updateFullNode(Er.EMPTY_NODE,B.getNode(),null),ke=P.updateFullNode(Er.EMPTY_NODE,ne.getNode(),null),wt=new Lo(ye,B.isFullyInitialized(),I.filtersNodes()),kt=new Lo(ke,ne.isFullyInitialized(),P.filtersNodes());this.viewCache_=wd(kt,wt),this.eventGenerator_=new Za(this.query_)}get query(){return this.query_}}function Rd(h,l){const c=pc(h.viewCache_);return c&&(h.query._queryParams.loadsAllData()||!Rr(l)&&!c.getImmediateChild(Wn(l)).isEmpty())?c.getChild(l):null}function nl(h){return 0===h.eventRegistrations_.length}function xu(h,l,c){const g=[];if(c){(0,x.hu)(null==l,"A cancel should cancel all event registrations.");const I=h.query._path;h.eventRegistrations_.forEach(P=>{const B=P.createCancelEvent(c,I);B&&g.push(B)})}if(l){let I=[];for(let P=0;P<h.eventRegistrations_.length;++P){const B=h.eventRegistrations_[P];if(B.matches(l)){if(l.hasAnyCallback()){I=I.concat(h.eventRegistrations_.slice(P+1));break}}else I.push(B)}h.eventRegistrations_=I}else h.eventRegistrations_=[];return g}function Us(h,l,c,g){l.type===Fl.MERGE&&null!==l.source.queryId&&((0,x.hu)(pc(h.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(xa(h.viewCache_),"Missing event cache, even though we have a server cache"));const I=h.viewCache_,P=function Th(h,l,c,g,I){const P=new Zf;let B,ne;if(c.type===Fl.OVERWRITE){const ke=c;ke.source.fromUser?B=wo(h,l,ke.path,ke.snap,g,I,P):((0,x.hu)(ke.source.fromServer,"Unknown source."),ne=ke.source.tagged||l.serverCache.isFiltered()&&!Rr(ke.path),B=yc(h,l,ke.path,ke.snap,g,I,ne,P))}else if(c.type===Fl.MERGE){const ke=c;ke.source.fromUser?B=function Yc(h,l,c,g,I,P,B){let ne=l;return g.foreach((ye,ke)=>{const wt=Fi(c,ye);Pu(l,Wn(wt))&&(ne=wo(h,ne,wt,ke,I,P,B))}),g.foreach((ye,ke)=>{const wt=Fi(c,ye);Pu(l,Wn(wt))||(ne=wo(h,ne,wt,ke,I,P,B))}),ne}(h,l,ke.path,ke.children,g,I,P):((0,x.hu)(ke.source.fromServer,"Unknown source."),ne=ke.source.tagged||l.serverCache.isFiltered(),B=qc(h,l,ke.path,ke.children,g,I,ne,P))}else if(c.type===Fl.ACK_USER_WRITE){const ke=c;B=ke.revert?function nf(h,l,c,g,I,P){let B;if(null!=mc(g,c))return l;{const ne=new Sd(g,l,I),ye=l.eventCache.getNode();let ke;if(Rr(c)||".priority"===Wn(c)){let wt;if(l.serverCache.isFullyInitialized())wt=yl(g,pc(l));else{const kt=l.serverCache.getNode();(0,x.hu)(kt instanceof Er,"serverChildren would be complete if leaf node"),wt=ef(g,kt)}ke=h.filter.updateFullNode(ye,wt,P)}else{const wt=Wn(c);let kt=ta(g,wt,l.serverCache);null==kt&&l.serverCache.isCompleteForChild(wt)&&(kt=ye.getImmediateChild(wt)),ke=null!=kt?h.filter.updateChild(ye,wt,kt,mi(c),ne,P):l.eventCache.getNode().hasChild(wt)?h.filter.updateChild(ye,wt,Er.EMPTY_NODE,mi(c),ne,P):ye,ke.isEmpty()&&l.serverCache.isFullyInitialized()&&(B=yl(g,pc(l)),B.isLeafNode()&&(ke=h.filter.updateFullNode(ke,B,P)))}return B=l.serverCache.isFullyInitialized()||null!=mc(g,cr()),ea(l,ke,B,h.filter.filtersNodes())}}(h,l,ke.path,g,I,P):function Ec(h,l,c,g,I,P,B){if(null!=mc(I,c))return l;const ne=l.serverCache.isFiltered(),ye=l.serverCache;if(null!=g.value){if(Rr(c)&&ye.isFullyInitialized()||ye.isCompleteForPath(c))return yc(h,l,c,ye.getNode().getChild(c),I,P,ne,B);if(Rr(c)){let ke=new Or(null);return ye.getNode().forEachChild(_i,(wt,kt)=>{ke=ke.set(new sr(wt),kt)}),qc(h,l,c,ke,I,P,ne,B)}return l}{let ke=new Or(null);return g.foreach((wt,kt)=>{const zt=Fi(c,wt);ye.isCompleteForPath(zt)&&(ke=ke.set(wt,ye.getNode().getChild(zt)))}),qc(h,l,c,ke,I,P,ne,B)}}(h,l,ke.path,ke.affectedTree,g,I,P)}else{if(c.type!==Fl.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+c.type);B=function $l(h,l,c,g,I){const P=l.serverCache;return Ul(h,Iu(l,P.getNode(),P.isFullyInitialized()||Rr(c),P.isFiltered()),c,g,vc,I)}(h,l,c.path,g,P)}const ye=P.getChanges();return function as(h,l,c){const g=l.eventCache;if(g.isFullyInitialized()){const I=g.getNode().isLeafNode()||g.getNode().isEmpty(),P=xa(h);(c.length>0||!h.eventCache.isFullyInitialized()||I&&!g.getNode().equals(P)||!g.getNode().getPriority().equals(P.getPriority()))&&c.push(Nl(xa(l)))}}(l,B,ye),{viewCache:B,changes:ye}}(h.processor_,I,l,c,g);return function tf(h,l){(0,x.hu)(l.eventCache.getNode().isIndexed(h.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(l.serverCache.getNode().isIndexed(h.filter.getIndex()),"Server snap not indexed")}(h.processor_,P.viewCache),(0,x.hu)(P.viewCache.serverCache.isFullyInitialized()||!I.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),h.viewCache_=P.viewCache,ps(h,P.changes,P.viewCache.eventCache.getNode(),null)}function ps(h,l,c,g){return function Eu(h,l,c,g){const I=[],P=[];return l.forEach(B=>{"child_changed"===B.type&&h.index_.indexedValueChanged(B.oldSnap,B.snapshotNode)&&P.push(function fh(h,l){return{type:"child_moved",snapshotNode:l,childName:h}}(B.childName,B.snapshotNode))}),Qa(h,I,"child_removed",l,g,c),Qa(h,I,"child_added",l,g,c),Qa(h,I,"child_moved",P,g,c),Qa(h,I,"child_changed",l,g,c),Qa(h,I,"value",l,g,c),I}(h.eventGenerator_,l,c,g?[g]:h.eventRegistrations_)}let Zr,Y;class rl{constructor(){this.views=new Map}}function Dh(h,l,c,g){const I=l.source.queryId;if(null!==I){const P=h.views.get(I);return(0,x.hu)(null!=P,"SyncTree gave us an op for an invalid query."),Us(P,l,c,g)}{let P=[];for(const B of h.views.values())P=P.concat(Us(B,l,c,g));return P}}function Kc(h,l,c,g,I){const B=h.views.get(l._queryIdentifier);if(!B){let ne=yl(c,I?g:null),ye=!1;ne?ye=!0:g instanceof Er?(ne=ef(c,g),ye=!1):(ne=Er.EMPTY_NODE,ye=!1);const ke=wd(new Lo(ne,ye,!1),new Lo(g,I,!1));return new rf(l,ke)}return B}function Nu(h){const l=[];for(const c of h.views.values())c.query._queryParams.loadsAllData()||l.push(c);return l}function Oa(h,l){let c=null;for(const g of h.views.values())c=c||Rd(g,l);return c}function C(h,l){return l._queryParams.loadsAllData()?b(h):h.views.get(l._queryIdentifier)}function _(h,l){return null!=C(h,l)}function v(h){return null!=b(h)}function b(h){for(const l of h.views.values())if(l.query._queryParams.loadsAllData())return l;return null}let Dt=1;class Xt{constructor(l){this.listenProvider_=l,this.syncPointTree_=new Or(null),this.pendingWriteTree_=function Ad(){return{visibleWrites:no.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function An(h,l,c,g,I){return function uo(h,l,c,g,I){(0,x.hu)(g>h.lastWriteId,"Stacking an older write on top of newer ones"),void 0===I&&(I=!0),h.allWrites.push({path:l,snap:c,writeId:g,visible:I}),I&&(h.visibleWrites=jc(h.visibleWrites,l,c)),h.lastWriteId=g}(h.pendingWriteTree_,l,c,g,I),I?Ic(h,new Vl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,c)):[]}function qn(h,l,c=!1){const g=function bu(h,l){for(let c=0;c<h.allWrites.length;c++){const g=h.allWrites[c];if(g.writeId===l)return g}return null}(h.pendingWriteTree_,l);if(function Td(h,l){const c=h.allWrites.findIndex(ne=>ne.writeId===l);(0,x.hu)(c>=0,"removeWrite called with nonexistent writeId.");const g=h.allWrites[c];h.allWrites.splice(c,1);let I=g.visible,P=!1,B=h.allWrites.length-1;for(;I&&B>=0;){const ne=h.allWrites[B];ne.visible&&(B>=c&&tl(ne,g.path)?I=!1:Oo(g.path,ne.path)&&(P=!0)),B--}return!!I&&(P?(function Dd(h){h.visibleWrites=Su(h.allWrites,Au,cr()),h.lastWriteId=h.allWrites.length>0?h.allWrites[h.allWrites.length-1].writeId:-1}(h),!0):(g.snap?h.visibleWrites=Gc(h.visibleWrites,g.path):si(g.children,ye=>{h.visibleWrites=Gc(h.visibleWrites,Fi(g.path,ye))}),!0))}(h.pendingWriteTree_,l)){let P=new Or(null);return null!=g.snap?P=P.set(cr(),!0):si(g.children,B=>{P=P.set(new sr(B),!0)}),Ic(h,new Id(g.path,P,c))}return[]}function Si(h,l,c){return Ic(h,new Vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,c))}function es(h,l,c,g,I=!1){const P=l._path,B=h.syncPointTree_.get(P);let ne=[];if(B&&("default"===l._queryIdentifier||_(B,l))){const ye=function Xf(h,l,c,g){const I=l._queryIdentifier,P=[];let B=[];const ne=v(h);if("default"===I)for(const[ye,ke]of h.views.entries())B=B.concat(xu(ke,c,g)),nl(ke)&&(h.views.delete(ye),ke.query._queryParams.loadsAllData()||P.push(ke.query));else{const ye=h.views.get(I);ye&&(B=B.concat(xu(ye,c,g)),nl(ye)&&(h.views.delete(I),ye.query._queryParams.loadsAllData()||P.push(ye.query)))}return ne&&!v(h)&&P.push(new(function Ou(){return(0,x.hu)(Zr,"Reference.ts has not been loaded"),Zr}())(l._repo,l._path)),{removed:P,events:B}}(B,l,c,g);(function af(h){return 0===h.views.size})(B)&&(h.syncPointTree_=h.syncPointTree_.remove(P));const ke=ye.removed;if(ne=ye.events,!I){const wt=-1!==ke.findIndex(zt=>zt._queryParams.loadsAllData()),kt=h.syncPointTree_.findOnPath(P,(zt,En)=>v(En));if(wt&&!kt){const zt=h.syncPointTree_.subtree(P);if(!zt.isEmpty()){const En=function ep(h){return h.fold((l,c,g)=>{if(c&&v(c))return[b(c)];{let I=[];return c&&(I=Nu(c)),si(g,(P,B)=>{I=I.concat(B)}),I}})}(zt);for(let Ln=0;Ln<En.length;++Ln){const Mr=En[Ln],Wr=Mr.query,Hs=bh(h,Mr);h.listenProvider_.startListening(Zc(Wr),xd(h,Wr),Hs.hashFn,Hs.onComplete)}}}!kt&&ke.length>0&&!g&&(wt?h.listenProvider_.stopListening(Zc(l),null):ke.forEach(zt=>{const En=h.queryToTagMap.get(ag(zt));h.listenProvider_.stopListening(Zc(zt),En)}))}!function uf(h,l){for(let c=0;c<l.length;++c){const g=l[c];if(!g._queryParams.loadsAllData()){const I=ag(g),P=h.queryToTagMap.get(I);h.queryToTagMap.delete(I),h.tagToQueryMap.delete(P)}}}(h,ke)}return ne}function ku(h,l,c,g){const I=Am(h,g);if(null!=I){const P=Ah(I),B=P.path,ne=P.queryId,ye=Js(B,l);return cf(h,B,new Vl(Ed(ne),ye,c))}return[]}function jl(h,l,c,g=!1){const I=l._path;let P=null,B=!1;h.syncPointTree_.foreachOnPath(I,(zt,En)=>{const Ln=Js(zt,I);P=P||Oa(En,Ln),B=B||v(En)});let ye,ne=h.syncPointTree_.get(I);ne?(B=B||v(ne),P=P||Oa(ne,cr())):(ne=new rl,h.syncPointTree_=h.syncPointTree_.set(I,ne)),null!=P?ye=!0:(ye=!1,P=Er.EMPTY_NODE,h.syncPointTree_.subtree(I).foreachChild((En,Ln)=>{const Mr=Oa(Ln,cr());Mr&&(P=P.updateImmediateChild(En,Mr))}));const ke=_(ne,l);if(!ke&&!l._queryParams.loadsAllData()){const zt=ag(l);(0,x.hu)(!h.queryToTagMap.has(zt),"View does not exist, but we have a tag");const En=function lg(){return Dt++}();h.queryToTagMap.set(zt,En),h.tagToQueryMap.set(En,zt)}let kt=function og(h,l,c,g,I,P){const B=Kc(h,l,g,I,P);return h.views.has(l._queryIdentifier)||h.views.set(l._queryIdentifier,B),function Mu(h,l){h.eventRegistrations_.push(l)}(B,c),function sf(h,l){const c=h.viewCache_.eventCache,g=[];return c.getNode().isLeafNode()||c.getNode().forEachChild(vi,(P,B)=>{g.push(_a(P,B))}),c.isFullyInitialized()&&g.push(Nl(c.getNode())),ps(h,g,c.getNode(),l)}(B,c)}(ne,l,c,Du(h.pendingWriteTree_,I),P,ye);if(!ke&&!B&&!g){const zt=C(ne,l);kt=kt.concat(function Sm(h,l,c){const g=l._path,I=xd(h,l),P=bh(h,c),B=h.listenProvider_.startListening(Zc(l),I,P.hashFn,P.onComplete),ne=h.syncPointTree_.subtree(g);if(I)(0,x.hu)(!v(ne.value),"If we're adding a query, it shouldn't be shadowed");else{const ye=ne.fold((ke,wt,kt)=>{if(!Rr(ke)&&wt&&v(wt))return[b(wt).query];{let zt=[];return wt&&(zt=zt.concat(Nu(wt).map(En=>En.query))),si(kt,(En,Ln)=>{zt=zt.concat(Ln)}),zt}});for(let ke=0;ke<ye.length;++ke){const wt=ye[ke];h.listenProvider_.stopListening(Zc(wt),xd(h,wt))}}return B}(h,l,zt))}return kt}function na(h,l,c){const I=h.pendingWriteTree_,P=h.syncPointTree_.findOnPath(l,(B,ne)=>{const ke=Oa(ne,Js(B,l));if(ke)return ke});return qf(I,l,P,c,!0)}function Ic(h,l){return Fu(l,h.syncPointTree_,null,Du(h.pendingWriteTree_,cr()))}function Fu(h,l,c,g){if(Rr(h.path))return Md(h,l,c,g);{const I=l.get(cr());null==c&&null!=I&&(c=Oa(I,cr()));let P=[];const B=Wn(h.path),ne=h.operationForChild(B),ye=l.children.get(B);if(ye&&ne){const ke=c?c.getImmediateChild(B):null,wt=Ru(g,B);P=P.concat(Fu(ne,ye,ke,wt))}return I&&(P=P.concat(Dh(I,h,g,c))),P}}function Md(h,l,c,g){const I=l.get(cr());null==c&&null!=I&&(c=Oa(I,cr()));let P=[];return l.children.inorderTraversal((B,ne)=>{const ye=c?c.getImmediateChild(B):null,ke=Ru(g,B),wt=h.operationForChild(B);wt&&(P=P.concat(Md(wt,ne,ye,ke)))}),I&&(P=P.concat(Dh(I,h,g,c))),P}function bh(h,l){const c=l.query,g=xd(h,c);return{hashFn:()=>(function El(h){return h.viewCache_.serverCache.getNode()}(l)||Er.EMPTY_NODE).hash(),onComplete:I=>{if("ok"===I)return g?function lf(h,l,c){const g=Am(h,c);if(g){const I=Ah(g),P=I.path,B=I.queryId,ne=Js(P,l);return cf(h,P,new vh(Ed(B),ne))}return[]}(h,c._path,g):function Pd(h,l){return Ic(h,new vh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l))}(h,c._path);{const P=function Ko(h,l){let c="Unknown Error";"too_big"===h?c="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===h?c="Client doesn't have permission to access the desired data.":"unavailable"===h&&(c="The service is unavailable");const g=new Error(h+" at "+l._path.toString()+": "+c);return g.code=h.toUpperCase(),g}(I,c);return es(h,c,null,P)}}}}function xd(h,l){const c=ag(l);return h.queryToTagMap.get(c)}function ag(h){return h._path.toString()+"$"+h._queryIdentifier}function Am(h,l){return h.tagToQueryMap.get(l)}function Ah(h){const l=h.indexOf("$");return(0,x.hu)(-1!==l&&l<h.length-1,"Bad queryKey."),{queryId:h.substr(l+1),path:new sr(h.substr(0,l))}}function cf(h,l,c){const g=h.syncPointTree_.get(l);return(0,x.hu)(g,"Missing sync point for query tag that we're tracking"),Dh(g,c,Du(h.pendingWriteTree_,l),null)}function Zc(h){return h._queryParams.loadsAllData()&&!h._queryParams.isDefault()?new(function ot(){return(0,x.hu)(Y,"Reference.ts has not been loaded"),Y}())(h._repo,h._path):h}class Vu{constructor(l){this.node_=l}getImmediateChild(l){const c=this.node_.getImmediateChild(l);return new Vu(c)}node(){return this.node_}}class cg{constructor(l,c){this.syncTree_=l,this.path_=c}getImmediateChild(l){const c=Fi(this.path_,l);return new cg(this.syncTree_,c)}node(){return na(this.syncTree_,this.path_)}}const Rm=function(h){return(h=h||{}).timestamp=h.timestamp||(new Date).getTime(),h},ug=function(h,l,c){return h&&"object"==typeof h?((0,x.hu)(".sv"in h,"Unexpected leaf node or priority contents"),"string"==typeof h[".sv"]?Hl(h[".sv"],l,c):"object"==typeof h[".sv"]?Qc(h[".sv"],l):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2))):h},Hl=function(h,l,c){if("timestamp"===h)return c.timestamp;(0,x.hu)(!1,"Unexpected server value: "+h)},Qc=function(h,l,c){h.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(h,null,2));const g=h.increment;"number"!=typeof g&&(0,x.hu)(!1,"Unexpected increment value: "+g);const I=l.node();if((0,x.hu)(null!==I&&typeof I<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!I.isLeafNode())return g;const B=I.getValue();return"number"!=typeof B?g:B+g},Sh=function(h,l,c,g){return tp(l,new cg(c,h),g)},dg=function(h,l,c){return tp(h,new Vu(l),c)};function tp(h,l,c){const g=h.getPriority().val(),I=ug(g,l.getImmediateChild(".priority"),c);let P;if(h.isLeafNode()){const B=h,ne=ug(B.getValue(),l,c);return ne!==B.getValue()||I!==B.getPriority().val()?new cc(ne,Bi(I)):h}{const B=h;return P=B,I!==B.getPriority().val()&&(P=P.updatePriority(new cc(I))),B.forEachChild(vi,(ne,ye)=>{const ke=tp(ye,l.getImmediateChild(ne),c);ke!==ye&&(P=P.updateImmediateChild(ne,ke))}),P}}class Gl{constructor(l="",c=null,g={children:{},childCount:0}){this.name=l,this.parent=c,this.node=g}}function Rh(h,l){let c=l instanceof sr?l:new sr(l),g=h,I=Wn(c);for(;null!==I;){const P=(0,x.DV)(g.node.children,I)||{children:{},childCount:0};g=new Gl(I,g,P),c=mi(c),I=Wn(c)}return g}function Xc(h){return h.node.value}function np(h,l){h.node.value=l,Nd(h)}function df(h){return h.node.childCount>0}function zl(h,l){si(h.node.children,(c,g)=>{l(new Gl(c,h,g))})}function Bu(h,l,c,g){c&&!g&&l(h),zl(h,I=>{Bu(I,l,!0,g)}),c&&g&&l(h)}function fo(h){return new sr(null===h.parent?h.name:fo(h.parent)+"/"+h.name)}function Nd(h){null!==h.parent&&function rp(h,l,c){const g=function Od(h){return void 0===Xc(h)&&!df(h)}(c),I=(0,x.r3)(h.node.children,l);g&&I?(delete h.node.children[l],h.node.childCount--,Nd(h)):!g&&!I&&(h.node.children[l]=c.node,h.node.childCount++,Nd(h))}(h.parent,h.name,h)}const ip=/[\[\].#$\/\u0000-\u001F\u007F]/,Fo=/[\[\].#$\u0000-\u001F\u007F]/,kd=10485760,Ph=function(h){return"string"==typeof h&&0!==h.length&&!ip.test(h)},sp=function(h){return"string"==typeof h&&0!==h.length&&!Fo.test(h)},Cc=function(h){return null===h||"string"==typeof h||"number"==typeof h&&!Gt(h)||h&&"object"==typeof h&&(0,x.r3)(h,".sv")},ra=function(h,l,c,g){g&&void 0===l||Mh((0,x.gK)(h,"value"),l,c)},Mh=function(h,l,c){const g=c instanceof sr?new hd(c,h):c;if(void 0===l)throw new Error(h+"contains undefined "+Ma(g));if("function"==typeof l)throw new Error(h+"contains a function "+Ma(g)+" with contents = "+l.toString());if(Gt(l))throw new Error(h+"contains "+l.toString()+" "+Ma(g));if("string"==typeof l&&l.length>kd/3&&(0,x.ug)(l)>kd)throw new Error(h+"contains a string greater than "+kd+" utf8 bytes "+Ma(g)+" ('"+l.substring(0,50)+"...')");if(l&&"object"==typeof l){let I=!1,P=!1;if(si(l,(B,ne)=>{if(".value"===B)I=!0;else if(".priority"!==B&&".sv"!==B&&(P=!0,!Ph(B)))throw new Error(h+" contains an invalid key ("+B+") "+Ma(g)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function vu(h,l){h.parts_.length>0&&(h.byteLength_+=1),h.parts_.push(l),h.byteLength_+=(0,x.ug)(l),dh(h)})(g,B),Mh(h,ne,g),function lc(h){const l=h.parts_.pop();h.byteLength_-=(0,x.ug)(l),h.parts_.length>0&&(h.byteLength_-=1)}(g)}),I&&P)throw new Error(h+' contains ".value" child '+Ma(g)+" in addition to actual children.")}},hg=function(h,l,c,g){if(g&&void 0===l)return;const I=(0,x.gK)(h,"values");if(!l||"object"!=typeof l||Array.isArray(l))throw new Error(I+" must be an object containing the children to replace.");const P=[];si(l,(B,ne)=>{const ye=new sr(B);if(Mh(I,ne,Fi(c,ye)),".priority"===Xi(ye)&&!Cc(ne))throw new Error(I+"contains an invalid value for '"+ye.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");P.push(ye)}),function(h,l){let c,g;for(c=0;c<l.length;c++){g=l[c];const P=xo(g);for(let B=0;B<P.length;B++)if((".priority"!==P[B]||B!==P.length-1)&&!Ph(P[B]))throw new Error(h+"contains an invalid key ("+P[B]+") in path "+g.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}l.sort(Nc);let I=null;for(c=0;c<l.length;c++){if(g=l[c],null!==I&&Oo(I,g))throw new Error(h+"contains a path "+I.toString()+" that is ancestor of another path "+g.toString());I=g}}(I,P)},fg=function(h,l,c){if(!c||void 0!==l){if(Gt(l))throw new Error((0,x.gK)(h,"priority")+"is "+l.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Cc(l))throw new Error((0,x.gK)(h,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ff=function(h,l,c,g){if(!(g&&void 0===c||Ph(c)))throw new Error((0,x.gK)(h,l)+'was an invalid key = "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Wl=function(h,l,c,g){if(!(g&&void 0===c||sp(c)))throw new Error((0,x.gK)(h,l)+'was an invalid path = "'+c+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Jc=function(h,l,c,g){c&&(c=c.replace(/^\/*\.info(\/|$)/,"/")),Wl(h,l,c,g)},po=function(h,l){if(".info"===Wn(l))throw new Error(h+" failed = Can't modify data under /.info/")},Ld=function(h,l){const c=l.path.toString();if("string"!=typeof l.repoInfo.host||0===l.repoInfo.host.length||!Ph(l.repoInfo.namespace)&&"localhost"!==l.repoInfo.host.split(":")[0]||0!==c.length&&!function(h){return h&&(h=h.replace(/^\/*\.info(\/|$)/,"/")),sp(h)}(c))throw new Error((0,x.gK)(h,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mm{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pf(h,l){let c=null;for(let g=0;g<l.length;g++){const I=l[g],P=I.getPath();null!==c&&!ac(P,c.path)&&(h.eventLists_.push(c),c=null),null===c&&(c={events:[],path:P}),c.events.push(I)}c&&h.eventLists_.push(c)}function pg(h,l,c){pf(h,c),gf(h,g=>ac(g,l))}function ia(h,l,c){pf(h,c),gf(h,g=>Oo(g,l)||Oo(l,g))}function gf(h,l){h.recursionDepth_++;let c=!0;for(let g=0;g<h.eventLists_.length;g++){const I=h.eventLists_[g];I&&(l(I.path)?(Fd(h.eventLists_[g]),h.eventLists_[g]=null):c=!1)}c&&(h.eventLists_=[]),h.recursionDepth_--}function Fd(h){for(let l=0;l<h.events.length;l++){const c=h.events[l];if(null!==c){h.events[l]=null;const g=c.getEventRunner();Ro&&R("event: "+c.toString()),Os(g)}}}const Vd="repo_interrupt",ap=25;class lp{constructor(l,c,g,I){this.repoInfo_=l,this.forceRestClient_=c,this.authTokenProvider_=g,this.appCheckProvider_=I,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yi(),this.transactionQueueTree_=new Gl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xm(h){const c=h.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+c}function Ud(h){return Rm({timestamp:xm(h)})}function mf(h,l,c,g,I){h.dataUpdateCount++;const P=new sr(l);c=h.interceptServerDataCallback_?h.interceptServerDataCallback_(l,c):c;let B=[];if(I)if(g){const ye=(0,x.UI)(c,ke=>Bi(ke));B=function Jf(h,l,c,g){const I=Am(h,g);if(I){const P=Ah(I),B=P.path,ne=P.queryId,ye=Js(B,l),ke=Or.fromObject(c);return cf(h,B,new $c(Ed(ne),ye,ke))}return[]}(h.serverSyncTree_,P,ye,I)}else{const ye=Bi(c);B=ku(h.serverSyncTree_,P,ye,I)}else if(g){const ye=(0,x.UI)(c,ke=>Bi(ke));B=function ho(h,l,c){const g=Or.fromObject(c);return Ic(h,new $c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},l,g))}(h.serverSyncTree_,P,ye)}else{const ye=Bi(c);B=Si(h.serverSyncTree_,P,ye)}let ne=P;B.length>0&&(ne=ju(h,P)),ia(h.eventQueue_,ne,B)}function Om(h,l){Uu(h,"connected",l),!1===l&&function sa(h){ru(h,"onDisconnectEvents");const l=Ud(h),c=yi();Uc(h.onDisconnect_,cr(),(I,P)=>{const B=Sh(I,P,h.serverSyncTree_,l);Jo(c,I,B)});let g=[];Uc(c,cr(),(I,P)=>{g=g.concat(Si(h.serverSyncTree_,I,P));const B=dp(h,I);ju(h,B)}),h.onDisconnect_=yi(),ia(h.eventQueue_,cr(),g)}(h)}function Uu(h,l,c){const g=new sr("/.info/"+l),I=Bi(c);h.infoData_.updateSnapshot(g,I);const P=Si(h.infoSyncTree_,g,I);ia(h.eventQueue_,g,P)}function eu(h){return h.nextWriteId_++}function $d(h,l,c,g,I){ru(h,"set",{path:l.toString(),value:c,priority:g});const P=Ud(h),B=Bi(c,g),ne=na(h.serverSyncTree_,l),ye=dg(B,ne,P),ke=eu(h),wt=An(h.serverSyncTree_,l,ye,ke,!0);pf(h.eventQueue_,wt),h.server_.put(l.toString(),B.val(!0),(zt,En)=>{const Ln="ok"===zt;Ln||ve("set at "+l+" failed: "+zt);const Mr=qn(h.serverSyncTree_,ke,!Ln);ia(h.eventQueue_,l,Mr),il(0,I,zt,En)});const kt=dp(h,l);ju(h,kt),ia(h.eventQueue_,kt,[])}function km(h,l,c){h.server_.onDisconnectCancel(l.toString(),(g,I)=>{"ok"===g&&Ll(h.onDisconnect_,l),il(0,c,g,I)})}function jd(h,l,c,g){const I=Bi(c);h.server_.onDisconnectPut(l.toString(),I.val(!0),(P,B)=>{"ok"===P&&Jo(h.onDisconnect_,l,I),il(0,g,P,B)})}function nu(h,l,c){let g;g=".info"===Wn(l._path)?es(h.infoSyncTree_,l,c):es(h.serverSyncTree_,l,c),pg(h.eventQueue_,l._path,g)}function gg(h){h.persistentConnection_&&h.persistentConnection_.interrupt(Vd)}function ru(h,...l){let c="";h.persistentConnection_&&(c=h.persistentConnection_.id+":"),R(c,...l)}function il(h,l,c,g){l&&Os(()=>{if("ok"===c)l(null);else{const I=(c||"error").toUpperCase();let P=I;g&&(P+=": "+g);const B=new Error(P);B.code=I,l(B)}})}function Yl(h,l,c){return na(h.serverSyncTree_,l,c)||Er.EMPTY_NODE}function Oh(h,l=h.transactionQueueTree_){if(l||Hu(h,l),Xc(l)){const c=vg(h,l);(0,x.hu)(c.length>0,"Sending zero length transaction queue"),c.every(I=>0===I.status)&&function _g(h,l,c){const g=c.map(ke=>ke.currentWriteId),I=Yl(h,l,g);let P=I;const B=I.hash();for(let ke=0;ke<c.length;ke++){const wt=c[ke];(0,x.hu)(0===wt.status,"tryToSendTransactionQueue_: items in queue should all be run."),wt.status=1,wt.retryCount++;const kt=Js(l,wt.path);P=P.updateChild(kt,wt.currentOutputSnapshotRaw)}const ne=P.val(!0),ye=l;h.server_.put(ye.toString(),ne,ke=>{ru(h,"transaction put response",{path:ye.toString(),status:ke});let wt=[];if("ok"===ke){const kt=[];for(let zt=0;zt<c.length;zt++)c[zt].status=2,wt=wt.concat(qn(h.serverSyncTree_,c[zt].currentWriteId)),c[zt].onComplete&&kt.push(()=>c[zt].onComplete(null,!0,c[zt].currentOutputSnapshotResolved)),c[zt].unwatcher();Hu(h,Rh(h.transactionQueueTree_,l)),Oh(h,h.transactionQueueTree_),ia(h.eventQueue_,l,wt);for(let zt=0;zt<kt.length;zt++)Os(kt[zt])}else{if("datastale"===ke)for(let kt=0;kt<c.length;kt++)c[kt].status=3===c[kt].status?4:0;else{ve("transaction at "+ye.toString()+" failed: "+ke);for(let kt=0;kt<c.length;kt++)c[kt].status=4,c[kt].abortReason=ke}ju(h,l)}},B)}(h,fo(l),c)}else df(l)&&zl(l,c=>{Oh(h,c)})}function ju(h,l){const c=Hd(h,l),g=fo(c);return function up(h,l,c){if(0===l.length)return;const g=[];let I=[];const B=l.filter(ne=>0===ne.status).map(ne=>ne.currentWriteId);for(let ne=0;ne<l.length;ne++){const ye=l[ne],ke=Js(c,ye.path);let kt,wt=!1;if((0,x.hu)(null!==ke,"rerunTransactionsUnderNode_: relativePath should not be null."),4===ye.status)wt=!0,kt=ye.abortReason,I=I.concat(qn(h.serverSyncTree_,ye.currentWriteId,!0));else if(0===ye.status)if(ye.retryCount>=ap)wt=!0,kt="maxretry",I=I.concat(qn(h.serverSyncTree_,ye.currentWriteId,!0));else{const zt=Yl(h,ye.path,B);ye.currentInputSnapshot=zt;const En=l[ne].update(zt.val());if(void 0!==En){Mh("transaction failed: Data returned ",En,ye.path);let Ln=Bi(En);"object"==typeof En&&null!=En&&(0,x.r3)(En,".priority")||(Ln=Ln.updatePriority(zt.getPriority()));const Wr=ye.currentWriteId,Hs=Ud(h),mo=dg(Ln,zt,Hs);ye.currentOutputSnapshotRaw=Ln,ye.currentOutputSnapshotResolved=mo,ye.currentWriteId=eu(h),B.splice(B.indexOf(Wr),1),I=I.concat(An(h.serverSyncTree_,ye.path,mo,ye.currentWriteId,ye.applyLocally)),I=I.concat(qn(h.serverSyncTree_,Wr,!0))}else wt=!0,kt="nodata",I=I.concat(qn(h.serverSyncTree_,ye.currentWriteId,!0))}ia(h.eventQueue_,c,I),I=[],wt&&(l[ne].status=2,setTimeout(l[ne].unwatcher,Math.floor(0)),l[ne].onComplete&&g.push("nodata"===kt?()=>l[ne].onComplete(null,!1,l[ne].currentInputSnapshot):()=>l[ne].onComplete(new Error(kt),!1,null)))}Hu(h,h.transactionQueueTree_);for(let ne=0;ne<g.length;ne++)Os(g[ne]);Oh(h,h.transactionQueueTree_)}(h,vg(h,c),g),g}function Hd(h,l){let c,g=h.transactionQueueTree_;for(c=Wn(l);null!==c&&void 0===Xc(g);)g=Rh(g,c),c=Wn(l=mi(l));return g}function vg(h,l){const c=[];return Gd(h,l,c),c.sort((g,I)=>g.order-I.order),c}function Gd(h,l,c){const g=Xc(l);if(g)for(let I=0;I<g.length;I++)c.push(g[I]);zl(l,I=>{Gd(h,I,c)})}function Hu(h,l){const c=Xc(l);if(c){let g=0;for(let I=0;I<c.length;I++)2!==c[I].status&&(c[g]=c[I],g++);c.length=g,np(l,c.length>0?c:void 0)}zl(l,g=>{Hu(h,g)})}function dp(h,l){const c=fo(Hd(h,l)),g=Rh(h.transactionQueueTree_,l);return function hf(h,l,c){let g=c?h:h.parent;for(;null!==g;){if(l(g))return!0;g=g.parent}}(g,I=>{Nh(h,I)}),Nh(h,g),Bu(g,I=>{Nh(h,I)}),c}function Nh(h,l){const c=Xc(l);if(c){const g=[];let I=[],P=-1;for(let B=0;B<c.length;B++)3===c[B].status||(1===c[B].status?((0,x.hu)(P===B-1,"All SENT items should be at beginning of queue."),P=B,c[B].status=3,c[B].abortReason="set"):((0,x.hu)(0===c[B].status,"Unexpected transaction status in abort"),c[B].unwatcher(),I=I.concat(qn(h.serverSyncTree_,c[B].currentWriteId,!0)),c[B].onComplete&&g.push(c[B].onComplete.bind(null,new Error("set"),!1,null))));-1===P?np(l,void 0):c.length=P+1,ia(h.eventQueue_,fo(l),I);for(let B=0;B<g.length;B++)Os(g[B])}}const Tc=function(h,l){const c=yf(h),g=c.namespace;return"firebase.com"===c.domain&&H(c.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!g||"undefined"===g)&&"localhost"!==c.domain&&H("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),c.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Qn(c.host,c.secure,g,"ws"===c.scheme||"wss"===c.scheme,l,"",g!==c.subdomain),path:new sr(c.pathString)}},yf=function(h){let l="",c="",g="",I="",P="",B=!0,ne="https",ye=443;if("string"==typeof h){let ke=h.indexOf("//");ke>=0&&(ne=h.substring(0,ke-1),h=h.substring(ke+2));let wt=h.indexOf("/");-1===wt&&(wt=h.length);let kt=h.indexOf("?");-1===kt&&(kt=h.length),l=h.substring(0,Math.min(wt,kt)),wt<kt&&(I=function vf(h){let l="";const c=h.split("/");for(let g=0;g<c.length;g++)if(c[g].length>0){let I=c[g];try{I=decodeURIComponent(I.replace(/\+/g," "))}catch{}l+="/"+I}return l}(h.substring(wt,kt)));const zt=function Lm(h){const l={};"?"===h.charAt(0)&&(h=h.substring(1));for(const c of h.split("&")){if(0===c.length)continue;const g=c.split("=");2===g.length?l[decodeURIComponent(g[0])]=decodeURIComponent(g[1]):ve(`Invalid query segment '${c}' in query '${h}'`)}return l}(h.substring(Math.min(h.length,kt)));ke=l.indexOf(":"),ke>=0?(B="https"===ne||"wss"===ne,ye=parseInt(l.substring(ke+1),10)):ke=l.length;const En=l.slice(0,ke);if("localhost"===En.toLowerCase())c="localhost";else if(En.split(".").length<=2)c=En;else{const Ln=l.indexOf(".");g=l.substring(0,Ln).toLowerCase(),c=l.substring(Ln+1),P=g}"ns"in zt&&(P=zt.ns)}return{host:l,port:ye,domain:c,subdomain:g,secure:B,scheme:ne,pathString:I,namespace:P}},yg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Fm=function(){let h=0;const l=[];return function(c){const g=c===h;let I;h=c;const P=new Array(8);for(I=7;I>=0;I--)P[I]=yg.charAt(c%64),c=Math.floor(c/64);(0,x.hu)(0===c,"Cannot push at time == 0");let B=P.join("");if(g){for(I=11;I>=0&&63===l[I];I--)l[I]=0;l[I]++}else for(I=0;I<12;I++)l[I]=Math.floor(64*Math.random());for(I=0;I<12;I++)B+=yg.charAt(l[I]);return(0,x.hu)(20===B.length,"nextPushId: Length should be 20."),B}}();class Eg{constructor(l,c,g,I){this.eventType=l,this.eventRegistration=c,this.snapshot=g,this.prevName=I}getPath(){const l=this.snapshot.ref;return"value"===this.eventType?l._path:l.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class hp{constructor(l,c,g){this.eventRegistration=l,this.error=c,this.path=g}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kh{constructor(l,c){this.snapshotCallback=l,this.cancelCallback=c}onValue(l,c){this.snapshotCallback.call(null,l,c)}onCancel(l){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,l)}get hasCancelCallback(){return!!this.cancelCallback}matches(l){return this.snapshotCallback===l.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===l.snapshotCallback.userCallback&&this.snapshotCallback.context===l.snapshotCallback.context}}class fp{constructor(l,c){this._repo=l,this._path=c}cancel(){const l=new x.BH;return km(this._repo,this._path,l.wrapCallback(()=>{})),l.promise}remove(){po("OnDisconnect.remove",this._path);const l=new x.BH;return jd(this._repo,this._path,null,l.wrapCallback(()=>{})),l.promise}set(l){po("OnDisconnect.set",this._path),ra("OnDisconnect.set",l,this._path,!1);const c=new x.BH;return jd(this._repo,this._path,l,c.wrapCallback(()=>{})),c.promise}setWithPriority(l,c){po("OnDisconnect.setWithPriority",this._path),ra("OnDisconnect.setWithPriority",l,this._path,!1),fg("OnDisconnect.setWithPriority",c,!1);const g=new x.BH;return function _f(h,l,c,g,I){const P=Bi(c,g);h.server_.onDisconnectPut(l.toString(),P.val(!0),(B,ne)=>{"ok"===B&&Jo(h.onDisconnect_,l,P),il(0,I,B,ne)})}(this._repo,this._path,l,c,g.wrapCallback(()=>{})),g.promise}update(l){po("OnDisconnect.update",this._path),hg("OnDisconnect.update",l,this._path,!1);const c=new x.BH;return function $u(h,l,c,g){if((0,x.xb)(c))return R("onDisconnect().update() called with empty data.  Don't do anything."),void il(0,g,"ok",void 0);h.server_.onDisconnectMerge(l.toString(),c,(I,P)=>{"ok"===I&&si(c,(B,ne)=>{const ye=Bi(ne);Jo(h.onDisconnect_,Fi(l,B),ye)}),il(0,g,I,P)})}(this._repo,this._path,l,c.wrapCallback(()=>{})),c.promise}}class $s{constructor(l,c,g,I){this._repo=l,this._path=c,this._queryParams=g,this._orderByCalled=I}get key(){return Rr(this._path)?null:Xi(this._path)}get ref(){return new Il(this._repo,this._path)}get _queryIdentifier(){const l=Yf(this._queryParams),c=Pr(l);return"{}"===c?"default":c}get _queryObject(){return Yf(this._queryParams)}isEqual(l){if(!((l=(0,x.m9)(l))instanceof $s))return!1;const c=this._repo===l._repo,g=ac(this._path,l._path);return c&&g&&this._queryIdentifier===l._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Zh(h){let l="";for(let c=h.pieceNum_;c<h.pieces_.length;c++)""!==h.pieces_[c]&&(l+="/"+encodeURIComponent(String(h.pieces_[c])));return l||"/"}(this._path)}}function js(h,l){if(!0===h._orderByCalled)throw new Error(l+": You can't combine multiple orderBy calls.")}function Gu(h){let l=null,c=null;if(h.hasStart()&&(l=h.getIndexStartValue()),h.hasEnd()&&(c=h.getIndexEndValue()),h.getIndex()===_i){const g="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",I="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(h.hasStart()){if(h.getIndexStartName()!==fr)throw new Error(g);if("string"!=typeof l)throw new Error(I)}if(h.hasEnd()){if(h.getIndexEndName()!==wr)throw new Error(g);if("string"!=typeof c)throw new Error(I)}}else if(h.getIndex()===vi){if(null!=l&&!Cc(l)||null!=c&&!Cc(c))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(h.getIndex()instanceof xl||h.getIndex()===Xo,"unknown index type."),null!=l&&"object"==typeof l||null!=c&&"object"==typeof c)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ig(h){if(h.hasStart()&&h.hasEnd()&&h.hasLimit()&&!h.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Il extends $s{constructor(l,c){super(l,c,new Jh,!1)}get parent(){const l=Pa(this._path);return null===l?null:new Il(this._repo,l)}get root(){let l=this;for(;null!==l.parent;)l=l.parent;return l}}class Dc{constructor(l,c,g){this._node=l,this.ref=c,this._index=g}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(l){const c=new sr(l),g=ql(this.ref,l);return new Dc(this._node.getChild(c),g,vi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(l){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(g,I)=>l(new Dc(I,ql(this.ref,g),vi)))}hasChild(l){const c=new sr(l);return!this._node.getChild(c).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lh(h,l){return(h=(0,x.m9)(h))._checkNotDeleted("ref"),void 0!==l?ql(h._root,l):h._root}function Cg(h,l){(h=(0,x.m9)(h))._checkNotDeleted("refFromURL");const c=Tc(l,h._repo.repoInfo_.nodeAdmin);Ld("refFromURL",c);const g=c.repoInfo;return!h._repo.repoInfo_.isCustomHost()&&g.host!==h._repo.repoInfo_.host&&H("refFromURL: Host name does not match the current database: (found "+g.host+" but expected "+h._repo.repoInfo_.host+")"),Lh(h,c.path.toString())}function ql(h,l){return null===Wn((h=(0,x.m9)(h))._path)?Jc("child","path",l,!1):Wl("child","path",l,!1),new Il(h._repo,Fi(h._path,l))}function Ef(h,l){h=(0,x.m9)(h),po("set",h._path),ra("set",l,h._path,!1);const c=new x.BH;return $d(h._repo,h._path,l,null,c.wrapCallback(()=>{})),c.promise}function gp(h,l){hg("update",l,h._path,!1);const c=new x.BH;return function cp(h,l,c,g){ru(h,"update",{path:l.toString(),value:c});let I=!0;const P=Ud(h),B={};if(si(c,(ne,ye)=>{I=!1,B[ne]=Sh(Fi(l,ne),Bi(ye),h.serverSyncTree_,P)}),I)R("update() called with empty data.  Don't do anything."),il(0,g,"ok",void 0);else{const ne=eu(h),ye=function Zn(h,l,c,g){!function Ih(h,l,c,g){(0,x.hu)(g>h.lastWriteId,"Stacking an older merge on top of newer ones"),h.allWrites.push({path:l,children:c,writeId:g,visible:!0}),h.visibleWrites=Hc(h.visibleWrites,l,c),h.lastWriteId=g}(h.pendingWriteTree_,l,c,g);const I=Or.fromObject(c);return Ic(h,new $c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},l,I))}(h.serverSyncTree_,l,B,ne);pf(h.eventQueue_,ye),h.server_.merge(l.toString(),c,(ke,wt)=>{const kt="ok"===ke;kt||ve("update at "+l+" failed: "+ke);const zt=qn(h.serverSyncTree_,ne,!kt),En=zt.length>0?ju(h,l):l;ia(h.eventQueue_,En,zt),il(0,g,ke,wt)}),si(c,ke=>{const wt=dp(h,Fi(l,ke));ju(h,wt)}),ia(h.eventQueue_,l,[])}}(h._repo,h._path,l,c.wrapCallback(()=>{})),c.promise}function bc(h){h=(0,x.m9)(h);const l=new kh(()=>{}),c=new Kl(l);return function wc(h,l,c){const g=function Lu(h,l){const c=l._path;let g=null;h.syncPointTree_.foreachOnPath(c,(ke,wt)=>{const kt=Js(ke,c);g=g||Oa(wt,kt)});let I=h.syncPointTree_.get(c);I?g=g||Oa(I,cr()):(I=new rl,h.syncPointTree_=h.syncPointTree_.set(c,I));const P=null!=g,B=P?new Lo(g,!0,!1):null;return function ro(h){return xa(h.viewCache_)}(Kc(I,l,Du(h.pendingWriteTree_,l._path),P?B.getNode():Er.EMPTY_NODE,P))}(h.serverSyncTree_,l);return null!=g?Promise.resolve(g):h.server_.get(l).then(I=>{const P=Bi(I).withIndex(l._queryParams.getIndex());let B;if(jl(h.serverSyncTree_,l,c,!0),l._queryParams.loadsAllData())B=Si(h.serverSyncTree_,l._path,P);else{const ne=xd(h.serverSyncTree_,l);B=ku(h.serverSyncTree_,l._path,P,ne)}return ia(h.eventQueue_,l._path,B),es(h.serverSyncTree_,l,c,null,!0),P},I=>(ru(h,"get for query "+(0,x.Wl)(l)+" failed: "+I),Promise.reject(new Error(I))))}(h._repo,h,c).then(g=>new Dc(g,new Il(h._repo,h._path),h._queryParams.getIndex()))}class Kl{constructor(l){this.callbackContext=l}respondsTo(l){return"value"===l}createEvent(l,c){const g=c._queryParams.getIndex();return new Eg("value",this,new Dc(l.snapshotNode,new Il(c._repo,c._path),g))}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,null)}createCancelEvent(l,c){return this.callbackContext.hasCancelCallback?new hp(this,l,c):null}matches(l){return l instanceof Kl&&(!l.callbackContext||!this.callbackContext||l.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class mp{constructor(l,c){this.eventType=l,this.callbackContext=c}respondsTo(l){let c="children_added"===l?"child_added":l;return c="children_removed"===c?"child_removed":c,this.eventType===c}createCancelEvent(l,c){return this.callbackContext.hasCancelCallback?new hp(this,l,c):null}createEvent(l,c){(0,x.hu)(null!=l.childName,"Child events should have a childName.");const g=ql(new Il(c._repo,c._path),l.childName),I=c._queryParams.getIndex();return new Eg(l.type,this,new Dc(l.snapshotNode,g,I),l.prevName)}getEventRunner(l){return"cancel"===l.getEventType()?()=>this.callbackContext.onCancel(l.error):()=>this.callbackContext.onValue(l.snapshot,l.prevName)}matches(l){return l instanceof mp&&this.eventType===l.eventType&&(!this.callbackContext||!l.callbackContext||this.callbackContext.matches(l.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cf(h,l,c,g,I){let P;if("object"==typeof g&&(P=void 0,I=g),"function"==typeof g&&(P=g),I&&I.onlyOnce){const ye=c,ke=(wt,kt)=>{nu(h._repo,h,ne),ye(wt,kt)};ke.userCallback=c.userCallback,ke.context=c.context,c=ke}const B=new kh(c,P||void 0),ne="value"===l?new Kl(B):new mp(l,B);return function tu(h,l,c){let g;g=".info"===Wn(l._path)?jl(h.infoSyncTree_,l,c):jl(h.serverSyncTree_,l,c),pg(h.eventQueue_,l._path,g)}(h._repo,h,ne),()=>nu(h._repo,h,ne)}function Um(h,l,c,g){return Cf(h,"value",l,c,g)}function $m(h,l,c,g){return Cf(h,"child_added",l,c,g)}function jm(h,l,c,g){return Cf(h,"child_changed",l,c,g)}function Tg(h,l,c,g){return Cf(h,"child_moved",l,c,g)}function Dg(h,l,c,g){return Cf(h,"child_removed",l,c,g)}function bg(h,l,c){let g=null;const I=c?new kh(c):null;"value"===l?g=new Kl(I):l&&(g=new mp(l,I)),nu(h._repo,h,g)}class Zl{}class Ag extends Zl{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){ra("endAt",this._value,l._path,!0);const c=_l(l._queryParams,this._value,this._key);if(Ig(c),Gu(c),l._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(l._repo,l._path,c,l._orderByCalled)}}class zu extends Zl{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){ra("endBefore",this._value,l._path,!1);const c=function ms(h,l,c){let g;return g=_l(h,l,h.index_===_i||c?c:fr),g.endBeforeSet_=!0,g}(l._queryParams,this._value,this._key);if(Ig(c),Gu(c),l._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(l._repo,l._path,c,l._orderByCalled)}}class Wu extends Zl{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){ra("startAt",this._value,l._path,!0);const c=kl(l._queryParams,this._value,this._key);if(Ig(c),Gu(c),l._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $s(l._repo,l._path,c,l._orderByCalled)}}class Sg extends Zl{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){ra("startAfter",this._value,l._path,!1);const c=function Ji(h,l,c){let g;return g=kl(h,l,h.index_===_i||c?c:wr),g.startAfterSet_=!0,g}(l._queryParams,this._value,this._key);if(Ig(c),Gu(c),l._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $s(l._repo,l._path,c,l._orderByCalled)}}class G_ extends Zl{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(l._repo,l._path,function ig(h,l){const c=h.copy();return c.limitSet_=!0,c.limit_=l,c.viewFrom_="l",c}(l._queryParams,this._limit),l._orderByCalled)}}class Hm extends Zl{constructor(l){super(),this._limit=l}_apply(l){if(l._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(l._repo,l._path,function Io(h,l){const c=h.copy();return c.limitSet_=!0,c.limit_=l,c.viewFrom_="r",c}(l._queryParams,this._limit),l._orderByCalled)}}class Tf extends Zl{constructor(l){super(),this._path=l}_apply(l){js(l,"orderByChild");const c=new sr(this._path);if(Rr(c))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const g=new xl(c),I=vd(l._queryParams,g);return Gu(I),new $s(l._repo,l._path,I,!0)}}class W_ extends Zl{_apply(l){js(l,"orderByKey");const c=vd(l._queryParams,_i);return Gu(c),new $s(l._repo,l._path,c,!0)}}class vp extends Zl{_apply(l){js(l,"orderByPriority");const c=vd(l._queryParams,vi);return Gu(c),new $s(l._repo,l._path,c,!0)}}class yp extends Zl{_apply(l){js(l,"orderByValue");const c=vd(l._queryParams,Xo);return Gu(c),new $s(l._repo,l._path,c,!0)}}class Ep extends Zl{constructor(l,c){super(),this._value=l,this._key=c}_apply(l){if(ra("equalTo",this._value,l._path,!1),l._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(l._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ag(this._value,this._key)._apply(new Wu(this._value,this._key)._apply(l))}}function Cl(h,...l){let c=(0,x.m9)(h);for(const g of l)c=g._apply(c);return c}(function ya(h){(0,x.hu)(!Zr,"__referenceConstructor has already been defined"),Zr=h})(Il),function le(h){(0,x.hu)(!Y,"__referenceConstructor has already been defined"),Y=h}(Il);const Ip={};function Ng(h,l,c,g,I){let P=g||h.options.databaseURL;void 0===P&&(h.options.projectId||H("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),R("Using default host for project ",h.options.projectId),P=`${h.options.projectId}-default-rtdb.firebaseio.com`);let ye,ke,B=Tc(P,I),ne=B.repoInfo;typeof process<"u"&&process.env&&(ke=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ke?(ye=!0,P=`http://${ke}?ns=${ne.namespace}`,B=Tc(P,I),ne=B.repoInfo):ye=!B.repoInfo.secure;const wt=I&&ye?new Po(Po.OWNER):new ah(h.name,h.options,l);Ld("Invalid Firebase Database URL",B),Rr(B.path)||H("Database URL must point to the root of a Firebase Database (not including a child path).");const kt=function Vo(h,l,c,g){let I=Ip[l.name];I||(I={},Ip[l.name]=I);let P=I[h.toURLString()];return P&&H("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),P=new lp(h,false,c,g),I[h.toURLString()]=P,P}(ne,h,wt,new Gi(h.name,c));return new Gm(kt,h)}class Gm{constructor(l,c){this._repoInternal=l,this.app=c,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Bd(h,l,c){if(h.stats_=gu(h.repoInfo_),h.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)h.server_=new to(h.repoInfo_,(g,I,P,B)=>{mf(h,g,I,P,B)},h.authTokenProvider_,h.appCheckProvider_),setTimeout(()=>Om(h,!0),0);else{if(typeof c<"u"&&null!==c){if("object"!=typeof c)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(c)}catch(g){throw new Error("Invalid authOverride provided: "+g)}}h.persistentConnection_=new Ya(h.repoInfo_,l,(g,I,P,B)=>{mf(h,g,I,P,B)},g=>{Om(h,g)},g=>{!function Nm(h,l){si(l,(c,g)=>{Uu(h,c,g)})}(h,g)},h.authTokenProvider_,h.appCheckProvider_,c),h.server_=h.persistentConnection_}h.authTokenProvider_.addTokenChangeListener(g=>{h.server_.refreshAuthToken(g)}),h.appCheckProvider_.addTokenChangeListener(g=>{h.server_.refreshAppCheckToken(g.token)}),h.statsReporter_=function Dm(h,l){const c=h.toString();return Kn[c]||(Kn[c]=l()),Kn[c]}(h.repoInfo_,()=>new fc(h.stats_,h.server_)),h.infoData_=new zr,h.infoSyncTree_=new Xt({startListening:(g,I,P,B)=>{let ne=[];const ye=h.infoData_.getNode(g._path);return ye.isEmpty()||(ne=Si(h.infoSyncTree_,g._path,ye),setTimeout(()=>{B("ok")},0)),ne},stopListening:()=>{}}),Uu(h,"connected",!1),h.serverSyncTree_=new Xt({startListening:(g,I,P,B)=>(h.server_.listen(g,P,I,(ne,ye)=>{const ke=B(ne,ye);ia(h.eventQueue_,g._path,ke)}),[]),stopListening:(g,I)=>{h.server_.unlisten(g,I)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Il(this._repo,cr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kg(h,l){const c=Ip[l];(!c||c[h.key]!==h)&&H(`Database ${l}(${h.repoInfo_}) has already been deleted.`),gg(h),delete c[h.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(l){null===this._rootInternal&&H("Cannot call "+l+" on a deleted database.")}}function bf(){Ra.IS_TRANSPORT_INITIALIZED&&ve("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Af(){bf(),yn.forceDisallow()}function Cp(){bf(),Oi.forceDisallow(),yn.forceAllow()}function ny(h,l){qo(h,l)}const K_={".sv":"timestamp"};class Yu{constructor(l,c){this.committed=l,this.snapshot=c}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ya.prototype.simpleListen=function(h,l){this.sendRequest("q",{p:h},l)},Ya.prototype.echo=function(h,l){this.sendRequest("echo",{d:h},l)},function Vh(h){Zs(se.SDK_VERSION),(0,se._registerComponent)(new Z.wA("database",(l,{instanceIdentifier:c})=>Ng(l.getProvider("app").getImmediate(),l.getProvider("auth-internal"),l.getProvider("app-check-internal"),c),"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(zo,"1.0.1",h),(0,se.registerVersion)(zo,"1.0.1","esm2017")}();const Bh=new Zi.Yd("@firebase/database-compat"),Qu=function(h){Bh.warn("FIREBASE WARNING: "+h)};class Pf{constructor(l){this._delegate=l}cancel(l){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",l,!0);const c=this._delegate.cancel();return l&&c.then(()=>l(null),g=>l(g)),c}remove(l){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",l,!0);const c=this._delegate.remove();return l&&c.then(()=>l(null),g=>l(g)),c}set(l,c){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",c,!0);const g=this._delegate.set(l);return c&&g.then(()=>c(null),I=>c(I)),g}setWithPriority(l,c,g){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",g,!0);const I=this._delegate.setWithPriority(l,c);return g&&I.then(()=>g(null),P=>g(P)),I}update(l,c){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(l)){const I={};for(let P=0;P<l.length;++P)I[""+P]=l[P];l=I,Qu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",c,!0);const g=this._delegate.update(l);return c&&g.then(()=>c(null),I=>c(I)),g}}class Fg{constructor(l,c){this.committed=l,this.snapshot=c}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class su{constructor(l,c){this._database=l,this._delegate=c}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(l){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),l=String(l),Wl("DataSnapshot.child","path",l,!1),new su(this._database,this._delegate.child(l))}hasChild(l){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Wl("DataSnapshot.hasChild","path",l,!1),this._delegate.hasChild(l)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(l){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",l,!1),this._delegate.forEach(c=>l(new su(this._database,c)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new sl(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class go{constructor(l,c){this.database=l,this._delegate=c}on(l,c,g,I){var P;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",c,!1);const B=go.getCancelAndContextArgs_("Query.on",g,I),ne=(ke,wt)=>{c.call(B.context,new su(this.database,ke),wt)};ne.userCallback=c,ne.context=B.context;const ye=null===(P=B.cancel)||void 0===P?void 0:P.bind(B.context);switch(l){case"value":return Um(this._delegate,ne,ye),c;case"child_added":return $m(this._delegate,ne,ye),c;case"child_removed":return Dg(this._delegate,ne,ye),c;case"child_changed":return jm(this._delegate,ne,ye),c;case"child_moved":return Tg(this._delegate,ne,ye),c;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(l,c,g){if((0,x.Dv)("Query.off",0,3,arguments.length),function(h,l,c){if(void 0!==l)switch(l){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,l),(0,x.Wj)("Query.off","callback",c,!0),(0,x.lb)("Query.off","context",g,!0),c){const I=()=>{};I.userCallback=c,I.context=g,bg(this._delegate,l,I)}else bg(this._delegate,l)}get(){return bc(this._delegate).then(l=>new su(this.database,l))}once(l,c,g,I){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",c,!0);const P=go.getCancelAndContextArgs_("Query.once",g,I),B=new x.BH,ne=(ke,wt)=>{const kt=new su(this.database,ke);c&&c.call(P.context,kt,wt),B.resolve(kt)};ne.userCallback=c,ne.context=P.context;const ye=ke=>{P.cancel&&P.cancel.call(P.context,ke),B.reject(ke)};switch(l){case"value":Um(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_added":$m(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_removed":Dg(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_changed":jm(this._delegate,ne,ye,{onlyOnce:!0});break;case"child_moved":Tg(this._delegate,ne,ye,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return B.promise}limitToFirst(l){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new go(this.database,Cl(this._delegate,function Jv(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new G_(h)}(l)))}limitToLast(l){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new go(this.database,Cl(this._delegate,function Pg(h){if("number"!=typeof h||Math.floor(h)!==h||h<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Hm(h)}(l)))}orderByChild(l){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new go(this.database,Cl(this._delegate,function z_(h){if("$key"===h)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===h)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===h)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Wl("orderByChild","path",h,!1),new Tf(h)}(l)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new go(this.database,Cl(this._delegate,function _p(){return new W_}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new go(this.database,Cl(this._delegate,function Df(){return new vp}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new go(this.database,Cl(this._delegate,function Mg(){return new yp}()))}startAt(l=null,c){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new go(this.database,Cl(this._delegate,function wf(h=null,l){return ff("startAt","key",l,!0),new Wu(h,l)}(l,c)))}startAfter(l=null,c){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new go(this.database,Cl(this._delegate,function Rg(h,l){return ff("startAfter","key",l,!0),new Sg(h,l)}(l,c)))}endAt(l=null,c){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new go(this.database,Cl(this._delegate,function H_(h,l){return ff("endAt","key",l,!0),new Ag(h,l)}(l,c)))}endBefore(l=null,c){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new go(this.database,Cl(this._delegate,function Na(h,l){return ff("endBefore","key",l,!0),new zu(h,l)}(l,c)))}equalTo(l,c){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new go(this.database,Cl(this._delegate,function Fh(h,l){return ff("equalTo","key",l,!0),new Ep(h,l)}(l,c)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(l){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(l instanceof go))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(l._delegate)}static getCancelAndContextArgs_(l,c,g){const I={cancel:void 0,context:void 0};if(c&&g)I.cancel=c,(0,x.Wj)(l,"cancel",I.cancel,!0),I.context=g,(0,x.lb)(l,"context",I.context,!0);else if(c)if("object"==typeof c&&null!==c)I.context=c;else{if("function"!=typeof c)throw new Error((0,x.gK)(l,"cancelOrContext")+" must either be a cancel callback or a context object.");I.cancel=c}return I}get ref(){return new sl(this.database,new Il(this._delegate._repo,this._delegate._path))}}class sl extends go{constructor(l,c){super(l,new $s(c._repo,c._path,new Jh,!1)),this.database=l,this._delegate=c}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(l){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof l&&(l=String(l)),new sl(this.database,ql(this._delegate,l))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const l=this._delegate.parent;return l?new sl(this.database,l):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new sl(this.database,this._delegate.root)}set(l,c){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",c,!0);const g=Ef(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}update(l,c){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(l)){const I={};for(let P=0;P<l.length;++P)I[""+P]=l[P];l=I,Qu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}po("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",c,!0);const g=gp(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}setWithPriority(l,c,g){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",g,!0);const I=function If(h,l,c){if(po("setWithPriority",h._path),ra("setWithPriority",l,h._path,!1),fg("setWithPriority",c,!1),".length"===h.key||".keys"===h.key)throw"setWithPriority failed: "+h.key+" is a read-only object.";const g=new x.BH;return $d(h._repo,h._path,l,c,g.wrapCallback(()=>{})),g.promise}(this._delegate,l,c);return g&&I.then(()=>g(null),P=>g(P)),I}remove(l){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",l,!0);const c=function Bm(h){return po("remove",h._path),Ef(h,null)}(this._delegate);return l&&c.then(()=>l(null),g=>l(g)),c}transaction(l,c,g){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",l,!1),(0,x.Wj)("Reference.transaction","onComplete",c,!0),function(h,l,c,g){if(void 0!==c&&"boolean"!=typeof c)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,g);const I=function iu(h,l,c){var g;if(h=(0,x.m9)(h),po("Reference.transaction",h._path),".length"===h.key||".keys"===h.key)throw"Reference.transaction failed: "+h.key+" is a read-only object.";const I=null===(g=null==c?void 0:c.applyLocally)||void 0===g||g,P=new x.BH,ne=Um(h,()=>{});return function mg(h,l,c,g,I,P){ru(h,"transaction on "+l);const B={path:l,update:c,onComplete:g,status:null,order:Ss(),applyLocally:P,retryCount:0,unwatcher:I,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},ne=Yl(h,l,void 0);B.currentInputSnapshot=ne;const ye=B.update(ne.val());if(void 0===ye)B.unwatcher(),B.currentOutputSnapshotRaw=null,B.currentOutputSnapshotResolved=null,B.onComplete&&B.onComplete(null,!1,B.currentInputSnapshot);else{Mh("transaction failed: Data returned ",ye,B.path),B.status=0;const ke=Rh(h.transactionQueueTree_,l),wt=Xc(ke)||[];let kt;wt.push(B),np(ke,wt),"object"==typeof ye&&null!==ye&&(0,x.r3)(ye,".priority")?(kt=(0,x.DV)(ye,".priority"),(0,x.hu)(Cc(kt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):kt=(na(h.serverSyncTree_,l)||Er.EMPTY_NODE).getPriority().val();const zt=Ud(h),En=Bi(ye,kt),Ln=dg(En,ne,zt);B.currentOutputSnapshotRaw=En,B.currentOutputSnapshotResolved=Ln,B.currentWriteId=eu(h);const Mr=An(h.serverSyncTree_,l,Ln,B.currentWriteId,B.applyLocally);ia(h.eventQueue_,l,Mr),Oh(h,h.transactionQueueTree_)}}(h._repo,h._path,l,(ye,ke,wt)=>{let kt=null;ye?P.reject(ye):(kt=new Dc(wt,new Il(h._repo,h._path),vi),P.resolve(new Yu(ke,kt)))},ne,I),P.promise}(this._delegate,l,{applyLocally:g}).then(P=>new Fg(P.committed,new su(this.database,P.snapshot)));return c&&I.then(P=>c(null,P.committed,P.snapshot),P=>c(P,!1,null)),I}setPriority(l,c){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",c,!0);const g=function wg(h,l){h=(0,x.m9)(h),po("setPriority",h._path),fg("setPriority",l,!1);const c=new x.BH;return $d(h._repo,Fi(h._path,".priority"),l,null,c.wrapCallback(()=>{})),c.promise}(this._delegate,l);return c&&g.then(()=>c(null),I=>c(I)),g}push(l,c){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",c,!0);const g=function Vm(h,l){h=(0,x.m9)(h),po("push",h._path),ra("push",l,h._path,!0);const c=xm(h._repo),g=Fm(c),I=ql(h,g),P=ql(h,g);let B;return B=null!=l?Ef(P,l).then(()=>P):Promise.resolve(P),I.then=B.then.bind(B),I.catch=B.then.bind(B,void 0),I}(this._delegate,l),I=g.then(B=>new sl(this.database,B));c&&I.then(()=>c(null),B=>c(B));const P=new sl(this.database,g);return P.then=I.then.bind(I),P.catch=I.catch.bind(I,void 0),P}onDisconnect(){return po("Reference.onDisconnect",this._delegate._path),new Pf(new fp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ou{constructor(l,c){this._delegate=l,this.app=c,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Af,forceLongPolling:Cp}}useEmulator(l,c,g={}){!function q_(h,l,c,g={}){(h=(0,x.m9)(h))._checkNotDeleted("useEmulator"),h._instanceStarted&&H("Cannot call useEmulator() after instance has already been initialized.");const I=h._repoInternal;let P;if(I.repoInfo_.nodeAdmin)g.mockUserToken&&H('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),P=new Po(Po.OWNER);else if(g.mockUserToken){const B="string"==typeof g.mockUserToken?g.mockUserToken:(0,x.Sg)(g.mockUserToken,h.app.options.projectId);P=new Po(B)}!function Og(h,l,c,g){h.repoInfo_=new Qn(`${l}:${c}`,!1,h.repoInfo_.namespace,h.repoInfo_.webSocketOnly,h.repoInfo_.nodeAdmin,h.repoInfo_.persistenceKey,h.repoInfo_.includeNamespaceInQueryParams,!0),g&&(h.authTokenProvider_=g)}(I,l,c,P)}(this._delegate,l,c,g)}ref(l){if((0,x.Dv)("database.ref",0,1,arguments.length),l instanceof sl){const c=Cg(this._delegate,l.toString());return new sl(this,c)}{const c=Lh(this._delegate,l);return new sl(this,c)}}refFromURL(l){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const g=Cg(this._delegate,l);return new sl(this,g)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function Sf(h){(h=(0,x.m9)(h))._checkNotDeleted("goOffline"),gg(h._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function ty(h){(h=(0,x.m9)(h))._checkNotDeleted("goOnline"),function xh(h){h.persistentConnection_&&h.persistentConnection_.resume(Vd)}(h._repo)}(this._delegate)}}ou.ServerValue={TIMESTAMP:function Lg(){return K_}(),increment:h=>function zd(h){return{".sv":{increment:h}}}(h)};var Vg=Object.freeze({__proto__:null,initStandalone:function Mf({app:h,url:l,version:c,customAuthImpl:g,customAppCheckImpl:I,namespace:P,nodeAdmin:B=!1}){Zs(c);const ne=new Z.H0("database-standalone"),ye=new Z.zt("auth-internal",ne);let ke;return ye.setComponent(new Z.wA("auth-internal",()=>g,"PRIVATE")),I&&(ke=new Z.zt("app-check-internal",ne),ke.setComponent(new Z.wA("app-check-internal",()=>I,"PRIVATE"))),{instance:new ou(Ng(h,ye,ke,l,B),h),namespace:P}}});const zm=ou.ServerValue;function Yd(h,l,c="on",g=he.z){return new pt.y(I=>{let P=null;return P=h[c](l,(B,ne)=>{g.schedule(()=>{I.next({snapshot:B,prevKey:ne})}),"once"===c&&g.schedule(()=>I.complete())},B=>{g.schedule(()=>I.error(B))}),"on"===c?{unsubscribe(){null!=P&&h.off(l,P)}}:{unsubscribe(){}}}).pipe((0,Me.U)(I=>{const{snapshot:P,prevKey:B}=I;let ne=null;return P.exists()&&(ne=P.key),{type:l,payload:P,prevKey:B,key:ne}}),(0,Da.B)())}function Ug(h){return null==h}function bp(h){return"function"==typeof h.set}function Ap(h,l){return bp(l)?l:h.ref(l)}function qd(h,l){if(function Dp(h){return"string"==typeof h}(h))return l.stringCase();if(bp(h))return l.firebaseCase();if(function Bg(h){return"function"==typeof h.exportVal}(h))return l.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof h)}function Wm(h){return(Ug(h)||0===h.length)&&(h=["child_added","child_removed","child_changed","child_moved"]),h}function Of(h,l,c){const g=(l=Wm(l)).map(I=>Yd(h,I,"on",c));return(0,ja.T)(...g)}function Rp(h,l){return function(g,I){return qd(g,{stringCase:()=>h.child(g)[l](I),firebaseCase:()=>g[l](I),snapshotCase:()=>g.ref[l](I)})}}function Nf(h){return function(c){return c?qd(c,{stringCase:()=>h.child(c).remove(),firebaseCase:()=>c.remove(),snapshotCase:()=>c.ref.remove()}):h.remove()}}function au(h,l){const c=h.length;for(let g=0;g<c;g++)if(h[g].payload.key===l)return g;return-1}function Uh(h,l){var c;const{payload:g,prevKey:I,key:P}=l,B=au(h,P),ne=function Kd(h,l){if(Ug(l))return 0;{const c=au(h,l);return-1===c?h.length:c+1}}(h,I);switch(l.type){case"value":if(null!==(c=l.payload)&&void 0!==c&&c.exists()){let ye=null;l.payload.forEach(ke=>{const wt={payload:ke,type:"value",prevKey:ye,key:ke.key};return ye=ke.key,h=[...h,wt],!1})}return h;case"child_added":if(B>-1){const ye=h[B-1];((null==ye?void 0:ye.key)||null)!==I&&(h=h.filter(ke=>ke.payload.key!==g.key)).splice(ne,0,l)}else{if(null==I)return[l,...h];(h=h.slice()).splice(ne,0,l)}return h;case"child_removed":return h.filter(ye=>ye.payload.key!==g.key);case"child_changed":return h.map(ye=>ye.payload.key===P?l:ye);case"child_moved":if(B>-1){const ye=h.splice(B,1)[0];return(h=h.slice()).splice(ne,0,ye),h}return h;default:return h}}function Sc(h,l,c){return function $g(h,l,c){return Yd(h,"value","once",c).pipe((0,st.w)(g=>{const I=[(0,_e.of)(g)];return l.forEach(P=>I.push(Yd(h,P,"on",c))),(0,ja.T)(...I).pipe((0,lo.R)(Uh,[]))}),(0,zi.x)())}(h,l=Wm(l),c)}function Zd(h,l){return function(){return Yd(h,"value","on",l)}}!function xf(h){h.INTERNAL.registerComponent(new Z.wA("database-compat",(l,{instanceIdentifier:c})=>{const g=l.getProvider("app-compat").getImmediate(),I=l.getProvider("database").getImmediate({identifier:c});return new ou(I,g)},"PUBLIC").setServiceProps({Reference:sl,Query:go,Database:ou,DataSnapshot:su,enableLogging:ny,INTERNAL:Vg,ServerValue:zm}).setMultipleInstances(!0)),h.registerVersion("@firebase/database-compat","1.0.1")}(yt.Z);const Hg=new $.OlP("angularfire2.realtimeDatabaseURL"),Qd=new $.OlP("angularfire2.database.use-emulator");let Gg=(()=>{var h;class l{constructor(g,I,P,B,ne,ye,ke,wt,kt,zt,En,Ln,Mr,Wr,Hs){(0,Be.Z)(this,"schedulers",void 0),(0,Be.Z)(this,"database",void 0),this.schedulers=ye;const mo=ke,ls=(0,Et.on)(g,ne,I);wt&&(0,Ce.nw)(ls,ne,kt,En,Ln,Mr,zt,Wr),this.database=(0,Et.cc)(`${ls.name}.database.${P}`,"AngularFireDatabase",ls.name,()=>{const cs=ne.runOutsideAngular(()=>ls.database(P||void 0));return mo&&cs.useEmulator(...mo),cs},[mo])}list(g,I){const P=this.schedulers.ngZone.runOutsideAngular(()=>Ap(this.database,g));let B=P;return I&&(B=I(P)),function jg(h,l){const c=l.schedulers.outsideAngular,g=l.schedulers.ngZone.run(()=>h.ref);return{query:h,update:Rp(g,"update"),set:Rp(g,"set"),push:I=>g.push(I),remove:Nf(g),snapshotChanges:I=>Sc(h,I,c).pipe(Xe.iC),stateChanges:I=>Of(h,I,c).pipe(Xe.iC),auditTrail:I=>function Z_(h,l,c){return function ry(h,l,c){return function Sp(h,l){return Yd(h,"value","on",l).pipe((0,Me.U)(c=>{let g;return c.payload.forEach(I=>(g=I.key,!1)),{data:c,lastKeyToLoad:g}}))}(h,c).pipe(function ba(...h){const l=(0,ha.jO)(h);return(0,Ie.e)((c,g)=>{const I=h.length,P=new Array(I);let B=h.map(()=>!1),ne=!1;for(let ye=0;ye<I;ye++)(0,vr.Xf)(h[ye]).subscribe((0,Ue.x)(g,ke=>{P[ye]=ke,!ne&&!B[ye]&&(B[ye]=!0,(ne=B.every(Al.y))&&(B=null))},Eo.Z));c.subscribe((0,Ue.x)(g,ye=>{if(ne){const ke=[ye,...P];g.next(l?l(...ke):ke)}}))})}(l),(0,Me.U)(([I,P])=>{const B=I.lastKeyToLoad,ne=P.map(ye=>ye.key);return{actions:P,lastKeyToLoad:B,loadedKeys:ne}}),function Go(h){return(0,Ie.e)((l,c)=>{let g=!1,I=0;l.subscribe((0,Ue.x)(c,P=>(g||(g=!h(P,I++)))&&c.next(P)))})}(I=>-1===I.loadedKeys.indexOf(I.lastKeyToLoad)),(0,Me.U)(I=>I.actions))}(h,Of(h,l).pipe((0,lo.R)((I,P)=>[...I,P],[])),c)}(h,I,c).pipe(Xe.iC),valueChanges:(I,P)=>Sc(h,I,c).pipe((0,Me.U)(ne=>ne.map(ye=>P&&P.idField?{...ye.payload.val(),[P.idField]:ye.key}:ye.payload.val())),Xe.iC)}}(B,this)}object(g){return function $h(h,l){return{query:h,snapshotChanges:()=>Zd(h,l.schedulers.outsideAngular)().pipe(Xe.iC),update:c=>h.ref.update(c),set:c=>h.ref.set(c),remove:()=>h.ref.remove(),valueChanges:()=>Zd(h,l.schedulers.outsideAngular)().pipe(Xe.iC,(0,Me.U)(g=>g.payload.exists()?g.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ap(this.database,g)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return h=l,(0,Be.Z)(l,"\u0275fac",function(g){return new(g||h)($.LFG(Et.Dh),$.LFG(Et.xv,8),$.LFG(Hg,8),$.LFG($.Lbi),$.LFG($.R0b),$.LFG(Xe.HU),$.LFG(Qd,8),$.LFG(Ce.zQ,8),$.LFG(Ce.Qv,8),$.LFG(Ce.L6,8),$.LFG(Ce._Q,8),$.LFG(Ce.rT,8),$.LFG(Ce.lh,8),$.LFG(Ce.f7,8),$.LFG(Xe.Rf,8))}),(0,Be.Z)(l,"\u0275prov",$.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"})),l})(),iy=(()=>{var h;class l{constructor(){Pe.Z.registerVersion("angularfire",Xe.q4.full,"rtdb-compat")}}return h=l,(0,Be.Z)(l,"\u0275fac",function(g){return new(g||h)}),(0,Be.Z)(l,"\u0275mod",$.oAB({type:h})),(0,Be.Z)(l,"\u0275inj",$.cJS({providers:[Gg]})),l})();const Ym={apiKey:"AIzaSyD7YZmIbNf43yi2sFoJprkMWngp-lkyEIo",authDomain:"project-ionic-f4f64.firebaseapp.com",databaseURL:"https://project-ionic-f4f64-default-rtdb.europe-west1.firebasedatabase.app",projectId:"project-ionic-f4f64",storageBucket:"project-ionic-f4f64.appspot.com",messagingSenderId:"1009580206799",appId:"1:1009580206799:web:830858afadc3928448a5ba",measurementId:"G-R300NNW907"};let qm=(()=>{var h;class l{}return(h=l).\u0275fac=function(g){return new(g||h)},h.\u0275mod=$.oAB({type:h,bootstrap:[_t]}),h.\u0275inj=$.cJS({providers:[et.i,qe.X,me.w,Ze.b,be.d,de.eN,{provide:J.wN,useClass:Oe.r4}],imports:[Et.hO.initializeApp(Ym),de.JF,Ce.ww,rs.yb,$a,iy,d.b2,re.Pc.forRoot(),at]}),l})();(0,$.G48)(),d.q6().bootstrapModule(qm).catch(h=>console.log(h))},5619:(un,ft,N)=>{"use strict";N.d(ft,{X:()=>$});var d=N(8645);class $ extends d.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const Oe=super._subscribe(de);return!Oe.closed&&de.next(this._value),Oe}getValue(){const{hasError:de,thrownError:Oe,_value:re}=this;if(de)throw Oe;return this._throwIfClosed(),re}next(de){super.next(this._value=de)}}},5592:(un,ft,N)=>{"use strict";N.d(ft,{y:()=>qe});var d=N(305),$=N(7394),J=N(4850),de=N(8407),Oe=N(2653),re=N(4674),me=N(1441);let qe=(()=>{class Je{constructor(Ee){Ee&&(this._subscribe=Ee)}lift(Ee){const Ke=new Je;return Ke.source=this,Ke.operator=Ee,Ke}subscribe(Ee,Ke,_t){const et=function Te(Je){return Je&&Je instanceof d.Lv||function be(Je){return Je&&(0,re.m)(Je.next)&&(0,re.m)(Je.error)&&(0,re.m)(Je.complete)}(Je)&&(0,$.Nn)(Je)}(Ee)?Ee:new d.Hp(Ee,Ke,_t);return(0,me.x)(()=>{const{operator:nt,source:at}=this;et.add(nt?nt.call(et,at):at?this._subscribe(et):this._trySubscribe(et))}),et}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(Ke){Ee.error(Ke)}}forEach(Ee,Ke){return new(Ke=Ze(Ke))((_t,et)=>{const nt=new d.Hp({next:at=>{try{Ee(at)}catch(Et){et(Et),nt.unsubscribe()}},error:et,complete:_t});this.subscribe(nt)})}_subscribe(Ee){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ee)}[J.L](){return this}pipe(...Ee){return(0,de.U)(Ee)(this)}toPromise(Ee){return new(Ee=Ze(Ee))((Ke,_t)=>{let et;this.subscribe(nt=>et=nt,nt=>_t(nt),()=>Ke(et))})}}return Je.create=Ye=>new Je(Ye),Je})();function Ze(Je){var Ye;return null!==(Ye=null!=Je?Je:Oe.config.Promise)&&void 0!==Ye?Ye:Promise}},8645:(un,ft,N)=>{"use strict";N.d(ft,{x:()=>me});var d=N(5592),$=N(7394);const de=(0,N(2306).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=N(9039),re=N(1441);let me=(()=>{class Ze extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const Je=new qe(this,this);return Je.operator=Te,Je}_throwIfClosed(){if(this.closed)throw new de}next(Te){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Je of this.currentObservers)Je.next(Te)}})}error(Te){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:Je}=this;for(;Je.length;)Je.shift().error(Te)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:Je,isStopped:Ye,observers:Ee}=this;return Je||Ye?$.Lc:(this.currentObservers=null,Ee.push(Te),new $.w0(()=>{this.currentObservers=null,(0,Oe.P)(Ee,Te)}))}_checkFinalizedStatuses(Te){const{hasError:Je,thrownError:Ye,isStopped:Ee}=this;Je?Te.error(Ye):Ee&&Te.complete()}asObservable(){const Te=new d.y;return Te.source=this,Te}}return Ze.create=(be,Te)=>new qe(be,Te),Ze})();class qe extends me{constructor(be,Te){super(),this.destination=be,this.source=Te}next(be){var Te,Je;null===(Je=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===Je||Je.call(Te,be)}error(be){var Te,Je;null===(Je=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===Je||Je.call(Te,be)}complete(){var be,Te;null===(Te=null===(be=this.destination)||void 0===be?void 0:be.complete)||void 0===Te||Te.call(be)}_subscribe(be){var Te,Je;return null!==(Je=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(be))&&void 0!==Je?Je:$.Lc}}},305:(un,ft,N)=>{"use strict";N.d(ft,{Hp:()=>_t,Lv:()=>Je});var d=N(4674),$=N(7394),J=N(2653),de=N(3894),Oe=N(2420);const re=Ze("C",void 0,void 0);function Ze(Ce,Be,Xe){return{kind:Ce,value:Be,error:Xe}}var be=N(7599),Te=N(1441);class Je extends $.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,$.Nn)(Be)&&Be.add(this)):this.destination=Et}static create(Be,Xe,pt){return new _t(Be,Xe,pt)}next(Be){this.isStopped?at(function qe(Ce){return Ze("N",Ce,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?at(function me(Ce){return Ze("E",void 0,Ce)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?at(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ee(Ce,Be){return Ye.call(Ce,Be)}class Ke{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Be)}catch(pt){et(pt)}}error(Be){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Be)}catch(pt){et(pt)}else et(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(Xe){et(Xe)}}}class _t extends Je{constructor(Be,Xe,pt){let _e;if(super(),(0,d.m)(Be)||!Be)_e={next:null!=Be?Be:void 0,error:null!=Xe?Xe:void 0,complete:null!=pt?pt:void 0};else{let Se;this&&J.config.useDeprecatedNextContext?(Se=Object.create(Be),Se.unsubscribe=()=>this.unsubscribe(),_e={next:Be.next&&Ee(Be.next,Se),error:Be.error&&Ee(Be.error,Se),complete:Be.complete&&Ee(Be.complete,Se)}):_e=Be}this.destination=new Ke(_e)}}function et(Ce){J.config.useDeprecatedSynchronousErrorHandling?(0,Te.O)(Ce):(0,de.h)(Ce)}function at(Ce,Be){const{onStoppedNotification:Xe}=J.config;Xe&&be.z.setTimeout(()=>Xe(Ce,Be))}const Et={closed:!0,next:Oe.Z,error:function nt(Ce){throw Ce},complete:Oe.Z}},7394:(un,ft,N)=>{"use strict";N.d(ft,{Lc:()=>re,w0:()=>Oe,Nn:()=>me});var d=N(4674);const J=(0,N(2306).d)(Ze=>function(Te){Ze(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((Je,Ye)=>`${Ye+1}) ${Je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var de=N(9039);class Oe{constructor(be){this.initialTeardown=be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let be;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const Ee of Te)Ee.remove(this);else Te.remove(this);const{initialTeardown:Je}=this;if((0,d.m)(Je))try{Je()}catch(Ee){be=Ee instanceof J?Ee.errors:[Ee]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ee of Ye)try{qe(Ee)}catch(Ke){be=null!=be?be:[],Ke instanceof J?be=[...be,...Ke.errors]:be.push(Ke)}}if(be)throw new J(be)}}add(be){var Te;if(be&&be!==this)if(this.closed)qe(be);else{if(be instanceof Oe){if(be.closed||be._hasParent(this))return;be._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(be)}}_hasParent(be){const{_parentage:Te}=this;return Te===be||Array.isArray(Te)&&Te.includes(be)}_addParent(be){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(be),Te):Te?[Te,be]:be}_removeParent(be){const{_parentage:Te}=this;Te===be?this._parentage=null:Array.isArray(Te)&&(0,de.P)(Te,be)}remove(be){const{_finalizers:Te}=this;Te&&(0,de.P)(Te,be),be instanceof Oe&&be._removeParent(this)}}Oe.EMPTY=(()=>{const Ze=new Oe;return Ze.closed=!0,Ze})();const re=Oe.EMPTY;function me(Ze){return Ze instanceof Oe||Ze&&"closed"in Ze&&(0,d.m)(Ze.remove)&&(0,d.m)(Ze.add)&&(0,d.m)(Ze.unsubscribe)}function qe(Ze){(0,d.m)(Ze)?Ze():Ze.unsubscribe()}},2653:(un,ft,N)=>{"use strict";N.d(ft,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(un,ft,N)=>{"use strict";N.d(ft,{a:()=>be});var d=N(5592),$=N(7453),J=N(2459),de=N(2737),Oe=N(7400),re=N(4564),me=N(2714),qe=N(8251),Ze=N(7103);function be(...Ye){const Ee=(0,re.yG)(Ye),Ke=(0,re.jO)(Ye),{args:_t,keys:et}=(0,$.D)(Ye);if(0===_t.length)return(0,J.D)([],Ee);const nt=new d.y(function Te(Ye,Ee,Ke=de.y){return _t=>{Je(Ee,()=>{const{length:et}=Ye,nt=new Array(et);let at=et,Et=et;for(let Ce=0;Ce<et;Ce++)Je(Ee,()=>{const Be=(0,J.D)(Ye[Ce],Ee);let Xe=!1;Be.subscribe((0,qe.x)(_t,pt=>{nt[Ce]=pt,Xe||(Xe=!0,Et--),Et||_t.next(Ke(nt.slice()))},()=>{--at||_t.complete()}))},_t)},_t)}}(_t,Ee,et?at=>(0,me.n)(et,at):de.y));return Ke?nt.pipe((0,Oe.Z)(Ke)):nt}function Je(Ye,Ee,Ke){Ye?(0,Ze.f)(Ke,Ye,Ee):Ee()}},5211:(un,ft,N)=>{"use strict";N.d(ft,{z:()=>Oe});var d=N(7537),J=N(4564),de=N(2459);function Oe(...re){return function $(){return(0,d.J)(1)}()((0,de.D)(re,(0,J.yG)(re)))}},6232:(un,ft,N)=>{"use strict";N.d(ft,{E:()=>$});const $=new(N(5592).y)(Oe=>Oe.complete())},2459:(un,ft,N)=>{"use strict";N.d(ft,{D:()=>Be});var d=N(4829),$=N(3093),J=N(5137),re=N(5592),qe=N(4971),Ze=N(4674),be=N(7103);function Je(Xe,pt){if(!Xe)throw new Error("Iterable cannot be null");return new re.y(_e=>{(0,be.f)(_e,pt,()=>{const Se=Xe[Symbol.asyncIterator]();(0,be.f)(_e,pt,()=>{Se.next().then(he=>{he.done?_e.complete():_e.next(he.value)})},0,!0)})})}var Ye=N(8382),Ee=N(4026),Ke=N(4266),_t=N(3664),et=N(5726),nt=N(9853),at=N(541);function Be(Xe,pt){return pt?function Ce(Xe,pt){if(null!=Xe){if((0,Ye.c)(Xe))return function de(Xe,pt){return(0,d.Xf)(Xe).pipe((0,J.R)(pt),(0,$.Q)(pt))}(Xe,pt);if((0,Ke.z)(Xe))return function me(Xe,pt){return new re.y(_e=>{let Se=0;return pt.schedule(function(){Se===Xe.length?_e.complete():(_e.next(Xe[Se++]),_e.closed||this.schedule())})})}(Xe,pt);if((0,Ee.t)(Xe))return function Oe(Xe,pt){return(0,d.Xf)(Xe).pipe((0,J.R)(pt),(0,$.Q)(pt))}(Xe,pt);if((0,et.D)(Xe))return Je(Xe,pt);if((0,_t.T)(Xe))return function Te(Xe,pt){return new re.y(_e=>{let Se;return(0,be.f)(_e,pt,()=>{Se=Xe[qe.h](),(0,be.f)(_e,pt,()=>{let he,Ie;try{({value:he,done:Ie}=Se.next())}catch(Ue){return void _e.error(Ue)}Ie?_e.complete():_e.next(he)},0,!0)}),()=>(0,Ze.m)(null==Se?void 0:Se.return)&&Se.return()})}(Xe,pt);if((0,at.L)(Xe))return function Et(Xe,pt){return Je((0,at.Q)(Xe),pt)}(Xe,pt)}throw(0,nt.z)(Xe)}(Xe,pt):(0,d.Xf)(Xe)}},2438:(un,ft,N)=>{"use strict";N.d(ft,{R:()=>be});var d=N(4829),$=N(5592),J=N(1631),de=N(4266),Oe=N(4674),re=N(7400);const me=["addListener","removeListener"],qe=["addEventListener","removeEventListener"],Ze=["on","off"];function be(Ke,_t,et,nt){if((0,Oe.m)(et)&&(nt=et,et=void 0),nt)return be(Ke,_t,et).pipe((0,re.Z)(nt));const[at,Et]=function Ee(Ke){return(0,Oe.m)(Ke.addEventListener)&&(0,Oe.m)(Ke.removeEventListener)}(Ke)?qe.map(Ce=>Be=>Ke[Ce](_t,Be,et)):function Je(Ke){return(0,Oe.m)(Ke.addListener)&&(0,Oe.m)(Ke.removeListener)}(Ke)?me.map(Te(Ke,_t)):function Ye(Ke){return(0,Oe.m)(Ke.on)&&(0,Oe.m)(Ke.off)}(Ke)?Ze.map(Te(Ke,_t)):[];if(!at&&(0,de.z)(Ke))return(0,J.z)(Ce=>be(Ce,_t,et))((0,d.Xf)(Ke));if(!at)throw new TypeError("Invalid event target");return new $.y(Ce=>{const Be=(...Xe)=>Ce.next(1<Xe.length?Xe:Xe[0]);return at(Be),()=>Et(Be)})}function Te(Ke,_t){return et=>nt=>Ke[et](_t,nt)}},4829:(un,ft,N)=>{"use strict";N.d(ft,{Xf:()=>Ye});var d=N(7582),$=N(4266),J=N(4026),de=N(5592),Oe=N(8382),re=N(5726),me=N(9853),qe=N(3664),Ze=N(541),be=N(4674),Te=N(3894),Je=N(4850);function Ye(Ce){if(Ce instanceof de.y)return Ce;if(null!=Ce){if((0,Oe.c)(Ce))return function Ee(Ce){return new de.y(Be=>{const Xe=Ce[Je.L]();if((0,be.m)(Xe.subscribe))return Xe.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,$.z)(Ce))return function Ke(Ce){return new de.y(Be=>{for(let Xe=0;Xe<Ce.length&&!Be.closed;Xe++)Be.next(Ce[Xe]);Be.complete()})}(Ce);if((0,J.t)(Ce))return function _t(Ce){return new de.y(Be=>{Ce.then(Xe=>{Be.closed||(Be.next(Xe),Be.complete())},Xe=>Be.error(Xe)).then(null,Te.h)})}(Ce);if((0,re.D)(Ce))return nt(Ce);if((0,qe.T)(Ce))return function et(Ce){return new de.y(Be=>{for(const Xe of Ce)if(Be.next(Xe),Be.closed)return;Be.complete()})}(Ce);if((0,Ze.L)(Ce))return function at(Ce){return nt((0,Ze.Q)(Ce))}(Ce)}throw(0,me.z)(Ce)}function nt(Ce){return new de.y(Be=>{(function Et(Ce,Be){var Xe,pt,_e,Se;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,d.KL)(Ce);!(pt=yield Xe.next()).done;)if(Be.next(pt.value),Be.closed)return}catch(he){_e={error:he}}finally{try{pt&&!pt.done&&(Se=Xe.return)&&(yield Se.call(Xe))}finally{if(_e)throw _e.error}}Be.complete()})})(Ce,Be).catch(Xe=>Be.error(Xe))})}},3019:(un,ft,N)=>{"use strict";N.d(ft,{T:()=>re});var d=N(7537),$=N(4829),J=N(6232),de=N(4564),Oe=N(2459);function re(...me){const qe=(0,de.yG)(me),Ze=(0,de._6)(me,1/0),be=me;return be.length?1===be.length?(0,$.Xf)(be[0]):(0,d.J)(Ze)((0,Oe.D)(be,qe)):J.E}},2096:(un,ft,N)=>{"use strict";N.d(ft,{of:()=>J});var d=N(4564),$=N(2459);function J(...de){const Oe=(0,d.yG)(de);return(0,$.D)(de,Oe)}},8251:(un,ft,N)=>{"use strict";N.d(ft,{x:()=>$});var d=N(305);function $(de,Oe,re,me,qe){return new J(de,Oe,re,me,qe)}class J extends d.Lv{constructor(Oe,re,me,qe,Ze,be){super(Oe),this.onFinalize=Ze,this.shouldUnsubscribe=be,this._next=re?function(Te){try{re(Te)}catch(Je){Oe.error(Je)}}:super._next,this._error=qe?function(Te){try{qe(Te)}catch(Je){Oe.error(Je)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(Te){Oe.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(Oe=this.onFinalize)||void 0===Oe||Oe.call(this))}}}},6328:(un,ft,N)=>{"use strict";N.d(ft,{b:()=>J});var d=N(1631),$=N(4674);function J(de,Oe){return(0,$.m)(Oe)?(0,d.z)(de,Oe,1):(0,d.z)(de,1)}},3572:(un,ft,N)=>{"use strict";N.d(ft,{d:()=>J});var d=N(9360),$=N(8251);function J(de){return(0,d.e)((Oe,re)=>{let me=!1;Oe.subscribe((0,$.x)(re,qe=>{me=!0,re.next(qe)},()=>{me||re.next(de),re.complete()}))})}},3997:(un,ft,N)=>{"use strict";N.d(ft,{x:()=>de});var d=N(2737),$=N(9360),J=N(8251);function de(re,me=d.y){return re=null!=re?re:Oe,(0,$.e)((qe,Ze)=>{let be,Te=!0;qe.subscribe((0,J.x)(Ze,Je=>{const Ye=me(Je);(Te||!re(be,Ye))&&(Te=!1,be=Ye,Ze.next(Je))}))})}function Oe(re,me){return re===me}},2181:(un,ft,N)=>{"use strict";N.d(ft,{h:()=>J});var d=N(9360),$=N(8251);function J(de,Oe){return(0,d.e)((re,me)=>{let qe=0;re.subscribe((0,$.x)(me,Ze=>de.call(Oe,Ze,qe++)&&me.next(Ze)))})}},4716:(un,ft,N)=>{"use strict";N.d(ft,{x:()=>$});var d=N(9360);function $(J){return(0,d.e)((de,Oe)=>{try{de.subscribe(Oe)}finally{Oe.add(J)}})}},1374:(un,ft,N)=>{"use strict";N.d(ft,{P:()=>me});var d=N(6973),$=N(2181),J=N(8180),de=N(3572),Oe=N(3026),re=N(2737);function me(qe,Ze){const be=arguments.length>=2;return Te=>Te.pipe(qe?(0,$.h)((Je,Ye)=>qe(Je,Ye,Te)):re.y,(0,J.q)(1),be?(0,de.d)(Ze):(0,Oe.T)(()=>new d.K))}},7398:(un,ft,N)=>{"use strict";N.d(ft,{U:()=>J});var d=N(9360),$=N(8251);function J(de,Oe){return(0,d.e)((re,me)=>{let qe=0;re.subscribe((0,$.x)(me,Ze=>{me.next(de.call(Oe,Ze,qe++))}))})}},7537:(un,ft,N)=>{"use strict";N.d(ft,{J:()=>J});var d=N(1631),$=N(2737);function J(de=1/0){return(0,d.z)($.y,de)}},1631:(un,ft,N)=>{"use strict";N.d(ft,{z:()=>qe});var d=N(7398),$=N(4829),J=N(9360),de=N(7103),Oe=N(8251),me=N(4674);function qe(Ze,be,Te=1/0){return(0,me.m)(be)?qe((Je,Ye)=>(0,d.U)((Ee,Ke)=>be(Je,Ee,Ye,Ke))((0,$.Xf)(Ze(Je,Ye))),Te):("number"==typeof be&&(Te=be),(0,J.e)((Je,Ye)=>function re(Ze,be,Te,Je,Ye,Ee,Ke,_t){const et=[];let nt=0,at=0,Et=!1;const Ce=()=>{Et&&!et.length&&!nt&&be.complete()},Be=pt=>nt<Je?Xe(pt):et.push(pt),Xe=pt=>{Ee&&be.next(pt),nt++;let _e=!1;(0,$.Xf)(Te(pt,at++)).subscribe((0,Oe.x)(be,Se=>{null==Ye||Ye(Se),Ee?Be(Se):be.next(Se)},()=>{_e=!0},void 0,()=>{if(_e)try{for(nt--;et.length&&nt<Je;){const Se=et.shift();Ke?(0,de.f)(be,Ke,()=>Xe(Se)):Xe(Se)}Ce()}catch(Se){be.error(Se)}}))};return Ze.subscribe((0,Oe.x)(be,Be,()=>{Et=!0,Ce()})),()=>{null==_t||_t()}}(Je,Ye,Ze,Te)))}},3093:(un,ft,N)=>{"use strict";N.d(ft,{Q:()=>de});var d=N(7103),$=N(9360),J=N(8251);function de(Oe,re=0){return(0,$.e)((me,qe)=>{me.subscribe((0,J.x)(qe,Ze=>(0,d.f)(qe,Oe,()=>qe.next(Ze),re),()=>(0,d.f)(qe,Oe,()=>qe.complete(),re),Ze=>(0,d.f)(qe,Oe,()=>qe.error(Ze),re)))})}},6699:(un,ft,N)=>{"use strict";N.d(ft,{R:()=>de});var d=N(9360),$=N(8251);function de(Oe,re){return(0,d.e)(function J(Oe,re,me,qe,Ze){return(be,Te)=>{let Je=me,Ye=re,Ee=0;be.subscribe((0,$.x)(Te,Ke=>{const _t=Ee++;Ye=Je?Oe(Ye,Ke,_t):(Je=!0,Ke),qe&&Te.next(Ye)},Ze&&(()=>{Je&&Te.next(Ye),Te.complete()})))}}(Oe,re,arguments.length>=2,!0))}},3020:(un,ft,N)=>{"use strict";N.d(ft,{B:()=>Oe});var d=N(4829),$=N(8645),J=N(305),de=N(9360);function Oe(me={}){const{connector:qe=(()=>new $.x),resetOnError:Ze=!0,resetOnComplete:be=!0,resetOnRefCountZero:Te=!0}=me;return Je=>{let Ye,Ee,Ke,_t=0,et=!1,nt=!1;const at=()=>{null==Ee||Ee.unsubscribe(),Ee=void 0},Et=()=>{at(),Ye=Ke=void 0,et=nt=!1},Ce=()=>{const Be=Ye;Et(),null==Be||Be.unsubscribe()};return(0,de.e)((Be,Xe)=>{_t++,!nt&&!et&&at();const pt=Ke=null!=Ke?Ke:qe();Xe.add(()=>{_t--,0===_t&&!nt&&!et&&(Ee=re(Ce,Te))}),pt.subscribe(Xe),!Ye&&_t>0&&(Ye=new J.Hp({next:_e=>pt.next(_e),error:_e=>{nt=!0,at(),Ee=re(Et,Ze,_e),pt.error(_e)},complete:()=>{et=!0,at(),Ee=re(Et,be),pt.complete()}}),(0,d.Xf)(Be).subscribe(Ye))})(Je)}}function re(me,qe,...Ze){if(!0===qe)return void me();if(!1===qe)return;const be=new J.Hp({next:()=>{be.unsubscribe(),me()}});return(0,d.Xf)(qe(...Ze)).subscribe(be)}},7921:(un,ft,N)=>{"use strict";N.d(ft,{O:()=>de});var d=N(5211),$=N(4564),J=N(9360);function de(...Oe){const re=(0,$.yG)(Oe);return(0,J.e)((me,qe)=>{(re?(0,d.z)(Oe,me,re):(0,d.z)(Oe,me)).subscribe(qe)})}},5137:(un,ft,N)=>{"use strict";N.d(ft,{R:()=>$});var d=N(9360);function $(J,de=0){return(0,d.e)((Oe,re)=>{re.add(J.schedule(()=>Oe.subscribe(re),de))})}},4664:(un,ft,N)=>{"use strict";N.d(ft,{w:()=>de});var d=N(4829),$=N(9360),J=N(8251);function de(Oe,re){return(0,$.e)((me,qe)=>{let Ze=null,be=0,Te=!1;const Je=()=>Te&&!Ze&&qe.complete();me.subscribe((0,J.x)(qe,Ye=>{null==Ze||Ze.unsubscribe();let Ee=0;const Ke=be++;(0,d.Xf)(Oe(Ye,Ke)).subscribe(Ze=(0,J.x)(qe,_t=>qe.next(re?re(Ye,_t,Ke,Ee++):_t),()=>{Ze=null,Je()}))},()=>{Te=!0,Je()}))})}},8180:(un,ft,N)=>{"use strict";N.d(ft,{q:()=>de});var d=N(6232),$=N(9360),J=N(8251);function de(Oe){return Oe<=0?()=>d.E:(0,$.e)((re,me)=>{let qe=0;re.subscribe((0,J.x)(me,Ze=>{++qe<=Oe&&(me.next(Ze),Oe<=qe&&me.complete())}))})}},9397:(un,ft,N)=>{"use strict";N.d(ft,{b:()=>Oe});var d=N(4674),$=N(9360),J=N(8251),de=N(2737);function Oe(re,me,qe){const Ze=(0,d.m)(re)||me||qe?{next:re,error:me,complete:qe}:re;return Ze?(0,$.e)((be,Te)=>{var Je;null===(Je=Ze.subscribe)||void 0===Je||Je.call(Ze);let Ye=!0;be.subscribe((0,J.x)(Te,Ee=>{var Ke;null===(Ke=Ze.next)||void 0===Ke||Ke.call(Ze,Ee),Te.next(Ee)},()=>{var Ee;Ye=!1,null===(Ee=Ze.complete)||void 0===Ee||Ee.call(Ze),Te.complete()},Ee=>{var Ke;Ye=!1,null===(Ke=Ze.error)||void 0===Ke||Ke.call(Ze,Ee),Te.error(Ee)},()=>{var Ee,Ke;Ye&&(null===(Ee=Ze.unsubscribe)||void 0===Ee||Ee.call(Ze)),null===(Ke=Ze.finalize)||void 0===Ke||Ke.call(Ze)}))}):de.y}},3026:(un,ft,N)=>{"use strict";N.d(ft,{T:()=>de});var d=N(6973),$=N(9360),J=N(8251);function de(re=Oe){return(0,$.e)((me,qe)=>{let Ze=!1;me.subscribe((0,J.x)(qe,be=>{Ze=!0,qe.next(be)},()=>Ze?qe.complete():qe.error(re())))})}function Oe(){return new d.K}},1954:(un,ft,N)=>{"use strict";N.d(ft,{o:()=>Oe});var d=N(7394);class $ extends d.w0{constructor(me,qe){super()}schedule(me,qe=0){return this}}const J={setInterval(re,me,...qe){const{delegate:Ze}=J;return null!=Ze&&Ze.setInterval?Ze.setInterval(re,me,...qe):setInterval(re,me,...qe)},clearInterval(re){const{delegate:me}=J;return((null==me?void 0:me.clearInterval)||clearInterval)(re)},delegate:void 0};var de=N(9039);class Oe extends ${constructor(me,qe){super(me,qe),this.scheduler=me,this.work=qe,this.pending=!1}schedule(me,qe=0){var Ze;if(this.closed)return this;this.state=me;const be=this.id,Te=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Te,be,qe)),this.pending=!0,this.delay=qe,this.id=null!==(Ze=this.id)&&void 0!==Ze?Ze:this.requestAsyncId(Te,this.id,qe),this}requestAsyncId(me,qe,Ze=0){return J.setInterval(me.flush.bind(me,this),Ze)}recycleAsyncId(me,qe,Ze=0){if(null!=Ze&&this.delay===Ze&&!1===this.pending)return qe;null!=qe&&J.clearInterval(qe)}execute(me,qe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ze=this._execute(me,qe);if(Ze)return Ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,qe){let be,Ze=!1;try{this.work(me)}catch(Te){Ze=!0,be=Te||new Error("Scheduled action threw falsy error")}if(Ze)return this.unsubscribe(),be}unsubscribe(){if(!this.closed){const{id:me,scheduler:qe}=this,{actions:Ze}=qe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ze,this),null!=me&&(this.id=this.recycleAsyncId(qe,me,null)),this.delay=null,super.unsubscribe()}}}},2631:(un,ft,N)=>{"use strict";N.d(ft,{v:()=>J});var d=N(4552);class ${constructor(Oe,re=$.now){this.schedulerActionCtor=Oe,this.now=re}schedule(Oe,re=0,me){return new this.schedulerActionCtor(this,Oe).schedule(me,re)}}$.now=d.l.now;class J extends ${constructor(Oe,re=$.now){super(Oe,re),this.actions=[],this._active=!1}flush(Oe){const{actions:re}=this;if(this._active)return void re.push(Oe);let me;this._active=!0;do{if(me=Oe.execute(Oe.state,Oe.delay))break}while(Oe=re.shift());if(this._active=!1,me){for(;Oe=re.shift();)Oe.unsubscribe();throw me}}}},6321:(un,ft,N)=>{"use strict";N.d(ft,{z:()=>J});var d=N(1954);const J=new(N(2631).v)(d.o)},4552:(un,ft,N)=>{"use strict";N.d(ft,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(un,ft,N)=>{"use strict";N.d(ft,{z:()=>d});const d={setTimeout($,J,...de){const{delegate:Oe}=d;return null!=Oe&&Oe.setTimeout?Oe.setTimeout($,J,...de):setTimeout($,J,...de)},clearTimeout($){const{delegate:J}=d;return((null==J?void 0:J.clearTimeout)||clearTimeout)($)},delegate:void 0}},4971:(un,ft,N)=>{"use strict";N.d(ft,{h:()=>$});const $=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(un,ft,N)=>{"use strict";N.d(ft,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(un,ft,N)=>{"use strict";N.d(ft,{K:()=>$});const $=(0,N(2306).d)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(un,ft,N)=>{"use strict";N.d(ft,{_6:()=>re,jO:()=>de,yG:()=>Oe});var d=N(4674);function J(me){return me[me.length-1]}function de(me){return(0,d.m)(J(me))?me.pop():void 0}function Oe(me){return function $(me){return me&&(0,d.m)(me.schedule)}(J(me))?me.pop():void 0}function re(me,qe){return"number"==typeof J(me)?me.pop():qe}},7453:(un,ft,N)=>{"use strict";N.d(ft,{D:()=>Oe});const{isArray:d}=Array,{getPrototypeOf:$,prototype:J,keys:de}=Object;function Oe(me){if(1===me.length){const qe=me[0];if(d(qe))return{args:qe,keys:null};if(function re(me){return me&&"object"==typeof me&&$(me)===J}(qe)){const Ze=de(qe);return{args:Ze.map(be=>qe[be]),keys:Ze}}}return{args:me,keys:null}}},9039:(un,ft,N)=>{"use strict";function d($,J){if($){const de=$.indexOf(J);0<=de&&$.splice(de,1)}}N.d(ft,{P:()=>d})},2306:(un,ft,N)=>{"use strict";function d($){const de=$(Oe=>{Error.call(Oe),Oe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}N.d(ft,{d:()=>d})},2714:(un,ft,N)=>{"use strict";function d($,J){return $.reduce((de,Oe,re)=>(de[Oe]=J[re],de),{})}N.d(ft,{n:()=>d})},1441:(un,ft,N)=>{"use strict";N.d(ft,{O:()=>de,x:()=>J});var d=N(2653);let $=null;function J(Oe){if(d.config.useDeprecatedSynchronousErrorHandling){const re=!$;if(re&&($={errorThrown:!1,error:null}),Oe(),re){const{errorThrown:me,error:qe}=$;if($=null,me)throw qe}}else Oe()}function de(Oe){d.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Oe)}},7103:(un,ft,N)=>{"use strict";function d($,J,de,Oe=0,re=!1){const me=J.schedule(function(){de(),re?$.add(this.schedule(null,Oe)):this.unsubscribe()},Oe);if($.add(me),!re)return me}N.d(ft,{f:()=>d})},2737:(un,ft,N)=>{"use strict";function d($){return $}N.d(ft,{y:()=>d})},4266:(un,ft,N)=>{"use strict";N.d(ft,{z:()=>d});const d=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(un,ft,N)=>{"use strict";N.d(ft,{D:()=>$});var d=N(4674);function $(J){return Symbol.asyncIterator&&(0,d.m)(null==J?void 0:J[Symbol.asyncIterator])}},4674:(un,ft,N)=>{"use strict";function d($){return"function"==typeof $}N.d(ft,{m:()=>d})},8382:(un,ft,N)=>{"use strict";N.d(ft,{c:()=>J});var d=N(4850),$=N(4674);function J(de){return(0,$.m)(de[d.L])}},3664:(un,ft,N)=>{"use strict";N.d(ft,{T:()=>J});var d=N(4971),$=N(4674);function J(de){return(0,$.m)(null==de?void 0:de[d.h])}},4026:(un,ft,N)=>{"use strict";N.d(ft,{t:()=>$});var d=N(4674);function $(J){return(0,d.m)(null==J?void 0:J.then)}},541:(un,ft,N)=>{"use strict";N.d(ft,{L:()=>de,Q:()=>J});var d=N(7582),$=N(4674);function J(Oe){return(0,d.FC)(this,arguments,function*(){const me=Oe.getReader();try{for(;;){const{value:qe,done:Ze}=yield(0,d.qq)(me.read());if(Ze)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(qe)}}finally{me.releaseLock()}})}function de(Oe){return(0,$.m)(null==Oe?void 0:Oe.getReader)}},9360:(un,ft,N)=>{"use strict";N.d(ft,{A:()=>$,e:()=>J});var d=N(4674);function $(de){return(0,d.m)(null==de?void 0:de.lift)}function J(de){return Oe=>{if($(Oe))return Oe.lift(function(re){try{return de(re,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(un,ft,N)=>{"use strict";N.d(ft,{Z:()=>de});var d=N(7398);const{isArray:$}=Array;function de(Oe){return(0,d.U)(re=>function J(Oe,re){return $(re)?Oe(...re):Oe(re)}(Oe,re))}},2420:(un,ft,N)=>{"use strict";function d(){}N.d(ft,{Z:()=>d})},8407:(un,ft,N)=>{"use strict";N.d(ft,{U:()=>J,z:()=>$});var d=N(2737);function $(...de){return J(de)}function J(de){return 0===de.length?d.y:1===de.length?de[0]:function(re){return de.reduce((me,qe)=>qe(me),re)}}},3894:(un,ft,N)=>{"use strict";N.d(ft,{h:()=>J});var d=N(2653),$=N(7599);function J(de){$.z.setTimeout(()=>{const{onUnhandledError:Oe}=d.config;if(!Oe)throw de;Oe(de)})}},9853:(un,ft,N)=>{"use strict";function d($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ft,{z:()=>d})},863:(un,ft,N)=>{var d={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9302,433],"./ion-datetime_3.entry.js":[7059,9302,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function $(J){if(!N.o(d,J))return Promise.resolve().then(()=>{var re=new Error("Cannot find module '"+J+"'");throw re.code="MODULE_NOT_FOUND",re});var de=d[J],Oe=de[0];return Promise.all(de.slice(1).map(N.e)).then(()=>N(Oe))}$.keys=()=>Object.keys(d),$.id=863,un.exports=$},6814:(un,ft,N)=>{"use strict";N.d(ft,{Do:()=>_t,EM:()=>jo,HT:()=>de,JF:()=>vo,K0:()=>re,Mx:()=>Tt,O5:()=>ee,PM:()=>Ia,S$:()=>Ye,V_:()=>qe,Ye:()=>et,b0:()=>Ke,bD:()=>$o,ez:()=>Vr,q:()=>J,sg:()=>mn,tP:()=>xt,w_:()=>Oe});var d=N(9212);let $=null;function J(){return $}function de(R){$||($=R)}class Oe{}const re=new d.OlP("DocumentToken");let me=(()=>{var R;class G{historyGo(H){throw new Error("Not implemented")}}return(R=G).\u0275fac=function(H){return new(H||R)},R.\u0275prov=d.Yz7({token:R,factory:()=>(0,d.f3M)(Ze),providedIn:"platform"}),G})();const qe=new d.OlP("Location Initialized");let Ze=(()=>{var R;class G extends me{constructor(){super(),this._doc=(0,d.f3M)(re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(H){const ve=J().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("popstate",H,!1),()=>ve.removeEventListener("popstate",H)}onHashChange(H){const ve=J().getGlobalEventTarget(this._doc,"window");return ve.addEventListener("hashchange",H,!1),()=>ve.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,ve,tt){this._history.pushState(H,ve,tt)}replaceState(H,ve,tt){this._history.replaceState(H,ve,tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return(R=G).\u0275fac=function(H){return new(H||R)},R.\u0275prov=d.Yz7({token:R,factory:()=>new R,providedIn:"platform"}),G})();function be(R,G){if(0==R.length)return G;if(0==G.length)return R;let Ve=0;return R.endsWith("/")&&Ve++,G.startsWith("/")&&Ve++,2==Ve?R+G.substring(1):1==Ve?R+G:R+"/"+G}function Te(R){const G=R.match(/#|\?|$/),Ve=G&&G.index||R.length;return R.slice(0,Ve-("/"===R[Ve-1]?1:0))+R.slice(Ve)}function Je(R){return R&&"?"!==R[0]?"?"+R:R}let Ye=(()=>{var R;class G{historyGo(H){throw new Error("Not implemented")}}return(R=G).\u0275fac=function(H){return new(H||R)},R.\u0275prov=d.Yz7({token:R,factory:()=>(0,d.f3M)(Ke),providedIn:"root"}),G})();const Ee=new d.OlP("appBaseHref");let Ke=(()=>{var R;class G extends Ye{constructor(H,ve){var tt,Gt,on;super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=null!==(tt=null!==(Gt=null!=ve?ve:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Gt?Gt:null===(on=(0,d.f3M)(re).location)||void 0===on?void 0:on.origin)&&void 0!==tt?tt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return be(this._baseHref,H)}path(H=!1){const ve=this._platformLocation.pathname+Je(this._platformLocation.search),tt=this._platformLocation.hash;return tt&&H?`${ve}${tt}`:ve}pushState(H,ve,tt,Gt){const on=this.prepareExternalUrl(tt+Je(Gt));this._platformLocation.pushState(H,ve,on)}replaceState(H,ve,tt,Gt){const on=this.prepareExternalUrl(tt+Je(Gt));this._platformLocation.replaceState(H,ve,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ve,tt;null===(ve=(tt=this._platformLocation).historyGo)||void 0===ve||ve.call(tt,H)}}return(R=G).\u0275fac=function(H){return new(H||R)(d.LFG(me),d.LFG(Ee,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),G})(),_t=(()=>{var R;class G extends Ye{constructor(H,ve){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ve&&(this._baseHref=ve)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ve=this._platformLocation.hash;return null==ve&&(ve="#"),ve.length>0?ve.substring(1):ve}prepareExternalUrl(H){const ve=be(this._baseHref,H);return ve.length>0?"#"+ve:ve}pushState(H,ve,tt,Gt){let on=this.prepareExternalUrl(tt+Je(Gt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.pushState(H,ve,on)}replaceState(H,ve,tt,Gt){let on=this.prepareExternalUrl(tt+Je(Gt));0==on.length&&(on=this._platformLocation.pathname),this._platformLocation.replaceState(H,ve,on)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ve,tt;null===(ve=(tt=this._platformLocation).historyGo)||void 0===ve||ve.call(tt,H)}}return(R=G).\u0275fac=function(H){return new(H||R)(d.LFG(me),d.LFG(Ee,8))},R.\u0275prov=d.Yz7({token:R,factory:R.\u0275fac}),G})(),et=(()=>{var R;class G{constructor(H){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const ve=this._locationStrategy.getBaseHref();this._basePath=function Ce(R){if(new RegExp("^(https?:)?//").test(R)){const[,Ve]=R.split(/\/\/[^\/]+/);return Ve}return R}(Te(Et(ve))),this._locationStrategy.onPopState(tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:tt.state,type:tt.type})})}ngOnDestroy(){var H;null===(H=this._urlChangeSubscription)||void 0===H||H.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,ve=""){return this.path()==this.normalize(H+Je(ve))}normalize(H){return G.stripTrailingSlash(function at(R,G){if(!R||!G.startsWith(R))return G;const Ve=G.substring(R.length);return""===Ve||["/",";","?","#"].includes(Ve[0])?Ve:G}(this._basePath,Et(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,ve="",tt=null){this._locationStrategy.pushState(tt,"",H,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Je(ve)),tt)}replaceState(H,ve="",tt=null){this._locationStrategy.replaceState(tt,"",H,ve),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Je(ve)),tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){var ve,tt;null===(ve=(tt=this._locationStrategy).historyGo)||void 0===ve||ve.call(tt,H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ve=>{this._notifyUrlChangeListeners(ve.url,ve.state)})),()=>{const ve=this._urlChangeListeners.indexOf(H);var tt;this._urlChangeListeners.splice(ve,1),0===this._urlChangeListeners.length&&(null===(tt=this._urlChangeSubscription)||void 0===tt||tt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",ve){this._urlChangeListeners.forEach(tt=>tt(H,ve))}subscribe(H,ve,tt){return this._subject.subscribe({next:H,error:ve,complete:tt})}}return(R=G).normalizeQueryParams=Je,R.joinWithSlash=be,R.stripTrailingSlash=Te,R.\u0275fac=function(H){return new(H||R)(d.LFG(Ye))},R.\u0275prov=d.Yz7({token:R,factory:()=>function nt(){return new et((0,d.LFG)(Ye))}(),providedIn:"root"}),G})();function Et(R){return R.replace(/\/index.html$/,"")}function Tt(R,G){G=encodeURIComponent(G);for(const Ve of R.split(";")){const H=Ve.indexOf("="),[ve,tt]=-1==H?[Ve,""]:[Ve.slice(0,H),Ve.slice(H+1)];if(ve.trim()===G)return decodeURIComponent(tt)}return null}class Rn{constructor(G,Ve,H,ve){this.$implicit=G,this.ngForOf=Ve,this.index=H,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mn=(()=>{var R;class G{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,ve,tt){this._viewContainer=H,this._template=ve,this._differs=tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ve=this._viewContainer;H.forEachOperation((tt,Gt,on)=>{if(null==tt.previousIndex)ve.createEmbeddedView(this._template,new Rn(tt.item,this._ngForOf,-1,-1),null===on?void 0:on);else if(null==on)ve.remove(null===Gt?void 0:Gt);else if(null!==Gt){const fr=ve.get(Gt);ve.move(fr,on),De(fr,tt)}});for(let tt=0,Gt=ve.length;tt<Gt;tt++){const fr=ve.get(tt).context;fr.index=tt,fr.count=Gt,fr.ngForOf=this._ngForOf}H.forEachIdentityChange(tt=>{De(ve.get(tt.currentIndex),tt)})}static ngTemplateContextGuard(H,ve){return!0}}return(R=G).\u0275fac=function(H){return new(H||R)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),G})();function De(R,G){R.context.$implicit=G.item}let ee=(()=>{var R;class G{constructor(H,ve){this._viewContainer=H,this._context=new Ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ve}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){gt("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){gt("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ve){return!0}}return(R=G).\u0275fac=function(H){return new(H||R)(d.Y36(d.s_b),d.Y36(d.Rgc))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),G})();class Ae{constructor(){this.$implicit=null,this.ngIf=null}}function gt(R,G){if(G&&!G.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.AaK)(G)}'.`)}let xt=(()=>{var R;class G{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(this._shouldRecreateView(H)){var ve;const tt=this._viewContainerRef;if(this._viewRef&&tt.remove(tt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Gt=this._createContextForwardProxy();this._viewRef=tt.createEmbeddedView(this.ngTemplateOutlet,Gt,{injector:null!==(ve=this.ngTemplateOutletInjector)&&void 0!==ve?ve:void 0})}}_shouldRecreateView(H){return!!H.ngTemplateOutlet||!!H.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(H,ve,tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ve,tt),get:(H,ve,tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ve,tt)}})}}return(R=G).\u0275fac=function(H){return new(H||R)(d.Y36(d.s_b))},R.\u0275dir=d.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),G})(),Vr=(()=>{var R;class G{}return(R=G).\u0275fac=function(H){return new(H||R)},R.\u0275mod=d.oAB({type:R}),R.\u0275inj=d.cJS({}),G})();const $o="browser",ds="server";function Ia(R){return R===ds}let jo=(()=>{var R;class G{}return(R=G).\u0275prov=(0,d.Yz7)({token:R,providedIn:"root",factory:()=>new ca((0,d.LFG)(re),window)}),G})();class ca{constructor(G,Ve){this.document=G,this.window=Ve,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const Ve=function Ys(R,G){const Ve=R.getElementById(G)||R.getElementsByName(G)[0];if(Ve)return Ve;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const H=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ve=H.currentNode;for(;ve;){const tt=ve.shadowRoot;if(tt){const Gt=tt.getElementById(G)||tt.querySelector(`[name="${G}"]`);if(Gt)return Gt}ve=H.nextNode()}}return null}(this.document,G);Ve&&(this.scrollToElement(Ve),Ve.focus())}setHistoryScrollRestoration(G){this.supportsScrolling()&&(this.window.history.scrollRestoration=G)}scrollToElement(G){const Ve=G.getBoundingClientRect(),H=Ve.left+this.window.pageXOffset,ve=Ve.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(H-tt[0],ve-tt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class vo{}},9862:(un,ft,N)=>{"use strict";N.d(ft,{JF:()=>$n,eN:()=>Z}),N(5861);var $=N(9212),J=N(2096),de=N(5592),Oe=N(2459),re=N(6328),me=N(2181),qe=N(7398),Ze=N(4716),be=N(4664),Te=N(6814);class Je{}class Ye{}class Ee{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?"string"==typeof He?this.lazyInit=()=>{this.headers=new Map,He.split("\n").forEach(Tt=>{const vt=Tt.indexOf(":");if(vt>0){const Ut=Tt.slice(0,vt),Yt=Ut.toLowerCase(),Cn=Tt.slice(vt+1).trim();this.maybeSetNormalizedName(Ut,Yt),this.headers.has(Yt)?this.headers.get(Yt).push(Cn):this.headers.set(Yt,[Cn])}})}:typeof Headers<"u"&&He instanceof Headers?(this.headers=new Map,He.forEach((Tt,vt)=>{this.setHeaderEntries(vt,Tt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(He).forEach(([Tt,vt])=>{this.setHeaderEntries(Tt,vt)})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const Tt=this.headers.get(He.toLowerCase());return Tt&&Tt.length>0?Tt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,Tt){return this.clone({name:He,value:Tt,op:"a"})}set(He,Tt){return this.clone({name:He,value:Tt,op:"s"})}delete(He,Tt){return this.clone({name:He,value:Tt,op:"d"})}maybeSetNormalizedName(He,Tt){this.normalizedNames.has(Tt)||this.normalizedNames.set(Tt,He)}init(){this.lazyInit&&(this.lazyInit instanceof Ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(Tt=>{this.headers.set(Tt,He.headers.get(Tt)),this.normalizedNames.set(Tt,He.normalizedNames.get(Tt))})}clone(He){const Tt=new Ee;return Tt.lazyInit=this.lazyInit&&this.lazyInit instanceof Ee?this.lazyInit:this,Tt.lazyUpdate=(this.lazyUpdate||[]).concat([He]),Tt}applyUpdate(He){const Tt=He.name.toLowerCase();switch(He.op){case"a":case"s":let vt=He.value;if("string"==typeof vt&&(vt=[vt]),0===vt.length)return;this.maybeSetNormalizedName(He.name,Tt);const Ut=("a"===He.op?this.headers.get(Tt):void 0)||[];Ut.push(...vt),this.headers.set(Tt,Ut);break;case"d":const Yt=He.value;if(Yt){let Cn=this.headers.get(Tt);if(!Cn)return;Cn=Cn.filter(fn=>-1===Yt.indexOf(fn)),0===Cn.length?(this.headers.delete(Tt),this.normalizedNames.delete(Tt)):this.headers.set(Tt,Cn)}else this.headers.delete(Tt),this.normalizedNames.delete(Tt)}}setHeaderEntries(He,Tt){const vt=(Array.isArray(Tt)?Tt:[Tt]).map(Yt=>Yt.toString()),Ut=He.toLowerCase();this.headers.set(Ut,vt),this.maybeSetNormalizedName(He,Ut)}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tt=>He(this.normalizedNames.get(Tt),this.headers.get(Tt)))}}class _t{encodeKey(He){return Et(He)}encodeValue(He){return Et(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const nt=/%(\d[a-f0-9])/gi,at={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Et(dt){return encodeURIComponent(dt).replace(nt,(He,Tt)=>{var vt;return null!==(vt=at[Tt])&&void 0!==vt?vt:He})}function Ce(dt){return`${dt}`}class Be{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new _t,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function et(dt,He){const Tt=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(Ut=>{const Yt=Ut.indexOf("="),[Cn,fn]=-1==Yt?[He.decodeKey(Ut),""]:[He.decodeKey(Ut.slice(0,Yt)),He.decodeValue(Ut.slice(Yt+1))],Rn=Tt.get(Cn)||[];Rn.push(fn),Tt.set(Cn,Rn)}),Tt}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(Tt=>{const vt=He.fromObject[Tt],Ut=Array.isArray(vt)?vt.map(Ce):[Ce(vt)];this.map.set(Tt,Ut)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const Tt=this.map.get(He);return Tt?Tt[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,Tt){return this.clone({param:He,value:Tt,op:"a"})}appendAll(He){const Tt=[];return Object.keys(He).forEach(vt=>{const Ut=He[vt];Array.isArray(Ut)?Ut.forEach(Yt=>{Tt.push({param:vt,value:Yt,op:"a"})}):Tt.push({param:vt,value:Ut,op:"a"})}),this.clone(Tt)}set(He,Tt){return this.clone({param:He,value:Tt,op:"s"})}delete(He,Tt){return this.clone({param:He,value:Tt,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const Tt=this.encoder.encodeKey(He);return this.map.get(He).map(vt=>Tt+"="+this.encoder.encodeValue(vt)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const Tt=new Be({encoder:this.encoder});return Tt.cloneFrom=this.cloneFrom||this,Tt.updates=(this.updates||[]).concat(He),Tt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const Tt=("a"===He.op?this.map.get(He.param):void 0)||[];Tt.push(Ce(He.value)),this.map.set(He.param,Tt);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let vt=this.map.get(He.param)||[];const Ut=vt.indexOf(Ce(He.value));-1!==Ut&&vt.splice(Ut,1),vt.length>0?this.map.set(He.param,vt):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class pt{constructor(){this.map=new Map}set(He,Tt){return this.map.set(He,Tt),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function Se(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function he(dt){return typeof Blob<"u"&&dt instanceof Blob}function Ie(dt){return typeof FormData<"u"&&dt instanceof FormData}class rt{constructor(He,Tt,vt,Ut){let Yt;if(this.url=Tt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function _e(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ut?(this.body=void 0!==vt?vt:null,Yt=Ut):Yt=vt,Yt&&(this.reportProgress=!!Yt.reportProgress,this.withCredentials=!!Yt.withCredentials,Yt.responseType&&(this.responseType=Yt.responseType),Yt.headers&&(this.headers=Yt.headers),Yt.context&&(this.context=Yt.context),Yt.params&&(this.params=Yt.params),this.transferCache=Yt.transferCache),this.headers||(this.headers=new Ee),this.context||(this.context=new pt),this.params){const Cn=this.params.toString();if(0===Cn.length)this.urlWithParams=Tt;else{const fn=Tt.indexOf("?");this.urlWithParams=Tt+(-1===fn?"?":fn<Tt.length-1?"&":"")+Cn}}else this.params=new Be,this.urlWithParams=Tt}serializeBody(){return null===this.body?null:Se(this.body)||he(this.body)||Ie(this.body)||function Ue(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ie(this.body)?null:he(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){var Tt;const vt=He.method||this.method,Ut=He.url||this.url,Yt=He.responseType||this.responseType,Cn=void 0!==He.body?He.body:this.body,fn=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,Rn=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let mn=He.headers||this.headers,De=He.params||this.params;const Ne=null!==(Tt=He.context)&&void 0!==Tt?Tt:this.context;return void 0!==He.setHeaders&&(mn=Object.keys(He.setHeaders).reduce((ee,Ae)=>ee.set(Ae,He.setHeaders[Ae]),mn)),He.setParams&&(De=Object.keys(He.setParams).reduce((ee,Ae)=>ee.set(Ae,He.setParams[Ae]),De)),new rt(vt,Ut,Cn,{params:De,headers:mn,context:Ne,reportProgress:Rn,responseType:Yt,withCredentials:fn})}}var Me=function(dt){return dt[dt.Sent=0]="Sent",dt[dt.UploadProgress=1]="UploadProgress",dt[dt.ResponseHeader=2]="ResponseHeader",dt[dt.DownloadProgress=3]="DownloadProgress",dt[dt.Response=4]="Response",dt[dt.User=5]="User",dt}(Me||{});class st{constructor(He,Tt=200,vt="OK"){this.headers=He.headers||new Ee,this.status=void 0!==He.status?He.status:Tt,this.statusText=He.statusText||vt,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class yt extends st{constructor(He={}){super(He),this.type=Me.ResponseHeader}clone(He={}){return new yt({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Qe extends st{constructor(He={}){super(He),this.type=Me.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new Qe({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class se extends st{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function x(dt,He){return{body:He,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials,transferCache:dt.transferCache}}let Z=(()=>{var dt;class He{constructor(vt){this.handler=vt}request(vt,Ut,Yt={}){let Cn;if(vt instanceof rt)Cn=vt;else{let mn,De;mn=Yt.headers instanceof Ee?Yt.headers:new Ee(Yt.headers),Yt.params&&(De=Yt.params instanceof Be?Yt.params:new Be({fromObject:Yt.params})),Cn=new rt(vt,Ut,void 0!==Yt.body?Yt.body:null,{headers:mn,context:Yt.context,params:De,reportProgress:Yt.reportProgress,responseType:Yt.responseType||"json",withCredentials:Yt.withCredentials,transferCache:Yt.transferCache})}const fn=(0,J.of)(Cn).pipe((0,re.b)(mn=>this.handler.handle(mn)));if(vt instanceof rt||"events"===Yt.observe)return fn;const Rn=fn.pipe((0,me.h)(mn=>mn instanceof Qe));switch(Yt.observe||"body"){case"body":switch(Cn.responseType){case"arraybuffer":return Rn.pipe((0,qe.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return mn.body}));case"blob":return Rn.pipe((0,qe.U)(mn=>{if(null!==mn.body&&!(mn.body instanceof Blob))throw new Error("Response is not a Blob.");return mn.body}));case"text":return Rn.pipe((0,qe.U)(mn=>{if(null!==mn.body&&"string"!=typeof mn.body)throw new Error("Response is not a string.");return mn.body}));default:return Rn.pipe((0,qe.U)(mn=>mn.body))}case"response":return Rn;default:throw new Error(`Unreachable: unhandled observe type ${Yt.observe}}`)}}delete(vt,Ut={}){return this.request("DELETE",vt,Ut)}get(vt,Ut={}){return this.request("GET",vt,Ut)}head(vt,Ut={}){return this.request("HEAD",vt,Ut)}jsonp(vt,Ut){return this.request("JSONP",vt,{params:(new Be).append(Ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(vt,Ut={}){return this.request("OPTIONS",vt,Ut)}patch(vt,Ut,Yt={}){return this.request("PATCH",vt,x(Yt,Ut))}post(vt,Ut,Yt={}){return this.request("POST",vt,x(Yt,Ut))}put(vt,Ut,Yt={}){return this.request("PUT",vt,x(Yt,Ut))}}return(dt=He).\u0275fac=function(vt){return new(vt||dt)($.LFG(Je))},dt.\u0275prov=$.Yz7({token:dt,factory:dt.\u0275fac}),He})();function At(dt,He){return He(dt)}function ln(dt,He){return(Tt,vt)=>He.intercept(Tt,{handle:Ut=>dt(Ut,vt)})}const Rt=new $.OlP(""),Nt=new $.OlP(""),Ht=new $.OlP(""),Jt=new $.OlP("");function Hn(){let dt=null;return(He,Tt)=>{var vt;null===dt&&(dt=(null!==(vt=(0,$.f3M)(Rt,{optional:!0}))&&void 0!==vt?vt:[]).reduceRight(ln,At));const Ut=(0,$.f3M)($.HDt),Yt=Ut.add();return dt(He,Tt).pipe((0,Ze.x)(()=>Ut.remove(Yt)))}}let gn=(()=>{var dt;class He extends Je{constructor(vt,Ut){super(),this.backend=vt,this.injector=Ut,this.chain=null,this.pendingTasks=(0,$.f3M)($.HDt);const Yt=(0,$.f3M)(Jt,{optional:!0});this.backend=null!=Yt?Yt:vt}handle(vt){if(null===this.chain){const Yt=Array.from(new Set([...this.injector.get(Nt),...this.injector.get(Ht,[])]));this.chain=Yt.reduceRight((Cn,fn)=>function Kt(dt,He,Tt){return(vt,Ut)=>Tt.runInContext(()=>He(vt,Yt=>dt(Yt,Ut)))}(Cn,fn,this.injector),At)}const Ut=this.pendingTasks.add();return this.chain(vt,Yt=>this.backend.handle(Yt)).pipe((0,Ze.x)(()=>this.pendingTasks.remove(Ut)))}}return(dt=He).\u0275fac=function(vt){return new(vt||dt)($.LFG(Ye),$.LFG($.lqb))},dt.\u0275prov=$.Yz7({token:dt,factory:dt.\u0275fac}),He})();const wi=/^\)\]\}',?\n/;let hn=(()=>{var dt;class He{constructor(vt){this.xhrFactory=vt}handle(vt){if("JSONP"===vt.method)throw new $.vHH(-2800,!1);const Ut=this.xhrFactory;return(Ut.\u0275loadImpl?(0,Oe.D)(Ut.\u0275loadImpl()):(0,J.of)(null)).pipe((0,be.w)(()=>new de.y(Cn=>{const fn=Ut.build();if(fn.open(vt.method,vt.urlWithParams),vt.withCredentials&&(fn.withCredentials=!0),vt.headers.forEach((jt,tn)=>fn.setRequestHeader(jt,tn.join(","))),vt.headers.has("Accept")||fn.setRequestHeader("Accept","application/json, text/plain, */*"),!vt.headers.has("Content-Type")){const jt=vt.detectContentTypeHeader();null!==jt&&fn.setRequestHeader("Content-Type",jt)}if(vt.responseType){const jt=vt.responseType.toLowerCase();fn.responseType="json"!==jt?jt:"text"}const Rn=vt.serializeBody();let mn=null;const De=()=>{if(null!==mn)return mn;const jt=fn.statusText||"OK",tn=new Ee(fn.getAllResponseHeaders()),Nn=function Dr(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(fn)||vt.url;return mn=new yt({headers:tn,status:fn.status,statusText:jt,url:Nn}),mn},Ne=()=>{let{headers:jt,status:tn,statusText:Nn,url:nn}=De(),dr=null;204!==tn&&(dr=typeof fn.response>"u"?fn.responseText:fn.response),0===tn&&(tn=dr?200:0);let z=tn>=200&&tn<300;if("json"===vt.responseType&&"string"==typeof dr){const ie=dr;dr=dr.replace(wi,"");try{dr=""!==dr?JSON.parse(dr):null}catch(ze){dr=ie,z&&(z=!1,dr={error:ze,text:dr})}}z?(Cn.next(new Qe({body:dr,headers:jt,status:tn,statusText:Nn,url:nn||void 0})),Cn.complete()):Cn.error(new se({error:dr,headers:jt,status:tn,statusText:Nn,url:nn||void 0}))},ee=jt=>{const{url:tn}=De(),Nn=new se({error:jt,status:fn.status||0,statusText:fn.statusText||"Unknown Error",url:tn||void 0});Cn.error(Nn)};let Ae=!1;const gt=jt=>{Ae||(Cn.next(De()),Ae=!0);let tn={type:Me.DownloadProgress,loaded:jt.loaded};jt.lengthComputable&&(tn.total=jt.total),"text"===vt.responseType&&fn.responseText&&(tn.partialText=fn.responseText),Cn.next(tn)},Bt=jt=>{let tn={type:Me.UploadProgress,loaded:jt.loaded};jt.lengthComputable&&(tn.total=jt.total),Cn.next(tn)};return fn.addEventListener("load",Ne),fn.addEventListener("error",ee),fn.addEventListener("timeout",ee),fn.addEventListener("abort",ee),vt.reportProgress&&(fn.addEventListener("progress",gt),null!==Rn&&fn.upload&&fn.upload.addEventListener("progress",Bt)),fn.send(Rn),Cn.next({type:Me.Sent}),()=>{fn.removeEventListener("error",ee),fn.removeEventListener("abort",ee),fn.removeEventListener("load",Ne),fn.removeEventListener("timeout",ee),vt.reportProgress&&(fn.removeEventListener("progress",gt),null!==Rn&&fn.upload&&fn.upload.removeEventListener("progress",Bt)),fn.readyState!==fn.DONE&&fn.abort()}})))}}return(dt=He).\u0275fac=function(vt){return new(vt||dt)($.LFG(Te.JF))},dt.\u0275prov=$.Yz7({token:dt,factory:dt.\u0275fac}),He})();const tr=new $.OlP("XSRF_ENABLED"),oi=new $.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ti=new $.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Nr{}let jr=(()=>{var dt;class He{constructor(vt,Ut,Yt){this.doc=vt,this.platform=Ut,this.cookieName=Yt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const vt=this.doc.cookie||"";return vt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Te.Mx)(vt,this.cookieName),this.lastCookieString=vt),this.lastToken}}return(dt=He).\u0275fac=function(vt){return new(vt||dt)($.LFG(Te.K0),$.LFG($.Lbi),$.LFG(oi))},dt.\u0275prov=$.Yz7({token:dt,factory:dt.\u0275fac}),He})();function Fr(dt,He){const Tt=dt.url.toLowerCase();if(!(0,$.f3M)(tr)||"GET"===dt.method||"HEAD"===dt.method||Tt.startsWith("http://")||Tt.startsWith("https://"))return He(dt);const vt=(0,$.f3M)(Nr).getToken(),Ut=(0,$.f3M)(Ti);return null!=vt&&!dt.headers.has(Ut)&&(dt=dt.clone({headers:dt.headers.set(Ut,vt)})),He(dt)}var Un=function(dt){return dt[dt.Interceptors=0]="Interceptors",dt[dt.LegacyInterceptors=1]="LegacyInterceptors",dt[dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",dt[dt.NoXsrfProtection=3]="NoXsrfProtection",dt[dt.JsonpSupport=4]="JsonpSupport",dt[dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",dt[dt.Fetch=6]="Fetch",dt}(Un||{});function ai(dt,He){return{\u0275kind:dt,\u0275providers:He}}function Pi(...dt){const He=[Z,hn,gn,{provide:Je,useExisting:gn},{provide:Ye,useExisting:hn},{provide:Nt,useValue:Fr,multi:!0},{provide:tr,useValue:!0},{provide:Nr,useClass:jr}];for(const Tt of dt)He.push(...Tt.\u0275providers);return(0,$.MR2)(He)}const lt=new $.OlP("LEGACY_INTERCEPTOR_FN");let $n=(()=>{var dt;class He{}return(dt=He).\u0275fac=function(vt){return new(vt||dt)},dt.\u0275mod=$.oAB({type:dt}),dt.\u0275inj=$.cJS({providers:[Pi(ai(Un.LegacyInterceptors,[{provide:lt,useFactory:Hn},{provide:Nt,useExisting:lt,multi:!0}]))]}),He})()},9212:(un,ft,N)=>{"use strict";N.d(ft,{tb:()=>bI,AFp:()=>Ou,ip1:()=>OT,hGG:()=>YR,z2F:()=>U_,Ojb:()=>Nu,sBO:()=>Dy,Sil:()=>rR,EJc:()=>QS,Xts:()=>Ja,SBq:()=>Kd,lqb:()=>Bs,qLn:()=>Hh,vpe:()=>nd,XFs:()=>De,GSi:()=>nf,OlP:()=>nn,zs3:()=>ro,ZZ4:()=>Hs,aQg:()=>cs,soG:()=>xE,YKP:()=>Ww,h0i:()=>wm,R0b:()=>vs,FiY:()=>Qa,Lbi:()=>Kc,g9A:()=>Dh,Qsj:()=>jg,FYo:()=>Sc,JOm:()=>Sh,tp0:()=>Cd,Rgc:()=>Wv,dDg:()=>SR,eoX:()=>HT,q4F:()=>Qd,GfV:()=>Hg,s_b:()=>gE,ifc:()=>so,T8G:()=>g_,VuI:()=>pP,LMc:()=>mP,MMx:()=>qw,Lck:()=>HA,eFA:()=>YT,G48:()=>$R,Gpc:()=>$r,f3M:()=>Cr,X6Q:()=>UR,$WT:()=>oo,MR2:()=>Ih,_c5:()=>WR,qFp:()=>_P,r_H:()=>as,rg0:()=>h,c2e:()=>NT,zSh:()=>Ad,HDt:()=>LT,wAp:()=>L_,vHH:()=>hn,lri:()=>$T,rWj:()=>jT,cg1:()=>X0,kuF:()=>tr,kL8:()=>NC,dqk:()=>jt,Z0I:()=>Tt,eJc:()=>nl,QGY:()=>tI,F4k:()=>aw,RDi:()=>rl,AaK:()=>Jn,qOj:()=>By,Xq5:()=>yv,TTD:()=>si,_Bn:()=>zw,jDz:()=>Kw,xp6:()=>e_,uIk:()=>Iv,ekj:()=>rE,Suo:()=>fT,Xpm:()=>Es,lG2:()=>Ks,Yz7:()=>kn,cJS:()=>dt,oAB:()=>Ua,Yjl:()=>bl,Y36:()=>zh,_UZ:()=>q0,GkF:()=>Q0,qZA:()=>CE,TgZ:()=>IE,EpF:()=>MC,n5z:()=>Vc,LFG:()=>Ui,$8M:()=>xl,$Z:()=>dy,NdJ:()=>nI,CRH:()=>pT,oxw:()=>hw,Hsn:()=>pw,F$t:()=>fw,Q6J:()=>tE,DdM:()=>rT,iGM:()=>dT,MAs:()=>Tw,KtG:()=>ir,CHM:()=>Yi,LSH:()=>kg,P3R:()=>Cp,YNc:()=>S_,_uU:()=>Nw,Oqu:()=>iI,hij:()=>AE,Gf:()=>hT});let $=null,de=1;function re(t){const n=$;return $=t,n}function Ye(t){if((!Xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==de)){if(!t.producerMustRecompute(t)&&!at(t))return t.dirty=!1,void(t.lastCleanEpoch=de);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=de}}function at(t){pt(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==s.version||(Ye(s),a!==s.version))return!0}return!1}function Be(t,n){if(function _e(t){var n,s;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(s=t.liveConsumerIndexOfThis)&&void 0!==s||(t.liveConsumerIndexOfThis=[])}(t),pt(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Be(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];pt(f),f.producerIndexOfThis[a]=n}}function Xe(t){var n,s;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(s=t.liveConsumerNode)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>0}function pt(t){var n,s,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(s=t.producerIndexOfThis)&&void 0!==s||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let st=null;var Rt=N(8645),Nt=N(7394),Ht=N(5592),Jt=N(3019),Hn=N(5619),Fn=N(2096),rr=N(3020),gn=N(4664),er=N(3997);function _n(t){for(let n in t)if(t[n]===_n)return n;throw Error("Could not find renamed property on target object.")}function ti(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Jn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Jn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function lr(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Qr=_n({__forward_ref__:_n});function $r(t){return t.__forward_ref__=$r,t.toString=function(){return Jn(this())},t}function vn(t){return Lr(t)?t():t}function Lr(t){return"function"==typeof t&&t.hasOwnProperty(Qr)&&t.__forward_ref__===$r}function Mn(t){return t&&!!t.\u0275providers}const Dr="https://g.co/ng/security#xss";class hn extends Error{constructor(n,s){super(tr(n,s)),this.code=n}}function tr(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}const Ar=_n({\u0275cmp:_n}),oi=_n({\u0275dir:_n}),ki=_n({\u0275pipe:_n}),Ti=_n({\u0275mod:_n}),Nr=_n({\u0275fac:_n}),jr=_n({__NG_ELEMENT_ID__:_n}),Fr=_n({__NG_ENV_ID__:_n});function Gn(t){return"string"==typeof t?t:null==t?"":String(t)}function oe(t,n){throw new hn(-201,!1)}function St(t,n){null==t&&function ut(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function kn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{providers:t.providers||[],imports:t.imports||[]}}function He(t){return vt(t,Cn)||vt(t,Rn)}function Tt(t){return null!==He(t)}function vt(t,n){return t.hasOwnProperty(n)?t[n]:null}function Yt(t){return t&&(t.hasOwnProperty(fn)||t.hasOwnProperty(mn))?t[fn]:null}const Cn=_n({\u0275prov:_n}),fn=_n({\u0275inj:_n}),Rn=_n({ngInjectableDef:_n}),mn=_n({ngInjectorDef:_n});var De=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(De||{});let Ne;function ee(){return Ne}function Ae(t){const n=Ne;return Ne=t,n}function gt(t,n,s){const a=He(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&De.Optional?null:void 0!==n?n:void oe(Jn(t))}const jt=globalThis;class nn{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=kn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $t={},Vn="__NG_DI_FLAG__",nr="ngTempTokenPath",li=/\n/gm,Jr="__source";let Di;function fi(t){const n=Di;return Di=t,n}function Ds(t,n=De.Default){if(void 0===Di)throw new hn(-203,!1);return null===Di?gt(t,void 0,n):Di.get(t,n&De.Optional?null:void 0,n)}function Ui(t,n=De.Default){return(ee()||Ds)(vn(t),n)}function Cr(t,n=De.Default){return Ui(t,To(n))}function To(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function La(t){const n=[];for(let s=0;s<t.length;s++){const a=vn(t[s]);if(Array.isArray(a)){if(0===a.length)throw new hn(900,!1);let f,m=De.Default;for(let E=0;E<a.length;E++){const D=a[E],S=Fa(D);"number"==typeof S?-1===S?f=D.token:m|=S:f=D}n.push(Ui(f,m))}else n.push(Ui(a))}return n}function bs(t,n){return t[Vn]=n,t.prototype[Vn]=n,t}function Fa(t){return t[Vn]}function qi(t){return{toString:t}.toString()}var io=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(io||{}),so=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(so||{});const zs={},Vr=[];function $o(t,n,s){let a=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const m=n.length;if(f+m===a||t.charCodeAt(f+m)<=32)return f}s=f+1}}function ds(t,n,s){let a=0;for(;a<s.length;){const f=s[a];if("number"==typeof f){if(0!==f)break;a++;const m=s[a++],E=s[a++],D=s[a++];t.setAttribute(n,E,D,m)}else{const m=f,E=s[++a];xs(m)?t.setProperty(n,m,E):t.setAttribute(n,m,E),a++}}return a}function Ws(t){return 3===t||4===t||6===t}function xs(t){return 64===t.charCodeAt(0)}function ts(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const f=n[a];"number"==typeof f?s=f:0===s||Ia(t,s,f,null,-1===s||2===s?n[++a]:null)}}return t}function Ia(t,n,s,a,f){let m=0,E=t.length;if(-1===n)E=-1;else for(;m<t.length;){const D=t[m++];if("number"==typeof D){if(D===n){E=-1;break}if(D>n){E=m-1;break}}}for(;m<t.length;){const D=t[m];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==f&&(t[m+1]=f));if(a===t[m+1])return void(t[m+2]=f)}m++,null!==a&&m++,null!==f&&m++}-1!==E&&(t.splice(E,0,n),m=E+1),t.splice(m++,0,s),null!==a&&t.splice(m++,0,a),null!==f&&t.splice(m++,0,f)}const Ca="ng-template";function Li(t,n,s){let a=0,f=!0;for(;a<t.length;){let m=t[a++];if("string"==typeof m&&f){const E=t[a++];if(s&&"class"===m&&-1!==$o(E.toLowerCase(),n,0))return!0}else{if(1===m){for(;a<t.length&&"string"==typeof(m=t[a++]);)if(m.toLowerCase()===n)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function la(t){return 4===t.type&&t.value!==Ca}function jo(t,n,s){return n===(4!==t.type||s?t.value:Ca)}function ca(t,n,s){let a=4;const f=t.attrs||[],m=function ua(t){for(let n=0;n<t.length;n++)if(Ws(t[n]))return n;return t.length}(f);let E=!1;for(let D=0;D<n.length;D++){const S=n[D];if("number"!=typeof S){if(!E)if(4&a){if(a=2|1&a,""!==S&&!jo(t,S,s)||""===S&&1===n.length){if(Ys(a))return!1;E=!0}}else{const j=8&a?S:n[++D];if(8&a&&null!==t.attrs){if(!Li(t.attrs,j,s)){if(Ys(a))return!1;E=!0}continue}const ue=Oc(8&a?"class":S,f,la(t),s);if(-1===ue){if(Ys(a))return!1;E=!0;continue}if(""!==j){let Ge;Ge=ue>m?"":f[ue+1].toLowerCase();const ht=8&a?Ge:null;if(ht&&-1!==$o(ht,j,0)||2&a&&j!==Ge){if(Ys(a))return!1;E=!0}}}}else{if(!E&&!Ys(a)&&!Ys(S))return!1;if(E&&Ys(S))continue;E=!1,a=S|1&a}}return Ys(a)||E}function Ys(t){return 0==(1&t)}function Oc(t,n,s,a){if(null===n)return-1;let f=0;if(a||!s){let m=!1;for(;f<n.length;){const E=n[f];if(E===t)return f;if(3===E||6===E)m=!0;else{if(1===E||2===E){let D=n[++f];for(;"string"==typeof D;)D=n[++f];continue}if(4===E)break;if(0===E){f+=4;continue}}f+=m?1:2}return-1}return function hu(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function vo(t,n,s=!1){for(let a=0;a<n.length;a++)if(ca(t,n[a],s))return!0;return!1}function qs(t,n){e:for(let s=0;s<n.length;s++){const a=n[s];if(t.length===a.length){for(let f=0;f<t.length;f++)if(t[f]!==a[f])continue e;return!0}}return!1}function bo(t,n){return t?":not("+n.trim()+")":n}function Ba(t){let n=t[0],s=1,a=2,f="",m=!1;for(;s<t.length;){let E=t[s];if("string"==typeof E)if(2&a){const D=t[++s];f+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?f+="."+E:4&a&&(f+=" "+E);else""!==f&&!Ys(E)&&(n+=bo(m,f),f=""),a=E,m=m||!Ys(a);s++}return""!==f&&(n+=bo(m,f)),n}function Es(t){return qi(()=>{var n;const s=wa(t),a={...s,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===io.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||so.Emulated,styles:t.styles||Vr,_:null,schemas:t.schemas||null,tView:null,id:""};ll(a);const f=t.dependencies;return a.directiveDefs=cl(f,!1),a.pipeDefs=cl(f,!0),a.id=function Ta(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function tc(t){return Ir(t)||xi(t)}function nc(t){return null!==t}function Ua(t){return qi(()=>({type:t.type,bootstrap:t.bootstrap||Vr,declarations:t.declarations||Vr,imports:t.imports||Vr,exports:t.exports||Vr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rc(t,n){if(null==t)return zs;const s={};for(const a in t)if(t.hasOwnProperty(a)){let f=t[a],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),s[f]=a,n&&(n[f]=m)}return s}function Ks(t){return qi(()=>{const n=wa(t);return ll(n),n})}function bl(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ir(t){return t[Ar]||null}function xi(t){return t[oi]||null}function Ki(t){return t[ki]||null}function oo(t){const n=Ir(t)||xi(t)||Ki(t);return null!==n&&n.standalone}function bi(t,n){const s=t[Ti]||null;if(!s&&!0===n)throw new Error(`Type ${Jn(t)} does not have '\u0275mod' property.`);return s}function wa(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||zs,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Vr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rc(t.inputs,n),outputs:rc(t.outputs),debugInfo:null}}function ll(t){var n;null===(n=t.features)||void 0===n||n.forEach(s=>s(t))}function cl(t,n){if(!t)return null;const s=n?Ki:tc;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(nc)}const Ai=0,pn=1,ar=2,hr=3,Is=4,q=5,L=6,we=7,W=8,Pe=9,an=10,dn=11,ni=12,As=13,gs=14,qr=15,ns=16,Ho=17,ao=18,yo=19,$a=20,rs=21,Da=22,lo=23,vr=25,Al=1,ha=7,Go=9,zi=10;var ja=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(ja||{});function hs(t){return Array.isArray(t)&&"object"==typeof t[Al]}function Zi(t){return Array.isArray(t)&&!0===t[Al]}function zo(t){return 0!=(4&t.flags)}function Wo(t){return t.componentOffset>-1}function fa(t){return 1==(1&t.flags)}function Zs(t){return!!t.template}function Yo(t){return 0!=(512&t[ar])}function Pr(t,n){return t.hasOwnProperty(Nr)?t[Nr]:null}class Qi{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function si(){return Rs}function Rs(t){return t.type.prototype.ngOnChanges&&(t.setInput=co),Ha}function Ha(){const t=Aa(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===zs)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function co(t,n,s,a){const f=this.declaredInputs[s],m=Aa(t)||function Sa(t,n){return t[Ko]=n}(t,{previous:zs,current:null}),E=m.current||(m.current={}),D=m.previous,S=D[f];E[f]=new Qi(S&&S.currentValue,n,D===zs),t[a]=n}si.ngInherit=!0;const Ko="__ngSimpleChanges__";function Aa(t){return t[Ko]||null}const Os=function(t,n,s){};function Gi(t){for(;Array.isArray(t);)t=t[Ai];return t}function Po(t,n){return Gi(n[t])}function Ps(t,n){return Gi(n[t.index])}function Ns(t,n){return t.data[n]}function is(t,n){const s=n[t];return hs(s)?s:s[Ai]}function cn(t){return 128==(128&t[ar])}function Wi(t,n){return null==n?null:t[n]}function pu(t){t[Ho]=0}function zn(t){1024&t[ar]||(t[ar]|=1024,cn(t)&&Tn(t))}function cd(t){9216&t[ar]&&Tn(t)}function Tn(t){let n=t[hr];for(;null!==n&&!(Zi(n)&&n[ar]&ja.HasChildViewsToRefresh||hs(n)&&8192&n[ar]);){if(Zi(n))n[ar]|=ja.HasChildViewsToRefresh;else if(n[ar]|=8192,!cn(n))break;n=n[hr]}}function Ft(t,n){if(256==(256&t[ar]))throw new hn(911,!1);null===t[rs]&&(t[rs]=[]),t[rs].push(n)}const Kn={lFrame:bt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mu(){return Kn.bindingsEnabled}function Sl(){return null!==Kn.skipHydrationRootTNode}function qt(){return Kn.lFrame.lView}function Kr(){return Kn.lFrame.tView}function Yi(t){return Kn.lFrame.contextLView=t,t[W]}function ir(t){return Kn.lFrame.contextLView=null,t}function ci(){let t=ei();for(;null!==t&&64===t.type;)t=t.parent;return t}function ei(){return Kn.lFrame.currentTNode}function ri(t,n){const s=Kn.lFrame;s.currentTNode=t,s.isParent=n}function yn(){return Kn.lFrame.isParent}function Mo(){Kn.lFrame.isParent=!1}function ga(){return Kn.lFrame.bindingIndex++}function Rl(t,n){const s=Kn.lFrame;s.bindingIndex=s.bindingRootIndex=t,M(n)}function M(t){Kn.lFrame.currentDirectiveIndex=t}function w(){return Kn.lFrame.currentQueryIndex}function U(t){Kn.lFrame.currentQueryIndex=t}function ae(t){const n=t[pn];return 2===n.type?n.declTNode:1===n.type?t[q]:null}function Re(t,n,s){if(s&De.SkipSelf){let f=n,m=t;for(;!(f=f.parent,null!==f||s&De.Host||(f=ae(m),null===f||(m=m[gs],10&f.type))););if(null===f)return!1;n=f,t=m}const a=Kn.lFrame=rn();return a.currentTNode=n,a.lView=t,!0}function Ct(t){const n=rn(),s=t[pn];Kn.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function rn(){const t=Kn.lFrame,n=null===t?null:t.child;return null===n?bt(t):n}function bt(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Dn(){const t=Kn.lFrame;return Kn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const yr=Dn;function Ni(){const t=Dn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sr(){return Kn.lFrame.selectedIndex}function cr(t){Kn.lFrame.selectedIndex=t}function Wn(){const t=Kn.lFrame;return Ns(t.tView,t.selectedIndex)}let Pa=!0;function Fi(){return Pa}function Rr(t){Pa=t}function Nc(t,n){for(let j=n.directiveStart,X=n.directiveEnd;j<X;j++){const Ge=t.data[j].type.prototype,{ngAfterContentInit:ht,ngAfterContentChecked:Vt,ngAfterViewInit:en,ngAfterViewChecked:wn,ngOnDestroy:jn}=Ge;var s,a,f,m,E,D,S;ht&&(null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(-j,ht),Vt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(j,Vt),(null!==(f=t.contentCheckHooks)&&void 0!==f?f:t.contentCheckHooks=[]).push(j,Vt)),en&&(null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(-j,en),wn&&((null!==(E=t.viewHooks)&&void 0!==E?E:t.viewHooks=[]).push(j,wn),(null!==(D=t.viewCheckHooks)&&void 0!==D?D:t.viewCheckHooks=[]).push(j,wn)),null!=jn&&(null!==(S=t.destroyHooks)&&void 0!==S?S:t.destroyHooks=[]).push(j,jn)}}function ac(t,n,s){vu(t,n,3,s)}function Oo(t,n,s,a){(3&t[ar])===s&&vu(t,n,s,a)}function hd(t,n){let s=t[ar];(3&s)===n&&(s&=16383,s+=1,t[ar]=s)}function vu(t,n,s,a){const m=null!=a?a:-1,E=n.length-1;let D=0;for(let S=void 0!==a?65535&t[Ho]:0;S<E;S++)if("number"==typeof n[S+1]){if(D=n[S],null!=a&&D>=a)break}else n[S]<0&&(t[Ho]+=65536),(D<m||-1==m)&&(dh(t,s,n,S),t[Ho]=(4294901760&t[Ho])+S+2),S++}function lc(t,n){Os(4,t,n);const s=re(null);try{n.call(t)}finally{re(s),Os(5,t,n)}}function dh(t,n,s,a){const f=s[a]<0,m=s[a+1],D=t[f?-s[a]:s[a]];f?t[ar]>>14<t[Ho]>>16&&(3&t[ar])===n&&(t[ar]+=16384,lc(D,m)):lc(D,m)}const Ma=-1;class kc{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ya(t){return t!==Ma}function Br(t){return 32767&t}function gl(t,n){let s=function Lc(t){return t>>16}(t),a=n;for(;s>0;)a=a[gs],s--;return a}let yu=!0;function _i(t){const n=yu;return yu=t,n}const ks=255,gd=5;let Gr=0;const No={};function ui(t,n){const s=Pl(t,n);if(-1!==s)return s;const a=n[pn];a.firstCreatePass&&(t.injectorIndex=n.length,md(a.data,t),md(n,null),md(a.blueprint,null));const f=eo(t,n),m=t.injectorIndex;if(Ya(f)){const E=Br(f),D=gl(f,n),S=D[pn].data;for(let j=0;j<8;j++)n[m+j]=D[E+j]|S[E+j]}return n[m+8]=f,m}function md(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Pl(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function eo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,f=n;for(;null!==f;){if(a=Bi(f),null===a)return Ma;if(s++,f=f[gs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Ma}function _d(t,n,s){!function Ls(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(jr)&&(a=s[jr]),null==a&&(a=s[jr]=Gr++);const f=a&ks;n.data[t+(f>>gd)]|=1<<f}(t,n,s)}function Cs(t,n,s){if(s&De.Optional||void 0!==t)return t;oe()}function Xh(t,n,s,a){if(s&De.Optional&&void 0===a&&(a=null),!(s&(De.Self|De.Host))){const f=t[Pe],m=Ae(void 0);try{return f?f.get(n,a,s&De.Optional):gt(n,a,s&De.Optional)}finally{Ae(m)}}return Cs(a,0,s)}function qa(t,n,s,a=De.Default,f){if(null!==t){if(2048&n[ar]&&!(a&De.Self)){const E=function Wf(t,n,s,a,f){let m=t,E=n;for(;null!==m&&null!==E&&2048&E[ar]&&!(512&E[ar]);){const D=fs(m,E,s,a|De.Self,No);if(D!==No)return D;let S=m.parent;if(!S){const j=E[$a];if(j){const X=j.get(s,No,a);if(X!==No)return X}S=Bi(E),E=E[gs]}m=S}return f}(t,n,s,a,No);if(E!==No)return E}const m=fs(t,n,s,a,No);if(m!==No)return m}return Xh(n,s,a,f)}function fs(t,n,s,a,f){const m=function Fc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(jr)?t[jr]:void 0;return"number"==typeof n?n>=0?n&ks:Er:n}(s);if("function"==typeof m){if(!Re(n,t,a))return a&De.Host?Cs(f,0,a):Xh(n,s,a,f);try{let E;if(E=m(a),null!=E||a&De.Optional)return E;oe()}finally{yr()}}else if("number"==typeof m){let E=null,D=Pl(t,n),S=Ma,j=a&De.Host?n[qr][q]:null;for((-1===D||a&De.SkipSelf)&&(S=-1===D?eo(t,n):n[D+8],S!==Ma&&ma(a,!1)?(E=n[pn],D=Br(S),n=gl(S,n)):D=-1);-1!==D;){const X=n[pn];if(uc(m,D,X.data)){const ue=Ml(D,n,s,E,a,j);if(ue!==No)return ue}S=n[D+8],S!==Ma&&ma(a,n[pn].data[D+8]===j)&&uc(m,D,n)?(E=X,D=Br(S),n=gl(S,n)):D=-1}}return f}function Ml(t,n,s,a,f,m){const E=n[pn],D=E.data[t+8],X=vi(D,E,s,null==a?Wo(D)&&yu:a!=E&&0!=(3&D.type),f&De.Host&&m===D);return null!==X?ml(n,E,X,D):No}function vi(t,n,s,a,f){const m=t.providerIndexes,E=n.data,D=1048575&m,S=t.directiveStart,X=m>>20,Ge=f?D+X:t.directiveEnd;for(let ht=a?D:D+X;ht<Ge;ht++){const Vt=E[ht];if(ht<S&&s===Vt||ht>=S&&Vt.type===s)return ht}if(f){const ht=E[S];if(ht&&Zs(ht)&&ht.type===s)return S}return null}function ml(t,n,s,a){let f=t[s];const m=n.data;if(function fd(t){return t instanceof kc}(f)){const E=f;E.resolving&&function Mi(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new hn(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Gn(t)}(m[s]));const D=_i(E.canSeeViewProviders);E.resolving=!0;const j=E.injectImpl?Ae(E.injectImpl):null;Re(t,a,De.Default);try{f=t[s]=E.factory(void 0,m,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Js(t,n,s){const{ngOnChanges:a,ngOnInit:f,ngDoCheck:m}=n.type.prototype;if(a){var E,D;const ue=Rs(n);(null!==(E=s.preOrderHooks)&&void 0!==E?E:s.preOrderHooks=[]).push(t,ue),(null!==(D=s.preOrderCheckHooks)&&void 0!==D?D:s.preOrderCheckHooks=[]).push(t,ue)}var S,j,X;f&&(null!==(S=s.preOrderHooks)&&void 0!==S?S:s.preOrderHooks=[]).push(0-t,f),m&&((null!==(j=s.preOrderHooks)&&void 0!==j?j:s.preOrderHooks=[]).push(t,m),(null!==(X=s.preOrderCheckHooks)&&void 0!==X?X:s.preOrderCheckHooks=[]).push(t,m))}(s,m[s],n)}finally{null!==j&&Ae(j),_i(D),E.resolving=!1,yr()}}return f}function uc(t,n,s){return!!(s[n+(t>>gd)]&1<<t)}function ma(t,n){return!(t&De.Self||t&De.Host&&n)}class Vi{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return qa(this._tNode,this._lView,n,To(a),s)}}function Er(){return new Vi(ci(),qt())}function Vc(t){return qi(()=>{const n=t.prototype.constructor,s=n[Nr]||ko(n),a=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==a;){const m=f[Nr]||ko(f);if(m&&m!==s)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function ko(t){return Lr(t)?()=>{const n=ko(vn(t));return n&&n()}:Pr(t)}function Bi(t){const n=t[pn],s=n.type;return 2===s?n.declTNode:1===s?t[q]:null}function xl(t){return function cc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let f=0;for(;f<a;){const m=s[f];if(Ws(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<a&&"string"==typeof s[f];)f++;else{if(m===n)return s[f+1];f+=2}}}return null}(ci(),t)}const Ol="__annotations__",Xo="__parameters__",Nl="__prop__metadata__";function _a(t,n,s,a,f){return qi(()=>{const m=dc(n);function E(...D){if(this instanceof E)return m.call(this,...D),this;const S=new E(...D);return function(X){return f&&f(X,...D),(X.hasOwnProperty(Ol)?X[Ol]:Object.defineProperty(X,Ol,{value:[]})[Ol]).push(S),a&&a(X),X}}return s&&(E.prototype=Object.create(s.prototype)),E.prototype.ngMetadataName=t,E.annotationCls=E,E})}function dc(t){return function(...s){if(t){const a=t(...s);for(const f in a)this[f]=a[f]}}}function Ka(t,n,s){return qi(()=>{const a=dc(n);function f(...m){if(this instanceof f)return a.apply(this,m),this;const E=new f(...m);return D.annotation=E,D;function D(S,j,X){const ue=S.hasOwnProperty(Xo)?S[Xo]:Object.defineProperty(S,Xo,{value:[]})[Xo];for(;ue.length<=X;)ue.push(null);return(ue[X]=ue[X]||[]).push(E),S}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const Bc=Ka("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>xl(t)}));function ms(t){const n=jt.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const vd=Function;function vl(t){return"function"==typeof t}function zr(t,n){t.forEach(s=>Array.isArray(s)?zr(s,n):n(s))}function yi(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Jo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ll(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}function Co(t,n,s){let a=fc(t,n);return a>=0?t[1|a]=s:(a=~a,function ph(t,n,s,a){let f=t.length;if(f==n)t.push(s,a);else if(1===f)t.push(a,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=a}}(t,a,n,s)),a}function mh(t,n){const s=fc(t,n);if(s>=0)return t[1|s]}function fc(t,n){return function yd(t,n,s){let a=0,f=t.length>>s;for(;f!==a;){const m=a+(f-a>>1),E=t[m<<s];if(n===E)return m<<s;E>n?f=m:a=m+1}return~(f<<s)}(t,n,1)}const _h=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Ed=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Id=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,vh=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class $c{constructor(n){this._reflect=n||jt.Reflect}factory(n){return(...s)=>new n(...s)}_zipTypesAndAnnotations(n,s){let a;a=Ll(typeof n>"u"?s.length:n.length);for(let f=0;f<a.length;f++)a[f]=typeof n>"u"?[]:n[f]&&n[f]!=Object?[n[f]]:[],s&&null!=s[f]&&(a[f]=a[f].concat(s[f]));return a}_ownParameters(n,s){if(function Vl(t){return _h.test(t)||vh.test(t)||Ed.test(t)&&!Id.test(t)}(n.toString()))return null;if(n.parameters&&n.parameters!==s.parameters)return n.parameters;const f=n.ctorParameters;if(f&&f!==s.ctorParameters){const D="function"==typeof f?f():f,S=D.map(X=>X&&X.type),j=D.map(X=>X&&Lo(X.decorators));return this._zipTypesAndAnnotations(S,j)}const m=n.hasOwnProperty(Xo)&&n[Xo],E=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",n);return E||m?this._zipTypesAndAnnotations(E,m):Ll(n.length)}parameters(n){if(!vl(n))return[];const s=Za(n);let a=this._ownParameters(n,s);return!a&&s!==Object&&(a=this.parameters(s)),a||[]}_ownAnnotations(n,s){if(n.annotations&&n.annotations!==s.annotations){let a=n.annotations;return"function"==typeof a&&a.annotations&&(a=a.annotations),a}return n.decorators&&n.decorators!==s.decorators?Lo(n.decorators):n.hasOwnProperty(Ol)?n[Ol]:null}annotations(n){if(!vl(n))return[];const s=Za(n),a=this._ownAnnotations(n,s)||[];return(s!==Object?this.annotations(s):[]).concat(a)}_ownPropMetadata(n,s){if(n.propMetadata&&n.propMetadata!==s.propMetadata){let a=n.propMetadata;return"function"==typeof a&&a.propMetadata&&(a=a.propMetadata),a}if(n.propDecorators&&n.propDecorators!==s.propDecorators){const a=n.propDecorators,f={};return Object.keys(a).forEach(m=>{f[m]=Lo(a[m])}),f}return n.hasOwnProperty(Nl)?n[Nl]:null}propMetadata(n){if(!vl(n))return{};const s=Za(n),a={};if(s!==Object){const m=this.propMetadata(s);Object.keys(m).forEach(E=>{a[E]=m[E]})}const f=this._ownPropMetadata(n,s);return f&&Object.keys(f).forEach(m=>{const E=[];a.hasOwnProperty(m)&&E.push(...a[m]),E.push(...f[m]),a[m]=E}),a}ownPropMetadata(n){return vl(n)&&this._ownPropMetadata(n,Za(n))||{}}hasLifecycleHook(n,s){return n instanceof vd&&s in n.prototype}}function Lo(t){return t?t.map(n=>new(0,n.type.annotationCls)(...n.args?n.args:[])):[]}function Za(t){const n=t.prototype?Object.getPrototypeOf(t.prototype):null;return(n?n.constructor:null)||Object}const Eu=bs(Ka("Inject",t=>({token:t})),-1),Qa=bs(Ka("Optional"),8),yh=bs(Ka("Self"),2),Cd=bs(Ka("SkipSelf"),4),wd=bs(Ka("Host"),1);let ea=null;function xa(t){return pc(function Iu(){return ea=ea||new $c}().parameters(t))}function pc(t){return t.map(n=>function Xa(t){const n={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let s=0;s<t.length;s++){const a=t[s];if(void 0===a)continue;const f=Object.getPrototypeOf(a);if(a instanceof Qa||"Optional"===f.ngMetadataName)n.optional=!0;else if(a instanceof Cd||"SkipSelf"===f.ngMetadataName)n.skipSelf=!0;else if(a instanceof yh||"Self"===f.ngMetadataName)n.self=!0;else if(a instanceof wd||"Host"===f.ngMetadataName)n.host=!0;else if(a instanceof Eu)n.token=a.token;else if(a instanceof Bc){if(void 0===a.attributeName)throw new hn(204,!1);n.attribute=a.attributeName}else n.token=a}else n.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return n}(n))}const Ja=new nn("ENVIRONMENT_INITIALIZER"),el=new nn("INJECTOR",-1),Du=new nn("INJECTOR_DEF_TYPES");class uo{get(n,s=$t){if(s===$t){const a=new Error(`NullInjectorError: No provider for ${Jn(n)}!`);throw a.name="NullInjectorError",a}return s}}function Ih(t){return{\u0275providers:t}}function bu(...t){return{\u0275providers:Td(0,t),\u0275fromNgModule:!0}}function Td(t,...n){const s=[],a=new Set;let f;const m=E=>{s.push(E)};return zr(n,E=>{const D=E;Dd(D,m,[],a)&&(f||(f=[]),f.push(D))}),void 0!==f&&tl(f,m),s}function tl(t,n){for(let s=0;s<t.length;s++){const{ngModule:a,providers:f}=t[s];Su(f,m=>{n(m,a)})}}function Dd(t,n,s,a){if(!(t=vn(t)))return!1;let f=null,m=Yt(t);const E=!m&&Ir(t);if(m||E){if(E&&!E.standalone)return!1;f=t}else{const S=t.ngModule;if(m=Yt(S),!m)return!1;f=S}const D=a.has(f);if(E){if(D)return!1;if(a.add(f),E.dependencies){const S="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const j of S)Dd(j,n,s,a)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let j;a.add(f);try{zr(m.imports,X=>{Dd(X,n,s,a)&&(j||(j=[]),j.push(X))})}finally{}void 0!==j&&tl(j,n)}if(!D){const j=Pr(f)||(()=>new f);n({provide:f,useFactory:j,deps:Vr},f),n({provide:Du,useValue:f,multi:!0},f),n({provide:Ja,useValue:()=>Ui(f),multi:!0},f)}const S=m.providers;if(null!=S&&!D){const j=t;Su(S,X=>{n(X,j)})}}}return f!==t&&void 0!==t.providers}function Su(t,n){for(let s of t)Mn(s)&&(s=s.\u0275providers),Array.isArray(s)?Su(s,n):n(s)}const qf=_n({provide:String,useValue:_n});function kr(t){return null!==t&&"object"==typeof t&&qf in t}function gc(t){return"function"==typeof t}const Ad=new nn("Set Injector scope."),yl={},ef={};let wh;function mc(){return void 0===wh&&(wh=new uo),wh}class Bs{}class ta extends Bs{get destroyed(){return this._destroyed}constructor(n,s,a,f){super(),this.parent=s,this.source=a,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Th(n,E=>this.processProvider(E)),this.records.set(el,vc(void 0,this)),f.has("environment")&&this.records.set(Bs,vc(void 0,this));const m=this.records.get(Ad);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Du,Vr,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=fi(this),a=Ae(void 0);try{return n()}finally{fi(s),Ae(a)}}get(n,s=$t,a=De.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Fr))return n[Fr](this);a=To(a);const m=fi(this),E=Ae(void 0);try{if(!(a&De.SkipSelf)){let S=this.records.get(n);if(void 0===S){const j=function tf(t){return"function"==typeof t||"object"==typeof t&&t instanceof nn}(n)&&He(n);S=j&&this.injectableDefInScope(j)?vc(Ru(n),yl):null,this.records.set(n,S)}if(null!=S)return this.hydrate(n,S)}return(a&De.Self?mc():this.parent).get(n,s=a&De.Optional&&s===$t?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[nr]=D[nr]||[]).unshift(Jn(n)),m)throw D;return function Do(t,n,s,a){const f=t[nr];throw n[Jr]&&f.unshift(n[Jr]),t.message=function ys(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Jn(n);if(Array.isArray(n))f=n.map(Jn).join(" -> ");else if("object"==typeof n){let m=[];for(let E in n)if(n.hasOwnProperty(E)){let D=n[E];m.push(E+":"+("string"==typeof D?JSON.stringify(D):Jn(D)))}f=`{${m.join(", ")}}`}return`${s}${a?"("+a+")":""}[${f}]: ${t.replace(li,"\n  ")}`}("\n"+t.message,f,s,a),t.ngTokenPath=f,t[nr]=null,t}(D,n,"R3InjectorError",this.source)}throw D}finally{Ae(E),fi(m)}}resolveInjectorInitializers(){const n=fi(this),s=Ae(void 0);try{const f=this.get(Ja,Vr,De.Self);for(const m of f)m()}finally{fi(n),Ae(s)}}toString(){const n=[],s=this.records;for(const a of s.keys())n.push(Jn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new hn(205,!1)}processProvider(n){let s=gc(n=vn(n))?n:vn(n&&n.provide);const a=function Zf(t){return kr(t)?vc(void 0,t.useValue):vc(zc(t),yl)}(n);if(gc(n)||!0!==n.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=vc(void 0,yl,!0),f.factory=()=>La(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,a)}hydrate(n,s){return s.value===yl&&(s.value=ef,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Wc(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=vn(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Ru(t){const n=He(t),s=null!==n?n.factory:Pr(t);if(null!==s)return s;if(t instanceof nn)throw new hn(204,!1);if(t instanceof Function)return function _c(t){const n=t.length;if(n>0)throw Ll(n,"?"),new hn(204,!1);const s=function Ut(t){return t&&(t[Cn]||t[Rn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new hn(204,!1)}function zc(t,n,s){let a;if(gc(t)){const f=vn(t);return Pr(f)||Ru(f)}if(kr(t))a=()=>vn(t.useValue);else if(function Ch(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...La(t.deps||[]));else if(function bd(t){return!(!t||!t.useExisting)}(t))a=()=>Ui(vn(t.useExisting));else{const f=vn(t&&(t.useClass||t.provide));if(!function Sd(t){return!!t.deps}(t))return Pr(f)||Ru(f);a=()=>new f(...La(t.deps))}return a}function vc(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Th(t,n){for(const s of t)Array.isArray(s)?Th(s,n):s&&Mn(s)?Th(s.\u0275providers,n):n(s)}function as(t,n){t instanceof ta&&t.assertNotDestroyed();const a=fi(t),f=Ae(void 0);try{return n()}finally{fi(a),Ae(f)}}const yc={\u0275\u0275defineInjectable:kn,\u0275\u0275defineInjector:dt,\u0275\u0275inject:Ui,\u0275\u0275invalidFactoryDep:function us(t){throw new hn(202,!1)},resolveForwardRef:vn};const Pu=_n({provide:String,useValue:_n});function Yc(t){return void 0!==t.useClass}function qc(t){return void 0!==t.useFactory}const nf=_a("Injectable",void 0,void 0,void 0,(t,n)=>function wo(t,n){let s=null,a=null;t.hasOwnProperty(Cn)||Object.defineProperty(t,Cn,{get:()=>(null===s&&(s=ms().compileInjectable(yc,`ng:///${t.name}/\u0275prov.js`,function $l(t,n){const s=n||{providedIn:null},a={name:t.name,type:t,typeArgumentCount:0,providedIn:s.providedIn};return(Yc(s)||qc(s))&&void 0!==s.deps&&(a.deps=pc(s.deps)),Yc(s)?a.useClass=s.useClass:function Qf(t){return Pu in t}(s)?a.useValue=s.useValue:qc(s)?a.useFactory=s.useFactory:function Ec(t){return void 0!==t.useExisting}(s)&&(a.useExisting=s.useExisting),a}(t,n))),s)}),t.hasOwnProperty(Nr)||Object.defineProperty(t,Nr,{get:()=>{if(null===a){const f=ms();a=f.compileFactory(yc,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,typeArgumentCount:0,deps:xa(t),target:f.FactoryTarget.Injectable})}return a},configurable:!0})}(t,n));function rf(t,n=null,s=null,a){const f=El(t,n,s,a);return f.resolveInjectorInitializers(),f}function El(t,n=null,s=null,a,f=new Set){const m=[s||Vr,bu(t)];return a=a||("object"==typeof t?void 0:Jn(t)),new ta(m,n||mc(),a||null,f)}let Zr,ro=(()=>{var t;class n{static create(a,f){if(Array.isArray(a))return rf({name:""},f,a,"");{var m;const E=null!==(m=a.name)&&void 0!==m?m:"";return rf({name:E},a.parent,a.providers,E)}}}return(t=n).THROW_IF_NOT_FOUND=$t,t.NULL=new uo,t.\u0275prov=kn({token:t,providedIn:"any",factory:()=>Ui(el)}),t.__NG_ELEMENT_ID__=-1,n})();function nl(t){return!!bi(t)}function rl(t){Zr=t}const Ou=new nn("AppId",{providedIn:"root",factory:()=>af}),af="ng",Dh=new nn("Platform Initializer"),Kc=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nu=new nn("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function ya(){if(void 0!==Zr)return Zr;if(typeof document<"u")return document;throw new hn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function le(t){return t instanceof Function?t():t}function Hl(t){return 128==(128&t.flags)}var Sh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sh||{});const dg=/^>|^->|<!--|-->|--!>|<!-$/g,tp=/(<|>)/g,Gl="\u200b$1\u200b";const Xc=new Map;let np=0;const ip="__ngContext__";function Fo(t,n){hs(n)?(t[ip]=n[yo],function Od(t){Xc.set(t[yo],t)}(n)):t[ip]=n}let Wl;function Jc(t,n){return Wl(t,n)}function Ld(t){const n=t[hr];return Zi(n)?n[hr]:n}function pg(t){return gf(t[ni])}function ia(t){return gf(t[Is])}function gf(t){for(;null!==t&&!Zi(t);)t=t[Is];return t}function Fd(t,n,s,a,f){if(null!=a){let m,E=!1;Zi(a)?m=a:hs(a)&&(E=!0,a=a[Ai]);const D=Gi(a);0===t&&null!==s?null==f?tu(n,s,D):$u(n,s,D,f||null,!0):1===t&&null!==s?$u(n,s,D,f||null,!0):2===t?function Hu(t,n,s){const a=ru(t,n);a&&function gg(t,n,s,a){t.removeChild(n,s,a)}(t,a,n,s)}(n,D,E):3===t&&n.destroyNode(D),null!=m&&function yf(t,n,s,a,f){const m=s[ha];m!==Gi(s)&&Fd(n,t,a,m,f);for(let D=zi;D<s.length;D++){const S=s[D];vf(S[pn],S,t,n,a,m)}}(n,t,m,s,f)}}function lp(t,n){return t.createComment(function Rh(t){return t.replace(dg,n=>n.replace(tp,Gl))}(n))}function Bd(t,n,s){return t.createElement(n,s)}function eu(t,n){const s=t[Go],a=s.indexOf(n);s.splice(a,1)}function wc(t,n){if(t.length<=zi)return;const s=zi+n,a=t[s];if(a){const f=a[ns];null!==f&&f!==t&&eu(f,a),n>0&&(t[s-1][Is]=a[Is]);const m=Jo(t,zi+n);!function xm(t,n){vf(t,n,n[dn],2,null,null),n[Ai]=null,n[q]=null}(a[pn],a);const E=m[ao];null!==E&&E.detachView(m[pn]),a[hr]=null,a[Is]=null,a[ar]&=-129}return a}function $d(t,n){if(!(256&n[ar])){const s=n[dn];n[lo]&&function Et(t){if(pt(t),Xe(t))for(let n=0;n<t.producerNode.length;n++)Be(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[lo]),s.destroyNode&&vf(t,n,s,3,null,null),function Om(t){let n=t[ni];if(!n)return cp(t[pn],t);for(;n;){let s=null;if(hs(n))s=n[ni];else{const a=n[zi];a&&(s=a)}if(!s){for(;n&&!n[Is]&&n!==t;)hs(n)&&cp(n[pn],n),n=n[hr];null===n&&(n=t),hs(n)&&cp(n[pn],n),s=n&&n[Is]}n=s}}(n)}}function cp(t,n){if(!(256&n[ar])){n[ar]&=-129,n[ar]|=256,function km(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const f=n[s[a]];if(!(f instanceof kc)){const m=s[a+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const D=f[m[E]],S=m[E+1];Os(4,D,S);try{S.call(D)}finally{Os(5,D,S)}}else{Os(4,f,m);try{m.call(f)}finally{Os(5,f,m)}}}}}(t,n),function sa(t,n){const s=t.cleanup,a=n[we];if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const E=s[m+3];E>=0?a[E]():a[-E].unsubscribe(),m+=2}else s[m].call(a[s[m+1]]);null!==a&&(n[we]=null);const f=n[rs];if(null!==f){n[rs]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(t,n),1===n[pn].type&&n[dn].destroy();const s=n[ns];if(null!==s&&Zi(n[hr])){s!==n[hr]&&eu(s,n);const a=n[ao];null!==a&&a.detachView(t)}!function Bu(t){Xc.delete(t[yo])}(n)}}function jd(t,n,s){return function _f(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[Ai];{const{componentOffset:f}=a;if(f>-1){const{encapsulation:m}=t.data[a.directiveStart+f];if(m===so.None||m===so.Emulated)return null}return Ps(a,s)}}(t,n.parent,s)}function $u(t,n,s,a,f){t.insertBefore(n,s,a,f)}function tu(t,n,s){t.appendChild(n,s)}function nu(t,n,s,a,f){null!==a?$u(t,n,s,a,f):tu(t,n,s)}function ru(t,n){return t.parentNode(n)}function mg(t,n,s){return Oh(t,n,s)}let _g,Dc,Oh=function Yl(t,n,s){return 40&t.type?Ps(t,s):null};function up(t,n,s,a){const f=jd(t,a,n),m=n[dn],D=mg(a.parent||n[q],a,n);if(null!=f)if(Array.isArray(s))for(let S=0;S<s.length;S++)nu(m,f,s[S],D,!1);else nu(m,f,s,D,!1);void 0!==_g&&_g(m,a,n,s,f)}function Hd(t,n){if(null!==n){const s=n.type;if(3&s)return Ps(n,t);if(4&s)return Gd(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Hd(t,a);{const f=t[n.index];return Zi(f)?Gd(-1,f):Gi(f)}}if(32&s)return Jc(n,t)()||Gi(t[n.index]);{const a=vg(t,n);return null!==a?Array.isArray(a)?a[0]:Hd(Ld(t[qr]),a):Hd(t,n.next)}}return null}function vg(t,n){return null!==n?t[qr][q].projection[n.projection]:null}function Gd(t,n){const s=zi+t+1;if(s<n.length){const a=n[s],f=a[pn].firstChild;if(null!==f)return Hd(a,f)}return n[ha]}function Nh(t,n,s,a,f,m,E){for(;null!=s;){const D=a[s.index],S=s.type;if(E&&0===n&&(D&&Fo(Gi(D),a),s.flags|=2),32!=(32&s.flags))if(8&S)Nh(t,n,s.child,a,f,m,!1),Fd(n,t,f,D,m);else if(32&S){const j=Jc(s,a);let X;for(;X=j();)Fd(n,t,f,X,m);Fd(n,t,f,D,m)}else 16&S?Tc(t,n,a,s,f,m):Fd(n,t,f,D,m);s=E?s.projectionNext:s.next}}function vf(t,n,s,a,f,m){Nh(s,a,t.firstChild,n,f,m,!1)}function Tc(t,n,s,a,f,m){const E=s[qr],S=E[q].projection[a.projection];if(Array.isArray(S))for(let j=0;j<S.length;j++)Fd(n,t,f,S[j],m);else{let j=S;const X=E[hr];Hl(a)&&(j.flags|=128),Nh(t,n,j,X,f,m,!0)}}function Eg(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function hp(t,n,s){const{mergedAttrs:a,classes:f,styles:m}=s;null!==a&&ds(t,n,a),null!==f&&Eg(t,n,f),null!==m&&function Fm(t,n,s){t.setAttribute(n,"style",s)}(t,n,m)}function pp(t){var n;return(null===(n=function Lh(){if(void 0===Dc&&(Dc=null,jt.trustedTypes))try{Dc=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dc}())||void 0===n?void 0:n.createScriptURL(t))||t}class Vm{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Dr})`}}function bc(t){return t instanceof Vm?t.changingThisBreaksApplicationSecurity:t}function Kl(t,n){const s=function mp(t){return t instanceof Vm&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${Dr})`)}return s===n}const H_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ac=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ac||{});function kg(t){const n=Sf();return n?n.sanitize(Ac.URL,t)||"":Kl(t,"URL")?bc(t):function zu(t){return(t=String(t)).match(H_)?t:"unsafe:"+t}(Gn(t))}function Vo(t){const n=Sf();if(n)return pp(n.sanitize(Ac.RESOURCE_URL,t)||"");if(Kl(t,"ResourceURL"))return pp(bc(t));throw new hn(904,!1)}function Cp(t,n,s){return function Af(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?Vo:kg}(n,s)(t)}function Sf(){const t=qt();return t&&t[an].sanitizer}let su=(t,n,s)=>null;function ou(t,n,s=!1){return su(t,n,s)}class Wm{}class Of{}class Rp{resolveComponentFactory(n){throw function Z_(t){const n=Error(`No component factory found for ${Jn(t)}.`);return n.ngComponent=t,n}(n)}}let Nf=(()=>{class n{}return n.NULL=new Rp,n})();function $g(){return au(ci(),qt())}function au(t,n){return new Kd(Ps(t,n))}let Kd=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=$g,n})();function Uh(t){return t instanceof Kd?t.nativeElement:t}class Sc{}let jg=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function Zd(){const t=qt(),s=is(ci().index,t);return(hs(s)?s:t)[dn]}(),n})(),$h=(()=>{var t;class n{}return(t=n).\u0275prov=kn({token:t,providedIn:"root",factory:()=>null}),n})();class Hg{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const Qd=new Hg("17.0.4"),Gg={};function h(t){const n=re(null);try{return t()}finally{re(n)}}function c(t){return!!P(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function P(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class B{constructor(){}supports(n){return c(n)}create(n){return new ye(n)}}const ne=(t,n)=>n;class ye{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||ne}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,f=0,m=null;for(;s||a;){const E=!a||s&&s.currentIndex<zt(a,f,m)?s:a,D=zt(E,f,m),S=E.currentIndex;if(E===a)f--,a=a._nextRemoved;else if(s=s._next,null==E.previousIndex)f++;else{m||(m=[]);const j=D-f,X=S-f;if(j!=X){for(let Ge=0;Ge<j;Ge++){const ht=Ge<m.length?m[Ge]:m[Ge]=0,Vt=ht+Ge;X<=Vt&&Vt<j&&(m[Ge]=ht+1)}m[E.previousIndex]=X-j}}D!==S&&n(E,D,S)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!c(n))throw new hn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,m,E,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)m=n[D],E=this._trackByFn(D,m),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,m,E,D)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,E,D),a=!0),s=s._next}else f=0,function I(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,D=>{E=this._trackByFn(f,D),null!==s&&Object.is(s.trackById,E)?(a&&(s=this._verifyReinsertion(s,D,E,f)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,E,f),a=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,f){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,m,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,m,f)):n=this._addAfter(new ke(s,a),m,f),n}_verifyReinsertion(n,s,a,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==m?n=this._reinsertAfter(m,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,m=n._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new kt),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kt),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class ke{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wt{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class kt{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new wt,this.map.set(s,a)),a.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zt(t,n,s){const a=t.previousIndex;if(null===a)return a;let f=0;return s&&a<s.length&&(f=s[a]),a+n+f}class En{constructor(){}supports(n){return n instanceof Map||P(n)}create(){return new Ln}}class Ln{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||P(n)))throw new hn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(f,a);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const m=f._prev,E=f._next;return m&&(m._next=E),E&&(E._prev=m),f._next=null,f._prev=null,f}const a=new Mr(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class Mr{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wr(){return new Hs([new B])}let Hs=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,f){if(null!=f){const m=f.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||Wr()),deps:[[n,new Cd,new Qa]]}}find(a){const f=this.factories.find(m=>m.supports(a));if(null!=f)return f;throw new hn(901,!1)}}return(t=n).\u0275prov=kn({token:t,providedIn:"root",factory:Wr}),n})();function ls(){return new cs([new En])}let cs=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,f){if(f){const m=f.factories.slice();a=a.concat(m)}return new n(a)}static extend(a){return{provide:n,useFactory:f=>n.create(a,f||ls()),deps:[[n,new Cd,new Qa]]}}find(a){const f=this.factories.find(m=>m.supports(a));if(f)return f;throw new hn(901,!1)}}return(t=n).\u0275prov=kn({token:t,providedIn:"root",factory:ls}),n})();function wl(t,n,s,a,f=!1){for(;null!==s;){const m=n[s.index];null!==m&&a.push(Gi(m)),Zi(m)&&kf(m,a);const E=s.type;if(8&E)wl(t,n,s.child,a);else if(32&E){const D=Jc(s,n);let S;for(;S=D();)a.push(S)}else if(16&E){const D=vg(n,s);if(Array.isArray(D))a.push(...D);else{const S=Ld(n[qr]);wl(S[pn],S,D,a,!0)}}s=f?s.projectionNext:s.next}return a}function kf(t,n){for(let s=zi;s<t.length;s++){const a=t[s],f=a[pn].firstChild;null!==f&&wl(a[pn],a,f,n)}t[ha]!==t[Ai]&&n.push(t[ha])}let Xu=[];const jE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tn(t.lView)},consumerOnSignalRead(){this.lView[lo]=this}};function zg(t){return t.ngOriginalError}class Hh{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&zg(n);for(;s&&zg(s);)s=zg(s);return s||null}}const Xm=new nn("",{providedIn:"root",factory:()=>!1}),Yr={};function e_(t){uy(Kr(),qt(),sr()+t,!1)}function uy(t,n,s,a){if(!a)if(3==(3&n[ar])){const m=t.preOrderCheckHooks;null!==m&&ac(n,m,s)}else{const m=t.preOrderHooks;null!==m&&Oo(n,m,0,s)}cr(s)}function zh(t,n=De.Default){const s=qt();return null===s?Ui(t,n):qa(ci(),s,vn(t),n)}function dy(){throw new Error("invalid")}function Wg(t,n,s,a,f,m,E,D,S,j,X){const ue=n.blueprint.slice();return ue[Ai]=f,ue[ar]=140|a,(null!==j||t&&2048&t[ar])&&(ue[ar]|=2048),pu(ue),ue[hr]=ue[gs]=t,ue[W]=s,ue[an]=E||t&&t[an],ue[dn]=D||t&&t[dn],ue[Pe]=S||t&&t[Pe]||null,ue[q]=m,ue[yo]=function df(){return np++}(),ue[L]=X,ue[$a]=j,ue[qr]=2==n.type?t[qr]:ue,ue}function Wh(t,n,s,a,f){let m=t.data[n];if(null===m)m=function t_(t,n,s,a,f){const m=ei(),E=yn(),S=t.data[n]=function i_(t,n,s,a,f,m){let E=n?n.injectorIndex:-1,D=0;return Sl()&&(D|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,s,n,a,f);return null===t.firstChild&&(t.firstChild=S),null!==m&&(E?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S,S.prev=m)),S}(t,n,s,a,f),function Qo(){return Kn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=s,m.value=a,m.attrs=f;const E=function hl(){const t=Kn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return ri(m,!0),m}function Yg(t,n,s,a){if(0===s)return-1;const f=n.length;for(let m=0;m<s;m++)n.push(a),t.blueprint.push(a),t.data.push(null);return f}function hy(t,n,s,a,f){const m=sr(),E=2&a;try{cr(-1),E&&n.length>vr&&uy(t,n,vr,!1),Os(E?2:0,f),s(a,f)}finally{cr(m),Os(E?3:1,f)}}function qg(t,n,s){if(zo(n)){const a=re(null);try{const m=n.directiveEnd;for(let E=n.directiveStart;E<m;E++){const D=t.data[E];D.contentQueries&&D.contentQueries(1,s[E],E)}}finally{re(a)}}}function tv(t,n,s){mu()&&(function sv(t,n,s,a){const f=s.directiveStart,m=s.directiveEnd;Wo(s)&&function KE(t,n,s){const a=Ps(n,t),f=n_(s);let E=16;s.signals?E=4096:s.onPush&&(E=64);const D=c_(t,Wg(t,f,null,E,a,n,null,t[an].rendererFactory.createRenderer(a,s),null,null,null));t[n.index]=D}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||ui(s,n),Fo(a,n);const E=s.initialInputs;for(let D=f;D<m;D++){const S=t.data[D],j=ml(n,t,D,s);Fo(j,n),null!==E&&ZE(0,D-f,j,S,0,E),Zs(S)&&(is(s.index,n)[W]=ml(n,t,D,s))}}(t,n,s,Ps(s,n)),64==(64&s.flags)&&ov(t,n,s))}function Kg(t,n,s=Ps){const a=n.localNames;if(null!==a){let f=n.index+1;for(let m=0;m<a.length;m+=2){const E=a[m+1],D=-1===E?s(n,t):t[E];t[f++]=D}}}function n_(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Zg(t,n,s,a,f,m,E,D,S,j,X){const ue=vr+a,Ge=ue+f,ht=function GE(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:Yr);return s}(ue,Ge),Vt="function"==typeof j?j():j;return ht[pn]={type:t,blueprint:ht,template:s,queries:null,viewQuery:D,declTNode:n,data:ht.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:S,consts:Vt,incompleteFirstPass:!1,ssrId:X}}let r_=t=>null;function gy(t,n,s,a){for(let f in t)if(t.hasOwnProperty(f)){s=null===s?{}:s;const m=t[f];null===a?my(s,n,f,m):a.hasOwnProperty(f)&&my(s,n,a[f],m)}return s}function my(t,n,s,a){t.hasOwnProperty(s)?t[s].push(n,a):t[s]=[n,a]}function s_(t,n,s,a){if(mu()){const f=null===a?null:{"":-1},m=function vy(t,n){const s=t.directiveRegistry;let a=null,f=null;if(s)for(let E=0;E<s.length;E++){const D=s[E];if(vo(n,D.selectors,!1))if(a||(a=[]),Zs(D))if(null!==D.findHostDirectiveDefs){const S=[];f=f||new Map,D.findHostDirectiveDefs(D,S,f),a.unshift(...S,D),Xg(t,n,S.length)}else a.unshift(D),Xg(t,n,0);else{var m;f=f||new Map,null===(m=D.findHostDirectiveDefs)||void 0===m||m.call(D,D,a,f),a.push(D)}}return null===a?null:[a,f]}(t,s);let E,D;null===m?E=D=null:[E,D]=m,null!==E&&o_(t,n,s,E,f,D),f&&function yy(t,n,s){if(n){const a=t.localNames=[];for(let f=0;f<n.length;f+=2){const m=s[n[f+1]];if(null==m)throw new hn(-301,!1);a.push(n[f],m)}}}(s,a,f)}s.mergedAttrs=ts(s.mergedAttrs,s.attrs)}function o_(t,n,s,a,f,m){for(let ue=0;ue<a.length;ue++)_d(ui(s,n),t,a[ue].type);!function av(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,a.length);for(let ue=0;ue<a.length;ue++){const Ge=a[ue];Ge.providersResolver&&Ge.providersResolver(Ge)}let E=!1,D=!1,S=Yg(t,n,a.length,null);for(let ue=0;ue<a.length;ue++){const Ge=a[ue];s.mergedAttrs=ts(s.mergedAttrs,Ge.hostAttrs),qE(t,s,n,S,Ge),kp(S,Ge,f),null!==Ge.contentQueries&&(s.flags|=4),(null!==Ge.hostBindings||null!==Ge.hostAttrs||0!==Ge.hostVars)&&(s.flags|=64);const ht=Ge.type.prototype;var j,X;!E&&(ht.ngOnChanges||ht.ngOnInit||ht.ngDoCheck)&&((null!==(j=t.preOrderHooks)&&void 0!==j?j:t.preOrderHooks=[]).push(s.index),E=!0),D||!ht.ngOnChanges&&!ht.ngDoCheck||((null!==(X=t.preOrderCheckHooks)&&void 0!==X?X:t.preOrderCheckHooks=[]).push(s.index),D=!0),S++}!function WE(t,n,s){const f=n.directiveEnd,m=t.data,E=n.attrs,D=[];let S=null,j=null;for(let X=n.directiveStart;X<f;X++){const ue=m[X],Ge=s?s.get(ue):null,Vt=Ge?Ge.outputs:null;S=gy(ue.inputs,X,S,Ge?Ge.inputs:null),j=gy(ue.outputs,X,j,Vt);const en=null===S||null===E||la(n)?null:QE(S,X,E);D.push(en)}null!==S&&(S.hasOwnProperty("class")&&(n.flags|=8),S.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=S,n.outputs=j}(t,s,m)}function ov(t,n,s){const a=s.directiveStart,f=s.directiveEnd,m=s.index,E=function A(){return Kn.lFrame.currentDirectiveIndex}();try{cr(m);for(let D=a;D<f;D++){const S=t.data[D],j=n[D];M(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Np(S,j)}}finally{cr(-1),M(E)}}function Np(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Xg(t,n,s){var a;n.componentOffset=s,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function kp(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;Zs(n)&&(s[""]=t)}}function qE(t,n,s,a,f){t.data[a]=f;const m=f.factory||(f.factory=Pr(f.type)),E=new kc(m,Zs(f),zh);t.blueprint[a]=E,s[a]=E,function iv(t,n,s,a,f){const m=f.hostBindings;if(m){let E=t.hostBindingOpCodes;null===E&&(E=t.hostBindingOpCodes=[]);const D=~n.index;(function a_(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(E)!=D&&E.push(D),E.push(s,a,m)}}(t,n,a,Yg(t,s,f.hostVars,Yr),f)}function Ju(t,n,s,a,f,m){const E=Ps(t,n);!function l_(t,n,s,a,f,m,E){if(null==m)t.removeAttribute(n,f,s);else{const D=null==E?Gn(m):E(m,a||"",f);t.setAttribute(n,f,D,s)}}(n[dn],E,m,t.value,s,a,f)}function ZE(t,n,s,a,f,m){const E=m[n];if(null!==E)for(let D=0;D<E.length;)lv(a,s,E[D++],E[D++],E[D++])}function lv(t,n,s,a,f){const m=re(null);try{const E=t.inputTransforms;null!==E&&E.hasOwnProperty(a)&&(f=E[a].call(n,f)),null!==t.setInput?t.setInput(n,f,s,a):n[a]=f}finally{re(m)}}function QE(t,n,s){let a=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(t.hasOwnProperty(m)){null===a&&(a=[]);const E=t[m];for(let D=0;D<E.length;D+=2)if(E[D]===n){a.push(m,E[D+1],s[f+1]);break}}f+=2}else f+=2;else f+=4}return a}function Ey(t,n,s,a){return[t,!0,0,n,null,a,null,s,null,null]}function Iy(t,n){const s=t.contentQueries;if(null!==s){const a=re(null);try{for(let f=0;f<s.length;f+=2){const E=s[f+1];if(-1!==E){const D=t.data[E];U(s[f]),D.contentQueries(2,n[E],E)}}}finally{re(a)}}}function c_(t,n){return t[ni]?t[As][Is]=n:t[ni]=n,t[As]=n,n}function cv(t,n,s){U(0);const a=re(null);try{n(t,s)}finally{re(a)}}function uv(t){return t[we]||(t[we]=[])}function dv(t){return t.cleanup||(t.cleanup=[])}function Jg(t,n){const s=t[Pe],a=s?s.get(Hh,null):null;a&&a.handleError(n)}function d_(t,n,s,a,f){for(let m=0;m<s.length;){const E=s[m++],D=s[m++];lv(t.data[E],n[E],a,D,f)}}function Lp(t,n,s,a){var f;const m=n[ar];if(256==(256&m))return;null===(f=n[an].inlineEffectRunner)||void 0===f||f.flush(),Ct(n);let D=null,S=null;(function wy(t){return 2!==t.type})(t)&&(S=function Pp(t){var n;return null!==(n=t[lo])&&void 0!==n?n:function $E(t){var n;const s=null!==(n=Xu.pop())&&void 0!==n?n:Object.create(jE);return s.lView=t,s}(t)}(n),D=function et(t){return t&&(t.nextProducerIndex=0),re(t)}(S));try{pu(n),function pl(t){return Kn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&hy(t,n,s,2,a);const j=3==(3&m);if(j){const Ge=t.preOrderCheckHooks;null!==Ge&&ac(n,Ge,null)}else{const Ge=t.preOrderHooks;null!==Ge&&Oo(n,Ge,0,null),hd(n,0)}if(function ws(t){for(let n=pg(t);null!==n;n=ia(n)){if(!(n[ar]&ja.HasTransplantedViews))continue;const s=n[Go];for(let a=0;a<s.length;a++){zn(s[a])}}}(n),oa(n,0),null!==t.contentQueries&&Iy(t,n),j){const Ge=t.contentCheckHooks;null!==Ge&&ac(n,Ge)}else{const Ge=t.contentHooks;null!==Ge&&Oo(n,Ge,1),hd(n,1)}!function ev(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const f=s[a];if(f<0)cr(~f);else{const m=f,E=s[++a],D=s[++a];Rl(E,m),D(2,n[m])}}}finally{cr(-1)}}(t,n);const X=t.components;null!==X&&em(n,X,0);const ue=t.viewQuery;if(null!==ue&&cv(2,ue,a),j){const Ge=t.viewCheckHooks;null!==Ge&&ac(n,Ge)}else{const Ge=t.viewHooks;null!==Ge&&Oo(n,Ge,2),hd(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Da]){for(const Ge of n[Da])Ge();n[Da]=null}n[ar]&=-73}catch(j){throw Tn(n),j}finally{null!==S&&(function nt(t,n){if(re(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xe(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Be(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(S,D),function Q_(t){t.lView[lo]!==t&&(t.lView=null,Xu.push(t))}(S)),Ni()}}function oa(t,n){for(let s=pg(t);null!==s;s=ia(s)){s[ar]&=~ja.HasChildViewsToRefresh;for(let a=zi;a<s.length;a++)hv(s[a],n)}}function td(t,n,s){hv(is(n,t),s)}function hv(t,n){cn(t)&&Ty(t,n)}function Ty(t,n){const a=t[pn],f=t[ar],m=t[lo];let E=!!(0===n&&16&f);if(E||(E=!!(64&f&&0===n)),E||(E=!!(1024&f)),E||(E=!(null==m||!m.dirty||!at(m))),m&&(m.dirty=!1),t[ar]&=-9217,E)Lp(a,t,a.template,t[W]);else if(8192&f){oa(t,1);const D=a.components;null!==D&&em(t,D,1)}}function em(t,n,s){for(let a=0;a<n.length;a++)td(t,n[a],s)}function Fp(t){for(;t;){t[ar]|=64;const n=Ld(t);if(Yo(t)&&!n)return t;t=n}return null}class Lf{get rootNodes(){const n=this._lView,s=n[pn];return wl(s,n,s.firstChild,[])}constructor(n,s,a=!0){this._lView=n,this._cdRefInjectingView=s,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[W]}set context(n){this._lView[W]=n}get destroyed(){return 256==(256&this._lView[ar])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[hr];if(Zi(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(wc(n,a),Jo(s,a))}this._attachedToViewContainer=!1}$d(this._lView[pn],this._lView)}onDestroy(n){Ft(this._lView,n)}markForCheck(){Fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ar]&=-129}reattach(){cd(this._lView),this._lView[ar]|=128}detectChanges(){!function di(t,n=!0){const s=t[an],a=s.rendererFactory,f=s.afterRenderEventManager;var E;null===(E=a.begin)||void 0===E||E.call(a),null==f||f.begin();try{const j=t[pn];Lp(j,t,j.template,t[W]),function Cy(t){let n=0;for(;9216&t[ar]||null!==(s=t[lo])&&void 0!==s&&s.dirty;){var s;if(100===n)throw new hn(103,!1);n++,Ty(t,1)}}(t)}catch(j){throw n&&Jg(t,j),j}finally{var D,S;null===(D=a.end)||void 0===D||D.call(a),null===(S=s.inlineEffectRunner)||void 0===S||S.flush(),null==f||f.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new hn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mf(t,n){vf(t,n,n[dn],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new hn(902,!1);this._appRef=n}}let Dy=(()=>{class n{}return n.__NG_ELEMENT_ID__=fv,n})();function fv(t){return function JE(t,n,s){if(Wo(t)&&!s){const a=is(t.index,n);return new Lf(a,a)}return 47&t.type?new Lf(n[qr],n):null}(ci(),qt(),16==(16&t))}let Ts=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=t0,t.__NG_ENV_ID__=s=>s,n})();class by extends Ts{constructor(n){super(),this._lView=n}onDestroy(n){return Ft(this._lView,n),()=>function Zt(t,n){if(null===t[rs])return;const s=t[rs].indexOf(n);-1!==s&&t[rs].splice(s,1)}(this._lView,n)}}function t0(){return new by(qt())}const Sy=new Set;function Ff(t){var n,s;Sy.has(t)||(Sy.add(t),null===(n=performance)||void 0===n||null===(s=n.mark)||void 0===s||s.call(n,"mark_use_counter",{detail:{feature:t}}))}function Vf(t){return n=>{setTimeout(t,void 0,n)}}const nd=class Ry extends Rt.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){let f=n,m=s||(()=>null),E=a;if(n&&"object"==typeof n){var D,S,j;const ue=n;f=null===(D=ue.next)||void 0===D?void 0:D.bind(ue),m=null===(S=ue.error)||void 0===S?void 0:S.bind(ue),E=null===(j=ue.complete)||void 0===j?void 0:j.bind(ue)}this.__isAsync&&(m=Vf(m),f&&(f=Vf(f)),E&&(E=Vf(E)));const X=super.subscribe({next:f,error:m,complete:E});return n instanceof Nt.w0&&n.add(X),X}};function lu(...t){}class vs{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nd(!1),this.onMicrotaskEmpty=new nd(!1),this.onStable=new nd(!1),this.onError=new nd(!1),typeof Zone>"u")throw new hn(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&s,f.shouldCoalesceRunChangeDetection=a,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Xd(){const t="function"==typeof jt.requestAnimationFrame;let n=jt[t?"requestAnimationFrame":"setTimeout"],s=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&s){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Py(t){const n=()=>{!function a0(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,p_(t),t.isCheckStableRunning=!0,pv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),p_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,f,m,E,D)=>{if(function xy(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(D))return s.invokeTask(f,m,E,D);try{return tm(t),s.invokeTask(f,m,E,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),My(t)}},onInvoke:(s,a,f,m,E,D,S)=>{try{return tm(t),s.invoke(f,m,E,D,S)}finally{t.shouldCoalesceRunChangeDetection&&n(),My(t)}},onHasTask:(s,a,f,m)=>{s.hasTask(f,m),a===f&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,p_(t),pv(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,a,f,m)=>(s.handleError(f,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vs.isInAngularZone())throw new hn(909,!1)}static assertNotInAngularZone(){if(vs.isInAngularZone())throw new hn(909,!1)}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,f){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+f,n,f_,lu,lu);try{return m.runTask(E,s,a)}finally{m.cancelTask(E)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const f_={};function pv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function p_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function My(t){t._nesting--,pv(t)}class Bf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nd,this.onMicrotaskEmpty=new nd,this.onStable=new nd,this.onError=new nd}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,f){return n.apply(s,a)}}const nm=new nn("",{providedIn:"root",factory:Vp});function Vp(){const t=Cr(vs);let n=!0;const s=new Ht.y(f=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{f.next(n),f.complete()})}),a=new Ht.y(f=>{let m;t.runOutsideAngular(()=>{m=t.onStable.subscribe(()=>{vs.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,f.next(!0))})})});const E=t.onUnstable.subscribe(()=>{vs.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),E.unsubscribe()}});return(0,Jt.T)(s,a.pipe((0,rr.B)()))}var Jd=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Jd||{});const Oy={destroy(){}};function g_(t,n){var s,a,f;!n&&function Ul(t){if(!ee()&&!function Ms(){return Di}())throw new hn(-203,!1)}();const m=null!==(s=null==n?void 0:n.injector)&&void 0!==s?s:Cr(ro);if(!function ot(t){return"browser"===(null!=t?t:Cr(ro)).get(Kc)}(m))return Oy;Ff("NgAfterNextRender");const E=m.get(rd),D=null!==(a=E.handler)&&void 0!==a?a:E.handler=new gv,S=null!==(f=null==n?void 0:n.phase)&&void 0!==f?f:Jd.MixedReadWrite,j=()=>{D.unregister(ue),X()},X=m.get(Ts).onDestroy(j),ue=new m_(m,S,()=>{j(),t()});return D.register(ue),{destroy:j}}class m_{constructor(n,s,a){this.phase=s,this.callbackFn=a,this.zone=n.get(vs),this.errorHandler=n.get(Hh,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(s){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(s)}}}class gv{constructor(){this.executingCallbacks=!1,this.buckets={[Jd.EarlyRead]:new Set,[Jd.Write]:new Set,[Jd.MixedReadWrite]:new Set,[Jd.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new hn(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const s of n)s.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let rd=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){var a;for(const f of this.internalCallbacks)f();this.internalCallbacks.length=0,null===(a=this.handler)||void 0===a||a.execute()}}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=kn({token:t,providedIn:"root",factory:()=>new t}),n})();function ky(t,n){const s=is(n,t),a=s[pn];!function Ly(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(a,s);const f=s[Ai];null!==f&&null===s[L]&&(s[L]=ou(f,s[Pe])),rm(a,s,s[W])}function rm(t,n,s){Ct(n);try{const a=t.viewQuery;null!==a&&cv(1,a,s);const f=t.template;null!==f&&hy(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Iy(t,n),t.staticViewQueries&&cv(2,t.viewQuery,s);const m=t.components;null!==m&&function im(t,n){for(let s=0;s<n.length;s++)ky(t,n[s])}(n,m)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[ar]&=-5,Ni()}}function __(t,n,s){let a=s?t.styles:null,f=s?t.classes:null,m=0;if(null!==n)for(let E=0;E<n.length;E++){const D=n[E];"number"==typeof D?m=D:1==m?f=lr(f,D):2==m&&(a=lr(a,D+": "+n[++E]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=f:t.classesWithoutHost=f}class sm extends Nf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Ir(n);return new lm(s,this.ngModule)}}function om(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}class am{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,a){a=To(a);const f=this.injector.get(n,Gg,a);return f!==Gg||s===Gg?f:this.parentInjector.get(n,s,a)}}class lm extends Of{get inputs(){const n=this.componentDef,s=n.inputTransforms,a=om(n.inputs);if(null!==s)for(const f of a)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return a}get outputs(){return om(this.componentDef.outputs)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function $i(t){return t.map(Ba).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,a,f){var E;let D=(f=f||this.ngModule)instanceof Bs?f:null===(E=f)||void 0===E?void 0:E.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const S=D?new am(n,D):n,j=S.get(Sc,null);if(null===j)throw new hn(407,!1);const Ge={rendererFactory:j,sanitizer:S.get($h,null),inlineEffectRunner:null,afterRenderEventManager:S.get(rd,null)},ht=j.createRenderer(null,this.componentDef),Vt=this.componentDef.selectors[0][0]||"div",en=a?function Qg(t,n,s,a){const m=a.get(Xm,!1)||s===so.ShadowDom,E=t.selectRootElement(n,m);return function zE(t){r_(t)}(E),E}(ht,a,this.componentDef.encapsulation,S):Bd(ht,Vt,function Fy(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Vt)),sn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ur=null;null!==en&&(Ur=ou(en,S,!0));const hi=Zg(0,null,null,1,0,null,null,null,null,null,null),Ri=Wg(null,hi,null,sn,null,null,Ge,ht,S,null,Ur);let Dl,Xv;Ct(Ri);try{const eg=this.componentDef;let j_,FI=null;eg.findHostDirectiveDefs?(j_=[],FI=new Map,eg.findHostDirectiveDefs(eg,j_,FI),j_.push(eg)):j_=[eg];const vP=function Vy(t,n){const s=t[pn],a=vr;return t[a]=n,Wh(s,a,2,"#host",null)}(Ri,en),yP=function mv(t,n,s,a,f,m,E){const D=f[pn];!function cm(t,n,s,a){for(const f of t)n.mergedAttrs=ts(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(__(n,n.mergedAttrs,!0),null!==s&&hp(a,s,n))}(a,t,n,E);let S=null;null!==n&&(S=ou(n,f[Pe]));const j=m.rendererFactory.createRenderer(n,s);let X=16;s.signals?X=4096:s.onPush&&(X=64);const ue=Wg(f,n_(s),null,X,f[t.index],t,m,j,null,null,S);return D.firstCreatePass&&Xg(D,t,a.length-1),c_(f,ue),f[t.index]=ue}(vP,en,eg,j_,Ri,Ge,ht);Xv=Ns(hi,vr),en&&function um(t,n,s,a){if(a)ds(t,s,["ng-version",Qd.full]);else{const{attrs:f,classes:m}=function da(t){const n=[],s=[];let a=1,f=2;for(;a<t.length;){let m=t[a];if("string"==typeof m)2===f?""!==m&&n.push(m,t[++a]):8===f&&s.push(m);else{if(!Ys(f))break;f=m}a++}return{attrs:n,classes:s}}(n.selectors[0]);f&&ds(t,s,f),m&&m.length>0&&Eg(t,s,m.join(" "))}}(ht,eg,en,a),void 0!==s&&function c0(t,n,s){const a=t.projection=[];for(let f=0;f<n.length;f++){const m=s[f];a.push(null!=m?Array.from(m):null)}}(Xv,this.ngContentSelectors,s),Dl=function Yh(t,n,s,a,f,m){const E=ci(),D=f[pn],S=Ps(E,f);o_(D,f,E,s,null,a);for(let X=0;X<s.length;X++)Fo(ml(f,D,E.directiveStart+X,E),f);ov(D,f,E),S&&Fo(S,f);const j=ml(f,D,E.directiveStart+E.componentOffset,E);if(t[W]=f[W]=j,null!==m)for(const X of m)X(j,n);return qg(D,E,t),j}(yP,eg,j_,FI,Ri,[Bp]),rm(hi,Ri,null)}finally{Ni()}return new v_(this.componentType,Dl,au(Xv,Ri),Ri,Xv)}}class v_ extends Wm{constructor(n,s,a,f,m){super(),this.location=a,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Lf(f,void 0,!1),this.componentType=n}setInput(n,s){const a=this._tNode.inputs;let f;if(null!==a&&(f=a[n])){var m;if(null!==(m=this.previousInputValues)&&void 0!==m||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const E=this._rootLView;d_(E[pn],E,f,n,s),this.previousInputValues.set(n,s),Fp(is(this._tNode.index,E))}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Bp(){const t=ci();Nc(qt()[pn],t)}function By(t){let n=function u0(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;n;){let f;if(Zs(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new hn(903,!1);f=n.\u0275dir}if(f){if(s){a.push(f);const E=t;E.inputs=y_(t.inputs),E.inputTransforms=y_(t.inputTransforms),E.declaredInputs=y_(t.declaredInputs),E.outputs=y_(t.outputs);const D=f.hostBindings;D&&h0(t,D);const S=f.viewQuery,j=f.contentQueries;if(S&&E_(t,S),j&&d0(t,j),ti(t.inputs,f.inputs),ti(t.declaredInputs,f.declaredInputs),ti(t.outputs,f.outputs),null!==f.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),ti(E.inputTransforms,f.inputTransforms)),Zs(f)&&f.data.animation){const X=t.data;X.animation=(X.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let E=0;E<m.length;E++){const D=m[E];D&&D.ngInherit&&D(t),D===By&&(s=!1)}}n=Object.getPrototypeOf(n)}!function _v(t){let n=0,s=null;for(let a=t.length-1;a>=0;a--){const f=t[a];f.hostVars=n+=f.hostVars,f.hostAttrs=ts(f.hostAttrs,s=ts(s,f.hostAttrs))}}(a)}function y_(t){return t===zs?{}:t===Vr?[]:t}function E_(t,n){const s=t.viewQuery;t.viewQuery=s?(a,f)=>{n(a,f),s(a,f)}:n}function d0(t,n){const s=t.contentQueries;t.contentQueries=s?(a,f,m)=>{n(a,f,m),s(a,f,m)}:n}function h0(t,n){const s=t.hostBindings;t.hostBindings=s?(a,f)=>{n(a,f),s(a,f)}:n}function yv(t){const n=t.inputConfig,s={};for(const a in n)if(n.hasOwnProperty(a)){const f=n[a];Array.isArray(f)&&f[2]&&(s[a]=f[2])}t.inputTransforms=s}function Gs(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Iv(t,n,s,a){const f=qt();return Gs(f,ga(),n)&&(Kr(),Ju(Wn(),f,t,n,s,a)),Iv}function w_(t,n){return t<<17|n<<2}function th(t){return t>>17&32767}function fm(t){return 2|t}function Hp(t){return(131068&t)>>2}function Tv(t,n){return-131069&t|n<<2}function Dv(t){return 1|t}function v0(t,n,s,a,f){const m=t[s+1],E=null===n;let D=a?th(m):Hp(m),S=!1;for(;0!==D&&(!1===S||E);){const X=t[D+1];YI(t[D],n)&&(S=!0,t[D+1]=a?Dv(X):fm(X)),D=a?th(X):Hp(X)}S&&(t[s+1]=a?fm(m):Dv(m))}function YI(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&fc(t,n)>=0}function tE(t,n,s){const a=qt();return Gs(a,ga(),n)&&function ka(t,n,s,a,f,m,E,D){const S=Ps(n,s);let X,j=n.inputs;!D&&null!=j&&(X=j[a])?(d_(t,s,X,a,f),Wo(n)&&function nv(t,n){const s=is(n,t);16&s[ar]||(s[ar]|=64)}(s,n.index)):3&n.type&&(a=function YE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),f=null!=E?E(f,n.value||"",a):f,m.setProperty(S,a,f))}(Kr(),Wn(),a,t,n,a[dn],s,!1),tE}function T_(t,n,s,a,f){const E=f?"class":"style";d_(t,s,n.inputs[E],E,a)}function rE(t,n){return function Pc(t,n,s,a){const f=qt(),m=Kr(),E=function Wa(t){const n=Kn.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}(2);m.firstUpdatePass&&function pm(t,n,s,a){const f=t.data;if(null===f[s+1]){const m=f[sr()],E=function D_(t,n){return n>=t.expandoStartIndex}(t,s);(function qh(t,n){return 0!=(t.flags&(n?8:16))})(m,a)&&null===n&&!E&&(n=!1),n=function w0(t,n,s,a){const f=function F(t){const n=Kn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let m=a?n.residualClasses:n.residualStyles;if(null===f)0===(a?n.classBindings:n.styleBindings)&&(s=ih(s=b_(null,t,n,s,a),n.attrs,a),m=null);else{const E=n.directiveStylingLast;if(-1===E||t[E]!==f)if(s=b_(f,t,n,s,a),null===m){let S=function T0(t,n,s){const a=s?n.classBindings:n.styleBindings;if(0!==Hp(a))return t[th(a)]}(t,n,a);void 0!==S&&Array.isArray(S)&&(S=b_(null,t,n,S[1],a),S=ih(S,n.attrs,a),function bv(t,n,s,a){t[th(s?n.classBindings:n.styleBindings)]=a}(t,n,a,S))}else m=function iE(t,n,s){let a;const f=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<f;m++)a=ih(a,t[m].hostAttrs,s);return ih(a,n.attrs,s)}(t,n,a)}return void 0!==m&&(a?n.residualClasses=m:n.residualStyles=m),s}(f,m,n,a),function zI(t,n,s,a,f,m){let E=m?n.classBindings:n.styleBindings,D=th(E),S=Hp(E);t[a]=s;let X,j=!1;if(Array.isArray(s)?(X=s[1],(null===X||fc(s,X)>0)&&(j=!0)):X=s,f)if(0!==S){const Ge=th(t[D+1]);t[a+1]=w_(Ge,D),0!==Ge&&(t[Ge+1]=Tv(t[Ge+1],a)),t[D+1]=function jp(t,n){return 131071&t|n<<17}(t[D+1],a)}else t[a+1]=w_(D,0),0!==D&&(t[D+1]=Tv(t[D+1],a)),D=a;else t[a+1]=w_(S,0),0===D?D=a:t[S+1]=Tv(t[S+1],a),S=a;j&&(t[a+1]=fm(t[a+1])),v0(t,X,a,!0),v0(t,X,a,!1),function WI(t,n,s,a,f){const m=f?t.residualClasses:t.residualStyles;null!=m&&"string"==typeof n&&fc(m,n)>=0&&(s[a+1]=Dv(s[a+1]))}(n,X,t,a,m),E=w_(D,S),m?n.classBindings=E:n.styleBindings=E}(f,m,n,s,E,a)}}(m,t,E,a),n!==Yr&&Gs(f,E,n)&&function gm(t,n,s,a,f,m,E,D){if(!(3&n.type))return;const S=t.data,j=S[D+1],X=function _0(t){return 1==(1&t)}(j)?aE(S,n,s,f,Hp(j),E):void 0;mm(X)||(mm(m)||function m0(t){return 2==(2&t)}(j)&&(m=aE(S,null,s,f,D,E)),function yg(t,n,s,a,f){if(n)f?t.addClass(s,a):t.removeClass(s,a);else{let m=-1===a.indexOf("-")?void 0:Sh.DashCase;null==f?t.removeStyle(s,a,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Sh.Important),t.setStyle(s,a,f,m))}}(a,E,Po(sr(),s),f,m))}(m,m.data[sr()],f,f[dn],t,f[E+1]=function lE(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Jn(bc(t)))),t}(n,s),a,E)}(t,n,null,!0),rE}function b_(t,n,s,a,f){let m=null;const E=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<E&&(m=n[D],a=ih(a,m.hostAttrs,f),m!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function ih(t,n,s){const a=s?1:2;let f=-1;if(null!==n)for(let m=0;m<n.length;m++){const E=n[m];"number"==typeof E?f=E:f===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Co(t,E,!!s||n[++m]))}return void 0===t?null:t}function aE(t,n,s,a,f,m){const E=null===n;let D;for(;f>0;){const S=t[f],j=Array.isArray(S),X=j?S[1]:S,ue=null===X;let Ge=s[f+1];Ge===Yr&&(Ge=ue?Vr:void 0);let ht=ue?mh(Ge,a):X===a?Ge:void 0;if(j&&!mm(ht)&&(ht=mh(S,a)),mm(ht)&&(D=ht,E))return D;const Vt=t[f+1];f=E?th(Vt):Hp(Vt)}if(null!==n){let S=m?n.residualClasses:n.residualStyles;null!=S&&(D=mh(S,a))}return D}function mm(t){return void 0!==t}function A_(t,n){return!n||Hl(t)}function kv(t,n,s,a=!0){const f=n[pn];if(function Nm(t,n,s,a){const f=zi+a,m=s.length;a>0&&(s[f-1][Is]=n),a<m-zi?(n[Is]=s[f],yi(s,zi+a,n)):(s.push(n),n[Is]=null),n[hr]=s;const E=n[ns];null!==E&&s!==E&&function Uu(t,n){const s=t[Go];n[qr]!==n[hr][hr][qr]&&(t[ar]|=ja.HasTransplantedViews),null===s?t[Go]=[n]:s.push(n)}(E,n);const D=n[ao];null!==D&&D.insertView(t),cd(n),n[ar]|=128}(f,n,t,s),a){const m=Gd(s,t),E=n[dn],D=ru(E,t[ha]);null!==D&&function Ud(t,n,s,a,f,m){a[Ai]=f,a[q]=n,vf(t,a,s,1,f,m)}(f,t[q],E,n,D,m)}}let gE=(()=>{class n{}return n.__NG_ELEMENT_ID__=SD,n})();function SD(){return tC(ci(),qt())}const RD=gE,JI=class extends RD{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return au(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const n=eo(this._hostTNode,this._hostLView);if(Ya(n)){const s=gl(n,this._hostLView),a=Br(n);return new Vi(s[pn].data[a+8],s)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=eC(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(n,s,a){let f,m;"number"==typeof a?f=a:null!=a&&(f=a.index,m=a.injector);const D=n.createEmbeddedViewImpl(s||{},m,null);return this.insertImpl(D,f,A_(this._hostTNode,null)),D}createComponent(n,s,a,f,m){var E,S;const j=n&&!vl(n);let X;if(j)X=s;else{const jn=s||{};X=jn.index,a=jn.injector,f=jn.projectableNodes,m=jn.environmentInjector||jn.ngModuleRef}const ue=j?n:new lm(Ir(n)),Ge=a||this.parentInjector;if(!m&&null==ue.ngModule){const sn=(j?Ge:this.parentInjector).get(Bs,null);sn&&(m=sn)}const ht=Ir(null!==(E=ue.componentType)&&void 0!==E?E:{}),Vt=(null==ht?void 0:ht.id,null),en=null!==(S=null==Vt?void 0:Vt.firstChild)&&void 0!==S?S:null,wn=ue.create(Ge,f,en,m);return this.insertImpl(wn.hostView,X,A_(this._hostTNode,Vt)),wn}insert(n,s){return this.insertImpl(n,s,!0)}insertImpl(n,s,a){const f=n._lView;if(function ss(t){return Zi(t[hr])}(f)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const S=f[hr],j=new JI(S,S[q],S[hr]);j.detach(j.indexOf(n))}}const m=this._adjustIndex(s),E=this._lContainer;return kv(E,f,m,a),n.attachToViewContainerRef(),yi(L0(E),m,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=eC(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=wc(this._lContainer,s);a&&(Jo(L0(this._lContainer),s),$d(a[pn],a))}detach(n){const s=this._adjustIndex(n,-1),a=wc(this._lContainer,s);return a&&null!=Jo(L0(this._lContainer),s)?new Lf(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function eC(t){return t[8]}function L0(t){return t[8]||(t[8]=[])}function tC(t,n){let s;const a=n[t.index];return Zi(a)?s=a:(s=Ey(a,n,null,t),n[t.index]=s,c_(n,s)),nC(s,n,t,a),new JI(s,t,n)}let nC=function iC(t,n,s,a){if(t[ha])return;let f;f=8&s.type?Gi(a):function PD(t,n){const s=t[dn],a=s.createComment(""),f=Ps(n,t);return $u(s,ru(s,f),a,function il(t,n){return t.nextSibling(n)}(s,f),!1),a}(n,s),t[ha]=f},F0=(t,n,s)=>!1;function S_(t,n,s,a,f,m,E,D){const S=qt(),j=Kr(),X=t+vr,ue=j.firstCreatePass?function ND(t,n,s,a,f,m,E,D,S){const j=n.consts,X=Wh(n,t,4,E||null,Wi(j,D));s_(n,s,X,Wi(j,S)),Nc(n,X);const ue=X.tView=Zg(2,X,a,f,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,j,null);return null!==n.queries&&(n.queries.template(n,X),ue.queries=n.queries.embeddedTView(X)),X}(X,j,S,n,s,a,f,m,E):j.data[X];ri(ue,!1);const Ge=sC(j,S,ue,t);Fi()&&up(j,S,Ge,ue),Fo(Ge,S);const ht=Ey(Ge,S,Ge,ue);return S[X]=ht,c_(S,ht),function rC(t,n,s){return F0(t,n,s)}(ht,ue,S),fa(ue)&&tv(j,S,ue),null!=E&&Kg(S,ue,D),S_}let sC=function oC(t,n,s,a){return Rr(!0),n[dn].createComment("")};function IE(t,n,s,a){const f=qt(),m=Kr(),E=vr+t,D=f[dn],S=m.firstCreatePass?function wb(t,n,s,a,f,m){const E=n.consts,S=Wh(n,t,2,a,Wi(E,f));return s_(n,s,S,Wi(E,m)),null!==S.attrs&&__(S,S.attrs,!1),null!==S.mergedAttrs&&__(S,S.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,S),S}(E,m,f,n,s,a):m.data[E],j=RC(m,f,S,D,n,t);f[E]=j;const X=fa(S);return ri(S,!0),hp(D,j,S),32!=(32&S.flags)&&Fi()&&up(m,f,j,S),0===function ud(){return Kn.lFrame.elementDepthCount}()&&Fo(j,f),function ch(){Kn.lFrame.elementDepthCount++}(),X&&(tv(m,f,S),qg(m,S,f)),null!==a&&Kg(f,S),IE}function CE(){let t=ci();yn()?Mo():(t=t.parent,ri(t,!1));const n=t;(function sc(t){return Kn.skipHydrationRootTNode===t})(n)&&function Sr(){Kn.skipHydrationRootTNode=null}(),function za(){Kn.lFrame.elementDepthCount--}();const s=Kr();return s.firstCreatePass&&(Nc(s,t),zo(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function tg(t){return 0!=(8&t.flags)}(n)&&T_(s,n,qt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ng(t){return 0!=(16&t.flags)}(n)&&T_(s,n,qt(),n.stylesWithoutHost,!1),CE}function q0(t,n,s,a){return IE(t,n,s,a),CE(),q0}let RC=(t,n,s,a,f,m)=>(Rr(!0),Bd(a,f,function xo(){return Kn.lFrame.currentNamespace}()));function K0(t,n,s){const a=qt(),f=Kr(),m=t+vr,E=f.firstCreatePass?function bb(t,n,s,a,f){const m=n.consts,E=Wi(m,a),D=Wh(n,t,8,"ng-container",E);return null!==E&&__(D,E,!0),s_(n,s,D,Wi(m,f)),null!==n.queries&&n.queries.elementStart(n,D),D}(m,f,a,n,s):f.data[m];ri(E,!0);const D=PC(f,a,E,t);return a[m]=D,Fi()&&up(f,a,D,E),Fo(D,a),fa(E)&&(tv(f,a,E),qg(f,E,a)),null!=s&&Kg(a,E),K0}function Z0(){let t=ci();const n=Kr();return yn()?Mo():(t=t.parent,ri(t,!1)),n.firstCreatePass&&(Nc(n,t),zo(t)&&n.queries.elementEnd(t)),Z0}function Q0(t,n,s){return K0(t,n,s),Z0(),Q0}let PC=(t,n,s,a)=>(Rr(!0),lp(n[dn],""));function MC(){return qt()}const Cm=void 0;var Pb=["en",[["a","p"],["AM","PM"],Cm],[["AM","PM"],Cm,Cm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cm,"{1} 'at' {0}",Cm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Rb(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let k_={};function X0(t){const n=function Mb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=kC(n);if(s)return s;const a=n.split("-")[0];if(s=kC(a),s)return s;if("en"===a)return Pb;throw new hn(701,!1)}function NC(t){return X0(t)[L_.PluralCase]}function kC(t){return t in k_||(k_[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),k_[t]}var L_=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(L_||{});const F_="en-US";let LC=F_;function tI(t){return!!t&&"function"==typeof t.then}function aw(t){return!!t&&"function"==typeof t.subscribe}function nI(t,n,s,a){const f=qt(),m=Kr(),E=ci();return function cw(t,n,s,a,f,m,E){const D=fa(a),j=t.firstCreatePass&&dv(t),X=n[W],ue=uv(n);let Ge=!0;if(3&a.type||E){const en=Ps(a,n),wn=E?E(en):en,jn=ue.length,sn=E?hi=>E(Gi(hi[a.index])):a.index;let Ur=null;if(!E&&D&&(Ur=function DA(t,n,s,a){const f=t.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const E=f[m];if(E===s&&f[m+1]===a){const D=n[we],S=f[m+2];return D.length>S?D[S]:null}"string"==typeof E&&(m+=2)}return null}(t,n,f,a.index)),null!==Ur)(Ur.__ngLastListenerFn__||Ur).__ngNextListenerFn__=m,Ur.__ngLastListenerFn__=m,Ge=!1;else{m=dw(a,n,X,m,!1);const hi=s.listen(wn,f,m);ue.push(m,hi),j&&j.push(f,sn,jn,jn+1)}}else m=dw(a,n,X,m,!1);const ht=a.outputs;let Vt;if(Ge&&null!==ht&&(Vt=ht[f])){const en=Vt.length;if(en)for(let wn=0;wn<en;wn+=2){const Ri=n[Vt[wn]][Vt[wn+1]].subscribe(m),Dl=ue.length;ue.push(m,Ri),j&&j.push(f,a.index,Dl,-(Dl+1))}}}(m,f,f[dn],E,t,n,a),nI}function uw(t,n,s,a){try{return Os(6,n,s),!1!==s(a)}catch(f){return Jg(t,f),!1}finally{Os(7,n,s)}}function dw(t,n,s,a,f){return function m(E){if(E===Function)return a;Fp(t.componentOffset>-1?is(t.index,n):n);let S=uw(n,s,a,E),j=m.__ngNextListenerFn__;for(;j;)S=uw(n,s,j,E)&&S,j=j.__ngNextListenerFn__;return f&&!1===S&&E.preventDefault(),S}}function hw(t=1){return function gi(t){return(Kn.lFrame.contextLView=function Qn(t,n){for(;t>0;)n=n[gs],t--;return n}(t,Kn.lFrame.contextLView))[W]}(t)}function bA(t,n){let s=null;const a=function Va(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(t);for(let f=0;f<n.length;f++){const m=n[f];if("*"!==m){if(null===a?vo(t,m,!0):qs(a,m))return f}else s=f}return s}function fw(t){const n=qt()[qr][q];if(!n.projection){const a=n.projection=Ll(t?t.length:1,null),f=a.slice();let m=n.child;for(;null!==m;){const E=t?bA(m,t):0;null!==E&&(f[E]?f[E].projectionNext=m:a[E]=m,f[E]=m),m=m.next}}}function pw(t,n=0,s){const a=qt(),f=Kr(),m=Wh(f,vr+t,16,null,s||null);null===m.projection&&(m.projection=n),Mo(),(!a[L]||Sl())&&32!=(32&m.flags)&&function Lm(t,n,s){Tc(n[dn],0,n,s,jd(t,s,n),mg(s.parent||n[q],s,n))}(f,a,m)}function Tw(t){return function Qs(t,n){return t[n]}(function dd(){return Kn.lFrame.contextLView}(),vr+t)}function Nw(t,n=""){const s=qt(),a=Kr(),f=t+vr,m=a.firstCreatePass?Wh(a,f,1,n,null):a.data[f],E=kw(a,s,m,n,t);s[f]=E,Fi()&&up(a,s,E,m),ri(m,!1)}let kw=(t,n,s,a,f)=>(Rr(!0),function Vd(t,n){return t.createText(n)}(n[dn],a));function iI(t){return AE("",t,""),iI}function AE(t,n,s){const a=qt(),f=function hm(t,n,s,a){return Gs(t,ga(),s)?n+Gn(s)+a:Yr}(a,t,n,s);return f!==Yr&&function ed(t,n,s){const a=Po(n,t);!function ap(t,n,s){t.setValue(n,s)}(t[dn],a,s)}(a,sr(),f),AE}function sI(t,n,s,a,f){if(t=vn(t),Array.isArray(t))for(let m=0;m<t.length;m++)sI(t[m],n,s,a,f);else{const m=Kr(),E=qt(),D=ci();let S=gc(t)?t:vn(t.provide);const j=zc(t),X=1048575&D.providerIndexes,ue=D.directiveStart,Ge=D.providerIndexes>>20;if(gc(t)||!t.multi){const ht=new kc(j,f,zh),Vt=aI(S,n,f?X:X+Ge,ue);-1===Vt?(_d(ui(D,E),m,S),oI(m,t,n.length),n.push(S),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(ht),E.push(ht)):(s[Vt]=ht,E[Vt]=ht)}else{const ht=aI(S,n,X+Ge,ue),Vt=aI(S,n,X,X+Ge),wn=Vt>=0&&s[Vt];if(f&&!wn||!f&&!(ht>=0&&s[ht])){_d(ui(D,E),m,S);const jn=function jA(t,n,s,a,f){const m=new kc(t,s,zh);return m.multi=[],m.index=n,m.componentProviders=0,Gw(m,f,a&&!s),m}(f?$A:UA,s.length,f,a,j);!f&&wn&&(s[Vt].providerFactory=jn),oI(m,t,n.length,0),n.push(S),D.directiveStart++,D.directiveEnd++,f&&(D.providerIndexes+=1048576),s.push(jn),E.push(jn)}else oI(m,t,ht>-1?ht:Vt,Gw(s[f?Vt:ht],j,!f&&a));!f&&a&&wn&&s[Vt].componentProviders++}}}function oI(t,n,s,a){const f=gc(n),m=function Kf(t){return!!t.useClass}(n);if(f||m){const S=(m?vn(n.useClass):n).prototype.ngOnDestroy;if(S){const j=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const X=j.indexOf(s);-1===X?j.push(s,[a,S]):j[X+1].push(a,S)}else j.push(s,S)}}}function Gw(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function aI(t,n,s,a){for(let f=s;f<a;f++)if(n[f]===t)return f;return-1}function UA(t,n,s,a){return lI(this.multi,[])}function $A(t,n,s,a){const f=this.multi;let m;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=ml(s,s[pn],this.providerFactory.index,a);m=D.slice(0,E),lI(f,m);for(let S=E;S<D.length;S++)m.push(D[S])}else m=[],lI(f,m);return m}function lI(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function zw(t,n=[]){return s=>{s.providersResolver=(a,f)=>function BA(t,n,s){const a=Kr();if(a.firstCreatePass){const f=Zs(t);sI(s,a.data,a.blueprint,f,!0),sI(n,a.data,a.blueprint,f,!1)}}(a,f?f(t):t,n)}}class wm{}class Ww{}function HA(t,n){return new cI(t,null!=n?n:null,[])}class cI extends wm{constructor(n,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sm(this);const f=bi(n);this._bootstrapComponents=le(f.bootstrap),this._r3Injector=El(n,s,[{provide:wm,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver},...a],Jn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class uI extends Ww{constructor(n){super(),this.moduleType=n}create(n){return new cI(this.moduleType,n,[])}}class Yw extends wm{constructor(n){super(),this.componentFactoryResolver=new sm(this),this.instance=null;const s=new ta([...n.providers,{provide:wm,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],n.parent||mc(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function qw(t,n,s=null){return new Yw({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}let zA=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const f=Td(0,a.type),m=f.length>0?qw([f],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,m)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=kn({token:t,providedIn:"environment",factory:()=>new t(Ui(Bs))}),n})();function Kw(t){Ff("NgStandalone"),t.getStandaloneInjector=n=>n.get(zA).getOrCreateStandaloneInjector(t)}function rT(t,n,s){const a=function Oi(){const t=Kn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,f=qt();return f[a]===Yr?function cu(t,n,s){return t[n]=s}(f,a,s?n.call(s):n()):function Uf(t,n){return t[n]}(f,a)}function vS(){return this._results[Symbol.iterator]()}class hI{get changes(){return this._changes||(this._changes=new nd)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=hI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=vS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){this.dirty=!1;const a=function to(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Yf(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let f=t[a],m=n[a];if(s&&(f=s(f),m=s(m)),m!==f)return!1}return!0}(this._results,a,s))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wv=(()=>{class n{}return n.__NG_ELEMENT_ID__=IS,n})();const yS=Wv,ES=class extends yS{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,a){const f=function Em(t,n,s,a){var f,m;const E=n.tView,j=Wg(t,E,s,4096&t[ar]?4096:16,null,n,null,null,null,null!==(f=null==a?void 0:a.injector)&&void 0!==f?f:null,null!==(m=null==a?void 0:a.dehydratedView)&&void 0!==m?m:null);j[ns]=t[n.index];const ue=t[ao];return null!==ue&&(j[ao]=ue.createEmbeddedView(E)),rm(E,j,s),j}(this._declarationLView,this._declarationTContainer,n,{injector:s,dehydratedView:a});return new Lf(f)}};function IS(){return PE(ci(),qt())}function PE(t,n){return 4&t.type?new ES(n,t,au(t,n)):null}class fI{constructor(n){this.queryList=n,this.matches=null}clone(){return new fI(this.queryList)}setDirty(){this.queryList.setDirty()}}class pI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let m=0;m<a;m++){const E=s.getByIndex(m);f.push(this.queries[E.indexInDeclarationView].clone())}return new pI(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==_T(n,s).matches&&this.queries[s].setDirty()}}class cT{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class gI{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const f=null!==s?s.length:0,m=this.getByIndex(a).embeddedTView(n,f);m&&(m.indexInDeclarationView=a,null!==s?s.push(m):s=[m])}return null!==s?new gI(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class mI{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new mI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let f=0;f<a.length;f++){const m=a[f];this.matchTNodeWithReadOption(n,s,CS(s,m)),this.matchTNodeWithReadOption(n,s,vi(s,n,m,!1,!1))}else a===Wv?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,vi(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const f=this.metadata.read;if(null!==f)if(f===Kd||f===gE||f===Wv&&4&s.type)this.addMatch(s.index,-2);else{const m=vi(s,n,f,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function CS(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function TS(t,n,s,a){return-1===s?function wS(t,n){return 11&t.type?au(t,n):4&t.type?PE(t,n):null}(n,t):-2===s?function DS(t,n,s){return s===Kd?au(n,t):s===Wv?PE(n,t):s===gE?tC(n,t):void 0}(t,n,a):ml(t,t[pn],s,n)}function uT(t,n,s,a){const f=n[ao].queries[a];if(null===f.matches){const m=t.data,E=s.matches,D=[];for(let S=0;S<E.length;S+=2){const j=E[S];D.push(j<0?null:TS(n,m[j],E[S+1],s.metadata.read))}f.matches=D}return f.matches}function _I(t,n,s,a){const f=t.queries.getByIndex(s),m=f.matches;if(null!==m){const E=uT(t,n,f,s);for(let D=0;D<m.length;D+=2){const S=m[D];if(S>0)a.push(E[D/2]);else{const j=m[D+1],X=n[-S];for(let ue=zi;ue<X.length;ue++){const Ge=X[ue];Ge[ns]===Ge[hr]&&_I(Ge[pn],Ge,j,a)}if(null!==X[Go]){const ue=X[Go];for(let Ge=0;Ge<ue.length;Ge++){const ht=ue[Ge];_I(ht[pn],ht,j,a)}}}}}return a}function dT(t){const n=qt(),s=Kr(),a=w();U(a+1);const f=_T(s,a);if(t.dirty&&function lh(t){return 4==(4&t[ar])}(n)===(2==(2&f.metadata.flags))){if(null===f.matches)t.reset([]);else{const m=f.crossesNgTemplate?_I(s,n,a,[]):uT(s,n,f,a);t.reset(m,Uh),t.notifyOnChanges()}return!0}return!1}function hT(t,n,s){const a=Kr();a.firstCreatePass&&(mT(a,new cT(t,n,s),-1),2==(2&n)&&(a.staticViewQueries=!0)),gT(a,qt(),n)}function fT(t,n,s,a){const f=Kr();if(f.firstCreatePass){const m=ci();mT(f,new cT(n,s,a),m.index),function AS(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),2==(2&s)&&(f.staticContentQueries=!0)}gT(f,qt(),s)}function pT(){return function bS(t,n){return t[ao].queries[n].queryList}(qt(),w())}function gT(t,n,s){const a=new hI(4==(4&s));(function py(t,n,s,a){const f=uv(n);f.push(s),t.firstCreatePass&&dv(t).push(a,f.length-1)})(t,n,a,a.destroy),null===n[ao]&&(n[ao]=new pI),n[ao].queries.push(new fI(a))}function mT(t,n,s){null===t.queries&&(t.queries=new gI),t.queries.track(new mI(n,s))}function _T(t,n){return t.queries.getByIndex(n)}const OT=new nn("Application Initializer");let CI=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m}),this.appInits=null!==(a=Cr(OT,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const m of this.appInits){const E=m();if(tI(E))a.push(E);else if(aw(E)){const D=new Promise((S,j)=>{E.subscribe({complete:S,error:j})});a.push(D)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{f()}).catch(m=>{this.reject(m)}),0===a.length&&f(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const xE=new nn("LocaleId",{providedIn:"root",factory:()=>Cr(xE,De.Optional|De.SkipSelf)||function ZS(){return typeof $localize<"u"&&$localize.locale||F_}()}),QS=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let LT=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Hn.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();class nR{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let rR=(()=>{var t;class n{compileModuleSync(a){return new uI(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const f=this.compileModuleSync(a),E=le(bi(a).declarations).reduce((D,S)=>{const j=Ir(S);return j&&D.push(new lm(j)),D},[]);return new nR(f,E)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const $T=new nn(""),jT=new nn("");let TI,SR=(()=>{var t;class n{constructor(a,f,m){this._ngZone=a,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,TI||(function RR(t){TI=t}(m),m.addToWindow(f)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(a)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,f,m){let E=-1;f&&f>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==E),a(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:a,timeoutId:E,updateCb:m})}whenStable(a,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,f,m){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(Ui(vs),Ui(HT),Ui(jT))},t.\u0275prov=kn({token:t,factory:t.\u0275fac}),n})(),HT=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,f){this._applications.set(a,f)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,f=!0){var m,E;return null!==(m=null===(E=TI)||void 0===E?void 0:E.findTestabilityInTree(this,a,f))&&void 0!==m?m:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),Jp=null;const GT=new nn("AllowMultipleToken"),DI=new nn("PlatformDestroyListeners"),bI=new nn("appBootstrapListener");function YT(t,n,s=[]){const a=`Platform: ${n}`,f=new nn(a);return(m=[])=>{let E=AI();if(!E||E.injector.get(GT,!1)){const D=[...s,...m,{provide:f,useValue:!0}];t?t(D):function xR(t){if(Jp&&!Jp.get(GT,!1))throw new hn(400,!1);(function zT(){!function Qe(t){st=t}(()=>{throw new hn(600,!1)})})(),Jp=t;const n=t.get(KT);(function WT(t){const n=t.get(Dh,null);null==n||n.forEach(s=>s())})(t)}(function qT(t=[],n){return ro.create({name:n,providers:[{provide:Ad,useValue:"platform"},{provide:DI,useValue:new Set([()=>Jp=null])},...t]})}(D,a))}return function NR(t){const n=AI();if(!n)throw new hn(401,!1);return n}()}}function AI(){var t,n;return null!==(t=null===(n=Jp)||void 0===n?void 0:n.get(KT))&&void 0!==t?t:null}let KT=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,f){const m=function kR(t="zone.js",n){return"noop"===t?new Bf:"zone.js"===t?new vs(n):t}(null==f?void 0:f.ngZone,function ZT(t){var n,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(s=null==t?void 0:t.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==f?void 0:f.ngZoneEventCoalescing,runCoalescing:null==f?void 0:f.ngZoneRunCoalescing}));return m.run(()=>{const E=function GA(t,n,s){return new cI(t,n,s)}(a.moduleType,this.injector,function tD(t){return[{provide:vs,useFactory:t},{provide:Ja,multi:!0,useFactory:()=>{const n=Cr(FR,{optional:!0});return()=>n.initialize()}},{provide:eD,useFactory:LR},{provide:nm,useFactory:Vp}]}(()=>m)),D=E.injector.get(Hh,null);return m.runOutsideAngular(()=>{const S=m.onError.subscribe({next:j=>{D.handleError(j)}});E.onDestroy(()=>{NE(this._modules,E),S.unsubscribe()})}),function QT(t,n,s){try{const a=s();return tI(a)?a.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(D,m,()=>{const S=E.injector.get(CI);return S.runInitializers(),S.donePromise.then(()=>(function FC(t){St(t,"Expected localeId to be defined"),"string"==typeof t&&(LC=t.toLowerCase().replace(/_/g,"-"))}(E.injector.get(xE,F_)||F_),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,f=[]){const m=XT({},f);return function PR(t,n,s){const a=new uI(s);return Promise.resolve(a)}(0,0,a).then(E=>this.bootstrapModuleFactory(E,m))}_moduleDoBootstrap(a){const f=a.injector.get(U_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!a.instance.ngDoBootstrap)throw new hn(-403,!1);a.instance.ngDoBootstrap(f)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new hn(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const a=this._injector.get(DI,null);a&&(a.forEach(f=>f()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(Ui(ro))},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function XT(t,n){return Array.isArray(n)?n.reduce(XT,t):{...t,...n}}let U_=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Cr(eD),this.zoneIsStable=Cr(nm),this.componentTypes=[],this.components=[],this.isStable=Cr(LT).hasPendingTasks.pipe((0,gn.w)(a=>a?(0,Fn.of)(!1):this.zoneIsStable),(0,er.x)(),(0,rr.B)()),this._injector=Cr(Bs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,f){const m=a instanceof Of;if(!this._injector.get(CI).done)throw!m&&oo(a),new hn(405,!1);let D;D=m?a:this._injector.get(Nf).resolveComponentFactory(a),this.componentTypes.push(D.componentType);const S=function MR(t){return t.isBoundToModule}(D)?void 0:this._injector.get(wm),X=D.create(ro.NULL,[],f||D.selector,S),ue=X.location.nativeElement,Ge=X.injector.get($T,null);return null==Ge||Ge.registerApplication(ue),X.onDestroy(()=>{this.detachView(X.hostView),NE(this.components,X),null==Ge||Ge.unregisterApplication(ue)}),this._loadComponent(X),X}tick(){if(this._runningTick)throw new hn(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const f=a;this._views.push(f),f.attachToAppRef(this)}detachView(a){const f=a;NE(this._views,f),f.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const f=this._injector.get(bI,[]);[...this._bootstrapListeners,...f].forEach(m=>m(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>NE(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new hn(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function NE(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const eD=new nn("",{providedIn:"root",factory:()=>Cr(Hh).handleError.bind(void 0)});function LR(){const t=Cr(vs),n=Cr(Hh);return s=>t.runOutsideAngular(()=>n.handleError(s))}let FR=(()=>{var t;class n{constructor(){this.zone=Cr(vs),this.applicationRef=Cr(U_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=kn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function UR(){return!1}function $R(){}const WR=YT(null,"core",[]);let YR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(Ui(U_))},t.\u0275mod=Ua({type:t}),t.\u0275inj=dt({}),n})();function pP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function mP(t,n){const s=Ir(t),a=n.elementInjector||mc();return new lm(s).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function _P(t){const n=Ir(t);if(!n)return null;const s=new lm(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},7213:(un,ft,N)=>{"use strict";N.d(ft,{zQ:()=>yt,ww:()=>Qe,rT:()=>Ue,f7:()=>Me,L6:()=>he,_Q:()=>Ie,lh:()=>rt,Qv:()=>Se,nw:()=>st});var d=N(1180),J=(N(8313),N(6814)),de=N(9212),Oe=N(9230),re=N(7217),me=N(8645),qe=N(2096),Ze=N(5592),be=N(2459),Te=N(3019),Je=N(3093),Ye=N(4664),Ee=N(7398),Ke=N(4552);class _t extends me.x{constructor(x=1/0,Z=1/0,ce=Ke.l){super(),this._bufferSize=x,this._windowTime=Z,this._timestampProvider=ce,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Z===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,Z)}next(x){const{isStopped:Z,_buffer:ce,_infiniteTimeWindow:je,_timestampProvider:$e,_windowTime:We}=this;Z||(ce.push(x),!je&&ce.push($e.now()+We)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const Z=this._innerSubscribe(x),{_infiniteTimeWindow:ce,_buffer:je}=this,$e=je.slice();for(let We=0;We<$e.length&&!x.closed;We+=ce?1:2)x.next($e[We]);return this._checkFinalizedStatuses(x),Z}_trimBuffer(){const{_bufferSize:x,_timestampProvider:Z,_buffer:ce,_infiniteTimeWindow:je}=this,$e=(je?1:2)*x;if(x<1/0&&$e<ce.length&&ce.splice(0,ce.length-$e),!je){const We=Z.now();let It=0;for(let Pt=1;Pt<ce.length&&ce[Pt]<=We;Pt+=2)It=Pt;It&&ce.splice(0,It+1)}}}var et=N(3020);function nt(se,x,Z){let ce,je=!1;return se&&"object"==typeof se?({bufferSize:ce=1/0,windowTime:x=1/0,refCount:je=!1,scheduler:Z}=se):ce=null!=se?se:1/0,(0,et.B)({connector:()=>new _t(ce,x,Z),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:je})}var at=N(1374),Et=N(4674);function Ce(se,x){return(0,Et.m)(x)?(0,Ye.w)(()=>se,x):(0,Ye.w)(()=>se)}var Be=N(5137),Xe=N(2181),pt=N(120);const Se=new de.OlP("angularfire2.auth.use-emulator"),he=new de.OlP("angularfire2.auth.settings"),Ie=new de.OlP("angularfire2.auth.tenant-id"),Ue=new de.OlP("angularfire2.auth.langugage-code"),rt=new de.OlP("angularfire2.auth.use-device-language"),Me=new de.OlP("angularfire.auth.persistence"),st=(se,x,Z,ce,je,$e,We,It)=>(0,re.cc)(`${se.name}.auth`,"AngularFireAuth",se.name,()=>{const Pt=x.runOutsideAngular(()=>se.auth());if(Z&&Pt.useEmulator(...Z),ce&&(Pt.tenantId=ce),Pt.languageCode=je,$e&&Pt.useDeviceLanguage(),We)for(const[Mt,At]of Object.entries(We))Pt.settings[Mt]=At;return It&&Pt.setPersistence(It),Pt},[Z,ce,je,$e,We,It]);let yt=(()=>{var se;class x{constructor(ce,je,$e,We,It,Pt,Mt,At,ln,Kt,Rt,Nt){(0,d.Z)(this,"authState",void 0),(0,d.Z)(this,"idToken",void 0),(0,d.Z)(this,"user",void 0),(0,d.Z)(this,"idTokenResult",void 0),(0,d.Z)(this,"credential",void 0);const Ht=new me.x,Jt=(0,qe.of)(void 0).pipe((0,Je.Q)(It.outsideAngular),(0,Ye.w)(()=>We.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8313)))),(0,Ee.U)(()=>(0,re.on)(ce,We,je)),(0,Ee.U)(Hn=>st(Hn,We,Pt,At,ln,Kt,Mt,Rt)),nt({bufferSize:1,refCount:!1}));if((0,J.PM)($e))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{Jt.pipe((0,at.P)()).subscribe();const Hn=Jt.pipe((0,Ye.w)(gn=>gn.getRedirectResult().then(er=>er,()=>null)),Oe.iC,nt({bufferSize:1,refCount:!1})),Fn=Jt.pipe((0,Ye.w)(gn=>new Ze.y(er=>({unsubscribe:We.runOutsideAngular(()=>gn.onAuthStateChanged(_n=>er.next(_n),_n=>er.error(_n),()=>er.complete()))})))),rr=Jt.pipe((0,Ye.w)(gn=>new Ze.y(er=>({unsubscribe:We.runOutsideAngular(()=>gn.onIdTokenChanged(_n=>er.next(_n),_n=>er.error(_n),()=>er.complete()))}))));this.authState=Hn.pipe(Ce(Fn),(0,Be.R)(It.outsideAngular),(0,Je.Q)(It.insideAngular)),this.user=Hn.pipe(Ce(rr),(0,Be.R)(It.outsideAngular),(0,Je.Q)(It.insideAngular)),this.idToken=this.user.pipe((0,Ye.w)(gn=>gn?(0,be.D)(gn.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe((0,Ye.w)(gn=>gn?(0,be.D)(gn.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,Te.T)(Hn,Ht,this.authState.pipe((0,Xe.h)(gn=>!gn))).pipe((0,Ee.U)(gn=>null!=gn&&gn.user?gn:null),(0,Be.R)(It.outsideAngular),(0,Je.Q)(It.insideAngular))}return(0,re.pX)(this,Jt,We,{spy:{apply:(Hn,Fn,rr)=>{(Hn.startsWith("signIn")||Hn.startsWith("createUser"))&&rr.then(gn=>Ht.next(gn))}}})}}return se=x,(0,d.Z)(x,"\u0275fac",function(ce){return new(ce||se)(de.LFG(re.Dh),de.LFG(re.xv,8),de.LFG(de.Lbi),de.LFG(de.R0b),de.LFG(Oe.HU),de.LFG(Se,8),de.LFG(he,8),de.LFG(Ie,8),de.LFG(Ue,8),de.LFG(rt,8),de.LFG(Me,8),de.LFG(Oe.Rf,8))}),(0,d.Z)(x,"\u0275prov",de.Yz7({token:se,factory:se.\u0275fac,providedIn:"any"})),x})(),Qe=(()=>{var se;class x{constructor(){pt.Z.registerVersion("angularfire",Oe.q4.full,"auth-compat")}}return se=x,(0,d.Z)(x,"\u0275fac",function(ce){return new(ce||se)}),(0,d.Z)(x,"\u0275mod",de.oAB({type:se})),(0,d.Z)(x,"\u0275inj",de.cJS({providers:[yt]})),x})()},2736:(un,ft,N)=>{"use strict";N.d(ft,{ST:()=>pE,yb:()=>N0});var d=N(1180),$=N(6814),J=N(9212),de=N(9230),Oe=N(7217),re=N(7213),me=N(6321),qe=N(5592),Ze=N(2459),be=N(2096),Te=N(7921),Je=N(9360),Ye=N(8251);function Ee(){return(0,Je.e)((i,e)=>{let r,o=!1;i.subscribe((0,Ye.x)(e,u=>{const p=r;r=u,o&&e.next([p,u]),o=!0}))})}var Ie,Ke=N(7398),_t=N(6699),et=N(3997),nt=N(2181),Et=(N(8313),N(3399)),Ce=N(5861),Be=N(9823),Xe=N(6820),pt=N(7879),_e=N(229),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={},Ue=Ue||{},rt=Se||self;function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function st(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Qe="closure_uid_"+(1e9*Math.random()>>>0),se=0;function x(i,e,r){return i.call.apply(i.bind,arguments)}function Z(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function ce(i,e,r){return(ce=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:Z).apply(null,arguments)}function je(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function $e(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(o,u,p){for(var y=Array(arguments.length-2),O=2;O<arguments.length;O++)y[O-2]=arguments[O];return e.prototype[u].apply(o,y)}}function We(){this.s=this.s,this.o=this.o}We.prototype.s=!1,We.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yt(i){Object.prototype.hasOwnProperty.call(i,Qe)&&i[Qe]||(i[Qe]=++se)}(this)},We.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Pt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function Mt(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function At(i,e){for(let r=1;r<arguments.length;r++){const o=arguments[r];if(Me(o)){const u=i.length||0,p=o.length||0;i.length=u+p;for(let y=0;y<p;y++)i[u+y]=o[y]}else i.push(o)}}function ln(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Kt=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{rt.addEventListener("test",()=>{},e),rt.removeEventListener("test",()=>{},e)}catch{}return i}();function Rt(i){return/^[\s\xa0]*$/.test(i)}function Nt(){var i=rt.navigator;return i&&(i=i.userAgent)?i:""}function Ht(i){return-1!=Nt().indexOf(i)}function Jt(i){return Jt[" "](i),i}Jt[" "]=function(){};var lr,i,Fn=Ht("Opera"),rr=Ht("Trident")||Ht("MSIE"),gn=Ht("Edge"),er=gn||rr,_n=Ht("Gecko")&&!(-1!=Nt().toLowerCase().indexOf("webkit")&&!Ht("Edge"))&&!(Ht("Trident")||Ht("MSIE"))&&!Ht("Edge"),ti=-1!=Nt().toLowerCase().indexOf("webkit")&&!Ht("Edge");function Jn(){var i=rt.document;return i?i.documentMode:void 0}e:{var Bn="",Qr=(i=Nt(),_n?/rv:([^\);]+)(\)|;)/.exec(i):gn?/Edge\/([\d\.]+)/.exec(i):rr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ti?/WebKit\/(\S+)/.exec(i):Fn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Qr&&(Bn=Qr?Qr[1]:""),rr){var $r=Jn();if(null!=$r&&$r>parseFloat(Bn)){lr=String($r);break e}}lr=Bn}var Mn=rt.document&&rr&&(Jn()||parseInt(lr,10))||void 0;function wi(i,e){if(ln.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{Jt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Dr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&wi.$.h.call(this)}}$e(wi,ln);var Dr={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var hn="closure_listenable_"+(1e6*Math.random()|0),tr=0;function Ar(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.la=u,this.key=++tr,this.fa=this.ia=!1}function oi(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function ki(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Nr(i){const e={};for(const r in i)e[r]=i[r];return e}const jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let p=0;p<jr.length;p++)r=jr[p],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Gn(i){this.src=i,this.g={},this.h=0}function Un(i,e){var r=e.type;if(r in i.g){var p,o=i.g[r],u=Pt(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(oi(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function ai(i,e,r,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.fa&&p.listener==e&&p.capture==!!r&&p.la==o)return u}return-1}Gn.prototype.add=function(i,e,r,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var y=ai(i,e,o,u);return-1<y?(e=i[y],r||(e.ia=!1)):((e=new Ar(e,this.src,p,!!o,u)).ia=r,i.push(e)),e};var Pi="closure_lm_"+(1e6*Math.random()|0),Mi={};function lt(i,e,r,o,u){if(o&&o.once)return Le(i,e,r,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)lt(i,e[p],r,o,u);return null}return r=ur(r),i&&i[hn]?i.O(e,r,st(o)?!!o.capture:!!o,u):ge(i,e,r,!1,o,u)}function ge(i,e,r,o,u,p){if(!e)throw Error("Invalid event type");var y=st(u)?!!u.capture:!!u,O=$n(i);if(O||(i[Pi]=O=new Gn(i)),(r=O.add(e,r,o,y,p)).proxy)return r;if(o=function oe(){const e=Wt;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Kt||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ot(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Le(i,e,r,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Le(i,e[p],r,o,u);return null}return r=ur(r),i&&i[hn]?i.P(e,r,st(o)?!!o.capture:!!o,u):ge(i,e,r,!0,o,u)}function pe(i,e,r,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)pe(i,e[p],r,o,u);else o=st(o)?!!o.capture:!!o,r=ur(r),i&&i[hn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=ai(p=i.g[e],r,o,u))&&(oi(p[r]),Array.prototype.splice.call(p,r,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=$n(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ai(e,r,o,u)),(r=-1<i?e[i]:null)&&ct(r))}function ct(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[hn])Un(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(Ot(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=$n(e))?(Un(r,i),0==r.h&&(r.src=null,e[Pi]=null)):oi(i)}}}function Ot(i){return i in Mi?Mi[i]:Mi[i]="on"+i}function Wt(i,e){if(i.fa)i=!0;else{e=new wi(e,this);var r=i.listener,o=i.la||i.src;i.ia&&ct(i),i=r.call(o,e)}return i}function $n(i){return(i=i[Pi])instanceof Gn?i:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(i){return"function"==typeof i?i:(i[xn]||(i[xn]=function(e){return i.handleEvent(e)}),i[xn])}function Sn(){We.call(this),this.i=new Gn(this),this.S=this,this.J=null}function or(i,e){var r,o=i.J;if(o)for(r=[];o;o=o.J)r.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new ln(e,i);else if(e instanceof ln)e.target=e.target||i;else{var u=e;Fr(e=new ln(o,i),u)}if(u=!0,r)for(var p=r.length-1;0<=p;p--){var y=e.g=r[p];u=Ei(y,o,!0,e)&&u}if(u=Ei(y=e.g=i,o,!0,e)&&u,u=Ei(y,o,!1,e)&&u,r)for(p=0;p<r.length;p++)u=Ei(y=e.g=r[p],o,!1,e)&&u}function Ei(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var y=e[p];if(y&&!y.fa&&y.capture==r){var O=y.listener,V=y.la||y.src;y.ia&&Un(i.i,y),u=!1!==O.call(V,o)&&u}}return u&&!o.defaultPrevented}$e(Sn,We),Sn.prototype[hn]=!0,Sn.prototype.removeEventListener=function(i,e,r,o){pe(this,i,e,r,o)},Sn.prototype.N=function(){if(Sn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)oi(r[o]);delete i.g[e],i.h--}}this.J=null},Sn.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Sn.prototype.P=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var Hr=rt.JSON.stringify;function St(){var i=dt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Qt=new class Hi{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new bn,i=>i.reset());class bn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function Xn(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function Yn(i){rt.setTimeout(()=>{throw i},0)}let kn,Xr=!1,dt=new class ut{constructor(){this.h=this.g=null}add(e,r){const o=Qt.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}},He=()=>{const i=rt.Promise.resolve(void 0);kn=()=>{i.then(Tt)}};var Tt=()=>{for(var i;i=St();){try{i.h.call(i.g)}catch(r){Yn(r)}var e=Qt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Xr=!1};function vt(i,e){Sn.call(this),this.h=i||1,this.g=e||rt,this.j=ce(this.qb,this),this.l=Date.now()}function Ut(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Yt(i,e,r){if("function"==typeof i)r&&(i=ce(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ce(i.handleEvent,i)}return 2147483647<Number(e)?-1:rt.setTimeout(i,e||0)}function Cn(i){i.g=Yt(()=>{i.g=null,i.i&&(i.i=!1,Cn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}$e(vt,Sn),(Ie=vt.prototype).ga=!1,Ie.T=null,Ie.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),or(this,"tick"),this.ga&&(Ut(this),this.start()))}},Ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.N=function(){vt.$.N.call(this),Ut(this),delete this.g};class fn extends We{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(i){We.call(this),this.h=i,this.g={}}$e(Rn,We);var mn=[];function De(i,e,r,o){Array.isArray(r)||(r&&(mn[0]=r.toString()),r=mn);for(var u=0;u<r.length;u++){var p=lt(e,r[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Ne(i){ki(i.g,function(e,r){this.g.hasOwnProperty(r)&&ct(e)},i),i.g={}}function ee(){this.g=!0}function Bt(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tn(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var y=1;y<u.length;y++)u[y]=""}}}return Hr(r)}catch{return e}}(i,r)+(o?" "+o:"")})}Rn.prototype.N=function(){Rn.$.N.call(this),Ne(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ee.prototype.Ea=function(){this.g=!1},ee.prototype.info=function(){};var Nn={},nn=null;function dr(){return nn=nn||new Sn}function z(i){ln.call(this,Nn.Ta,i)}function ie(i){const e=dr();or(e,new z(e))}function ze(i,e){ln.call(this,Nn.STAT_EVENT,i),this.stat=e}function it(i){const e=dr();or(e,new ze(e,i))}function xt(i,e){ln.call(this,Nn.Ua,i),this.size=e}function T(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){i()},e)}Nn.Ta="serverreachability",$e(z,ln),Nn.STAT_EVENT="statevent",$e(ze,ln),Nn.Ua="timingevent",$e(xt,ln);var Q={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function te(){}function $t(){}te.prototype.h=null;var li,Vn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nr(){ln.call(this,"d")}function _r(){ln.call(this,"c")}function Ii(){}function Jr(i,e,r,o){this.l=i,this.j=e,this.m=r,this.W=o||1,this.U=new Rn(this),this.P=Ms,this.V=new vt(i=er?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}$e(nr,ln),$e(_r,ln),$e(Ii,te),Ii.prototype.g=function(){return new XMLHttpRequest},Ii.prototype.i=function(){return{}},li=new Ii;var Ms=45e3,fi={},Ds={};function Ui(i,e,r){i.L=1,i.v=la(xs(e)),i.s=r,i.S=!0,us(i,null)}function us(i,e){i.G=Date.now(),bs(i),i.A=xs(i.v);var r=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),da(r.i,"t",o),i.C=0,r=i.l.J,i.h=new Di,i.g=So(i.l,r?e:null,!i.s),0<i.O&&(i.M=new fn(ce(i.Pa,i,i.g),i.O)),De(i.U,i.g,"readystatechange",i.nb),e=i.I?Nr(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ie(),function Ae(i,e,r,o,u,p){i.info(function(){if(i.g)if(p)for(var y="",O=p.split("&"),V=0;V<O.length;V++){var K=O[V].split("=");if(1<K.length){var fe=K[0];K=K[1];var Fe=fe.split("_");y=2<=Fe.length&&"type"==Fe[1]?y+(fe+"=")+K+"&":y+(fe+"=redacted&")}}else y=null;else y=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+y})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Cr(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function To(i,e,r){let u,o=!0;for(;!i.J&&i.C<r.length;){if(u=La(i,r),u==Ds){4==e&&(i.o=4,it(14),o=!1),Bt(i.j,i.m,null,"[Incomplete Response]");break}if(u==fi){i.o=4,it(15),Bt(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Bt(i.j,i.m,u,null),io(i,u)}Cr(i)&&u!=Ds&&u!=fi&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,it(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Zi(e),e.M=!0,it(11))):(Bt(i.j,i.m,r,"[Invalid Chunked Response]"),qi(i),ys(i))}function La(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Ds:(r=Number(e.substring(r,o)),isNaN(r)?fi:(o+=1)+r>e.length?Ds:(e=e.slice(o,o+r),i.C=o+r,e))}function bs(i){i.Y=Date.now()+i.P,Fa(i,i.P)}function Fa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=T(ce(i.lb,i),e)}function Do(i){i.B&&(rt.clearTimeout(i.B),i.B=null)}function ys(i){0==i.l.H||i.J||fa(i.l,i)}function qi(i){Do(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ut(i.V),Ne(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function io(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Ir(r.i,i)))if(!i.K&&Ir(r.i,i)&&3==r.H){try{var o=r.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;Wo(r),vr(r)}hs(r),it(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&0==r.A&&!r.v&&(r.v=T(ce(r.ib,r),6e3));if(1>=bl(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Yo(r,11)}else if((i.K||r.g==i)&&Wo(r),!Rt(e))for(u=r.Ja.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(r.V=K[0],K=K[1],2==r.H)if("c"==K[0]){r.K=K[1],r.pa=K[2];const fe=K[3];null!=fe&&(r.ra=fe,r.l.info("VER="+r.ra));const Fe=K[4];null!=Fe&&(r.Ga=Fe,r.l.info("SVER="+r.Ga));const mt=K[5];null!=mt&&"number"==typeof mt&&0<mt&&(r.L=o=1.5*mt,r.l.info("backChannelRequestTimeoutMs_="+o)),o=r;const Lt=i.g;if(Lt){const In=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var p=o.i;p.g||-1==In.indexOf("spdy")&&-1==In.indexOf("quic")&&-1==In.indexOf("h2")||(p.j=p.l,p.g=new Set,p.h&&(xi(p,p.h),p.h=null))}if(o.F){const Pn=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pn&&(o.Da=Pn,Li(o.I,o.F,Pn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var y=i;if((o=r).wa=fu(o,o.J?o.pa:null,o.Y),y.K){Ki(o.i,y);var O=y,V=o.L;V&&O.setTimeout(V),O.B&&(Do(O),bs(O)),o.g=y}else ja(o);0<r.j.length&&Eo(r)}else"stop"!=K[0]&&"close"!=K[0]||Yo(r,7);else 3==r.H&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?Yo(r,7):lo(r):"noop"!=K[0]&&r.h&&r.h.Aa(K),r.A=0)}ie()}catch{}}function Vr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function zs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Me(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const o in i)e[r++]=o;return e}}}(i),o=function so(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length,p=0;p<u;p++)e.call(void 0,o[p],r&&r[p],i)}(Ie=Jr.prototype).setTimeout=function(i){this.P=i},Ie.nb=function(i){i=i.target;const e=this.M;e&&3==ns(i)?e.l():this.Pa(i)},Ie.Pa=function(i){try{if(i==this.g)e:{const fe=ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>fe)&&(3!=fe||er||this.g&&(this.h.h||this.g.ja()||Ho(this.g)))){this.J||4!=fe||7==e||ie(),Do(this);var r=this.g.da();this.ca=r;t:if(Cr(this)){var o=Ho(this.g);i="";var u=o.length,p=4==ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qi(this),ys(this);var y="";break t}this.h.i=new rt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==r,function gt(i,e,r,o,u,p,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+p+" "+y})}(this.j,this.u,this.A,this.m,this.W,fe,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var O,V=this.g;if((O=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rt(O)){var K=O;break t}}K=null}if(!(r=K)){this.i=!1,this.o=3,it(12),qi(this),ys(this);break e}Bt(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,r)}this.S?(To(this,fe,y),er&&this.i&&3==fe&&(De(this.U,this.V,"tick",this.mb),this.V.start())):(Bt(this.j,this.m,y,null),io(this,y)),4==fe&&qi(this),this.i&&!this.J&&(4==fe?fa(this.l,this):(this.i=!1,bs(this)))}else(function ao(i){const e={};i=(i.g&&2<=ns(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Rt(i[o]))continue;var r=Xn(i[o]);const u=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const p=e[u]||[];e[u]=p,p.push(r)}!function Ti(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(o){return o.join(", ")})})(this.g),400==r&&0<y.indexOf("Unknown SID")?(this.o=3,it(12)):(this.o=0,it(13)),qi(this),ys(this)}}}catch{}},Ie.mb=function(){if(this.g){var i=ns(this.g),e=this.g.ja();this.C<e.length&&(Do(this),To(this,i,e),this.i&&4!=i&&bs(this))}},Ie.cancel=function(){this.J=!0,qi(this)},Ie.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function jt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ie(),it(17)),qi(this),this.o=2,ys(this)):Fa(this,this.Y-i)};var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ws){this.h=i.h,ts(this,i.j),this.s=i.s,this.g=i.g,Ia(this,i.m),this.l=i.l;var e=i.i,r=new qs;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),Ca(this,r),this.o=i.o}else i&&(e=String(i).match($o))?(this.h=!1,ts(this,e[1]||"",!0),this.s=jo(e[2]||""),this.g=jo(e[3]||"",!0),Ia(this,e[4]),this.l=jo(e[5]||"",!0),Ca(this,e[6]||"",!0),this.o=jo(e[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}function xs(i){return new Ws(i)}function ts(i,e,r){i.j=r?jo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ia(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ca(i,e,r){e instanceof qs?(i.i=e,function tc(i,e){e&&!i.j&&(bo(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(Ba(this,o),da(this,u,r))},i)),i.j=e}(i.i,i.h)):(r||(e=ca(e,ua)),i.i=new qs(e,i.h))}function Li(i,e,r){i.i.set(e,r)}function la(i){return Li(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function jo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ca(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Ys),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ys(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ws.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ca(e,Oc,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ca(e,Oc,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(ca(r,"/"==r.charAt(0)?Va:vo,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",ca(r,hu)),i.join("")};var Oc=/[#\/\?@]/g,vo=/[#\?:]/g,Va=/[#\?]/g,ua=/[#\?@]/g,hu=/#/g;function qs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function bo(i){i.g||(i.g=new Map,i.h=0,i.i&&function ds(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var p=i[r].substring(0,o);u=i[r].substring(o+1)}else p=i[r];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Ba(i,e){bo(i),e=Es(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function $i(i,e){return bo(i),e=Es(i,e),i.g.has(e)}function da(i,e,r){Ba(i,e),0<r.length&&(i.i=null,i.g.set(Es(i,e),Mt(r)),i.h+=r.length)}function Es(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(Ie=qs.prototype).add=function(i,e){bo(this),this.i=null,i=Es(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},Ie.forEach=function(i,e){bo(this),this.g.forEach(function(r,o){r.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ie.ta=function(){bo(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let o=0;o<e.length;o++){const u=i[o];for(let p=0;p<u.length;p++)r.push(e[o])}return r},Ie.Z=function(i){bo(this);let e=[];if("string"==typeof i)$i(this,i)&&(e=e.concat(this.g.get(Es(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},Ie.set=function(i,e){return bo(this),this.i=null,$i(this,i=Es(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var o=e[r];const p=encodeURIComponent(String(o)),y=this.Z(o);for(o=0;o<y.length;o++){var u=p;""!==y[o]&&(u+="="+encodeURIComponent(String(y[o]))),i.push(u)}}return this.i=i.join("&")};var nc=class{constructor(i,e){this.g=i,this.map=e}};function Ua(i){this.l=i||rc,i=rt.PerformanceNavigationTiming?0<(i=rt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rc=10;function Ks(i){return!!i.h||!!i.g&&i.g.size>=i.j}function bl(i){return i.h?1:i.g?i.g.size:0}function Ir(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xi(i,e){i.g?i.g.add(e):i.h=e}function Ki(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function oo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return Mt(i.i)}Ua.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var bi=class{stringify(i){return rt.JSON.stringify(i,void 0)}parse(i){return rt.JSON.parse(i,void 0)}};function wa(){this.g=new bi}function ll(i,e,r){const o=r||"";try{Vr(i,function(u,p){let y=u;st(u)&&(y=Hr(u)),e.push(o+p+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ao(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ta(i){this.l=i.ec||null,this.j=i.ob||!1}function Ai(i,e){Sn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=pn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$e(Ta,te),Ta.prototype.g=function(){return new Ai(this.l,this.j)},Ta.prototype.i=function(i){return function(){return i}}({}),$e(Ai,Sn);var pn=0;function ar(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function hr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Is(i)}function Is(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=Ai.prototype).open=function(i,e){if(this.readyState!=pn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Is(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hr(this)),this.readyState=pn},Ie.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ar(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ie.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?hr(this):Is(this),3==this.readyState&&ar(this)}},Ie.Za=function(i){this.g&&(this.response=this.responseText=i,hr(this))},Ie.Ya=function(i){this.g&&(this.response=i,hr(this))},Ie.ka=function(){this.g&&hr(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var q=rt.JSON.parse;function L(i){Sn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=we,this.L=this.M=!1}$e(L,Sn);var we="",W=/^https?$/i,Pe=["POST","PUT"];function dn(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ni(i),gs(i)}function ni(i){i.F||(i.F=!0,or(i,"complete"),or(i,"error"))}function As(i){if(i.h&&typeof Ue<"u"&&(!i.C[1]||4!=ns(i)||2!=i.da()))if(i.v&&4==ns(i))Yt(i.La,0,i);else if(or(i,"readystatechange"),4==ns(i)){i.h=!1;try{const y=i.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===y){var u=String(i.I).match($o)[1]||null;!u&&rt.self&&rt.self.location&&(u=rt.self.location.protocol.slice(0,-1)),o=!W.test(u?u.toLowerCase():"")}r=o}if(r)or(i,"complete"),or(i,"success");else{i.m=6;try{var p=2<ns(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.da()+"]",ni(i)}}finally{gs(i)}}}function gs(i,e){if(i.g){qr(i);const r=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||or(i,"ready");try{r.onreadystatechange=o}catch{}}}function qr(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(rt.clearTimeout(i.A),i.A=null)}function ns(i){return i.g?i.g.readyState:0}function Ho(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case we:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(i){let e="";return ki(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}function $a(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=yo(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Li(i,e,r))}function rs(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Da(i){this.Ga=0,this.j=[],this.l=new ee,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rs("baseRetryDelayMs",5e3,i),this.hb=rs("retryDelaySeedMs",1e4,i),this.eb=rs("forwardChannelMaxRetries",2,i),this.xa=rs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ua(i&&i.concurrentRequestLimit),this.Ja=new wa,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lo(i){if(Al(i),3==i.H){var e=i.W++,r=xs(i.I);if(Li(r,"SID",i.K),Li(r,"RID",e),Li(r,"TYPE","terminate"),Go(i,r),(e=new Jr(i,i.l,e)).L=2,e.v=la(xs(r)),r=!1,rt.navigator&&rt.navigator.sendBeacon)try{r=rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&rt.Image&&((new Image).src=e.v,r=!0),r||(e.g=So(e.l,null),e.g.ha(e.v)),e.G=Date.now(),bs(e)}ad(i)}function vr(i){i.g&&(Zi(i),i.g.cancel(),i.g=null)}function Al(i){vr(i),i.u&&(rt.clearTimeout(i.u),i.u=null),Wo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&rt.clearTimeout(i.m),i.m=null)}function Eo(i){if(!Ks(i.i)&&!i.m){i.m=!0;var e=i.Na;kn||He(),Xr||(kn(),Xr=!0),dt.add(e,i),i.C=0}}function ba(i,e){var r;r=e?e.m:i.W++;const o=xs(i.I);Li(o,"SID",i.K),Li(o,"RID",r),Li(o,"AID",i.V),Go(i,o),i.o&&i.s&&$a(o,i.o,i.s),r=new Jr(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=zi(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),xi(i.i,r),Ui(r,o,e)}function Go(i,e){i.na&&ki(i.na,function(r,o){Li(e,o,r)}),i.h&&Vr({},function(r,o){Li(e,o,r)})}function zi(i,e,r){r=Math.min(i.j.length,r);var o=i.h?ce(i.h.Va,i.h,i):null;e:{var u=i.j;let p=-1;for(;;){const y=["count="+r];-1==p?0<r?(p=u[0].g,y.push("ofs="+p)):p=0:y.push("ofs="+p);let O=!0;for(let V=0;V<r;V++){let K=u[V].g;const fe=u[V].map;if(K-=p,0>K)p=Math.max(0,u[V].g-100),O=!1;else try{ll(fe,y,"req"+K+"_")}catch{o&&o(fe)}}if(O){o=y.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,o}function ja(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;kn||He(),Xr||(kn(),Xr=!0),dt.add(e,i),i.A=0}}function hs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=T(ce(i.Ma,i),Zs(i,i.A)),i.A++,0))}function Zi(i){null!=i.B&&(rt.clearTimeout(i.B),i.B=null)}function zo(i){i.g=new Jr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=xs(i.wa);Li(e,"RID","rpc"),Li(e,"SID",i.K),Li(e,"AID",i.V),Li(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Li(e,"TO",i.qa),Li(e,"TYPE","xmlhttp"),Go(i,e),i.o&&i.s&&$a(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.v=la(xs(e)),r.s=null,r.S=!0,us(r,i)}function Wo(i){null!=i.v&&(rt.clearTimeout(i.v),i.v=null)}function fa(i,e){var r=null;if(i.g==e){Wo(i),Zi(i),i.g=null;var o=2}else{if(!Ir(i.i,e))return;r=e.F,Ki(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;or(o=dr(),new xt(o,r)),Eo(i)}else ja(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function ha(i,e){return!(bl(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=T(ce(i.Na,i,e),Zs(i,i.C)),i.C++,0)))}(i,e)||2==o&&hs(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:Yo(i,5);break;case 4:Yo(i,10);break;case 3:Yo(i,6);break;default:Yo(i,2)}}function Zs(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Yo(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var o=ce(i.pb,i);r||(r=new Ws("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||ts(r,"https"),la(r)),function cl(i,e){const r=new ee;if(rt.Image){const o=new Image;o.onload=je(Ao,r,o,"TestLoadImage: loaded",!0,e),o.onerror=je(Ao,r,o,"TestLoadImage: error",!1,e),o.onabort=je(Ao,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=je(Ao,r,o,"TestLoadImage: timeout",!1,e),rt.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else it(2);i.H=0,i.h&&i.h.za(e),ad(i),Al(i)}function ad(i){if(i.H=0,i.ma=[],i.h){const e=oo(i.i);(0!=e.length||0!=i.j.length)&&(At(i.ma,e),At(i.ma,i.j),i.i.i.length=0,Mt(i.j),i.j.length=0),i.h.ya()}}function fu(i,e,r){var o=r instanceof Ws?xs(r):new Ws(r);if(""!=o.g)e&&(o.g=e+"."+o.g),Ia(o,o.m);else{var u=rt.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var p=new Ws(null);o&&ts(p,o),e&&(p.g=e),u&&Ia(p,u),r&&(p.l=r),o=p}return e=i.Da,(r=i.F)&&e&&Li(o,r,e),Li(o,"VER",i.ra),Go(i,o),o}function So(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new L(r&&i.Ha&&!i.va?new Ta({ob:!0}):i.va)).Oa(i.J),e}function ic(){}function pa(){if(rr&&!(10<=Number(Mn)))throw Error("Environmental error: no available transport.")}function Ss(i,e){Sn.call(this),this.g=new Da(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Rt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ro(this)}function ld(i){nr.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ul(){_r.call(this),this.status=1}function Ro(i){this.g=i}function qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function R(i,e,r){r||(r=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(u=0;16>u;++u)o[u]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var p=i.g[3],y=(e=i.g[0])+(p^(r=i.g[1])&((u=i.g[2])^p))+o[0]+3614090360&4294967295;y=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=(r=(u=(p=(e=r+(y<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(p^r&(u^p))+o[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=p+(u^e&(r^u))+o[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=u+(r^p&(e^r))+o[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=r+(e^u&(p^e))+o[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(u^p&(r^u))+o[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^p&(r^u))+o[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=p+(r^u&(e^r))+o[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^r&(p^e))+o[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=r+(p^e&(u^p))+o[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(r^u^p)+o[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(r^u^p)+o[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=p+(e^r^u)+o[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=u+(p^e^r)+o[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=r+(u^p^e)+o[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(u^(r|~p))+o[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(r|~p))+o[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(r|~p))+o[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(p|~r))+o[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=r+(p^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((p=(e=r+((y=e+(u^(r|~p))+o[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=p+(r^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((u=p+((y=u+(e^(p|~r))+o[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(y<<21&4294967295|y>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+p&4294967295}function G(i,e){this.h=e;for(var r=[],o=!0,u=i.length-1;0<=u;u--){var p=0|i[u];o&&p==e||(r[u]=p,o=!1)}this.g=r}(Ie=L.prototype).Oa=function(i){this.M=i},Ie.ha=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():li.g(),this.C=function xe(i){return i.h||(i.h=i.i())}(this.u?this.u:li),this.g.onreadystatechange=ce(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(p){return void dn(this,p)}if(i=r||"",r=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)r.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const p of o.keys())r.set(p,o.get(p))}o=Array.from(r.keys()).find(p=>"content-type"==p.toLowerCase()),u=rt.FormData&&i instanceof rt.FormData,!(0<=Pt(Pe,e))||o||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[p,y]of r)this.g.setRequestHeader(p,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qr(this),0<this.B&&((this.L=function an(i){return rr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ce(this.ua,this)):this.A=Yt(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){dn(this,p)}},Ie.ua=function(){typeof Ue<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,or(this,"complete"),or(this,"abort"),gs(this))},Ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gs(this,!0)),L.$.N.call(this)},Ie.La=function(){this.s||(this.G||this.v||this.l?As(this):this.kb())},Ie.kb=function(){As(this)},Ie.isActive=function(){return!!this.g},Ie.da=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},Ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),q(e)}},Ie.Ia=function(){return this.m},Ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=Da.prototype).ra=8,Ie.H=1,Ie.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Jr(this,this.l,i);let p=this.s;if(this.U&&(p?(p=Nr(p),Fr(p,this.U)):p=this.U),null!==this.o||this.O||(u.I=p,p=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var o=this.j[r];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=zi(this,u,e),Li(r=xs(this.I),"RID",i),Li(r,"CVER",22),this.F&&Li(r,"X-HTTP-Session-Id",this.F),Go(this,r),p&&(this.O?e="headers="+encodeURIComponent(String(yo(p)))+"&"+e:this.o&&$a(r,this.o,p)),xi(this.i,u),this.bb&&Li(r,"TYPE","init"),this.P?(Li(r,"$req",e),Li(r,"SID","null"),u.aa=!0,Ui(u,r,null)):Ui(u,r,e),this.H=2}}else 3==this.H&&(i?ba(this,i):0==this.j.length||Ks(this.i)||ba(this))},Ie.Ma=function(){if(this.u=null,zo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=T(ce(this.jb,this),i)}},Ie.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,it(10),vr(this),zo(this))},Ie.ib=function(){null!=this.v&&(this.v=null,vr(this),hs(this),it(19))},Ie.pb=function(i){i?(this.l.info("Successfully pinged google.com"),it(2)):(this.l.info("Failed to ping google.com"),it(1))},Ie.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ie=ic.prototype).Ba=function(){},Ie.Aa=function(){},Ie.za=function(){},Ie.ya=function(){},Ie.isActive=function(){return!0},Ie.Va=function(){},pa.prototype.g=function(i,e){return new Ss(i,e)},$e(Ss,Sn),Ss.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;it(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=fu(i,null,i.Y),Eo(i)},Ss.prototype.close=function(){lo(this.g)},Ss.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=Hr(i),i=r);e.j.push(new nc(e.fb++,i)),3==e.H&&Eo(e)},Ss.prototype.N=function(){this.g.h=null,delete this.j,lo(this.g),delete this.g,Ss.$.N.call(this)},$e(ld,nr),$e(ul,_r),$e(Ro,ic),Ro.prototype.Ba=function(){or(this.g,"a")},Ro.prototype.Aa=function(i){or(this.g,new ld(i))},Ro.prototype.za=function(i){or(this.g,new ul)},Ro.prototype.ya=function(){or(this.g,"b")},$e(qo,function dl(){this.blockSize=-1}),qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,o=this.m,u=this.h,p=0;p<e;){if(0==u)for(;p<=r;)R(this,i,p),p+=this.blockSize;if("string"==typeof i){for(;p<e;)if(o[u++]=i.charCodeAt(p++),u==this.blockSize){R(this,o),u=0;break}}else for(;p<e;)if(o[u++]=i[p++],u==this.blockSize){R(this,o),u=0;break}}this.h=u,this.i+=e},qo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var o=0;32>o;o+=8)i[r++]=this.g[e]>>>o&255;return i};var Ve={};function H(i){return-128<=i&&128>i?function Hn(i,e){var r=Ve;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new G([0|e],0>e?-1:0)}):new G([0|i],0>i?-1:0)}function ve(i){if(isNaN(i)||!isFinite(i))return on;if(0>i)return mr(ve(-i));for(var e=[],r=1,o=0;i>=r;o++)e[o]=i/r|0,r*=Gt;return new G(e,0)}var Gt=4294967296,on=H(0),fr=H(1),wr=H(16777216);function Tr(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function pr(i){return-1==i.h}function mr(i){for(var e=i.g.length,r=[],o=0;o<e;o++)r[o]=~i.g[o];return new G(r,~i.h).add(fr)}function Pr(i,e){return i.add(mr(e))}function Qi(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function si(i,e){this.g=i,this.h=e}function Rs(i,e){if(Tr(e))throw Error("division by zero");if(Tr(i))return new si(on,on);if(pr(i))return e=Rs(mr(i),e),new si(mr(e.g),mr(e.h));if(pr(e))return e=Rs(i,mr(e)),new si(mr(e.g),e.h);if(30<i.g.length){if(pr(i)||pr(e))throw Error("slowDivide_ only works with positive integers.");for(var r=fr,o=e;0>=o.X(i);)r=Ha(r),o=Ha(o);var u=co(r,1),p=co(o,1);for(o=co(o,2),r=co(r,2);!Tr(o);){var y=p.add(o);0>=y.X(i)&&(u=u.add(r),p=y),o=co(o,1),r=co(r,1)}return e=Pr(i,u.R(e)),new si(u,e)}for(u=on;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,o-48),y=(p=ve(r)).R(e);pr(y)||0<y.X(i);)y=(p=ve(r-=o)).R(e);Tr(p)&&(p=fr),u=u.add(p),i=Pr(i,y)}return new si(u,i)}function Ha(i){for(var e=i.g.length+1,r=[],o=0;o<e;o++)r[o]=i.D(o)<<1|i.D(o-1)>>>31;return new G(r,i.h)}function co(i,e){var r=e>>5;e%=32;for(var o=i.g.length-r,u=[],p=0;p<o;p++)u[p]=0<e?i.D(p+r)>>>e|i.D(p+r+1)<<32-e:i.D(p+r);return new G(u,i.h)}(Ie=G.prototype).ea=function(){if(pr(this))return-mr(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var o=this.D(r);i+=(0<=o?o:Gt+o)*e,e*=Gt}return i},Ie.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Tr(this))return"0";if(pr(this))return"-"+mr(this).toString(i);for(var e=ve(Math.pow(i,6)),r=this,o="";;){var u=Rs(r,e).g,p=((0<(r=Pr(r,u.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(Tr(r=u))return p+o;for(;6>p.length;)p="0"+p;o=p+o}},Ie.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ie.X=function(i){return pr(i=Pr(this,i))?-1:Tr(i)?0:1},Ie.abs=function(){return pr(this)?mr(this):this},Ie.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0,u=0;u<=e;u++){var p=o+(65535&this.D(u))+(65535&i.D(u)),y=(p>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=y>>>16,r[u]=(y&=65535)<<16|(p&=65535)}return new G(r,-2147483648&r[r.length-1]?-1:0)},Ie.R=function(i){if(Tr(this)||Tr(i))return on;if(pr(this))return pr(i)?mr(this).R(mr(i)):mr(mr(this).R(i));if(pr(i))return mr(this.R(mr(i)));if(0>this.X(wr)&&0>i.X(wr))return ve(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],o=0;o<2*e;o++)r[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var p=this.D(o)>>>16,y=65535&this.D(o),O=i.D(u)>>>16,V=65535&i.D(u);r[2*o+2*u]+=y*V,Qi(r,2*o+2*u),r[2*o+2*u+1]+=p*V,Qi(r,2*o+2*u+1),r[2*o+2*u+1]+=y*O,Qi(r,2*o+2*u+1),r[2*o+2*u+2]+=p*O,Qi(r,2*o+2*u+2)}for(o=0;o<e;o++)r[o]=r[2*o+1]<<16|r[2*o];for(o=e;o<2*e;o++)r[o]=0;return new G(r,0)},Ie.gb=function(i){return Rs(this,i).h},Ie.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)&i.D(o);return new G(r,this.h&i.h)},Ie.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)|i.D(o);return new G(r,this.h|i.h)},Ie.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],o=0;o<e;o++)r[o]=this.D(o)^i.D(o);return new G(r,this.h^i.h)},pa.prototype.createWebChannel=pa.prototype.g,Ss.prototype.send=Ss.prototype.u,Ss.prototype.open=Ss.prototype.m,Ss.prototype.close=Ss.prototype.close,Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,k.COMPLETE="complete",$t.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",Sn.prototype.listen=Sn.prototype.O,L.prototype.listenOnce=L.prototype.P,L.prototype.getLastError=L.prototype.Sa,L.prototype.getLastErrorCode=L.prototype.Ia,L.prototype.getStatus=L.prototype.da,L.prototype.getResponseJson=L.prototype.Wa,L.prototype.getResponseText=L.prototype.ja,L.prototype.send=L.prototype.ha,L.prototype.setWithCredentials=L.prototype.Oa,qo.prototype.digest=qo.prototype.l,qo.prototype.reset=qo.prototype.reset,qo.prototype.update=qo.prototype.j,G.prototype.add=G.prototype.add,G.prototype.multiply=G.prototype.R,G.prototype.modulo=G.prototype.gb,G.prototype.compare=G.prototype.X,G.prototype.toNumber=G.prototype.ea,G.prototype.toString=G.prototype.toString,G.prototype.getBits=G.prototype.D,G.fromNumber=ve,G.fromString=function tt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return mr(tt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ve(Math.pow(e,8)),o=on,u=0;u<i.length;u+=8){var p=Math.min(8,i.length-u),y=parseInt(i.substring(u,u+p),e);8>p?(p=ve(Math.pow(e,p)),o=o.R(p).add(ve(y))):o=(o=o.R(r)).add(ve(y))}return o};var Ko=he.createWebChannelTransport=function(){return new pa},Aa=he.getStatEventTarget=function(){return dr()},Sa=he.ErrorCode=Q,Ga=he.EventType=k,oh=he.Event=Nn,Os=he.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kh=he.FetchXmlHttpFactory=Ta,Zo=he.WebChannel=$t,Gi=he.XhrIo=L,ah=he.Md5=qo,Po=he.Integer=G;const Ps="@firebase/firestore";class pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");let Ns="10.5.2";const Qs=new pt.Yd("@firebase/firestore");function is(){return Qs.logLevel}function cn(i,...e){if(Qs.logLevel<=pt.in.DEBUG){const r=e.map(pu);Qs.debug(`Firestore (${Ns}): ${i}`,...r)}}function ss(i,...e){if(Qs.logLevel<=pt.in.ERROR){const r=e.map(pu);Qs.error(`Firestore (${Ns}): ${i}`,...r)}}function Wi(i,...e){if(Qs.logLevel<=pt.in.WARN){const r=e.map(pu);Qs.warn(`Firestore (${Ns}): ${i}`,...r)}}function pu(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zn(i="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+i;throw ss(e),new Error(e)}function Qn(i,e){i||zn()}function Tn(i,e){return i}const Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Zt extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class gu{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pi.UNAUTHENTICATED))}shutdown(){}}class ud{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ch{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const p=K=>this.i!==u?(u=this.i,r(K)):Promise.resolve();let y=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Kn,e.enqueueRetryable(()=>p(this.currentUser))};const O=()=>{const K=y;e.enqueueRetryable((0,Ce.Z)(function*(){yield K.promise,yield p(o.currentUser)}))},V=K=>{cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),O()};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Kn)}},0),O()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Qn("string"==typeof o.accessToken),new gu(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qn(null===e||"string"==typeof e),new pi(e)}}class za{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mu{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new za(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const o=p=>{null!=p.error&&cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const y=p.token!==this.R;return this.R=p.token,cn("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Qn("string"==typeof r.token),this.R=r.token,new Sl(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function os(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}class uh{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=os(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function Sr(i,e){return i<e?-1:i>e?1:0}function qt(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function Kr(i){return i+"\0"}class Yi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Zt(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Zt(Ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Zt(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Zt(Ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yi.fromMillis(Date.now())}static fromDate(e){return Yi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Yi(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sr(this.nanoseconds,e.nanoseconds):Sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ir{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ir(e)}static min(){return new ir(new Yi(0,0))}static max(){return new ir(new Yi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ci{constructor(e,r,o){void 0===r?r=0:r>e.length&&zn(),void 0===o?o=e.length-r:o>e.length-r&&zn(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===ci.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const p=e.get(u),y=r.get(u);if(p<y)return-1;if(p>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ei extends ci{construct(e,r,o){return new ei(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new ei(r)}static emptyPath(){return new ei([])}}const hl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends ci{construct(e,r,o){return new ri(e,r,o)}static isValidIdentifier(e){return hl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let y=!1;for(;u<e.length;){const O=e[u];if("\\"===O){if(u+1===e.length)throw new Zt(Ft.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Zt(Ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===O?(y=!y,u++):"."!==O||y?(o+=O,u++):(p(),u++)}if(p(),y)throw new Zt(Ft.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(r)}static emptyPath(){return new ri([])}}class yn{constructor(e){this.path=e}static fromPath(e){return new yn(ei.fromString(e))}static fromName(e){return new yn(ei.fromString(e).popFirst(5))}static empty(){return new yn(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ei.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return ei.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yn(new ei(e.slice()))}}class Mo{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function dd(i){return i.fields.find(e=>2===e.kind)}function fl(i){return i.fields.filter(e=>2!==e.kind)}Mo.UNKNOWN_ID=-1;class Oi{constructor(e,r){this.fieldPath=e,this.kind=r}}class pl{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new pl(0,Qo.min())}}function ga(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=ir.fromTimestamp(1e9===o?new Yi(r+1,0):new Yi(r,o));return new Qo(u,yn.empty(),e)}function Wa(i){return new Qo(i.readTime,i.key,-1)}class Qo{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Qo(ir.min(),yn.empty(),-1)}static max(){return new Qo(ir.max(),yn.empty(),-1)}}function _u(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=yn.comparator(i.documentKey,e.documentKey),0!==r?r:Sr(i.largestBatchId,e.largestBatchId))}const Rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function M(i){return F.apply(this,arguments)}function F(){return F=(0,Ce.Z)(function*(i){if(i.code!==Ft.FAILED_PRECONDITION||i.message!==Rl)throw i;cn("LocalStore","Unexpectedly lost primary lease")}),F.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new w((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(r,p).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof w?r:w.resolve(r)}catch(r){return w.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):w.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):w.reject(r)}static resolve(e){return new w((r,o)=>{r(e)})}static reject(e){return new w((r,o)=>{o(e)})}static waitFor(e){return new w((r,o)=>{let u=0,p=0,y=!1;e.forEach(O=>{++u,O.next(()=>{++p,y&&p===u&&r()},V=>o(V))}),y=!0,p===u&&r()})}static or(e){let r=w.resolve(!1);for(const o of e)r=r.next(u=>u?w.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,p)=>{o.push(r.call(this,u,p))}),this.waitFor(o)}static mapArray(e,r){return new w((o,u)=>{const p=e.length,y=new Array(p);let O=0;for(let V=0;V<p;V++){const K=V;r(e[K]).next(fe=>{y[K]=fe,++O,O===p&&o(y)},fe=>u(fe))}})}static doWhile(e,r){return new w((o,u)=>{const p=()=>{!0===e()?r().next(()=>{p()},u):o()};p()})}}class U{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ct(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=Ni(o.target.error);this.V.reject(new Ct(e,u))}}static open(e,r,o,u){try{return new U(r,e.transaction(u,o))}catch(p){throw new Ct(r,p)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(cn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new bt(r)}}class ae{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===ae.S((0,_e.z$)())&&ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return cn("SimpleDb","Removing database:",e),Dn(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(ae.C())return!0;const e=(0,_e.z$)(),r=ae.S(e),o=0<r&&r<10,u=ae.v(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var r=this;return(0,Ce.Z)(function*(){return r.db||(cn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const p=indexedDB.open(r.name,r.version);p.onsuccess=y=>{o(y.target.result)},p.onblocked=()=>{u(new Ct(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=y=>{const O=y.target.error;u("VersionError"===O.name?new Zt(Ft.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===O.name?new Zt(Ft.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+O):new Ct(e,O))},p.onupgradeneeded=y=>{cn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.p.N(y.target.result,p.transaction,y.oldVersion,r.version).next(()=>{cn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=o=>r.B(o)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var p=this;return(0,Ce.Z)(function*(){const y="readonly"===r;let O=0;for(;;){++O;try{p.db=yield p.O(e);const V=U.open(p.db,e,y?"readonly":"readwrite",o),K=u(V).next(fe=>(V.g(),fe)).catch(fe=>(V.abort(fe),w.reject(fe))).toPromise();return K.catch(()=>{}),yield V.m,K}catch(V){const K=V,fe="FirebaseError"!==K.name&&O<3;if(cn("SimpleDb","Transaction failed with error:",K.message,"Retrying:",fe),p.close(),!fe)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Re{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Dn(this.k.delete())}}class Ct extends Zt{constructor(e,r){super(Ft.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function rn(i){return"IndexedDbTransactionError"===i.name}class bt{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(cn("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(cn("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Dn(o)}add(e){return cn("SimpleDb","ADD",this.store.name,e,e),Dn(this.store.add(e))}get(e){return Dn(this.store.get(e)).next(r=>(void 0===r&&(r=null),cn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return cn("SimpleDb","DELETE",this.store.name,e),Dn(this.store.delete(e))}count(){return cn("SimpleDb","COUNT",this.store.name),Dn(this.store.count())}W(e,r){const o=this.options(e,r);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.G(u,(y,O)=>{p.push(O)}).next(()=>p)}{const u=this.store.getAll(o.range);return new w((p,y)=>{u.onerror=O=>{y(O.target.error)},u.onsuccess=O=>{p(O.target.result)}})}}j(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new w((u,p)=>{o.onerror=y=>{p(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}H(e,r){cn("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.J=!1;const u=this.cursor(o);return this.G(u,(p,y,O)=>O.delete())}Y(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.G(u,r)}Z(e){const r=this.cursor({});return new w((o,u)=>{r.onerror=p=>{const y=Ni(p.target.error);u(y)},r.onsuccess=p=>{const y=p.target.result;y?e(y.primaryKey,y.value).next(O=>{O?y.continue():o()}):o()}})}G(e,r){const o=[];return new w((u,p)=>{e.onerror=y=>{p(y.target.error)},e.onsuccess=y=>{const O=y.target.result;if(!O)return void u();const V=new Re(O),K=r(O.primaryKey,O.value,V);if(K instanceof w){const fe=K.catch(Fe=>(V.done(),w.reject(Fe)));o.push(fe)}V.isDone?u():null===V.$?O.continue():O.continue(V.$)}}).next(()=>w.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Dn(i){return new w((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Ni(o.target.error);r(u)}})}let yr=!1;function Ni(i){const e=ae.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new Zt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yr||(yr=!0,setTimeout(()=>{throw o},0)),o}}return i}class gi{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;cn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){r.task=null;try{cn("IndexBackiller",`Documents written: ${yield r.X.te()}`)}catch(o){rn(o)?cn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield M(o)}yield r.ee(6e4)}))}}class sr{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,Ce.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.ne(o,e))})()}ne(e,r){const o=new Set;let u=r,p=!0;return w.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!o.has(y))return cn("IndexBackiller",`Processing collection: ${y}`),this.re(e,y,u).next(O=>{u-=O,o.add(y)});p=!1})).next(()=>r-u)}re(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(p=>{const y=p.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ie(u,p)).next(O=>(cn("IndexBackiller",`Updating offset: ${O}`),this.localStore.indexManager.updateCollectionGroup(e,r,O))).next(()=>y.size)}))}ie(e,r){let o=e;return r.changes.forEach((u,p)=>{const y=Wa(p);_u(y,o)>0&&(o=y)}),new Qo(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let cr=(()=>{class i{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function Wn(i){return null==i}function Xs(i){return 0===i&&1/i==-1/0}function mi(i){return"number"==typeof i&&Number.isInteger(i)&&!Xs(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Xi(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=xo(e)),e=Zh(i.get(r),e);return xo(e)}function Zh(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=p}}return r}function xo(i){return i+"\x01\x01"}function Pa(i){const e=i.length;if(Qn(e>=2),2===e)return Qn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ei.emptyPath();const r=e-2,o=[];let u="";for(let p=0;p<e;){const y=i.indexOf("\x01",p);switch((y<0||y>r)&&zn(),i.charAt(y+1)){case"\x01":const O=i.substring(p,y);let V;0===u.length?V=O:(u+=O,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(p,y),u+="\0";break;case"\x11":u+=i.substring(p,y+1);break;default:zn()}p=y+2}return new ei(o)}const Fi=["userId","batchId"];function Rr(i,e){return[i,Xi(e)]}function Js(i,e,r){return[i,Xi(e),r]}const Nc={},ac=["prefixPath","collectionGroup","readTime","documentId"],Oo=["prefixPath","collectionGroup","documentId"],hd=["collectionGroup","readTime","prefixPath","documentId"],vu=["canonicalId","targetId"],lc=["targetId","path"],dh=["path","targetId"],Ma=["collectionId","parent"],kc=["indexId","uid"],fd=["uid","sequenceNumber"],pd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qh=["indexId","uid","orderedDocumentKey"],tg=["userId","collectionPath","documentId"],ng=["userId","collectionPath","largestBatchId"],Gf=["userId","collectionGroup","largestBatchId"],zf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ya=[...zf,"documentOverlays"],Br=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lc=Br,gl=[...Lc,"indexConfiguration","indexState","indexEntries"];class yu extends A{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function _i(i,e){const r=Tn(i);return ae.M(r.ae,e)}function hh(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ks(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function gd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Gr{constructor(e,r){this.comparator=e,this.root=r||Ls.EMPTY}insert(e,r){return new Gr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ls.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ls.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=r?o(e.key,r):1,r&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ls{constructor(e,r,o,u,p){this.key=e,this.value=r,this.color=null!=o?o:Ls.RED,this.left=null!=u?u:Ls.EMPTY,this.right=null!=p?p:Ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,p){return new Ls(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===p?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Ls.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(e,r,o,u,p){return this}insert(e,r,o){return new Ls(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new md(this.data.getIterator())}getIteratorFrom(e){return new md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ui(this.comparator);return r.data=e,r}}class md{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Pl(i){return i.hasNext()?i.getNext():void 0}class eo{constructor(e){this.fields=e,e.sort(ri.comparator)}static empty(){return new eo([])}unionWith(e){let r=new ui(ri.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new eo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return qt(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class _d extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new _d("Invalid base64 string: "+p):p}}(e);return new Cs(r)}static fromUint8Array(e){const r=function(u){let p="";for(let y=0;y<u.length;++y)p+=String.fromCharCode(u[y]);return p}(e);return new Cs(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const Xh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(i){if(Qn(!!i),"string"==typeof i){let e=0;const r=Xh.exec(i);if(Qn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:fs(i.seconds),nanos:fs(i.nanos)}}function fs(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ml(i){return"string"==typeof i?Cs.fromBase64String(i):Cs.fromUint8Array(i)}function vi(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ml(i){const e=i.mapValue.fields.__previous_value__;return vi(e)?ml(e):e}function Fc(i){const e=qa(i.mapValue.fields.__local_write_time__.timestampValue);return new Yi(e.seconds,e.nanos)}class uc{constructor(e,r,o,u,p,y,O,V,K){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=y,this.autoDetectLongPolling=O,this.longPollingOptions=V,this.useFetchStreams=K}}class ma{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ma&&e.projectId===this.projectId&&e.database===this.database}}const Fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vs={nullValue:"NULL_VALUE"};function Vi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vi(i)?4:hc(i)?9007199254740991:10:zn()}function Er(i,e){if(i===e)return!0;const r=Vi(i);if(r!==Vi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Fc(i).isEqual(Fc(e));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const y=qa(u.timestampValue),O=qa(p.timestampValue);return y.seconds===O.seconds&&y.nanos===O.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return p=e,Ml(i.bytesValue).isEqual(Ml(p.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,p){return fs(u.geoPointValue.latitude)===fs(p.geoPointValue.latitude)&&fs(u.geoPointValue.longitude)===fs(p.geoPointValue.longitude)}(i,e);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return fs(u.integerValue)===fs(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const y=fs(u.doubleValue),O=fs(p.doubleValue);return y===O?Xs(y)===Xs(O):isNaN(y)&&isNaN(O)}return!1}(i,e);case 9:return qt(i.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(u,p){const y=u.mapValue.fields||{},O=p.mapValue.fields||{};if(hh(y)!==hh(O))return!1;for(const V in y)if(y.hasOwnProperty(V)&&(void 0===O[V]||!Er(y[V],O[V])))return!1;return!0}(i,e);default:return zn()}var p}function Vc(i,e){return void 0!==(i.values||[]).find(r=>Er(r,e))}function ko(i,e){if(i===e)return 0;const r=Vi(i),o=Vi(e);if(r!==o)return Sr(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Sr(i.booleanValue,e.booleanValue);case 2:return function(p,y){const O=fs(p.integerValue||p.doubleValue),V=fs(y.integerValue||y.doubleValue);return O<V?-1:O>V?1:O===V?0:isNaN(O)?isNaN(V)?0:-1:1}(i,e);case 3:return Wf(i.timestampValue,e.timestampValue);case 4:return Wf(Fc(i),Fc(e));case 5:return Sr(i.stringValue,e.stringValue);case 6:return function(p,y){const O=Ml(p),V=Ml(y);return O.compareTo(V)}(i.bytesValue,e.bytesValue);case 7:return function(p,y){const O=p.split("/"),V=y.split("/");for(let K=0;K<O.length&&K<V.length;K++){const fe=Sr(O[K],V[K]);if(0!==fe)return fe}return Sr(O.length,V.length)}(i.referenceValue,e.referenceValue);case 8:return function(p,y){const O=Sr(fs(p.latitude),fs(y.latitude));return 0!==O?O:Sr(fs(p.longitude),fs(y.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(p,y){const O=p.values||[],V=y.values||[];for(let K=0;K<O.length&&K<V.length;++K){const fe=ko(O[K],V[K]);if(fe)return fe}return Sr(O.length,V.length)}(i.arrayValue,e.arrayValue);case 10:return function(p,y){if(p===Fs.mapValue&&y===Fs.mapValue)return 0;if(p===Fs.mapValue)return 1;if(y===Fs.mapValue)return-1;const O=p.fields||{},V=Object.keys(O),K=y.fields||{},fe=Object.keys(K);V.sort(),fe.sort();for(let Fe=0;Fe<V.length&&Fe<fe.length;++Fe){const mt=Sr(V[Fe],fe[Fe]);if(0!==mt)return mt;const Lt=ko(O[V[Fe]],K[fe[Fe]]);if(0!==Lt)return Lt}return Sr(V.length,fe.length)}(i.mapValue,e.mapValue);default:throw zn()}}function Wf(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Sr(i,e);const r=qa(i),o=qa(e),u=Sr(r.seconds,o.seconds);return 0!==u?u:Sr(r.nanos,o.nanos)}function Bi(i){return xl(i)}function xl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=qa(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ml(i.bytesValue).toBase64():"referenceValue"in i?yn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",u=!0;for(const p of r.values||[])u?u=!1:o+=",",o+=xl(p);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",p=!0;for(const y of o)p?p=!1:u+=",",u+=`${y}:${xl(r.fields[y])}`;return u+"}"}(i.mapValue):zn()}function Xo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nl(i){return!!i&&"integerValue"in i}function _a(i){return!!i&&"arrayValue"in i}function dc(i){return!!i&&"nullValue"in i}function Ka(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function Bc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ks(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Bc(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bc(i.arrayValue.values[r]);return e}return Object.assign({},i)}function hc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function bm(i){return"nullValue"in i?Vs:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Xo(ma.empty(),yn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:zn()}function Jh(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Xo(ma.empty(),yn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Fs:zn()}function rg(i,e){const r=ko(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ig(i,e){const r=ko(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Io{constructor(e){this.value=e}static empty(){return new Io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!fh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(r)}setAll(e){let r=ri.emptyPath(),o={},u=[];e.forEach((y,O)=>{if(!r.isImmediateParentOf(O)){const V=this.getFieldsMap(r);this.applyChanges(V,o,u),o={},u=[],r=O.popLast()}y?o[O.lastSegment()]=Bc(y):u.push(O.lastSegment())});const p=this.getFieldsMap(r);this.applyChanges(p,o,u)}delete(e){const r=this.field(e.popLast());fh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];fh(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){ks(r,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new Io(Bc(this.value))}}function kl(i){const e=[];return ks(i.fields,(r,o)=>{const u=new ri([r]);if(fh(o)){const p=kl(o.mapValue).fields;if(0===p.length)e.push(u);else for(const y of p)e.push(u.child(y))}else e.push(u)}),new eo(e)}class Ji{constructor(e,r,o,u,p,y,O){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=p,this.data=y,this.documentState=O}static newInvalidDocument(e){return new Ji(e,0,ir.min(),ir.min(),ir.min(),Io.empty(),0)}static newFoundDocument(e,r,o,u){return new Ji(e,1,r,ir.min(),o,u,0)}static newNoDocument(e,r){return new Ji(e,2,r,ir.min(),ir.min(),Io.empty(),0)}static newUnknownDocument(e,r){return new Ji(e,3,r,ir.min(),ir.min(),Io.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ir.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ir.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ji&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ji(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _l{constructor(e,r){this.position=e,this.inclusive=r}}function ms(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],y=i.position[u];if(o=p.field.isKeyField()?yn.comparator(yn.fromName(y.referenceValue),r.key):ko(y,r.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function vd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Er(i.position[r],e.position[r]))return!1;return!0}class vl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class to{}class zr extends to{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new fc(e,r,o):"array-contains"===r?new Ed(e,o):"in"===r?new Id(e,o):"not-in"===r?new vh(e,o):"array-contains-any"===r?new Vl(e,o):new zr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Fl(e,o):new yd(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(ko(r,this.value)):null!==r&&Vi(this.value)===Vi(r)&&this.matchesComparison(ko(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends to{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new yi(e,r)}matches(e){return Jo(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Jo(i){return"and"===i.op}function Ll(i){return"or"===i.op}function Uc(i){return sg(i)&&Jo(i)}function sg(i){for(const e of i.filters)if(e instanceof yi)return!1;return!0}function ph(i){if(i instanceof zr)return i.field.canonicalString()+i.op.toString()+Bi(i.value);if(Uc(i))return i.filters.map(e=>ph(e)).join(",");{const e=i.filters.map(r=>ph(r)).join(",");return`${i.op}(${e})`}}function gh(i,e){return i instanceof zr?(o=i,(u=e)instanceof zr&&o.op===u.op&&o.field.isEqual(u.field)&&Er(o.value,u.value)):i instanceof yi?function(o,u){return u instanceof yi&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,y,O)=>p&&gh(y,u.filters[O]),!0)}(i,e):void zn();var o,u}function Co(i,e){const r=i.filters.concat(e);return yi.create(r,i.op)}function mh(i){return i instanceof zr?`${(r=i).field.canonicalString()} ${r.op} ${Bi(r.value)}`:i instanceof yi?function(r){return r.op.toString()+" {"+r.getFilters().map(mh).join(" ,")+"}"}(i):"Filter";var r}class fc extends zr{constructor(e,r,o){super(e,r,o),this.key=yn.fromName(o.referenceValue)}matches(e){const r=yn.comparator(e.key,this.key);return this.matchesComparison(r)}}class Fl extends zr{constructor(e,r){super(e,"in",r),this.keys=_h(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class yd extends zr{constructor(e,r){super(e,"not-in",r),this.keys=_h(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _h(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>yn.fromName(o.referenceValue))}class Ed extends zr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return _a(r)&&Vc(r.arrayValue,this.value)}}class Id extends zr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Vc(this.value.arrayValue,r)}}class vh extends zr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Vc(this.value.arrayValue,r)}}class Vl extends zr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!_a(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Vc(this.value.arrayValue,o))}}class $c{constructor(e,r=null,o=[],u=[],p=null,y=null,O=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=y,this.endAt=O,this.ce=null}}function Lo(i,e=null,r=[],o=[],u=null,p=null,y=null){return new $c(i,e,r,o,u,p,y)}function Za(i){const e=Tn(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>ph(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),Wn(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Bi(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Bi(o)).join(",")),e.ce=r}return e.ce}function Eu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Yf(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!gh(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vd(i.startAt,e.startAt)&&vd(i.endAt,e.endAt)}function Qa(i){return yn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function yh(i,e){return i.filters.filter(r=>r instanceof zr&&r.field.isEqual(e))}function Cd(i,e,r){let o=Vs,u=!0;for(const p of yh(i,e)){let y=Vs,O=!0;switch(p.op){case"<":case"<=":y=bm(p.value);break;case"==":case"in":case">=":y=p.value;break;case">":y=p.value,O=!1;break;case"!=":case"not-in":y=Vs}rg({value:o,inclusive:u},{value:y,inclusive:O})<0&&(o=y,u=O)}if(null!==r)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const y=r.position[p];rg({value:o,inclusive:u},{value:y,inclusive:r.inclusive})<0&&(o=y,u=r.inclusive);break}return{value:o,inclusive:u}}function wd(i,e,r){let o=Fs,u=!0;for(const p of yh(i,e)){let y=Fs,O=!0;switch(p.op){case">=":case">":y=Jh(p.value),O=!1;break;case"==":case"in":case"<=":y=p.value;break;case"<":y=p.value,O=!1;break;case"!=":case"not-in":y=Fs}ig({value:o,inclusive:u},{value:y,inclusive:O})>0&&(o=y,u=O)}if(null!==r)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const y=r.position[p];ig({value:o,inclusive:u},{value:y,inclusive:r.inclusive})>0&&(o=y,u=r.inclusive);break}return{value:o,inclusive:u}}class ea{constructor(e,r=null,o=[],u=[],p=null,y="F",O=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=y,this.startAt=O,this.endAt=V,this.le=null,this.he=null,this.Pe=null}}function Iu(i,e,r,o,u,p,y,O){return new ea(i,e,r,o,u,p,y,O)}function xa(i){return new ea(i)}function pc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Xa(i){return null!==i.collectionGroup}function Cu(i){const e=Tn(i);if(null===e.le){e.le=[];const r=new Set;for(const p of e.explicitOrderBy)e.le.push(p),r.add(p.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(y){let O=new ui(ri.comparator);return y.filters.forEach(V=>{V.getFlattenedFilters().forEach(K=>{K.isInequality()&&(O=O.add(K.field))})}),O})(e).forEach(p=>{r.has(p.canonicalString())||p.isKeyField()||e.le.push(new vl(p,o))}),r.has(ri.keyField().canonicalString())||e.le.push(new vl(ri.keyField(),o))}return e.le}function Or(i){const e=Tn(i);return e.he||(e.he=function no(i,e){if("F"===i.limitType)return Lo(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new vl(u.field,"desc"===u.dir?"asc":"desc"));const r=i.endAt?new _l(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new _l(i.startAt.position,i.startAt.inclusive):null;return Lo(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}(e,Cu(i))),e.he}function jc(i,e){const r=i.filters.concat([e]);return new ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Hc(i,e,r){return new ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Gc(i,e){return Eu(Or(i),Or(e))&&i.limitType===e.limitType}function Eh(i){return`${Za(Or(i))}|lt:${i.limitType}`}function va(i){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>mh(u)).join(", ")}]`),Wn(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Bi(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Bi(u)).join(",")),`Target(${o})`}(Or(i))}; limitType=${i.limitType})`}function wu(i,e){return e.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):yn.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(i,e)&&function(o,u){for(const p of Cu(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(i,e)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(y,O,V){const K=ms(y,O,V);return y.inclusive?K<=0:K<0}(o.startAt,Cu(o),u)||o.endAt&&!function(y,O,V){const K=ms(y,O,V);return y.inclusive?K>=0:K>0}(o.endAt,Cu(o),u)));var o,u}function Bl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Tu(i){return(e,r)=>{let o=!1;for(const u of Cu(i)){const p=Ja(u,e,r);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Ja(i,e,r){const o=i.field.isKeyField()?yn.comparator(e.key,r.key):function(p,y,O){const V=y.data.field(p),K=O.data.field(p);return null!==V&&null!==K?ko(V,K):zn()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return zn()}}class el{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(r,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return gd(this.inner)}size(){return this.innerSize}}const Du=new Gr(yn.comparator);function uo(){return Du}const Ih=new Gr(yn.comparator);function bu(...i){let e=Ih;for(const r of i)e=e.insert(r.key,r);return e}function Td(i){let e=Ih;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function tl(){return Au()}function Dd(){return Au()}function Au(){return new el(i=>i.toString(),(i,e)=>i.isEqual(e))}const Su=new Gr(yn.comparator),qf=new ui(yn.comparator);function kr(...i){let e=qf;for(const r of i)e=e.add(r);return e}const bd=new ui(Sr);function Ch(){return bd}function gc(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xs(e)?"-0":e}}function Kf(i){return{integerValue:""+i}}function Ad(i,e){return mi(e)?Kf(e):gc(i,e)}class yl{constructor(){this._=void 0}}function ef(i,e,r){return i instanceof Bs?function(u,p){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&vi(p)&&(p=ml(p)),p&&(y.fields.__previous_value__=p),{mapValue:y}}(r,e):i instanceof ta?Ru(i,e):i instanceof _c?Zf(i,e):function(u,p){const y=mc(u,p),O=vc(y)+vc(u.Ie);return Nl(y)&&Nl(u.Ie)?Kf(O):gc(u.serializer,O)}(i,e)}function wh(i,e,r){return i instanceof ta?Ru(i,e):i instanceof _c?Zf(i,e):r}function mc(i,e){return i instanceof zc?Nl(o=e)||(p=o)&&"doubleValue"in p?e:{integerValue:0}:null;var o,p}class Bs extends yl{}class ta extends yl{constructor(e){super(),this.elements=e}}function Ru(i,e){const r=Sd(e);for(const o of i.elements)r.some(u=>Er(u,o))||r.push(o);return{arrayValue:{values:r}}}class _c extends yl{constructor(e){super(),this.elements=e}}function Zf(i,e){let r=Sd(e);for(const o of i.elements)r=r.filter(u=>!Er(u,o));return{arrayValue:{values:r}}}class zc extends yl{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function vc(i){return fs(i.integerValue||i.doubleValue)}function Sd(i){return _a(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Wc{constructor(e,r){this.field=e,this.transform=r}}class Th{constructor(e,r){this.version=e,this.transformResults=r}}class as{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ul(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class yc{}function wo(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ro(i.key,as.none()):new Ec(i.key,i.data,as.none());{const r=i.data,o=Io.empty();let u=new ui(ri.comparator);for(let p of e.fields)if(!u.has(p)){let y=r.field(p);null===y&&p.length>1&&(p=p.popLast(),y=r.field(p)),null===y?o.delete(p):o.set(p,y),u=u.add(p)}return new $l(i.key,o,new eo(u.toArray()),as.none())}}function Pu(i,e,r){i instanceof Ec?function(u,p,y){const O=u.value.clone(),V=rf(u.fieldTransforms,p,y.transformResults);O.setAll(V),p.convertToFoundDocument(y.version,O).setHasCommittedMutations()}(i,e,r):i instanceof $l?function(u,p,y){if(!Ul(u.precondition,p))return void p.convertToUnknownDocument(y.version);const O=rf(u.fieldTransforms,p,y.transformResults),V=p.data;V.setAll(nf(u)),V.setAll(O),p.convertToFoundDocument(y.version,V).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Yc(i,e,r,o){return i instanceof Ec?function(p,y,O,V){if(!Ul(p.precondition,y))return O;const K=p.value.clone(),fe=El(p.fieldTransforms,V,y);return K.setAll(fe),y.convertToFoundDocument(y.version,K).setHasLocalMutations(),null}(i,e,r,o):i instanceof $l?function(p,y,O,V){if(!Ul(p.precondition,y))return O;const K=El(p.fieldTransforms,V,y),fe=y.data;return fe.setAll(nf(p)),fe.setAll(K),y.convertToFoundDocument(y.version,fe).setHasLocalMutations(),null===O?null:O.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Fe=>Fe.field))}(i,e,r,o):(O=r,Ul(i.precondition,y=e)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):O);var y,O}function Qf(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=mc(o.transform,u||null);null!=p&&(null===r&&(r=Io.empty()),r.set(o.field,p))}return r||null}function qc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&qt(o,u,(p,y)=>function tf(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof ta&&u instanceof ta||o instanceof _c&&u instanceof _c?qt(o.elements,u.elements,Er):o instanceof zc&&u instanceof zc?Er(o.Ie,u.Ie):o instanceof Bs&&u instanceof Bs);var o,u}(p,y))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class Ec extends yc{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $l extends yc{constructor(e,r,o,u,p=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function nf(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function rf(i,e,r){const o=new Map;Qn(i.length===r.length);for(let u=0;u<r.length;u++){const p=i[u],y=p.transform,O=e.data.field(p.field);o.set(p.field,wh(y,O,r[u]))}return o}function El(i,e,r){const o=new Map;for(const u of i){const p=u.transform,y=r.data.field(u.field);o.set(u.field,ef(p,y,e))}return o}class ro extends yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rd extends yc{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nl{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&Pu(p,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Yc(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Yc(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Dd();return this.mutations.forEach(u=>{const p=e.get(u.key),y=p.overlayedDocument;let O=this.applyToLocalView(y,p.mutatedFields);O=r.has(u.key)?null:O;const V=wo(y,O);null!==V&&o.set(u.key,V),y.isValidDocument()||y.convertToNoDocument(ir.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),kr())}isEqual(e){return this.batchId===e.batchId&&qt(this.mutations,e.mutations,(r,o)=>qc(r,o))&&qt(this.baseMutations,e.baseMutations,(r,o)=>qc(r,o))}}class Mu{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){Qn(e.mutations.length===o.length);let u=Su;const p=e.mutations;for(let y=0;y<p.length;y++)u=u.insert(p[y].key,o[y].version);return new Mu(e,r,o,u)}}class xu{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sf{constructor(e,r){this.count=e,this.unchangedNames=r}}var ps,Zr;function rl(i){switch(i){default:return zn();case Ft.CANCELLED:case Ft.UNKNOWN:case Ft.DEADLINE_EXCEEDED:case Ft.RESOURCE_EXHAUSTED:case Ft.INTERNAL:case Ft.UNAVAILABLE:case Ft.UNAUTHENTICATED:return!1;case Ft.INVALID_ARGUMENT:case Ft.NOT_FOUND:case Ft.ALREADY_EXISTS:case Ft.PERMISSION_DENIED:case Ft.FAILED_PRECONDITION:case Ft.ABORTED:case Ft.OUT_OF_RANGE:case Ft.UNIMPLEMENTED:case Ft.DATA_LOSS:return!0}}function ya(i){if(void 0===i)return ss("GRPC error has no .code"),Ft.UNKNOWN;switch(i){case ps.OK:return Ft.OK;case ps.CANCELLED:return Ft.CANCELLED;case ps.UNKNOWN:return Ft.UNKNOWN;case ps.DEADLINE_EXCEEDED:return Ft.DEADLINE_EXCEEDED;case ps.RESOURCE_EXHAUSTED:return Ft.RESOURCE_EXHAUSTED;case ps.INTERNAL:return Ft.INTERNAL;case ps.UNAVAILABLE:return Ft.UNAVAILABLE;case ps.UNAUTHENTICATED:return Ft.UNAUTHENTICATED;case ps.INVALID_ARGUMENT:return Ft.INVALID_ARGUMENT;case ps.NOT_FOUND:return Ft.NOT_FOUND;case ps.ALREADY_EXISTS:return Ft.ALREADY_EXISTS;case ps.PERMISSION_DENIED:return Ft.PERMISSION_DENIED;case ps.FAILED_PRECONDITION:return Ft.FAILED_PRECONDITION;case ps.ABORTED:return Ft.ABORTED;case ps.OUT_OF_RANGE:return Ft.OUT_OF_RANGE;case ps.UNIMPLEMENTED:return Ft.UNIMPLEMENTED;case ps.DATA_LOSS:return Ft.DATA_LOSS;default:return zn()}}(Zr=ps||(ps={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";function af(){return new TextEncoder}const Dh=new Po([4294967295,4294967295],0);function Kc(i){const e=af().encode(i),r=new ah;return r.update(e),new Uint8Array(r.digest())}function og(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),p=e.getUint32(12,!0);return[new Po([r,o],0),new Po([u,p],0)]}class Xf{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Nu(`Invalid padding: ${r}`);if(o<0)throw new Nu(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Nu(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Nu(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=Po.fromNumber(this.Te)}de(e,r,o){let u=e.add(r.multiply(Po.fromNumber(o)));return 1===u.compare(Dh)&&(u=new Po([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Kc(e),[o,u]=og(r);for(let p=0;p<this.hashCount;p++){const y=this.de(o,u,p);if(!this.Ae(y))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,p=new Uint8Array(Math.ceil(e/8)),y=new Xf(p,u,r);return o.forEach(O=>y.insert(O)),y}insert(e){if(0===this.Te)return;const r=Kc(e),[o,u]=og(r);for(let p=0;p<this.hashCount;p++){const y=this.de(o,u,p);this.Re(y)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oa{constructor(e,r,o,u,p){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,C.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new Oa(ir.min(),u,new Gr(Sr),uo(),kr())}}class C{constructor(e,r,o,u,p){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new C(o,r,kr(),kr(),kr())}}class _{constructor(e,r,o,u){this.Ve=e,this.removedTargetIds=r,this.key=o,this.me=u}}class v{constructor(e,r){this.targetId=e,this.fe=r}}class b{constructor(e,r,o=Cs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class Y{constructor(){this.ge=0,this.pe=Dt(),this.ye=Cs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=kr(),r=kr(),o=kr();return this.pe.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:zn()}}),new C(this.ye,this.we,e,r,o)}Fe(){this.Se=!1,this.pe=Dt()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class le{constructor(e){this.Le=e,this.ke=new Map,this.qe=uo(),this.Qe=ot(),this.Ke=new Gr(Sr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const o=this.ze(r);switch(e.state){case 0:this.je(r)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(r);break;case 3:this.je(r)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.Ce(e.resumeToken));break;default:zn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((o,u)=>{this.je(u)&&r(u)})}Je(e){const r=e.targetId,o=e.fe.count,u=this.Ye(r);if(u){const p=u.target;if(Qa(p))if(0===o){const y=new yn(p.path);this.We(r,y,Ji.newNoDocument(y,ir.min()))}else Qn(1===o);else{const y=this.Ze(r);if(y!==o){const O=this.Xe(e),V=O?this.et(O,e,y):1;0!==V&&(this.He(r),this.Ke=this.Ke.insert(r,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=r;let y,O;try{y=Ml(o).toUint8Array()}catch(V){if(V instanceof _d)return Wi("Decoding the base64 bloom filter in existence filter failed ("+V.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw V}try{O=new Xf(y,u,p)}catch(V){return Wi(V instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",V),null}return 0===O.Te?null:O}et(e,r,o){return r.fe.count===o-this.rt(e,r.targetId)?0:2}rt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(p=>{const y=this.Le.nt(),O=`projects/${y.projectId}/databases/${y.database}/documents/${p.path.canonicalString()}`;e.mightContain(O)||(this.We(r,p,null),u++)}),u}it(e){const r=new Map;this.ke.forEach((p,y)=>{const O=this.Ye(y);if(O){if(p.current&&Qa(O.target)){const V=new yn(O.target.path);null!==this.qe.get(V)||this.st(y,V)||this.We(y,V,Ji.newNoDocument(V,e))}p.De&&(r.set(y,p.ve()),p.Fe())}});let o=kr();this.Qe.forEach((p,y)=>{let O=!0;y.forEachWhile(V=>{const K=this.Ye(V);return!K||"TargetPurposeLimboResolution"===K.purpose||(O=!1,!1)}),O&&(o=o.add(p))}),this.qe.forEach((p,y)=>y.setReadTime(e));const u=new Oa(e,r,this.Ke,this.qe,o);return this.qe=uo(),this.Qe=ot(),this.Ke=new Gr(Sr),u}Ue(e,r){if(!this.je(e))return;const o=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,o),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,r)?u.Me(r,1):u.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),o&&(this.qe=this.qe.insert(r,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new Y,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new ui(Sr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||cn("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Y),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function ot(){return new Gr(yn.comparator)}function Dt(){return new Gr(yn.comparator)}const Xt={asc:"ASCENDING",desc:"DESCENDING"},An={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zn={and:"AND",or:"OR"};class qn{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Si(i,e){return i.useProto3Json||Wn(e)?e:{value:e}}function ho(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pd(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function lf(i,e){return ho(i,e.toTimestamp())}function es(i){return Qn(!!i),ir.fromTimestamp(function(r){const o=qa(r);return new Yi(o.seconds,o.nanos)}(i))}function ku(i,e){return(o=i,new ei(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function Jf(i){const e=ei.fromString(i);return Qn(tp(e)),e}function jl(i,e){return ku(i.databaseId,e.path)}function na(i,e){const r=Jf(e);if(r.get(1)!==i.databaseId.projectId)throw new Zt(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Zt(Ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new yn(Md(r))}function Lu(i,e){return ku(i.databaseId,e)}function Ic(i){const e=Jf(i);return 4===e.length?ei.emptyPath():Md(e)}function Fu(i){return new ei(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Md(i){return Qn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function bh(i,e,r){return{name:jl(i,e),fields:r.value.mapValue.fields}}function xd(i,e,r){const o=na(i,e.name),u=es(e.updateTime),p=e.createTime?es(e.createTime):ir.min(),y=new Io({mapValue:{fields:e.fields}}),O=Ji.newFoundDocument(o,u,p,y);return r&&O.setHasCommittedMutations(),r?O.setHasCommittedMutations():O}function Ah(i,e){let r;if(e instanceof Ec)r={update:bh(i,e.key,e.value)};else if(e instanceof ro)r={delete:jl(i,e.key)};else if(e instanceof $l)r={update:bh(i,e.key,e.data),updateMask:dg(e.fieldMask)};else{if(!(e instanceof Rd))return zn();r={verify:jl(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(p,y){const O=y.transform;if(O instanceof Bs)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(O instanceof ta)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:O.elements}};if(O instanceof _c)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:O.elements}};if(O instanceof zc)return{fieldPath:y.field.canonicalString(),increment:O.Ie};throw zn()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(p=e.precondition).updateTime?{updateTime:lf(i,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:zn()),r;var p}function cf(i,e){const r=e.currentDocument?void 0!==(p=e.currentDocument).updateTime?as.updateTime(es(p.updateTime)):void 0!==p.exists?as.exists(p.exists):as.none():as.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(y,O){let V=null;"setToServerValue"in O?(Qn("REQUEST_TIME"===O.setToServerValue),V=new Bs):"appendMissingElements"in O?V=new ta(O.appendMissingElements.values||[]):"removeAllFromArray"in O?V=new _c(O.removeAllFromArray.values||[]):"increment"in O?V=new zc(y,O.increment):zn();const K=ri.fromServerFormat(O.fieldPath);return new Wc(K,V)}(i,u)):[];var p;if(e.update){const u=na(i,e.update.name),p=new Io({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new eo((e.updateMask.fieldPaths||[]).map(fe=>ri.fromServerFormat(fe)));return new $l(u,p,y,r,o)}return new Ec(u,p,r,o)}if(e.delete){const u=na(i,e.delete);return new ro(u,r)}if(e.verify){const u=na(i,e.verify);return new Rd(u,r)}return zn()}function Zc(i,e){return{documents:[Lu(i,e.path)]}}function uf(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Lu(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Lu(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0!==V.length)return Sh(yi.create(V,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const p=function(V){if(0!==V.length)return V.map(K=>{return{field:Hl((Fe=K).field),direction:cg(Fe.dir)};var Fe})}(e.orderBy);p&&(r.structuredQuery.orderBy=p);const y=Si(i,e.limit);return null!==y&&(r.structuredQuery.limit=y),e.startAt&&(r.structuredQuery.startAt={before:(V=e.startAt).inclusive,values:V.position}),e.endAt&&(r.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(e.endAt)),r;var V}function lg(i){let e=Ic(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Qn(1===o);const fe=r.from[0];fe.allDescendants?u=fe.collectionId:e=e.child(fe.collectionId)}let p=[];r.where&&(p=function(Fe){const mt=Vu(Fe);return mt instanceof yi&&Uc(mt)?mt.getFilters():[mt]}(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(mt=>{return new vl(Qc((In=mt).field),function(On){switch(On){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(In.direction));var In}));let O=null;r.limit&&(O=function(Fe){let mt;return mt="object"==typeof Fe?Fe.value:Fe,Wn(mt)?null:mt}(r.limit));let V=null;var Fe;r.startAt&&(V=new _l((Fe=r.startAt).values||[],!!Fe.before));let K=null;return r.endAt&&(K=function(Fe){return new _l(Fe.values||[],!Fe.before)}(r.endAt)),Iu(e,u,y,p,O,"F",V,K)}function Vu(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Qc(r.unaryFilter.field);return zr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Qc(r.unaryFilter.field);return zr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Qc(r.unaryFilter.field);return zr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Qc(r.unaryFilter.field);return zr.create(y,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}(i):void 0!==i.fieldFilter?zr.create(Qc((r=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return yi.create(r.compositeFilter.filters.map(o=>Vu(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return zn()}}(r.compositeFilter.op))}(i):zn();var r}function cg(i){return Xt[i]}function Rm(i){return An[i]}function ug(i){return Zn[i]}function Hl(i){return{fieldPath:i.canonicalString()}}function Qc(i){return ri.fromServerFormat(i.fieldPath)}function Sh(i){return i instanceof zr?function(r){if("=="===r.op){if(Ka(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NAN"}};if(dc(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Ka(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NOT_NAN"}};if(dc(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(r.field),op:Rm(r.op),value:r.value}}}(i):i instanceof yi?function(r){const o=r.getFilters().map(u=>Sh(u));return 1===o.length?o[0]:{compositeFilter:{op:ug(r.op),filters:o}}}(i):zn()}function dg(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function tp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Gl{constructor(e,r,o,u,p=ir.min(),y=ir.min(),O=Cs.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=O,this.expectedCount=V}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rh{constructor(e){this.ut=e}}function np(i,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:df(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:jl(p=i.ut,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:ho(p,y.version.toTimestamp()),createTime:ho(p,y.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:Od(e.version)};else{if(!e.isUnknownDocument())return zn();o.unknownDocument={path:r.path.toArray(),version:Od(e.version)}}var p,y;return o}function df(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Od(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zl(i){const e=new Yi(i.seconds,i.nanoseconds);return ir.fromTimestamp(e)}function Bu(i,e){const r=(e.baseMutations||[]).map(p=>cf(i.ut,p));for(let p=0;p<e.mutations.length-1;++p)p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(e.mutations[p].updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p);const o=e.mutations.map(p=>cf(i.ut,p)),u=Yi.fromMillis(e.localWriteTimeMs);return new nl(e.batchId,u,r,o)}function hf(i){const e=zl(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?zl(i.lastLimboFreeSnapshotVersion):ir.min();let o;return o=void 0!==i.query.documents?(Qn(1===(p=i.query).documents.length),Or(xa(Ic(p.documents[0])))):function(p){return Or(lg(p))}(i.query),new Gl(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,Cs.fromBase64String(i.resumeToken));var p}function fo(i,e){const r=Od(e.snapshotVersion),o=Od(e.lastLimboFreeSnapshotVersion);let u;u=Qa(e.target)?Zc(i.ut,e.target):uf(i.ut,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Za(e.target),readTime:r,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Nd(i){const e=lg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Hc(e,e.limit,"L"):e}function rp(i,e){return new xu(e.largestBatchId,cf(i.ut,e.overlayMutation))}function ip(i,e){const r=e.path.lastSegment();return[i,Xi(e.path.popLast()),r]}function Fo(i,e,r,o){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:Od(o.readTime),documentKey:Xi(o.documentKey.path),largestBatchId:o.largestBatchId}}class kd{getBundleMetadata(e,r){return Ph(e).get(r).next(o=>{if(o)return{id:(p=o).bundleId,createTime:zl(p.createTime),version:p.version};var p})}saveBundleMetadata(e,r){return Ph(e).put({bundleId:(u=r).id,createTime:Od(es(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return sp(e).get(r).next(o=>{if(o)return{name:(p=o).name,query:Nd(p.bundledQuery),readTime:zl(p.readTime)};var p})}saveNamedQuery(e,r){return sp(e).put({name:(u=r).name,readTime:Od(es(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ph(i){return _i(i,"bundles")}function sp(i){return _i(i,"namedQueries")}class op{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new op(e,r.uid||"")}getOverlay(e,r){return Cc(e).get(ip(this.userId,r)).next(o=>o?rp(this.serializer,o):null)}getOverlays(e,r){const o=tl();return w.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((p,y)=>{const O=new xu(r,y);u.push(this.lt(e,O))}),w.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(y=>u.add(Xi(y.getCollectionPath())));const p=[];return u.forEach(y=>{const O=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);p.push(Cc(e).H("collectionPathOverlayIndex",O))}),w.waitFor(p)}getOverlaysForCollection(e,r,o){const u=tl(),p=Xi(r),y=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Cc(e).W("collectionPathOverlayIndex",y).next(O=>{for(const V of O){const K=rp(this.serializer,V);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const p=tl();let y;const O=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Cc(e).Y({index:"collectionGroupOverlayIndex",range:O},(V,K,fe)=>{const Fe=rp(this.serializer,K);p.size()<u||Fe.largestBatchId===y?(p.set(Fe.getKey(),Fe),y=Fe.largestBatchId):fe.done()}).next(()=>p)}lt(e,r){return Cc(e).put(function(u,p,y){const[O,V,K]=ip(p,y.mutation.key);return{userId:p,collectionPath:V,documentId:K,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:Ah(u.ut,y.mutation)}}(this.serializer,this.userId,r))}}function Cc(i){return _i(i,"documentOverlays")}class ra{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(fs(e.integerValue));else if("doubleValue"in e){const o=fs(e.doubleValue);isNaN(o)?this.Tt(r,13):(this.Tt(r,15),Xs(o)?r.Et(0):r.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(r,20),"string"==typeof o?r.dt(o):(r.dt(`${o.seconds||""}`),r.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(Ml(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(r,45),r.Et(o.latitude||0),r.Et(o.longitude||0)}else"mapValue"in e?hc(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):zn()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const o=e.fields||{};this.Tt(r,55);for(const u of Object.keys(o))this.At(u,r),this.Pt(o[u],r)}yt(e,r){const o=e.values||[];this.Tt(r,50);for(const u of o)this.Pt(u,r)}ft(e,r){this.Tt(r,37),yn.fromName(e).path.forEach(o=>{this.Tt(r,60),this.wt(o,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function Mh(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Pm(i){const e=64-function(o){let u=0;for(let p=0;p<8;++p){const y=Mh(255&o[p]);if(u+=y,8!==y)break}return u}(i);return Math.ceil(e/8)}ra.St=new ra;class hg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Dt(o.value),o=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Dt(o);else if(o<2048)this.Dt(960|o>>>6),this.Dt(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|o>>>12),this.Dt(128|63&o>>>6),this.Dt(128|63&o);else{const u=r.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const r=this.Bt(e),o=Pm(r);this.Lt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}kt(e){const r=this.Bt(e),o=Pm(r);this.Lt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(p){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,p,!1),new Uint8Array(y.buffer)}(e),o=0!=(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class fg{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class ff{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Wl{constructor(){this.Wt=new hg,this.Gt=new fg(this.Wt),this.zt=new ff(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Jc{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Jc(this.indexId,this.documentKey,this.arrayValue,o)}}function po(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Ld(i.arrayValue,e.arrayValue),0!==r?r:(r=Ld(i.directionalValue,e.directionalValue),0!==r?r:yn.comparator(i.documentKey,e.documentKey)))}function Ld(i,e){for(let r=0;r<i.length&&r<e.length;++r){const o=i[r]-e[r];if(0!==o)return o}return i.length-e.length}class Mm{constructor(e){this.Jt=new ui((r,o)=>ri.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const o=r;o.isInequality()?this.Jt=this.Jt.add(o):this.Zt.push(o)}}get Xt(){return this.Jt.size>1}en(e){if(Qn(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=dd(e);if(void 0!==r&&!this.tn(r))return!1;const o=fl(e);let u=new Set,p=0,y=0;for(;p<o.length&&this.tn(o[p]);++p)u=u.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Jt.size>0){const O=this.Jt.getIterator().getNext();if(!u.has(O.field.canonicalString())){const V=o[p];if(!this.nn(O,V)||!this.rn(this.Yt[y++],V))return!1}++p}for(;p<o.length;++p)if(y>=this.Yt.length||!this.rn(this.Yt[y++],o[p]))return!1;return!0}sn(){if(this.Xt)return null;let e=new ui(ri.comparator);const r=[];for(const o of this.Zt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new Oi(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new Oi(o.field,0))}for(const o of this.Yt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new Oi(o.field,"asc"===o.dir?0:1)));return new Mo(Mo.UNKNOWN_ID,this.collectionId,r,pl.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function pf(i){var e,r;if(Qn(i instanceof zr||i instanceof yi),i instanceof zr){if(i instanceof Id){const u=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(p=>zr.create(i.field,"==",p)))||[];return yi.create(u,"or")}return i}const o=i.filters.map(u=>pf(u));return yi.create(o,i.op)}function pg(i){if(0===i.getFilters().length)return[];const e=Vd(pf(i));return Qn(Fd(e)),ia(e)||gf(e)?[e]:e.getFilters()}function ia(i){return i instanceof zr}function gf(i){return i instanceof yi&&Uc(i)}function Fd(i){return ia(i)||gf(i)||function(r){if(r instanceof yi&&Ll(r)){for(const o of r.getFilters())if(!ia(o)&&!gf(o))return!1;return!0}return!1}(i)}function Vd(i){if(Qn(i instanceof zr||i instanceof yi),i instanceof zr)return i;if(1===i.filters.length)return Vd(i.filters[0]);const e=i.filters.map(o=>Vd(o));let r=yi.create(e,i.op);return r=Bd(r),Fd(r)?r:(Qn(r instanceof yi),Qn(Jo(r)),Qn(r.filters.length>1),r.filters.reduce((o,u)=>ap(o,u)))}function ap(i,e){let r;return Qn(i instanceof zr||i instanceof yi),Qn(e instanceof zr||e instanceof yi),r=i instanceof zr?e instanceof zr?yi.create([i,e],"and"):lp(i,e):e instanceof zr?lp(e,i):function(u,p){if(Qn(u.filters.length>0&&p.filters.length>0),Jo(u)&&Jo(p))return Co(u,p.getFilters());const y=Ll(u)?u:p,O=Ll(u)?p:u,V=y.filters.map(K=>ap(K,O));return yi.create(V,"or")}(i,e),Bd(r)}function lp(i,e){if(Jo(e))return Co(e,i.getFilters());{const r=e.filters.map(o=>ap(i,o));return yi.create(r,"or")}}function Bd(i){if(Qn(i instanceof zr||i instanceof yi),i instanceof zr)return i;const e=i.getFilters();if(1===e.length)return Bd(e[0]);if(sg(i))return i;const r=e.map(u=>Bd(u)),o=[];return r.forEach(u=>{u instanceof zr?o.push(u):u instanceof yi&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:yi.create(o,i.op)}class xm{constructor(){this.on=new Ud}addToCollectionParentIndex(e,r){return this.on.add(r),w.resolve()}getCollectionParents(e,r){return w.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return w.resolve()}deleteFieldIndex(e,r){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,r){return w.resolve()}getDocumentsMatchingTarget(e,r){return w.resolve(null)}getIndexType(e,r){return w.resolve(0)}getFieldIndexes(e,r){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,r){return w.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,r){return w.resolve(Qo.min())}updateCollectionGroup(e,r,o){return w.resolve()}updateIndexEntries(e,r){return w.resolve()}}class Ud{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new ui(ei.comparator),p=!u.has(o);return this.index[r]=u.add(o),p}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ui(ei.comparator)).toArray()}}const mf=new Uint8Array(0);class Om{constructor(e,r){this.user=e,this.databaseId=r,this._n=new Ud,this.an=new el(o=>Za(o),(o,u)=>Eu(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const p={collectionId:o,parent:Xi(u)};return Nm(e).put(p)}return w.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[Kr(r),""],!1,!0);return Nm(e).W(u).next(p=>{for(const y of p){if(y.collectionId!==r)break;o.push(Pa(y.parent))}return o})}addFieldIndex(e,r){const o=eu(e),u={indexId:(O=r).indexId,collectionGroup:O.collectionGroup,fields:O.fields.map(V=>[V.fieldPath.canonicalString(),V.kind])};var O;delete u.indexId;const p=o.add(u);if(r.indexState){const y=wc(e);return p.next(O=>{y.put(Fo(O,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return p.next()}deleteFieldIndex(e,r){const o=eu(e),u=wc(e),p=Uu(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=eu(e),o=Uu(e),u=wc(e);return r.H().next(()=>o.H()).next(()=>u.H())}createTargetIndexes(e,r){return w.forEach(this.un(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const p=new Mm(o).sn();if(null!=p)return this.addFieldIndex(e,p)}}))}getDocumentsMatchingTarget(e,r){const o=Uu(e);let u=!0;const p=new Map;return w.forEach(this.un(r),y=>this.cn(e,y).next(O=>{u&&(u=!!O),p.set(y,O)})).next(()=>{if(u){let y=kr();const O=[];return w.forEach(p,(V,K)=>{var br;cn("IndexedDbIndexManager",`Using index ${br=V,`id=${br.indexId}|cg=${br.collectionGroup}|f=${br.fields.map(ii=>`${ii.fieldPath}:${ii.kind}`).join(",")}`} to execute ${Za(r)}`);const fe=function(br,ii){const ji=dd(ii);if(void 0===ji)return null;for(const Ci of yh(br,ji.fieldPath))switch(Ci.op){case"array-contains-any":return Ci.value.arrayValue.values||[];case"array-contains":return[Ci.value]}return null}(K,V),Fe=function(br,ii){const ji=new Map;for(const Ci of fl(ii))for(const _o of yh(br,Ci.fieldPath))switch(_o.op){case"==":case"in":ji.set(Ci.fieldPath.canonicalString(),_o.value);break;case"not-in":case"!=":return ji.set(Ci.fieldPath.canonicalString(),_o.value),Array.from(ji.values())}return null}(K,V),mt=function(br,ii){const ji=[];let Ci=!0;for(const _o of fl(ii)){const Xl=0===_o.kind?Cd(br,_o.fieldPath,br.startAt):wd(br,_o.fieldPath,br.startAt);ji.push(Xl.value),Ci&&(Ci=Xl.inclusive)}return new _l(ji,Ci)}(K,V),Lt=function(br,ii){const ji=[];let Ci=!0;for(const _o of fl(ii)){const Xl=0===_o.kind?wd(br,_o.fieldPath,br.endAt):Cd(br,_o.fieldPath,br.endAt);ji.push(Xl.value),Ci&&(Ci=Xl.inclusive)}return new _l(ji,Ci)}(K,V),In=this.ln(V,K,mt),Pn=this.ln(V,K,Lt),On=this.hn(V,K,Fe),gr=this.Pn(V.indexId,fe,In,mt.inclusive,Pn,Lt.inclusive,On);return w.forEach(gr,xr=>o.j(xr,r.limit).next(br=>{br.forEach(ii=>{const ji=yn.fromSegments(ii.documentKey);y.has(ji)||(y=y.add(ji),O.push(ji))})}))}).next(()=>O)}return w.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:pg(yi.create(e.filters,"and")).map(o=>Lo(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,o,u,p,y,O){const V=(null!=r?r.length:1)*Math.max(o.length,p.length),K=V/(null!=r?r.length:1),fe=[];for(let Fe=0;Fe<V;++Fe){const mt=r?this.In(r[Fe/K]):mf,Lt=this.Tn(e,mt,o[Fe%K],u),In=this.En(e,mt,p[Fe%K],y),Pn=O.map(On=>this.Tn(e,mt,On,!0));fe.push(...this.createRange(Lt,In,Pn))}return fe}Tn(e,r,o,u){const p=new Jc(e,yn.empty(),r,o);return u?p:p.Ht()}En(e,r,o,u){const p=new Jc(e,yn.empty(),r,o);return u?p.Ht():p}cn(e,r){const o=new Mm(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let y=null;for(const O of p)o.en(O)&&(!y||O.fields.length>y.fields.length)&&(y=O);return y})}getIndexType(e,r){let o=2;const u=this.un(r);return w.forEach(u,p=>this.cn(e,p).next(y=>{y?0!==o&&y.fields.length<function(V){let K=new ui(ri.comparator),fe=!1;for(const Fe of V.filters)for(const mt of Fe.getFlattenedFilters())mt.field.isKeyField()||("array-contains"===mt.op||"array-contains-any"===mt.op?fe=!0:K=K.add(mt.field));for(const Fe of V.orderBy)Fe.field.isKeyField()||(K=K.add(Fe.field));return K.size+(fe?1:0)}(p)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}dn(e,r){const o=new Wl;for(const u of fl(e)){const p=r.data.field(u.fieldPath);if(null==p)return null;const y=o.jt(u.kind);ra.St.ht(p,y)}return o.Ut()}In(e){const r=new Wl;return ra.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const o=new Wl;return ra.St.ht(Xo(this.databaseId,r),o.jt(function(p){const y=fl(p);return 0===y.length?0:y[y.length-1].kind}(e))),o.Ut()}hn(e,r,o){if(null===o)return[];let u=[];u.push(new Wl);let p=0;for(const y of fl(e)){const O=o[p++];for(const V of u)if(this.Rn(r,y.fieldPath)&&_a(O))u=this.Vn(u,y,O);else{const K=V.jt(y.kind);ra.St.ht(O,K)}}return this.mn(u)}ln(e,r,o){return this.hn(e,r,o.position)}mn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].Ut();return r}Vn(e,r,o){const u=[...e],p=[];for(const y of o.arrayValue.values||[])for(const O of u){const V=new Wl;V.seed(O.Ut()),ra.St.ht(y,V.jt(r.kind)),p.push(V)}return p}Rn(e,r){return!!e.filters.find(o=>o instanceof zr&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=eu(e),u=wc(e);return(r?o.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.W()).next(p=>{const y=[];return w.forEach(p,O=>u.get([O.indexId,this.uid]).next(V=>{y.push(function(fe,Fe){const mt=Fe?new pl(Fe.sequenceNumber,new Qo(zl(Fe.readTime),new yn(Pa(Fe.documentKey)),Fe.largestBatchId)):pl.empty(),Lt=fe.fields.map(([In,Pn])=>new Oi(ri.fromServerFormat(In),Pn));return new Mo(fe.indexId,fe.collectionGroup,Lt,mt)}(O,V))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:Sr(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=eu(e),p=wc(e);return this.fn(e).next(y=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(O=>w.forEach(O,V=>p.put(Fo(V.indexId,this.user,y,o)))))}updateIndexEntries(e,r){const o=new Map;return w.forEach(r,(u,p)=>{const y=o.get(u.collectionGroup);return(y?w.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(O=>(o.set(u.collectionGroup,O),w.forEach(O,V=>this.gn(e,u,V).next(K=>{const fe=this.pn(p,V);return K.isEqual(fe)?w.resolve():this.yn(e,p,V,K,fe)}))))})}wn(e,r,o,u){return Uu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(o,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,o,u){return Uu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(o,r.key),r.key.path.toArray()])}gn(e,r,o){const u=Uu(e);let p=new ui(po);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.An(o,r)])},(y,O)=>{p=p.add(new Jc(o.indexId,r,O.arrayValue,O.directionalValue))}).next(()=>p)}pn(e,r){let o=new ui(po);const u=this.dn(r,e);if(null==u)return o;const p=dd(r);if(null!=p){const y=e.data.field(p.fieldPath);if(_a(y))for(const O of y.arrayValue.values||[])o=o.add(new Jc(r.indexId,e.key,this.In(O),u))}else o=o.add(new Jc(r.indexId,e.key,mf,u));return o}yn(e,r,o,u,p){cn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(V,K,fe,Fe,mt){const Lt=V.getIterator(),In=K.getIterator();let Pn=Pl(Lt),On=Pl(In);for(;Pn||On;){let gr=!1,xr=!1;if(Pn&&On){const br=fe(Pn,On);br<0?xr=!0:br>0&&(gr=!0)}else null!=Pn?xr=!0:gr=!0;gr?(Fe(On),On=Pl(In)):xr?(mt(Pn),Pn=Pl(Lt)):(Pn=Pl(Lt),On=Pl(In))}}(u,p,po,O=>{y.push(this.wn(e,r,o,O))},O=>{y.push(this.Sn(e,r,o,O))}),w.waitFor(y)}fn(e){let r=1;return wc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((y,O)=>po(y,O)).filter((y,O,V)=>!O||0!==po(y,V[O-1]));const u=[];u.push(e);for(const y of o){const O=po(y,e),V=po(y,r);if(0===O)u[0]=e.Ht();else if(O>0&&V<0)u.push(y),u.push(y.Ht());else if(V>0)break}u.push(r);const p=[];for(let y=0;y<u.length;y+=2){if(this.bn(u[y],u[y+1]))return[];p.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,mf,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,mf,[]]))}return p}bn(e,r){return po(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next($d)}getMinOffset(e,r){return w.mapArray(this.un(r),o=>this.cn(e,o).next(u=>u||zn())).next($d)}}function Nm(i){return _i(i,"collectionParents")}function Uu(i){return _i(i,"indexEntries")}function eu(i){return _i(i,"indexConfiguration")}function wc(i){return _i(i,"indexState")}function $d(i){Qn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;_u(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Qo(e.readTime,e.documentKey,r)}const cp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sa{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new sa(e,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function km(i,e,r){const o=i.store("mutations"),u=i.store("documentMutations"),p=[],y=IDBKeyRange.only(r.batchId);let O=0;const V=o.Y({range:y},(fe,Fe,mt)=>(O++,mt.delete()));p.push(V.next(()=>{Qn(1===O)}));const K=[];for(const fe of r.mutations){const Fe=Js(e,fe.key.path,r.batchId);p.push(u.delete(Fe)),K.push(fe.key)}return w.waitFor(p).next(()=>K)}function jd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw zn();e=i.noDocument}return JSON.stringify(e).length}sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(41943040,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);class _f{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Dn={}}static ct(e,r,o,u){Qn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new _f(p,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).Y({index:"userMutationsIndex",range:o},(u,p,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const p=nu(e),y=tu(e);return y.add({}).next(O=>{Qn("number"==typeof O);const V=new nl(O,r,o,u),K=function(Lt,In,Pn){const On=Pn.baseMutations.map(xr=>Ah(Lt.ut,xr)),gr=Pn.mutations.map(xr=>Ah(Lt.ut,xr));return{userId:In,batchId:Pn.batchId,localWriteTimeMs:Pn.localWriteTime.toMillis(),baseMutations:On,mutations:gr}}(this.serializer,this.userId,V),fe=[];let Fe=new ui((mt,Lt)=>Sr(mt.canonicalString(),Lt.canonicalString()));for(const mt of u){const Lt=Js(this.userId,mt.key.path,O);Fe=Fe.add(mt.key.path.popLast()),fe.push(y.put(K)),fe.push(p.put(Lt,Nc))}return Fe.forEach(mt=>{fe.push(this.indexManager.addToCollectionParentIndex(e,mt))}),e.addOnCommittedListener(()=>{this.Dn[O]=V.keys()}),w.waitFor(fe).next(()=>V)})}lookupMutationBatch(e,r){return tu(e).get(r).next(o=>o?(Qn(o.userId===this.userId),Bu(this.serializer,o)):null)}Cn(e,r){return this.Dn[r]?w.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Dn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return tu(e).Y({index:"userMutationsIndex",range:u},(y,O,V)=>{O.userId===this.userId&&(Qn(O.batchId>=o),p=Bu(this.serializer,O)),V.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return tu(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(u,p,y)=>{o=p.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).W("userMutationsIndex",r).next(o=>o.map(u=>Bu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Rr(this.userId,r.path),u=IDBKeyRange.lowerBound(o),p=[];return nu(e).Y({range:u},(y,O,V)=>{const[K,fe,Fe]=y,mt=Pa(fe);if(K===this.userId&&r.path.isEqual(mt))return tu(e).get(Fe).next(Lt=>{if(!Lt)throw zn();Qn(Lt.userId===this.userId),p.push(Bu(this.serializer,Lt))});V.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ui(Sr);const u=[];return r.forEach(p=>{const y=Rr(this.userId,p.path),O=IDBKeyRange.lowerBound(y),V=nu(e).Y({range:O},(K,fe,Fe)=>{const[mt,Lt,In]=K,Pn=Pa(Lt);mt===this.userId&&p.path.isEqual(Pn)?o=o.add(In):Fe.done()});u.push(V)}),w.waitFor(u).next(()=>this.vn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,p=Rr(this.userId,o),y=IDBKeyRange.lowerBound(p);let O=new ui(Sr);return nu(e).Y({range:y},(V,K,fe)=>{const[Fe,mt,Lt]=V,In=Pa(mt);Fe===this.userId&&o.isPrefixOf(In)?In.length===u&&(O=O.add(Lt)):fe.done()}).next(()=>this.vn(e,O))}vn(e,r){const o=[],u=[];return r.forEach(p=>{u.push(tu(e).get(p).next(y=>{if(null===y)throw zn();Qn(y.userId===this.userId),o.push(Bu(this.serializer,y))}))}),w.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return km(e.ae,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),w.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return w.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return nu(e).Y({range:o},(p,y,O)=>{if(p[0]===this.userId){const V=Pa(p[1]);u.push(V)}else O.done()}).next(()=>{Qn(0===u.length)})})}containsKey(e,r){return $u(e,this.userId,r)}Mn(e){return gg(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $u(i,e,r){const o=Rr(e,r.path),u=o[1],p=IDBKeyRange.lowerBound(o);let y=!1;return nu(i).Y({range:p,J:!0},(O,V,K)=>{const[fe,Fe,mt]=O;fe===e&&Fe===u&&(y=!0),K.done()}).next(()=>y)}function tu(i){return _i(i,"mutations")}function nu(i){return _i(i,"documentMutations")}function gg(i){return _i(i,"mutationQueues")}class xh{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new xh(0)}static Nn(){return new xh(-1)}}class ru{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const o=new xh(r.highestTargetId);return r.highestTargetId=o.next(),this.Ln(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>ir.fromTimestamp(new Yi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Ln(e,u)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.qn(r,o),this.Ln(e,o))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>il(e).delete(r.targetId)).next(()=>this.Bn(e)).next(o=>(Qn(o.targetCount>0),o.targetCount-=1,this.Ln(e,o)))}removeTargets(e,r,o){let u=0;const p=[];return il(e).Y((y,O)=>{const V=hf(O);V.sequenceNumber<=r&&null===o.get(V.targetId)&&(u++,p.push(this.removeTargetData(e,V)))}).next(()=>w.waitFor(p)).next(()=>u)}forEachTarget(e,r){return il(e).Y((o,u)=>{const p=hf(u);r(p)})}Bn(e){return mg(e).get("targetGlobalKey").next(r=>(Qn(null!==r),r))}Ln(e,r){return mg(e).put("targetGlobalKey",r)}kn(e,r){return il(e).put(fo(this.serializer,r))}qn(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=Za(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return il(e).Y({range:u,index:"queryTargetsIndex"},(y,O,V)=>{const K=hf(O);Eu(r,K.target)&&(p=K,V.done())}).next(()=>p)}addMatchingKeys(e,r,o){const u=[],p=Yl(e);return r.forEach(y=>{const O=Xi(y.path);u.push(p.put({targetId:o,path:O})),u.push(this.referenceDelegate.addReference(e,o,y))}),w.waitFor(u)}removeMatchingKeys(e,r,o){const u=Yl(e);return w.forEach(r,p=>{const y=Xi(p.path);return w.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,r){const o=Yl(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Yl(e);let p=kr();return u.Y({range:o,J:!0},(y,O,V)=>{const K=Pa(y[1]),fe=new yn(K);p=p.add(fe)}).next(()=>p)}containsKey(e,r){const o=Xi(r.path),u=IDBKeyRange.bound([o],[Kr(o)],!1,!0);let p=0;return Yl(e).Y({index:"documentTargetsIndex",J:!0,range:u},([y,O],V,K)=>{0!==y&&(p++,K.done())}).next(()=>p>0)}_t(e,r){return il(e).get(r).next(o=>o?hf(o):null)}}function il(i){return _i(i,"targets")}function mg(i){return _i(i,"targetGlobal")}function Yl(i){return _i(i,"targetDocuments")}function Oh([i,e],[r,o]){const u=Sr(i,r);return 0===u?Sr(e,o):u}class _g{constructor(e){this.Qn=e,this.buffer=new ui(Oh),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Oh(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ju{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;cn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){rn(o)?cn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield M(o)}yield r.Gn(3e5)}))}}class up{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return w.resolve(cr._e);const o=new _g(r);return this.zn.forEachTarget(e,u=>o.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>o.Un(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.zn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector","Garbage collection skipped; disabled"),w.resolve(cp)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cp):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let o,u,p,y,O,V,K;const fe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(cn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),u=this.params.maximumSequenceNumbersToCollect):u=Fe,y=Date.now(),this.nthSequenceNumber(e,u))).next(Fe=>(o=Fe,O=Date.now(),this.removeTargets(e,o,r))).next(Fe=>(p=Fe,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Fe=>(K=Date.now(),is()<=pt.in.DEBUG&&cn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-fe}ms\n\tDetermined least recently used ${u} in `+(O-y)+`ms\n\tRemoved ${p} targets in `+(V-O)+`ms\n\tRemoved ${Fe} documents in `+(K-V)+`ms\nTotal Duration: ${K-fe}ms`),w.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Fe})))}}class vg{constructor(e,r){this.db=e,this.garbageCollector=function Hd(i,e){return new up(i,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Yn(e){let r=0;return this.Hn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(o,u)=>r(u))}addReference(e,r,o){return Gd(e,o)}removeReference(e,r,o){return Gd(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Gd(e,r)}Xn(e,r){return function(u,p){let y=!1;return gg(u).Z(O=>$u(u,O,p).next(V=>(V&&(y=!0),w.resolve(!V)))).next(()=>y)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Zn(e,(y,O)=>{if(O<=r){const V=this.Xn(e,y).next(K=>{if(!K)return p++,o.getEntry(e,y).next(()=>(o.removeEntry(y,ir.min()),Yl(e).delete([0,Xi(y.path)])))});u.push(V)}}).next(()=>w.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Gd(e,r)}Zn(e,r){const o=Yl(e);let u,p=cr._e;return o.Y({index:"documentTargetsIndex"},([y,O],{path:V,sequenceNumber:K})=>{0===y?(p!==cr._e&&r(new yn(Pa(u)),p),p=K,u=V):p=cr._e}).next(()=>{p!==cr._e&&r(new yn(Pa(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gd(i,e){return Yl(i).put((u=i.currentSequenceNumber,{targetId:0,path:Xi(e.path),sequenceNumber:u}));var u}class Hu{constructor(){this.changes=new el(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ji.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?w.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dp{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Tc(e).put(o)}removeEntry(e,r,o){return Tc(e).delete(function(p,y){const O=p.path.toArray();return[O.slice(0,O.length-2),O[O.length-2],df(y),O[O.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.er(e,o)))}getEntry(e,r){let o=Ji.newInvalidDocument(r);return Tc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(yf(r))},(u,p)=>{o=this.tr(r,p)}).next(()=>o)}nr(e,r){let o={size:0,document:Ji.newInvalidDocument(r)};return Tc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(yf(r))},(u,p)=>{o={document:this.tr(r,p),size:jd(p)}}).next(()=>o)}getEntries(e,r){let o=uo();return this.rr(e,r,(u,p)=>{const y=this.tr(u,p);o=o.insert(u,y)}).next(()=>o)}ir(e,r){let o=uo(),u=new Gr(yn.comparator);return this.rr(e,r,(p,y)=>{const O=this.tr(p,y);o=o.insert(p,O),u=u.insert(p,jd(y))}).next(()=>({documents:o,sr:u}))}rr(e,r,o){if(r.isEmpty())return w.resolve();let u=new ui(Fm);r.forEach(V=>u=u.add(V));const p=IDBKeyRange.bound(yf(u.first()),yf(u.last())),y=u.getIterator();let O=y.getNext();return Tc(e).Y({index:"documentKeyIndex",range:p},(V,K,fe)=>{const Fe=yn.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;O&&Fm(O,Fe)<0;)o(O,null),O=y.getNext();O&&O.isEqual(Fe)&&(o(O,K),O=y.hasNext()?y.getNext():null),O?fe.U(yf(O)):fe.done()}).next(()=>{for(;O;)o(O,null),O=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,p){const y=r.path,O=[y.popLast().toArray(),y.lastSegment(),df(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],V=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tc(e).W(IDBKeyRange.bound(O,V,!0)).next(K=>{null==p||p.incrementDocumentReadCount(K.length);let fe=uo();for(const Fe of K){const mt=this.tr(yn.fromSegments(Fe.prefixPath.concat(Fe.collectionGroup,Fe.documentId)),Fe);mt.isFoundDocument()&&(wu(r,mt)||u.has(mt.key))&&(fe=fe.insert(mt.key,mt))}return fe})}getAllFromCollectionGroup(e,r,o,u){let p=uo();const y=yg(r,o),O=yg(r,Qo.max());return Tc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,O,!0)},(V,K,fe)=>{const Fe=this.tr(yn.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);p=p.insert(Fe.key,Fe),p.size===u&&fe.done()}).next(()=>p)}newChangeBuffer(e){return new vf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Lm(e).get("remoteDocumentGlobalKey").next(r=>(Qn(!!r),r))}er(e,r){return Lm(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const o=function Xc(i,e){let r;if(e.document)r=xd(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=yn.fromSegments(e.noDocument.path),u=zl(e.noDocument.readTime);r=Ji.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return zn();{const o=yn.fromSegments(e.unknownDocument.path),u=zl(e.unknownDocument.version);r=Ji.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const p=new Yi(u[0],u[1]);return ir.fromTimestamp(p)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(ir.min()))return o}return Ji.newInvalidDocument(e)}}function Nh(i){return new dp(i)}class vf extends Hu{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new el(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new ui((p,y)=>Sr(p.canonicalString(),y.canonicalString()));return this.changes.forEach((p,y)=>{const O=this.ar.get(p);if(r.push(this._r.removeEntry(e,p,O.readTime)),y.isValidDocument()){const V=np(this._r.serializer,y);u=u.add(p.path.popLast());const K=jd(V);o+=K-O.size,r.push(this._r.addEntry(e,p,V))}else if(o-=O.size,this.trackRemovals){const V=np(this._r.serializer,y.convertToNoDocument(ir.min()));r.push(this._r.addEntry(e,p,V))}}),u.forEach(p=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,p))}),r.push(this._r.updateMetadata(e,o)),w.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(o=>(this.ar.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:o,sr:u})=>(u.forEach((p,y)=>{this.ar.set(p,{size:y,readTime:o.get(p).readTime})}),o))}}function Lm(i){return _i(i,"remoteDocumentGlobal")}function Tc(i){return _i(i,"remoteDocumentsV14")}function yf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yg(i,e){const r=e.documentKey.path.toArray();return[i,df(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Fm(i,e){const r=i.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<r.length-2&&p<o.length-2;++p)if(u=Sr(r[p],o[p]),u)return u;return u=Sr(r.length,o.length),u||(u=Sr(r[r.length-2],o[o.length-2]),u||Sr(r[r.length-1],o[o.length-1]))}class Eg{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class hp{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&Yc(o.mutation,u,eo.empty(),Yi.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,kr()).next(()=>o))}getLocalViewOfDocuments(e,r,o=kr()){const u=tl();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(p=>{let y=bu();return p.forEach((O,V)=>{y=y.insert(O,V.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const o=tl();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,kr()))}populateOverlays(e,r,o){const u=[];return o.forEach(p=>{r.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((y,O)=>{r.set(y,O)})})}computeViews(e,r,o,u){let p=uo();const y=Au(),O=Au();return r.forEach((V,K)=>{const fe=o.get(K.key);u.has(K.key)&&(void 0===fe||fe.mutation instanceof $l)?p=p.insert(K.key,K):void 0!==fe?(y.set(K.key,fe.mutation.getFieldMask()),Yc(fe.mutation,K,fe.mutation.getFieldMask(),Yi.now())):y.set(K.key,eo.empty())}),this.recalculateAndSaveOverlays(e,p).next(V=>(V.forEach((K,fe)=>y.set(K,fe)),r.forEach((K,fe)=>{var Fe;return O.set(K,new Eg(fe,null!==(Fe=y.get(K))&&void 0!==Fe?Fe:null))}),O))}recalculateAndSaveOverlays(e,r){const o=Au();let u=new Gr((y,O)=>y-O),p=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const O of y)O.keys().forEach(V=>{const K=r.get(V);if(null===K)return;let fe=o.get(V)||eo.empty();fe=O.applyToLocalView(K,fe),o.set(V,fe);const Fe=(u.get(O.batchId)||kr()).add(V);u=u.insert(O.batchId,Fe)})}).next(()=>{const y=[],O=u.getReverseIterator();for(;O.hasNext();){const V=O.getNext(),K=V.key,fe=V.value,Fe=Dd();fe.forEach(mt=>{if(!p.has(mt)){const Lt=wo(r.get(mt),o.get(mt));null!==Lt&&Fe.set(mt,Lt),p=p.add(mt)}}),y.push(this.documentOverlayCache.saveOverlays(e,K,Fe))}return w.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return yn.isDocumentKey((y=r).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Xa(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var y}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(p=>{const y=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-p.size):w.resolve(tl());let O=-1,V=p;return y.next(K=>w.forEach(K,(fe,Fe)=>(O<Fe.largestBatchId&&(O=Fe.largestBatchId),p.get(fe)?w.resolve():this.remoteDocumentCache.getEntry(e,fe).next(mt=>{V=V.insert(fe,mt)}))).next(()=>this.populateOverlays(e,K,p)).next(()=>this.computeViews(e,V,K,kr())).next(fe=>({batchId:O,changes:Td(fe)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yn(r)).next(o=>{let u=bu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const p=r.collectionGroup;let y=bu();return this.indexManager.getCollectionParents(e,p).next(O=>w.forEach(O,V=>{const K=(Fe=r,mt=V.child(p),new ea(mt,null,Fe.explicitOrderBy.slice(),Fe.filters.slice(),Fe.limit,Fe.limitType,Fe.startAt,Fe.endAt));var Fe,mt;return this.getDocumentsMatchingCollectionQuery(e,K,o,u).next(fe=>{fe.forEach((Fe,mt)=>{y=y.insert(Fe,mt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(e,r,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(y=>(p=y,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,p,u))).next(y=>{p.forEach((V,K)=>{const fe=K.getKey();null===y.get(fe)&&(y=y.insert(fe,Ji.newInvalidDocument(fe)))});let O=bu();return y.forEach((V,K)=>{const fe=p.get(V);void 0!==fe&&Yc(fe.mutation,K,eo.empty(),Yi.now()),wu(r,K)&&(O=O.insert(V,K))}),O})}}class kh{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return w.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(u=r).id,version:u.version,createTime:es(u.createTime)}),w.resolve();var u}getNamedQuery(e,r){return w.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(u=r).name,query:Nd(u.bundledQuery),readTime:es(u.readTime)}),w.resolve();var u}}class fp{constructor(){this.overlays=new Gr(yn.comparator),this.lr=new Map}getOverlay(e,r){return w.resolve(this.overlays.get(r))}getOverlays(e,r){const o=tl();return w.forEach(r,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,p)=>{this.lt(e,r,p)}),w.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.lr.delete(o)),w.resolve()}getOverlaysForCollection(e,r,o){const u=tl(),p=r.length+1,y=new yn(r.child("")),O=this.overlays.getIteratorFrom(y);for(;O.hasNext();){const V=O.getNext().value,K=V.getKey();if(!r.isPrefixOf(K.path))break;K.path.length===p&&V.largestBatchId>o&&u.set(V.getKey(),V)}return w.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let p=new Gr((K,fe)=>K-fe);const y=this.overlays.getIterator();for(;y.hasNext();){const K=y.getNext().value;if(K.getKey().getCollectionGroup()===r&&K.largestBatchId>o){let fe=p.get(K.largestBatchId);null===fe&&(fe=tl(),p=p.insert(K.largestBatchId,fe)),fe.set(K.getKey(),K)}}const O=tl(),V=p.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((K,fe)=>O.set(K,fe)),!(O.size()>=u)););return w.resolve(O)}lt(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new xu(r,o));let p=this.lr.get(r);void 0===p&&(p=kr(),this.lr.set(r,p)),this.lr.set(r,p.add(o.key))}}class $s{constructor(){this.hr=new ui(js.Pr),this.Ir=new ui(js.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const o=new js(e,r);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.dr(new js(e,r))}Ar(e,r){e.forEach(o=>this.removeReference(o,r))}Rr(e){const r=new yn(new ei([])),o=new js(r,e),u=new js(r,e+1),p=[];return this.Ir.forEachInRange([o,u],y=>{this.dr(y),p.push(y.key)}),p}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new yn(new ei([])),o=new js(r,e),u=new js(r,e+1);let p=kr();return this.Ir.forEachInRange([o,u],y=>{p=p.add(y.key)}),p}containsKey(e){const r=new js(e,0),o=this.hr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class js{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return yn.comparator(e.key,r.key)||Sr(e.gr,r.gr)}static Tr(e,r){return Sr(e.gr,r.gr)||yn.comparator(e.key,r.key)}}class Gu{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new ui(js.Pr)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const p=this.pr;this.pr++;const y=new nl(p,r,o,u);this.mutationQueue.push(y);for(const O of u)this.yr=this.yr.add(new js(O.key,p)),this.indexManager.addToCollectionParentIndex(e,O.key.path.popLast());return w.resolve(y)}lookupMutationBatch(e,r){return w.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.Sr(r+1),p=u<0?0:u;return w.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new js(r,0),u=new js(r,Number.POSITIVE_INFINITY),p=[];return this.yr.forEachInRange([o,u],y=>{const O=this.wr(y.gr);p.push(O)}),w.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ui(Sr);return r.forEach(u=>{const p=new js(u,0),y=new js(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([p,y],O=>{o=o.add(O.gr)})}),w.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let p=o;yn.isDocumentKey(p)||(p=p.child(""));const y=new js(new yn(p),0);let O=new ui(Sr);return this.yr.forEachWhile(V=>{const K=V.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(O=O.add(V.gr)),!0)},y),w.resolve(this.br(O))}br(e){const r=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Qn(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return w.forEach(r.mutations,u=>{const p=new js(u.key,r.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,r){const o=new js(r,0),u=this.yr.firstAfterOrEqual(o);return w.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return w.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ig{constructor(e){this.Cr=e,this.docs=new Gr(yn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),p=u?u.size:0,y=this.Cr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:y}),this.size+=y-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return w.resolve(o?o.document.mutableCopy():Ji.newInvalidDocument(r))}getEntries(e,r){let o=uo();return r.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():Ji.newInvalidDocument(u))}),w.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let p=uo();const y=r.path,O=new yn(y.child("")),V=this.docs.getIteratorFrom(O);for(;V.hasNext();){const{key:K,value:{document:fe}}=V.getNext();if(!y.isPrefixOf(K.path))break;K.path.length>y.length+1||_u(Wa(fe),o)<=0||(u.has(fe.key)||wu(r,fe))&&(p=p.insert(fe.key,fe.mutableCopy()))}return w.resolve(p)}getAllFromCollectionGroup(e,r,o,u){zn()}vr(e,r){return w.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Il(this)}getSize(e){return w.resolve(this.size)}}class Il extends Hu{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),w.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class Dc{constructor(e){this.persistence=e,this.Fr=new el(r=>Za(r),Eu),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $s,this.targetCount=0,this.Nr=xh.On()}forEachTarget(e,r){return this.Fr.forEach((o,u)=>r(u)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Mr&&(this.Mr=r),w.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new xh(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,w.resolve()}updateTargetData(e,r){return this.kn(r),w.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,r,o){let u=0;const p=[];return this.Fr.forEach((y,O)=>{O.sequenceNumber<=r&&null===o.get(O.targetId)&&(this.Fr.delete(y),p.push(this.removeMatchingKeysForTargetId(e,O.targetId)),u++)}),w.waitFor(p).next(()=>u)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,r){const o=this.Fr.get(r)||null;return w.resolve(o)}addMatchingKeys(e,r,o){return this.Or.Er(r,o),w.resolve()}removeMatchingKeys(e,r,o){this.Or.Ar(r,o);const u=this.persistence.referenceDelegate,p=[];return u&&r.forEach(y=>{p.push(u.markPotentiallyOrphaned(e,y))}),w.waitFor(p)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),w.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Or.mr(r);return w.resolve(o)}containsKey(e,r){return w.resolve(this.Or.containsKey(r))}}class Lh{constructor(e,r){this.Br={},this.overlays={},this.Lr=new cr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Dc(this),this.indexManager=new xm,this.remoteDocumentCache=new Ig(o=>this.referenceDelegate.Qr(o)),this.serializer=new Rh(r),this.Kr=new kh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new fp,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.Br[e.toKey()];return o||(o=new Gu(r,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,o){cn("MemoryPersistence","Starting transaction:",e);const u=new Cg(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(p=>this.referenceDelegate.Ur(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Wr(e,r){return w.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,r)))}}class Cg extends A{constructor(e){super(),this.currentSequenceNumber=e}}class ql{constructor(e){this.persistence=e,this.Gr=new $s,this.zr=null}static jr(e){return new ql(e)}get Hr(){if(this.zr)return this.zr;throw zn()}addReference(e,r,o){return this.Gr.addReference(o,r),this.Hr.delete(o.toString()),w.resolve()}removeReference(e,r,o){return this.Gr.removeReference(o,r),this.Hr.add(o.toString()),w.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),w.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(p=>this.Hr.add(p.toString()))}).next(()=>o.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,o=>{const u=yn.fromPath(o);return this.Jr(e,u).next(p=>{p||r.removeEntry(u,ir.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(o=>{o?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return w.or([()=>w.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class Vm{constructor(e){this.serializer=e}N(e,r,o,u){const p=new U("createOrUpgrade",r);var V;o<1&&u>=1&&(e.createObjectStore("owner"),(V=e).createObjectStore("mutationQueues",{keyPath:"userId"}),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fi,{unique:!0}),V.createObjectStore("documentMutations"),Bm(e),function(V){V.createObjectStore("remoteDocuments")}(e));let y=w.resolve();return o<3&&u>=3&&(0!==o&&(function(V){V.deleteObjectStore("targetDocuments"),V.deleteObjectStore("targets"),V.deleteObjectStore("targetGlobal")}(e),Bm(e)),y=y.next(()=>function(V){const K=V.store("targetGlobal"),fe={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ir.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",fe)}(p))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(V,K){return K.store("mutations").W().next(fe=>{V.deleteObjectStore("mutations"),V.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fi,{unique:!0});const Fe=K.store("mutations"),mt=fe.map(Lt=>Fe.put(Lt));return w.waitFor(mt)})}(e,p))),y=y.next(()=>{!function(V){V.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Zr(p))),o<6&&u>=6&&(y=y.next(()=>(function(V){V.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(p)))),o<7&&u>=7&&(y=y.next(()=>this.ei(p))),o<8&&u>=8&&(y=y.next(()=>this.ti(e,p))),o<9&&u>=9&&(y=y.next(()=>{!function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(y=y.next(()=>this.ni(p))),o<11&&u>=11&&(y=y.next(()=>{(function(V){V.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(V){V.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(V){const K=V.createObjectStore("documentOverlays",{keyPath:tg});K.createIndex("collectionPathOverlayIndex",ng,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",Gf,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>function(V){const K=V.createObjectStore("remoteDocumentsV14",{keyPath:ac});K.createIndex("documentKeyIndex",Oo),K.createIndex("collectionGroupIndex",hd)}(e)).next(()=>this.ri(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(y=y.next(()=>this.ii(e,p))),o<15&&u>=15&&(y=y.next(()=>function(V){V.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),V.createObjectStore("indexState",{keyPath:kc}).createIndex("sequenceNumberIndex",fd,{unique:!1}),V.createObjectStore("indexEntries",{keyPath:pd}).createIndex("documentKeyIndex",Qh,{unique:!1})}(e))),y}Xr(e){let r=0;return e.store("remoteDocuments").Y((o,u)=>{r+=jd(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Zr(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.W().next(u=>w.forEach(u,p=>{const y=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",y).next(O=>w.forEach(O,V=>{Qn(V.userId===p.userId);const K=Bu(this.serializer,V);return km(e,p.userId,K).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Y((y,O)=>{const V=new ei(y),K=[0,Xi(V)];p.push(r.get(K).next(fe=>fe?w.resolve():r.put({targetId:0,path:Xi(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>w.waitFor(p))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:Ma});const o=r.store("collectionParents"),u=new Ud,p=y=>{if(u.add(y)){const O=y.lastSegment(),V=y.popLast();return o.put({collectionId:O,parent:Xi(V)})}};return r.store("remoteDocuments").Y({J:!0},(y,O)=>{const V=new ei(y);return p(V.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([y,O,V],K)=>{const fe=Pa(O);return p(fe.popLast())}))}ni(e){const r=e.store("targets");return r.Y((o,u)=>{const p=hf(u),y=fo(this.serializer,p);return r.put(y)})}ri(e,r){const o=r.store("remoteDocuments"),u=[];return o.Y((p,y)=>{const O=r.store("remoteDocumentsV14"),V=(Fe=y,Fe.document?new yn(ei.fromString(Fe.document.name).popFirst(5)):Fe.noDocument?yn.fromSegments(Fe.noDocument.path):Fe.unknownDocument?yn.fromSegments(Fe.unknownDocument.path):zn()).path.toArray(),K={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var Fe;u.push(O.put(K))}).next(()=>w.waitFor(u))}ii(e,r){const o=r.store("mutations"),u=Nh(this.serializer),p=new Lh(ql.jr,this.serializer.ut);return o.W().next(y=>{const O=new Map;return y.forEach(V=>{var K;let fe=null!==(K=O.get(V.userId))&&void 0!==K?K:kr();Bu(this.serializer,V).keys().forEach(Fe=>fe=fe.add(Fe)),O.set(V.userId,fe)}),w.forEach(O,(V,K)=>{const fe=new pi(K),Fe=op.ct(this.serializer,fe),mt=p.getIndexManager(fe),Lt=_f.ct(fe,this.serializer,mt,p.referenceDelegate);return new hp(u,Lt,Fe,mt).recalculateAndSaveOverlaysForDocumentKeys(new yu(r,cr._e),V).next()})})}}function Bm(i){i.createObjectStore("targetDocuments",{keyPath:lc}).createIndex("documentTargetsIndex",dh,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vu,{unique:!0}),i.createObjectStore("targetGlobal")}const Ef="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wg{constructor(e,r,o,u,p,y,O,V,K,fe,Fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.si=p,this.window=y,this.document=O,this.oi=K,this._i=fe,this.ai=Fe,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=mt=>Promise.resolve(),!wg.D())throw new Zt(Ft.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vg(this,u),this.Ii=r+"main",this.serializer=new Rh(V),this.Ti=new ae(this.Ii,this.ai,new Vm(this.serializer)),this.qr=new ru(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Nh(this.serializer),this.Kr=new kd,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===fe&&ss("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Zt(Ft.FAILED_PRECONDITION,Ef);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new cr(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var o=(0,Ce.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,Ce.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ce.Z)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(rn(e))return cn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return cn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return If(e).get("owner").next(r=>w.resolve(this.wi(r)))}Si(e){return gp(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=_i(o,"clientMetadata");return u.W().next(p=>{const y=e.Ci(p,18e5),O=p.filter(V=>-1===y.indexOf(V));return w.forEach(O,V=>u.delete(V.clientId)).next(()=>O)})}).catch(()=>[]);if(e.Ei)for(const o of r)e.Ei.removeItem(e.vi(o.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?w.resolve(!0):If(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new Zt(Ft.FAILED_PRECONDITION,Ef);return!1}}return!(!this.networkEnabled||!this.inForeground)||gp(e).W().next(o=>void 0===this.Ci(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&cn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new yu(r,cr._e);return e.pi(o).next(()=>e.Si(o))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(o=>this.Di(o.updateTimeMs,r)&&!this.Fi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>gp(e).W().next(r=>this.Ci(r,18e5).map(o=>o.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return _f.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Om(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return op.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,o){cn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",p=15===(V=this.ai)?gl:14===V?Lc:13===V?Br:12===V?Ya:11===V?zf:void zn();var V;let y;return this.Ti.runTransaction(e,u,p,O=>(y=new yu(O,this.Lr?this.Lr.next():cr._e),"readwrite-primary"===r?this.fi(y).next(V=>!!V||this.gi(y)).next(V=>{if(!V)throw ss(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new Zt(Ft.FAILED_PRECONDITION,Rl);return o(y)}).next(V=>this.yi(y).next(()=>V)):this.Li(y).next(()=>o(y)))).then(O=>(y.raiseOnCommittedEvent(),O))}Li(e){return If(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Zt(Ft.FAILED_PRECONDITION,Ef)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return If(e).put("owner",r)}static D(){return ae.D()}pi(e){const r=If(e);return r.get("owner").next(o=>this.wi(o)?(cn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):w.resolve())}Di(e,r){const o=Date.now();return!(e<o-r||e>o&&(ss(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const o=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return cn("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ss("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ss("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function If(i){return _i(i,"owner")}function gp(i){return _i(i,"clientMetadata")}function bc(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class Kl{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.ki=o,this.qi=u}static Qi(e,r){let o=kr(),u=kr();for(const p of r.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Kl(e,r.fromCache,o,u)}}class mp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,o,u){const p={result:null};return this.zi(e,r).next(y=>{p.result=y}).next(()=>{if(!p.result)return this.ji(e,r,u,o).next(y=>{p.result=y})}).next(()=>{if(p.result)return;const y=new mp;return this.Hi(e,r,y).next(O=>{if(p.result=O,this.$i)return this.Ji(e,r,y,O.size)})}).next(()=>p.result)}Ji(e,r,o,u){return o.documentReadCount<this.Ui?(is()<=pt.in.DEBUG&&cn("QueryEngine","SDK will not create cache indexes for query:",va(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(is()<=pt.in.DEBUG&&cn("QueryEngine","Query:",va(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(is()<=pt.in.DEBUG&&cn("QueryEngine","The SDK decides to create cache indexes for query:",va(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(r))):w.resolve())}zi(e,r){if(pc(r))return w.resolve(null);let o=Or(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Hc(r,null,"F"),o=Or(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const y=kr(...p);return this.Gi.getDocuments(e,y).next(O=>this.indexManager.getMinOffset(e,o).next(V=>{const K=this.Yi(r,O);return this.Zi(r,K,y,V.readTime)?this.zi(e,Hc(r,null,"F")):this.Xi(e,K,r,V)}))})))}ji(e,r,o,u){return pc(r)||u.isEqual(ir.min())?w.resolve(null):this.Gi.getDocuments(e,o).next(p=>{const y=this.Yi(r,p);return this.Zi(r,y,o,u)?w.resolve(null):(is()<=pt.in.DEBUG&&cn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),va(r)),this.Xi(e,y,r,ga(u,-1)).next(O=>O))})}Yi(e,r){let o=new ui(Tu(e));return r.forEach((u,p)=>{wu(e,p)&&(o=o.add(p))}),o}Zi(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const p="F"===e.limitType?r.last():r.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Hi(e,r,o){return is()<=pt.in.DEBUG&&cn("QueryEngine","Using full collection scan to execute query:",va(r)),this.Gi.getDocumentsMatchingQuery(e,r,Qo.min(),o)}Xi(e,r,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(p=>(r.forEach(y=>{p=p.insert(y.key,y)}),p))}}class Um{constructor(e,r,o,u){this.persistence=e,this.es=r,this.serializer=u,this.ts=new Gr(Sr),this.ns=new el(p=>Za(p),Eu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hp(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function $m(i,e,r,o){return new Um(i,e,r,o)}function jm(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Ce.Z)(function*(i,e){const r=Tn(i);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,r.os(e),r.mutationQueue.getAllMutationBatches(o))).next(p=>{const y=[],O=[];let V=kr();for(const K of u){y.push(K.batchId);for(const fe of K.mutations)V=V.add(fe.key)}for(const K of p){O.push(K.batchId);for(const fe of K.mutations)V=V.add(fe.key)}return r.localDocuments.getDocuments(o,V).next(K=>({_s:K,removedBatchIds:y,addedBatchIds:O}))})})}),Tg.apply(this,arguments)}function bg(i){const e=Tn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function Ag(i,e,r){let o=kr(),u=kr();return r.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let y=uo();return r.forEach((O,V)=>{const K=p.get(O);V.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(O)),V.isNoDocument()&&V.version.isEqual(ir.min())?(e.removeEntry(O,V.readTime),y=y.insert(O,V)):!K.isValidDocument()||V.version.compareTo(K.version)>0||0===V.version.compareTo(K.version)&&K.hasPendingWrites?(e.addEntry(V),y=y.insert(O,V)):cn("LocalStore","Ignoring outdated watch update for ",O,". Current version:",K.version," Watch version:",V.version)}),{us:y,cs:u}})}function H_(i,e){const r=Tn(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function zu(i,e){const r=Tn(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.qr.getTargetData(o,e).next(p=>p?(u=p,w.resolve(u)):r.qr.allocateTargetId(o).next(y=>(u=new Gl(e,y,"TargetPurposeListen",o.currentSequenceNumber),r.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ts=r.ts.insert(o.targetId,o),r.ns.set(e,o.targetId)),o})}function Na(i,e,r){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,Ce.Z)(function*(i,e,r){const o=Tn(i),u=o.ts.get(e),p=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",p,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!rn(y))throw y;cn("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),Wu.apply(this,arguments)}function wf(i,e,r){const o=Tn(i);let u=ir.min(),p=kr();return o.persistence.runTransaction("Execute query","readwrite",y=>function(V,K,fe){const Fe=Tn(V),mt=Fe.ns.get(fe);return void 0!==mt?w.resolve(Fe.ts.get(mt)):Fe.qr.getTargetData(K,fe)}(o,y,Or(e)).next(O=>{if(O)return u=O.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(y,O.targetId).next(V=>{p=V})}).next(()=>o.es.getDocumentsMatchingQuery(y,e,r?u:ir.min(),r?p:kr())).next(O=>(G_(o,Bl(e),O),{documents:O,ls:p})))}function Sg(i,e){const r=Tn(i),o=Tn(r.qr),u=r.ts.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",p=>o._t(p,e).next(y=>y?y.target:null))}function Rg(i,e){const r=Tn(i),o=r.rs.get(e)||ir.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.ss.getAllFromCollectionGroup(u,e,ga(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(G_(r,e,u),u))}function G_(i,e,r){let o=i.rs.get(e)||ir.min();r.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.rs.set(e,o)}function Hm(){return Hm=(0,Ce.Z)(function*(i,e,r,o){const u=Tn(i);let p=kr(),y=uo();for(const K of r){const fe=e.hs(K.metadata.name);K.document&&(p=p.add(fe));const Fe=e.Ps(K);Fe.setReadTime(e.Is(K.metadata.readTime)),y=y.insert(fe,Fe)}const O=u.ss.newChangeBuffer({trackRemovals:!0}),V=yield zu(u,(fe=o,Or(xa(ei.fromString(`__bundle__/docs/${fe}`)))));var fe;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>Ag(K,O,y).next(fe=>(O.apply(K),fe)).next(fe=>u.qr.removeMatchingKeysForTargetId(K,V.targetId).next(()=>u.qr.addMatchingKeys(K,p,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,fe.us,fe.cs)).next(()=>fe.us)))}),Hm.apply(this,arguments)}function Pg(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,Ce.Z)(function*(i,e,r=kr()){const o=yield zu(i,Or(Nd(e.bundledQuery))),u=Tn(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const y=es(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u.Kr.saveNamedQuery(p,e);const O=o.withResumeToken(Cs.EMPTY_BYTE_STRING,y);return u.ts=u.ts.insert(O.targetId,O),u.qr.updateTargetData(p,O).next(()=>u.qr.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.qr.addMatchingKeys(p,r,o.targetId)).next(()=>u.Kr.saveNamedQuery(p,e))})}),Tf.apply(this,arguments)}function z_(i,e){return`firestore_clients_${i}_${e}`}function W_(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function _p(i,e){return`firestore_targets_${i}_${e}`}class vp{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Ts(e,r,o){const u=JSON.parse(o);let p,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(p=new Zt(u.error.code,u.error.message))),y?new vp(e,r,u.state,p):(ss("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Df{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Ts(e,r){const o=JSON.parse(r);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new Zt(o.error.code,o.error.message))),p?new Df(e,o.state,u):(ss("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yp{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Ch();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=mi(o.activeTargetIds[y]),p=p.add(o.activeTargetIds[y]);return u?new yp(e,p):(ss("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Mg{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Mg(r.clientId,r.onlineState):(ss("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ep{constructor(){this.activeTargetIds=Ch()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fh{constructor(e,r,o,u,p){this.window=e,this.si=r,this.persistenceKey=o,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Gr(Sr),this.started=!1,this.ps=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ys=z_(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Ep),this.Ss=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(V){return`firestore_bundle_loaded_v2_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Rs)continue;const p=e.getItem(z_(e.persistenceKey,u));if(p){const y=yp.Ts(u,p);y&&(e.gs=e.gs.insert(y.clientId,y))}}e.Fs();const o=e.storage.getItem(e.Cs);if(o){const u=e.Ms(o);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,o){this.Ns(e,r,o),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(_p(this.persistenceKey,e));if(o){const u=Df.Ts(e,o);u&&(r=u.state)}}return this.Ls.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_p(this.persistenceKey,e))}updateQueryState(e,r,o){this.ks(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return cn("SharedClientState","READ",e,r),r}setItem(e,r){cn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){cn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(cn("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ys)return void ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ce.Z)(function*(){if(r.started){if(null!==o.key)if(r.Ss.test(o.key)){if(null==o.newValue){const u=r.Ks(o.key);return r.$s(u,null)}{const u=r.Us(o.key,o.newValue);if(u)return r.$s(u.clientId,u)}}else if(r.bs.test(o.key)){if(null!==o.newValue){const u=r.Ws(o.key,o.newValue);if(u)return r.Gs(u)}}else if(r.Ds.test(o.key)){if(null!==o.newValue){const u=r.zs(o.key,o.newValue);if(u)return r.js(u)}}else if(o.key===r.Cs){if(null!==o.newValue){const u=r.Ms(o.newValue);if(u)return r.xs(u)}}else if(o.key===r.ws){const u=function(y){let O=cr._e;if(null!=y)try{const V=JSON.parse(y);Qn("number"==typeof V),O=V}catch(V){ss("SharedClientState","Failed to read sequence number from WebStorage",V)}return O}(o.newValue);u!==cr._e&&r.sequenceNumberHandler(u)}else if(o.key===r.vs){const u=r.Hs(o.newValue);yield Promise.all(u.map(p=>r.syncEngine.Js(p)))}}else r.ps.push(o)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,r,o){const u=new vp(this.currentUser,e,r,o),p=W_(this.persistenceKey,this.currentUser,e);this.setItem(p,u.Es())}Bs(e){const r=W_(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,o){const u=_p(this.persistenceKey,e),p=new Df(e,r,o);this.setItem(u,p.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const o=this.Ks(e);return yp.Ts(o,r)}Ws(e,r){const o=this.bs.exec(e),u=Number(o[1]);return vp.Ts(new pi(void 0!==o[2]?o[2]:null),u,r)}zs(e,r){const o=this.Ds.exec(e),u=Number(o[1]);return Df.Ts(u,r)}Ms(e){return Mg.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,Ce.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);cn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const o=r?this.gs.insert(e,r):this.gs.remove(e),u=this.Os(this.gs),p=this.Os(o),y=[],O=[];return p.forEach(V=>{u.has(V)||y.push(V)}),u.forEach(V=>{p.has(V)||O.push(V)}),this.syncEngine.Xs(y,O).then(()=>{this.gs=o})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=Ch();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class Cl{constructor(){this.eo=new Ep,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,o){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ep,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xg{ro(e){}shutdown(){}}class Ip{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){cn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){cn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ac=null;function Og(){return null===Ac?Ac=268435456+Math.round(2147483648*Math.random()):Ac++,"0x"+Ac.toString(16)}const Ng={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Vo="WebChannelConnection";class Y_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+r.host,this.fo=`projects/${u}/databases/${p}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get yo(){return!1}wo(r,o,u,p,y){const O=Og(),V=this.So(r,o);cn("RestConnection",`Sending RPC '${r}' ${O}:`,V,u);const K={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(K,p,y),this.Do(r,V,K,u).then(fe=>(cn("RestConnection",`Received RPC '${r}' ${O}: `,fe),fe),fe=>{throw Wi("RestConnection",`RPC '${r}' ${O} failed with error: `,fe,"url: ",V,"request:",u),fe})}Co(r,o,u,p,y,O){return this.wo(r,o,u,p,y)}bo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,y)=>r[y]=p),u&&u.headers.forEach((p,y)=>r[y]=p)}So(r,o){return`${this.mo}/v1/${o}:${Ng[r]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,o,u){const p=Og();return new Promise((y,O)=>{const V=new Gi;V.setWithCredentials(!0),V.listenOnce(Ga.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Sa.NO_ERROR:const fe=V.getResponseJson();cn(Vo,`XHR for RPC '${e}' ${p} received:`,JSON.stringify(fe)),y(fe);break;case Sa.TIMEOUT:cn(Vo,`RPC '${e}' ${p} timed out`),O(new Zt(Ft.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const Fe=V.getStatus();if(cn(Vo,`RPC '${e}' ${p} failed with status:`,Fe,"response text:",V.getResponseText()),Fe>0){let mt=V.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Lt=null==mt?void 0:mt.error;if(Lt&&Lt.status&&Lt.message){const In=function(On){const gr=On.toLowerCase().replace(/_/g,"-");return Object.values(Ft).indexOf(gr)>=0?gr:Ft.UNKNOWN}(Lt.status);O(new Zt(In,Lt.message))}else O(new Zt(Ft.UNKNOWN,"Server responded with status "+V.getStatus()))}else O(new Zt(Ft.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{cn(Vo,`RPC '${e}' ${p} completed.`)}});const K=JSON.stringify(u);cn(Vo,`RPC '${e}' ${p} sending request:`,u),V.send(r,"POST",K,o,15)})}vo(e,r,o){const u=Og(),p=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Ko(),O=Aa(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(V.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(V.xmlHttpFactory=new Kh({})),this.bo(V.initMessageHeaders,r,o),V.encodeInitMessageHeaders=!0;const fe=p.join("");cn(Vo,`Creating RPC '${e}' stream ${u}: ${fe}`,V);const Fe=y.createWebChannel(fe,V);let mt=!1,Lt=!1;const In=new kg({co:On=>{Lt?cn(Vo,`Not sending because RPC '${e}' stream ${u} is closed:`,On):(mt||(cn(Vo,`Opening RPC '${e}' stream ${u} transport.`),Fe.open(),mt=!0),cn(Vo,`RPC '${e}' stream ${u} sending:`,On),Fe.send(On))},lo:()=>Fe.close()}),Pn=(On,gr,xr)=>{On.listen(gr,br=>{try{xr(br)}catch(ii){setTimeout(()=>{throw ii},0)}})};return Pn(Fe,Zo.EventType.OPEN,()=>{Lt||cn(Vo,`RPC '${e}' stream ${u} transport opened.`)}),Pn(Fe,Zo.EventType.CLOSE,()=>{Lt||(Lt=!0,cn(Vo,`RPC '${e}' stream ${u} transport closed`),In.Ro())}),Pn(Fe,Zo.EventType.ERROR,On=>{Lt||(Lt=!0,Wi(Vo,`RPC '${e}' stream ${u} transport errored:`,On),In.Ro(new Zt(Ft.UNAVAILABLE,"The operation could not be completed")))}),Pn(Fe,Zo.EventType.MESSAGE,On=>{var gr;if(!Lt){const xr=On.data[0];Qn(!!xr);const ii=xr.error||(null===(gr=xr[0])||void 0===gr?void 0:gr.error);if(ii){cn(Vo,`RPC '${e}' stream ${u} received error:`,ii);const ji=ii.status;let Ci=function(Em){const Nv=ps[Em];if(void 0!==Nv)return ya(Nv)}(ji),_o=ii.message;void 0===Ci&&(Ci=Ft.INTERNAL,_o="Unknown error status: "+ji+" with message "+ii.message),Lt=!0,In.Ro(new Zt(Ci,_o)),Fe.close()}else cn(Vo,`RPC '${e}' stream ${u} received:`,xr),In.Vo(xr)}}),Pn(O,oh.STAT_EVENT,On=>{On.stat===Os.PROXY?cn(Vo,`RPC '${e}' stream ${u} detected buffering proxy`):On.stat===Os.NOPROXY&&cn(Vo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{In.Ao()},0),In}}function Gm(){return typeof window<"u"?window:null}function bf(){return typeof document<"u"?document:null}function Af(i){return new qn(i,!0)}class Cp{constructor(e,r,o=1e3,u=1.5,p=6e4){this.si=e,this.timerId=r,this.Fo=o,this.Mo=u,this.xo=p,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,r-o);u>0&&cn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class ey{constructor(e,r,o,u,p,y,O,V){this.si=e,this.Ko=o,this.$o=u,this.connection=p,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=O,this.listener=V,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Cp(e,r)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,r){var o=this;return(0,Ce.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():r&&r.code===Ft.RESOURCE_EXHAUSTED?(ss(r.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):r&&r.code===Ft.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(r)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===r&&this.s_(o,u)},o=>{e(()=>{const u=new Zt(Ft.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,r){const o=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,Ce.Z)(function*(){e.state=0,e.start()}))}o_(e){return cn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(cn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q_ extends ey{constructor(e,r,o,u,p,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,y),this.serializer=p}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=function Am(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(K=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:zn(),u=e.targetChange.targetIds||[],p=function(K,fe){return K.useProto3Json?(Qn(void 0===fe||"string"==typeof fe),Cs.fromBase64String(fe||"")):(Qn(void 0===fe||fe instanceof Uint8Array),Cs.fromUint8Array(fe||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,O=y&&function(K){const fe=void 0===K.code?Ft.UNKNOWN:ya(K.code);return new Zt(fe,K.message||"")}(y);r=new b(o,u,p,O||null)}else if("documentChange"in e){const o=e.documentChange,u=na(i,o.document.name),p=es(o.document.updateTime),y=o.document.createTime?es(o.document.createTime):ir.min(),O=new Io({mapValue:{fields:o.document.fields}}),V=Ji.newFoundDocument(u,p,y,O);r=new _(o.targetIds||[],o.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const o=e.documentDelete,u=na(i,o.document),p=o.readTime?es(o.readTime):ir.min(),y=Ji.newNoDocument(u,p);r=new _([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=na(i,o.document);r=new _([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return zn();{const o=e.filter,{count:u=0,unchangedNames:p}=o,y=new sf(u,p);r=new v(o.targetId,y)}}var K;return r}(this.serializer,e),o=function(p){if(!("targetChange"in p))return ir.min();const y=p.targetChange;return y.targetIds&&y.targetIds.length?ir.min():y.readTime?es(y.readTime):ir.min()}(e);return this.listener.a_(r,o)}u_(e){const r={};r.database=Fu(this.serializer),r.addTarget=function(p,y){let O;const V=y.target;if(O=Qa(V)?{documents:Zc(p,V)}:{query:uf(p,V)},O.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){O.resumeToken=Pd(p,y.resumeToken);const K=Si(p,y.expectedCount);null!==K&&(O.expectedCount=K)}else if(y.snapshotVersion.compareTo(ir.min())>0){O.readTime=ho(p,y.snapshotVersion.toTimestamp());const K=Si(p,y.expectedCount);null!==K&&(O.expectedCount=K)}return O}(this.serializer,e);const o=function Sm(i,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.e_(r)}c_(e){const r={};r.database=Fu(this.serializer),r.removeTarget=e,this.e_(r)}}class Sf extends ey{constructor(e,r,o,u,p,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,y),this.serializer=p,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(Qn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=function ep(i,e){return i&&i.length>0?(Qn(void 0!==e),i.map(r=>function(u,p){let y=es(u.updateTime?u.updateTime:p);return y.isEqual(ir.min())&&(y=es(p)),new Th(y,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=es(e.commitTime);return this.listener.I_(o,r)}return Qn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Fu(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Ah(this.serializer,o))};this.e_(r)}}class ty extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new Zt(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.connection.wo(e,r,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Zt(Ft.UNKNOWN,u.toString())})}Co(e,r,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,y])=>this.connection.Co(e,r,o,p,y,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Zt(Ft.UNKNOWN,p.toString())})}terminate(){this.d_=!0}}class K_{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ss(r),this.f_=!1):cn("OnlineStateTracker",r)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Lg{constructor(e,r,o,u,p){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=p,this.F_.ro(O=>{o.enqueueAndForget((0,Ce.Z)(function*(){var V;Wd(y)&&(cn("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,Ce.Z)(function*(fe){const Fe=Tn(fe);Fe.C_.add(4),yield iu(Fe),Fe.M_.set("Unknown"),Fe.C_.delete(4),yield zd(Fe)}),function K(fe){return V.apply(this,arguments)})(y))}))}),this.M_=new K_(o,u)}}function zd(i){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,Ce.Z)(function*(i){if(Wd(i))for(const e of i.v_)yield e(!0)}),Yu.apply(this,arguments)}function iu(i){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,Ce.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Rf.apply(this,arguments)}function qu(i,e){const r=Tn(i);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),Qu(r)?Bh(r):Uh(r).Ho()&&Zu(r,e))}function Ku(i,e){const r=Tn(i),o=Uh(r);r.D_.delete(e),o.Ho()&&wp(r,e),0===r.D_.size&&(o.Ho()?o.Zo():Wd(r)&&r.M_.set("Unknown"))}function Zu(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ir.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Uh(i).u_(e)}function wp(i,e){i.x_.Oe(e),Uh(i).c_(e)}function Bh(i){i.x_=new le({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Uh(i).start(),i.M_.g_()}function Qu(i){return Wd(i)&&!Uh(i).jo()&&i.D_.size>0}function Wd(i){return 0===Tn(i).C_.size}function Tp(i){i.x_=void 0}function Pf(i){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,Ce.Z)(function*(i){i.D_.forEach((e,r)=>{Zu(i,e)})}),Fg.apply(this,arguments)}function su(i,e){return go.apply(this,arguments)}function go(){return go=(0,Ce.Z)(function*(i,e){Tp(i),Qu(i)?(i.M_.w_(e),Bh(i)):i.M_.set("Unknown")}),go.apply(this,arguments)}function sl(i,e,r){return ou.apply(this,arguments)}function ou(){return ou=(0,Ce.Z)(function*(i,e,r){if(i.M_.set("Online"),e instanceof b&&2===e.state&&e.cause)try{yield(o=(0,Ce.Z)(function*(p,y){const O=y.cause;for(const V of y.targetIds)p.D_.has(V)&&(yield p.remoteSyncer.rejectListen(V,O),p.D_.delete(V),p.x_.removeTarget(V))}),function u(p,y){return o.apply(this,arguments)})(i,e)}catch(o){cn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Mf(i,o)}else if(e instanceof _?i.x_.$e(e):e instanceof v?i.x_.Je(e):i.x_.Ge(e),!r.isEqual(ir.min()))try{const o=yield bg(i.localStore);r.compareTo(o)>=0&&(yield function(p,y){const O=p.x_.it(y);return O.targetChanges.forEach((V,K)=>{if(V.resumeToken.approximateByteSize()>0){const fe=p.D_.get(K);fe&&p.D_.set(K,fe.withResumeToken(V.resumeToken,y))}}),O.targetMismatches.forEach((V,K)=>{const fe=p.D_.get(V);if(!fe)return;p.D_.set(V,fe.withResumeToken(Cs.EMPTY_BYTE_STRING,fe.snapshotVersion)),wp(p,V);const Fe=new Gl(fe.target,V,K,fe.sequenceNumber);Zu(p,Fe)}),p.remoteSyncer.applyRemoteEvent(O)}(i,r))}catch(o){cn("RemoteStore","Failed to raise snapshot:",o),yield Mf(i,o)}var o}),ou.apply(this,arguments)}function Mf(i,e,r){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Ce.Z)(function*(i,e,r){if(!rn(e))throw e;i.C_.add(1),yield iu(i),i.M_.set("Offline"),r||(r=()=>bg(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){cn("RemoteStore","Retrying IndexedDB access"),yield r(),i.C_.delete(1),yield zd(i)}))}),Vg.apply(this,arguments)}function zm(i,e){return e().catch(r=>Mf(i,r,e))}function xf(i){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,Ce.Z)(function*(i){const e=Tn(i),r=Sc(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Dp(e);)try{const u=yield H_(e.localStore,o);if(null===u){0===e.b_.length&&r.Zo();break}o=u.batchId,Bg(e,u)}catch(u){yield Mf(e,u)}Ug(e)&&bp(e)}),Yd.apply(this,arguments)}function Dp(i){return Wd(i)&&i.b_.length<10}function Bg(i,e){i.b_.push(e);const r=Sc(i);r.Ho()&&r.h_&&r.P_(e.mutations)}function Ug(i){return Wd(i)&&!Sc(i).jo()&&i.b_.length>0}function bp(i){Sc(i).start()}function Ap(i){return qd.apply(this,arguments)}function qd(){return qd=(0,Ce.Z)(function*(i){Sc(i).E_()}),qd.apply(this,arguments)}function Wm(i){return Of.apply(this,arguments)}function Of(){return Of=(0,Ce.Z)(function*(i){const e=Sc(i);for(const r of i.b_)e.P_(r.mutations)}),Of.apply(this,arguments)}function Z_(i,e,r){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Ce.Z)(function*(i,e,r){const o=i.b_.shift(),u=Mu.from(o,e,r);yield zm(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield xf(i)}),Sp.apply(this,arguments)}function ry(i,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Ce.Z)(function*(i,e){var r;e&&Sc(i).h_&&(yield(r=(0,Ce.Z)(function*(u,p){if(rl(O=p.code)&&O!==Ft.ABORTED){const y=u.b_.shift();Sc(u).Yo(),yield zm(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,p)),yield xf(u)}var O}),function o(u,p){return r.apply(this,arguments)})(i,e)),Ug(i)&&bp(i)}),Rp.apply(this,arguments)}function Nf(i,e){return $g.apply(this,arguments)}function $g(){return $g=(0,Ce.Z)(function*(i,e){const r=Tn(i);r.asyncQueue.verifyOperationInProgress(),cn("RemoteStore","RemoteStore received new credentials");const o=Wd(r);r.C_.add(3),yield iu(r),o&&r.M_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),yield zd(r)}),$g.apply(this,arguments)}function au(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,Ce.Z)(function*(i,e){const r=Tn(i);e?(r.C_.delete(2),yield zd(r)):e||(r.C_.add(2),yield iu(r),r.M_.set("Unknown"))}),Kd.apply(this,arguments)}function Uh(i){return i.O_||(i.O_=function(r,o,u){const p=Tn(r);return p.A_(),new q_(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:Pf.bind(null,i),Io:su.bind(null,i),a_:sl.bind(null,i)}),i.v_.push(function(){var e=(0,Ce.Z)(function*(r){r?(i.O_.Yo(),Qu(i)?Bh(i):i.M_.set("Unknown")):(yield i.O_.stop(),Tp(i))});return function(r){return e.apply(this,arguments)}}())),i.O_}function Sc(i){return i.N_||(i.N_=function(r,o,u){const p=Tn(r);return p.A_(),new Sf(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(i.datastore,i.asyncQueue,{ho:Ap.bind(null,i),Io:ry.bind(null,i),T_:Wm.bind(null,i),I_:Z_.bind(null,i)}),i.v_.push(function(){var e=(0,Ce.Z)(function*(r){r?(i.N_.Yo(),yield xf(i)):(yield i.N_.stop(),i.b_.length>0&&(cn("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(r){return e.apply(this,arguments)}}())),i.N_}class jg{constructor(e,r,o,u,p){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,p){const y=Date.now()+o,O=new jg(e,r,y,u,p);return O.start(o),O}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Zt(Ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zd(i,e){if(ss("AsyncQueue",`${e}: ${i}`),rn(i))return new Zt(Ft.UNAVAILABLE,`${e}: ${i}`);throw i}class $h{constructor(e){this.comparator=e?(r,o)=>e(r,o)||yn.comparator(r.key,o.key):(r,o)=>yn.comparator(r.key,o.key),this.keyedMap=bu(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new $h(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $h)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new $h;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Hg{constructor(){this.B_=new Gr(yn.comparator)}track(e){const r=e.doc.key,o=this.B_.get(r);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(r):1===e.type&&2===o.type?this.B_=this.B_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):zn():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Qd{constructor(e,r,o,u,p,y,O,V,K){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=y,this.syncStateChanged=O,this.excludesMetadataChanges=V,this.hasCachedResults=K}static fromInitialDocuments(e,r,o,u,p){const y=[];return r.forEach(O=>{y.push({type:0,doc:O})}),new Qd(e,r,$h.emptySet(r),y,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class Gg{constructor(){this.k_=void 0,this.listeners=[]}}class iy{constructor(){this.queries=new el(e=>Eh(e),Gc),this.onlineState="Unknown",this.q_=new Set}}function Ym(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,Ce.Z)(function*(i,e){const r=Tn(i),o=e.query;let u=!1,p=r.queries.get(o);if(p||(u=!0,p=new Gg),u)try{p.k_=yield r.onListen(o)}catch(y){const O=Zd(y,`Initialization of query '${va(e.query)}' failed`);return void e.onError(O)}r.queries.set(o,p),p.listeners.push(e),e.Q_(r.onlineState),p.k_&&e.K_(p.k_)&&g(r)}),qm.apply(this,arguments)}function Km(i,e){return h.apply(this,arguments)}function h(){return h=(0,Ce.Z)(function*(i,e){const r=Tn(i),o=e.query;let u=!1;const p=r.queries.get(o);if(p){const y=p.listeners.indexOf(e);y>=0&&(p.listeners.splice(y,1),u=0===p.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),h.apply(this,arguments)}function l(i,e){const r=Tn(i);let o=!1;for(const u of e){const y=r.queries.get(u.query);if(y){for(const O of y.listeners)O.K_(u)&&(o=!0);y.k_=u}}o&&g(r)}function c(i,e,r){const o=Tn(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(r);o.queries.delete(e)}function g(i){i.q_.forEach(e=>{e.next()})}class I{constructor(e,r,o){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Qd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){return!e.fromCache||(!this.options.J_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Qd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class P{constructor(e,r){this.Y_=e,this.byteLength=r}Z_(){return"metadata"in this.Y_}}class B{constructor(e){this.serializer=e}hs(e){return na(this.serializer,e)}Ps(e){return e.metadata.exists?xd(this.serializer,e.document,!1):Ji.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return es(e)}}class ne{constructor(e,r,o){this.X_=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ye(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++r;const o=ei.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ta(e){const r=new Map,o=new B(this.serializer);for(const u of e)if(u.metadata.queries){const p=o.hs(u.metadata.name);for(const y of u.metadata.queries){const O=(r.get(y)||kr()).add(p);r.set(y,O)}}return r}complete(){var e=this;return(0,Ce.Z)(function*(){const r=yield function Jv(i,e,r,o){return Hm.apply(this,arguments)}(e.localStore,new B(e.serializer),e.documents,e.X_.id),o=e.ta(e.documents);for(const u of e.queries)yield Pg(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:r}})()}}function ye(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ke{constructor(e){this.key=e}}class wt{constructor(e){this.key=e}}class kt{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=kr(),this.mutatedKeys=kr(),this._a=Tu(e),this.aa=new $h(this._a)}get ua(){return this.ia}ca(e,r){const o=r?r.la:new Hg,u=r?r.aa:this.aa;let p=r?r.mutatedKeys:this.mutatedKeys,y=u,O=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((fe,Fe)=>{const mt=u.get(fe),Lt=wu(this.query,Fe)?Fe:null,In=!!mt&&this.mutatedKeys.has(mt.key),Pn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let On=!1;mt&&Lt?mt.data.isEqual(Lt.data)?In!==Pn&&(o.track({type:3,doc:Lt}),On=!0):this.ha(mt,Lt)||(o.track({type:2,doc:Lt}),On=!0,(V&&this._a(Lt,V)>0||K&&this._a(Lt,K)<0)&&(O=!0)):!mt&&Lt?(o.track({type:0,doc:Lt}),On=!0):mt&&!Lt&&(o.track({type:1,doc:mt}),On=!0,(V||K)&&(O=!0)),On&&(Lt?(y=y.add(Lt),p=Pn?p.add(fe):p.delete(fe)):(y=y.delete(fe),p=p.delete(fe)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const fe="F"===this.query.limitType?y.last():y.first();y=y.delete(fe.key),p=p.delete(fe.key),o.track({type:1,doc:fe})}return{aa:y,la:o,Zi:O,mutatedKeys:p}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const p=e.la.L_();p.sort((K,fe)=>function(mt,Lt){const In=Pn=>{switch(Pn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return In(mt)-In(Lt)}(K.type,fe.type)||this._a(K.doc,fe.doc)),this.Pa(o);const y=r?this.Ia():[],O=0===this.oa.size&&this.current?1:0,V=O!==this.sa;return this.sa=O,0!==p.length||V?{snapshot:new Qd(this.query,e.aa,u,p,e.mutatedKeys,0===O,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:y}:{Ta:y}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Hg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=kr(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const r=[];return e.forEach(o=>{this.oa.has(o)||r.push(new wt(o))}),this.oa.forEach(o=>{e.has(o)||r.push(new ke(o))}),r}da(e){this.ia=e.ls,this.oa=kr();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return Qd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class zt{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class En{constructor(e){this.key=e,this.Ra=!1}}class Ln{constructor(e,r,o,u,p,y){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=y,this.Va={},this.ma=new el(O=>Eh(O),Gc),this.fa=new Map,this.ga=new Set,this.pa=new Gr(yn.comparator),this.ya=new Map,this.wa=new $s,this.Sa={},this.ba=new Map,this.Da=xh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Mr(i,e){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,Ce.Z)(function*(i,e){const r=n_(i);let o,u;const p=r.ma.get(e);if(p)o=p.targetId,r.sharedClientState.addLocalQueryTarget(o),u=p.view.Aa();else{const y=yield zu(r.localStore,Or(e)),O=r.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield Hs(r,e,o,"current"===O,y.resumeToken),r.isPrimaryClient&&qu(r.remoteStore,y)}return u}),Wr.apply(this,arguments)}function Hs(i,e,r,o,u){return mo.apply(this,arguments)}function mo(){return mo=(0,Ce.Z)(function*(i,e,r,o,u){i.va=(Fe,mt,Lt)=>{return(In=(0,Ce.Z)(function*(On,gr,xr,br){let ii=gr.view.ca(xr);ii.Zi&&(ii=yield wf(On.localStore,gr.query,!1).then(({documents:_o})=>gr.view.ca(_o,ii)));const ji=br&&br.targetChanges.get(gr.targetId),Ci=gr.view.applyChanges(ii,On.isPrimaryClient,ji);return X_(On,gr.targetId,Ci.Ta),Ci.snapshot}),function Pn(On,gr,xr,br){return In.apply(this,arguments)})(i,Fe,mt,Lt);var In};const p=yield wf(i.localStore,e,!0),y=new kt(e,p.ls),O=y.ca(p.documents),V=C.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState,u),K=y.applyChanges(O,i.isPrimaryClient,V);X_(i,r,K.Ta);const fe=new zt(e,r,y);return i.ma.set(e,fe),i.fa.has(r)?i.fa.get(r).push(e):i.fa.set(r,[e]),K.snapshot}),mo.apply(this,arguments)}function ls(i,e){return cs.apply(this,arguments)}function cs(){return cs=(0,Ce.Z)(function*(i,e){const r=Tn(i),o=r.ma.get(e),u=r.fa.get(o.targetId);if(u.length>1)return r.fa.set(o.targetId,u.filter(p=>!Gc(p,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Na(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Ku(r.remoteStore,o.targetId),xp(r,o.targetId)}).catch(M))):(xp(r,o.targetId),yield Na(r.localStore,o.targetId,!0))}),cs.apply(this,arguments)}function wl(){return wl=(0,Ce.Z)(function*(i,e,r){const o=Zg(i);try{const u=yield function(y,O){const V=Tn(y),K=Yi.now(),fe=O.reduce((Lt,In)=>Lt.add(In.key),kr());let Fe,mt;return V.persistence.runTransaction("Locally write mutations","readwrite",Lt=>{let In=uo(),Pn=kr();return V.ss.getEntries(Lt,fe).next(On=>{In=On,In.forEach((gr,xr)=>{xr.isValidDocument()||(Pn=Pn.add(gr))})}).next(()=>V.localDocuments.getOverlayedDocuments(Lt,In)).next(On=>{Fe=On;const gr=[];for(const xr of O){const br=Qf(xr,Fe.get(xr.key).overlayedDocument);null!=br&&gr.push(new $l(xr.key,br,kl(br.value.mapValue),as.exists(!0)))}return V.mutationQueue.addMutationBatch(Lt,K,gr,O)}).next(On=>{mt=On;const gr=On.applyToLocalDocumentSet(Fe,Pn);return V.documentOverlayCache.saveOverlays(Lt,On.batchId,gr)})}).then(()=>({batchId:mt.batchId,changes:Td(Fe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(y,O,V){let K=y.Sa[y.currentUser.toKey()];K||(K=new Gr(Sr)),K=K.insert(O,V),y.Sa[y.currentUser.toKey()]=K}(o,u.batchId,r),yield Gh(o,u.changes),yield xf(o.remoteStore)}catch(u){const p=Zd(u,"Failed to persist write");r.reject(p)}}),wl.apply(this,arguments)}function kf(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,Ce.Z)(function*(i,e){const r=Tn(i);try{const o=yield function Zl(i,e){const r=Tn(i),o=e.snapshotVersion;let u=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const y=r.ss.newChangeBuffer({trackRemovals:!0});u=r.ts;const O=[];e.targetChanges.forEach((fe,Fe)=>{const mt=u.get(Fe);if(!mt)return;O.push(r.qr.removeMatchingKeys(p,fe.removedDocuments,Fe).next(()=>r.qr.addMatchingKeys(p,fe.addedDocuments,Fe)));let Lt=mt.withSequenceNumber(p.currentSequenceNumber);var Pn,On,gr;null!==e.targetMismatches.get(Fe)?Lt=Lt.withResumeToken(Cs.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):fe.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(fe.resumeToken,o)),u=u.insert(Fe,Lt),On=Lt,gr=fe,(0===(Pn=mt).resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-Pn.snapshotVersion.toMicroseconds()>=3e8||gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0)&&O.push(r.qr.updateTargetData(p,Lt))});let V=uo(),K=kr();if(e.documentUpdates.forEach(fe=>{e.resolvedLimboDocuments.has(fe)&&O.push(r.persistence.referenceDelegate.updateLimboDocument(p,fe))}),O.push(Ag(p,y,e.documentUpdates).next(fe=>{V=fe.us,K=fe.cs})),!o.isEqual(ir.min())){const fe=r.qr.getLastRemoteSnapshotVersion(p).next(Fe=>r.qr.setTargetsMetadata(p,p.currentSequenceNumber,o));O.push(fe)}return w.waitFor(O).next(()=>y.apply(p)).next(()=>r.localDocuments.getLocalViewOfDocuments(p,V,K)).next(()=>V)}).then(p=>(r.ts=u,p))}(r.localStore,e);e.targetChanges.forEach((u,p)=>{const y=r.ya.get(p);y&&(Qn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Ra=!0:u.modifiedDocuments.size>0?Qn(y.Ra):u.removedDocuments.size>0&&(Qn(y.Ra),y.Ra=!1))}),yield Gh(r,o,e)}catch(o){yield M(o)}}),Xu.apply(this,arguments)}function Pp(i,e,r){const o=Tn(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.ma.forEach((p,y)=>{const O=y.view.Q_(e);O.snapshot&&u.push(O.snapshot)}),function(y,O){const V=Tn(y);V.onlineState=O;let K=!1;V.queries.forEach((fe,Fe)=>{for(const mt of Fe.listeners)mt.Q_(O)&&(K=!0)}),K&&g(V)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function $E(i,e,r){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,Ce.Z)(function*(i,e,r){const o=Tn(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.ya.get(e),p=u&&u.key;if(p){let y=new Gr(yn.comparator);y=y.insert(p,Ji.newNoDocument(p,ir.min()));const O=kr().add(p),V=new Oa(ir.min(),new Map,new Gr(Sr),y,O);yield kf(o,V),o.pa=o.pa.remove(p),o.ya.delete(e),Jm(o)}else yield Na(o.localStore,e,!1).then(()=>xp(o,e,r)).catch(M)}),Q_.apply(this,arguments)}function jE(i,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ce.Z)(function*(i,e){const r=Tn(i),o=e.batch.batchId;try{const u=yield function Dg(i,e){const r=Tn(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=r.ss.newChangeBuffer({trackRemovals:!0});return function(O,V,K,fe){const Fe=K.batch,mt=Fe.keys();let Lt=w.resolve();return mt.forEach(In=>{Lt=Lt.next(()=>fe.getEntry(V,In)).next(Pn=>{const On=K.docVersions.get(In);Qn(null!==On),Pn.version.compareTo(On)<0&&(Fe.applyToRemoteDocument(Pn,K),Pn.isValidDocument()&&(Pn.setReadTime(K.commitVersion),fe.addEntry(Pn)))})}),Lt.next(()=>O.mutationQueue.removeMutationBatch(V,Fe))}(r,o,e,p).next(()=>p.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(O){let V=kr();for(let K=0;K<O.mutationResults.length;++K)O.mutationResults[K].transformResults.length>0&&(V=V.add(O.batch.mutations[K].key));return V}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);Xm(r,o,null),Qm(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Gh(r,u)}catch(u){yield M(u)}}),Zm.apply(this,arguments)}function VI(i,e,r){return zg.apply(this,arguments)}function zg(){return zg=(0,Ce.Z)(function*(i,e,r){const o=Tn(i);try{const u=yield function(y,O){const V=Tn(y);return V.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let fe;return V.mutationQueue.lookupMutationBatch(K,O).next(Fe=>(Qn(null!==Fe),fe=Fe.keys(),V.mutationQueue.removeMutationBatch(K,Fe))).next(()=>V.mutationQueue.performConsistencyCheck(K)).next(()=>V.documentOverlayCache.removeOverlaysForBatchId(K,fe,O)).next(()=>V.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,fe)).next(()=>V.localDocuments.getDocuments(K,fe))})}(o.localStore,e);Xm(o,e,r),Qm(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Gh(o,u)}catch(u){yield M(u)}}),zg.apply(this,arguments)}function Mp(){return Mp=(0,Ce.Z)(function*(i,e){const r=Tn(i);Wd(r.remoteStore)||cn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(y){const O=Tn(y);return O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>O.mutationQueue.getHighestUnacknowledgedBatchId(V))}(r.localStore);if(-1===o)return void e.resolve();const u=r.ba.get(o)||[];u.push(e),r.ba.set(o,u)}catch(o){const u=Zd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Mp.apply(this,arguments)}function Qm(i,e){(i.ba.get(e)||[]).forEach(r=>{r.resolve()}),i.ba.delete(e)}function Xm(i,e,r){const o=Tn(i);let u=o.Sa[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(r?p.reject(r):p.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function xp(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),r&&i.Va.Fa(o,r);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||sy(i,o)})}function sy(i,e){i.ga.delete(e.path.canonicalString());const r=i.pa.get(e);null!==r&&(Ku(i.remoteStore,r),i.pa=i.pa.remove(e),i.ya.delete(r),Jm(i))}function X_(i,e,r){for(const o of r)o instanceof ke?(i.wa.addReference(o.key,e),HE(i,o)):o instanceof wt?(cn("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||sy(i,o.key)):zn()}function HE(i,e){const r=e.key,o=r.path.canonicalString();i.pa.get(r)||i.ga.has(o)||(cn("SyncEngine","New document in limbo: "+r),i.ga.add(o),Jm(i))}function Jm(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const r=new yn(ei.fromString(e)),o=i.Da.next();i.ya.set(o,new En(r)),i.pa=i.pa.insert(r,o),qu(i.remoteStore,new Gl(Or(xa(r.path)),o,"TargetPurposeLimboResolution",cr._e))}}function Gh(i,e,r){return J_.apply(this,arguments)}function J_(){return J_=(0,Ce.Z)(function*(i,e,r){const o=Tn(i),u=[],p=[],y=[];var O;o.ma.isEmpty()||(o.ma.forEach((O,V)=>{y.push(o.va(V,e,r).then(K=>{if((K||r)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,null!=K&&K.fromCache?"not-current":"current"),K){u.push(K);const fe=Kl.Qi(V.targetId,K);p.push(fe)}}))}),yield Promise.all(y),o.Va.a_(u),yield(O=(0,Ce.Z)(function*(K,fe){const Fe=Tn(K);try{yield Fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",mt=>w.forEach(fe,Lt=>w.forEach(Lt.ki,In=>Fe.persistence.referenceDelegate.addReference(mt,Lt.targetId,In)).next(()=>w.forEach(Lt.qi,In=>Fe.persistence.referenceDelegate.removeReference(mt,Lt.targetId,In)))))}catch(mt){if(!rn(mt))throw mt;cn("LocalStore","Failed to update sequence numbers: "+mt)}for(const mt of fe){const Lt=mt.targetId;if(!mt.fromCache){const In=Fe.ts.get(Lt),On=In.withLastLimboFreeSnapshotVersion(In.snapshotVersion);Fe.ts=Fe.ts.insert(Lt,On)}}}),function V(K,fe){return O.apply(this,arguments)})(o.localStore,p))}),J_.apply(this,arguments)}function BI(i,e){return oy.apply(this,arguments)}function oy(){return oy=(0,Ce.Z)(function*(i,e){const r=Tn(i);if(!r.currentUser.isEqual(e)){cn("SyncEngine","User change. New user:",e.toKey());const o=yield jm(r.localStore,e);r.currentUser=e,(p=r).ba.forEach(O=>{O.forEach(V=>{V.reject(new Zt(Ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ba.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Gh(r,o._s)}var p}),oy.apply(this,arguments)}function ay(i,e){const r=Tn(i),o=r.ya.get(e);if(o&&o.Ra)return kr().add(o.key);{let u=kr();const p=r.fa.get(e);if(!p)return u;for(const y of p){const O=r.ma.get(y);u=u.unionWith(O.view.ua)}return u}}function ly(i,e){return cy.apply(this,arguments)}function cy(){return cy=(0,Ce.Z)(function*(i,e){const r=Tn(i),o=yield wf(r.localStore,e.query,!0),u=e.view.da(o);return r.isPrimaryClient&&X_(r,e.targetId,u.Ta),u}),cy.apply(this,arguments)}function Yr(i,e){return e_.apply(this,arguments)}function e_(){return e_=(0,Ce.Z)(function*(i,e){const r=Tn(i);return Rg(r.localStore,e).then(o=>Gh(r,o))}),e_.apply(this,arguments)}function uy(i,e,r,o){return zh.apply(this,arguments)}function zh(){return zh=(0,Ce.Z)(function*(i,e,r,o){const u=Tn(i),p=yield function(O,V){const K=Tn(O),fe=Tn(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Fe=>fe.Cn(Fe,V).next(mt=>mt?K.localDocuments.getDocuments(Fe,mt):w.resolve(null)))}(u.localStore,e);var V;null!==p?("pending"===r?yield xf(u.remoteStore):"acknowledged"===r||"rejected"===r?(Xm(u,e,o||null),Qm(u,e),V=e,Tn(Tn(u.localStore).mutationQueue).Fn(V)):zn(),yield Gh(u,p)):cn("SyncEngine","Cannot apply mutation batch with id: "+e)}),zh.apply(this,arguments)}function ev(){return ev=(0,Ce.Z)(function*(i,e){const r=Tn(i);if(n_(r),Zg(r),!0===e&&!0!==r.Ca){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield Wg(r,o.toArray());r.Ca=!0,yield au(r.remoteStore,!0);for(const p of u)qu(r.remoteStore,p)}else if(!1===e&&!1!==r.Ca){const o=[];let u=Promise.resolve();r.fa.forEach((p,y)=>{r.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(xp(r,y),Na(r.localStore,y,!0))),Ku(r.remoteStore,y)}),yield u,yield Wg(r,o),function(y){const O=Tn(y);O.ya.forEach((V,K)=>{Ku(O.remoteStore,K)}),O.wa.Vr(),O.ya=new Map,O.pa=new Gr(yn.comparator)}(r),r.Ca=!1,yield au(r.remoteStore,!1)}}),ev.apply(this,arguments)}function Wg(i,e,r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,Ce.Z)(function*(i,e,r){const o=Tn(i),u=[],p=[];for(const y of e){let O;const V=o.fa.get(y);if(V&&0!==V.length){O=yield zu(o.localStore,Or(V[0]));for(const K of V){const fe=o.ma.get(K),Fe=yield ly(o,fe);Fe.snapshot&&p.push(Fe.snapshot)}}else{const K=yield Sg(o.localStore,y);O=yield zu(o.localStore,K),yield Hs(o,t_(K),y,!1,O.resumeToken)}u.push(O)}return o.Va.a_(p),u}),Wh.apply(this,arguments)}function t_(i){return Iu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Yg(i){return r=Tn(i).localStore,Tn(Tn(r).persistence).Bi();var r}function hy(i,e,r,o){return qg.apply(this,arguments)}function qg(){return qg=(0,Ce.Z)(function*(i,e,r,o){const u=Tn(i);if(u.Ca)return void cn("SyncEngine","Ignoring unexpected query state notification.");const p=u.fa.get(e);if(p&&p.length>0)switch(r){case"current":case"not-current":{const y=yield Rg(u.localStore,Bl(p[0])),O=Oa.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,Cs.EMPTY_BYTE_STRING);yield Gh(u,y,O);break}case"rejected":yield Na(u.localStore,e,!0),xp(u,e,o);break;default:zn()}}),qg.apply(this,arguments)}function tv(i,e,r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ce.Z)(function*(i,e,r){const o=n_(i);if(o.Ca){for(const u of e){if(o.fa.has(u)){cn("SyncEngine","Adding an already active target "+u);continue}const p=yield Sg(o.localStore,u),y=yield zu(o.localStore,p);yield Hs(o,t_(p),y.targetId,!1,y.resumeToken),qu(o.remoteStore,y)}for(const u of r)o.fa.has(u)&&(yield Na(o.localStore,u,!1).then(()=>{Ku(o.remoteStore,u),xp(o,u)}).catch(M))}}),Kg.apply(this,arguments)}function n_(i){const e=Tn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=kf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ay.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$E.bind(null,e),e.Va.a_=l.bind(null,e.eventManager),e.Va.Fa=c.bind(null,e.eventManager),e}function Zg(i){const e=Tn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VI.bind(null,e),e}class Qg{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Ce.Z)(function*(){r.serializer=Af(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return $m(this.persistence,new Cf,e.initialUser,this.serializer)}createPersistence(e){return new Lh(ql.jr,this.serializer)}createSharedClientState(e){return new Cl}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r_ extends Qg{constructor(e,r,o){super(),this.xa=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,Ce.Z)(function*(){yield r().call(o,e),yield o.xa.initialize(o,e),yield Zg(o.xa.syncEngine),yield xf(o.xa.remoteStore),yield o.persistence.mi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $m(this.persistence,new Cf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new ju(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const o=new sr(r,this.persistence);return new gi(e.asyncQueue,o)}createPersistence(e){const r=bc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?sa.withCacheSize(this.cacheSizeBytes):sa.DEFAULT;return new wg(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Gm(),bf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Cl}}class fy extends r_{constructor(e,r){super(e,r,!1),this.xa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,Ce.Z)(function*(){yield r().call(o,e);const u=o.xa.syncEngine;o.sharedClientState instanceof Fh&&(o.sharedClientState.syncEngine={Ys:uy.bind(null,u),Zs:hy.bind(null,u),Xs:tv.bind(null,u),Bi:Yg.bind(null,u),Js:Yr.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.mi(function(){var p=(0,Ce.Z)(function*(y){yield function dy(i,e){return ev.apply(this,arguments)}(o.xa.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start():y||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(y&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():y||o.indexBackfillerScheduler.stop())});return function(y){return p.apply(this,arguments)}}())})()}createSharedClientState(e){const r=Gm();if(!Fh.D(r))throw new Zt(Ft.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=bc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fh(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Op{initialize(e,r){var o=this;return(0,Ce.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Pp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,o.syncEngine),yield au(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iy}createDatastore(e){const r=Af(e.databaseInfo.databaseId),o=new Y_(e.databaseInfo);return new ty(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return o=this.localStore,u=this.datastore,p=e.asyncQueue,y=r=>Pp(this.syncEngine,r,0),O=Ip.D()?new Ip:new xg,new Lg(o,u,p,y,O);var o,u,p,y,O}createSyncEngine(e,r){return function(u,p,y,O,V,K,fe){const Fe=new Ln(u,p,y,O,V,K);return fe&&(Fe.Ca=!0),Fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Ce.Z)(function*(o){const u=Tn(o);cn("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield iu(u),u.F_.shutdown(),u.M_.set("Unknown")}),function r(o){return e.apply(this,arguments)})(this.remoteStore);var e}}function py(i,e=10240){let r=0;return{read:()=>(0,Ce.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class i_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class gy{constructor(e,r){this.Ba=e,this.serializer=r,this.metadata=new Kn,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(o=>{o&&o.Z_()?this.metadata.resolve(o.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Y_)}`))},o=>this.metadata.reject(o))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.qa();if(null===r)return null;const o=e.La.decode(r),u=Number(o);isNaN(u)&&e.Qa(`length string (${o}) is not valid number`);const p=yield e.Ka(u);return new P(JSON.parse(p),r.length+u)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,Ce.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const r=e.$a();r<0&&e.Qa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}Ka(e){var r=this;return(0,Ce.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ua())&&r.Qa("Reached the end of bundle when more is expected.");const o=r.La.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,Ce.Z)(function*(){const r=yield e.Ba.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class my{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Ce.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Zt(Ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ce.Z)(function*(y,O){const V=Tn(y),K=Fu(V.serializer)+"/documents",fe={documents:O.map(In=>jl(V.serializer,In))},Fe=yield V.Co("BatchGetDocuments",K,fe,O.length),mt=new Map;Fe.forEach(In=>{const Pn=function ag(i,e){return"found"in e?function(o,u){Qn(!!u.found);const p=na(o,u.found.name),y=es(u.found.updateTime),O=u.found.createTime?es(u.found.createTime):ir.min(),V=new Io({mapValue:{fields:u.found.fields}});return Ji.newFoundDocument(p,y,O,V)}(i,e):"missing"in e?function(o,u){Qn(!!u.missing),Qn(!!u.readTime);const p=na(o,u.missing),y=es(u.readTime);return Ji.newNoDocument(p,y)}(i,e):zn()}(V.serializer,In);mt.set(Pn.key.toString(),Pn)});const Lt=[];return O.forEach(In=>{const Pn=mt.get(In.toString());Qn(!!Pn),Lt.push(Pn)}),Lt}),function p(y,O){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const p=yn.fromPath(u);e.mutations.push(new Rd(p,e.precondition(p)))}),yield(o=(0,Ce.Z)(function*(p,y){const O=Tn(p),V=Fu(O.serializer)+"/documents",K={writes:y.map(fe=>Ah(O.serializer,fe))};yield O.wo("Commit",V,K)}),function u(p,y){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw zn();r=ir.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Zt(Ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ir.min())?as.exists(!1):as.updateTime(r):as.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ir.min()))throw new Zt(Ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return as.updateTime(r)}return as.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WE{constructor(e,r,o,u,p){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=p,this.Wa=o.maxAttempts,this.zo=new Cp(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,Ce.Z)(function*(){const r=new my(e.datastore),o=e.za(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.ja(p)}))}).catch(u=>{e.ja(u)})}))}za(e){try{const r=this.updateFunction(e);return!Wn(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!rl(r)}return!1}}class YE{constructor(e,r,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=pi.UNAUTHENTICATED,this.clientId=uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,Ce.Z)(function*(O){cn("FirestoreClient","Received user=",O.uid),yield p.authCredentialListener(O),p.user=O});return function(O){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(cn("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Zt(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Zd(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function ka(i,e){return nv.apply(this,arguments)}function nv(){return nv=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),cn("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,Ce.Z)(function*(p){o.isEqual(p)||(yield jm(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),nv.apply(this,arguments)}function rv(i,e){return _y.apply(this,arguments)}function _y(){return _y=(0,Ce.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield o_(i);cn("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>Nf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>Nf(e.remoteStore,p)),i._onlineComponents=e}),_y.apply(this,arguments)}function s_(i){return"FirebaseError"===i.name?i.code===Ft.FAILED_PRECONDITION||i.code===Ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function o_(i){return iv.apply(this,arguments)}function iv(){return iv=(0,Ce.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){cn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ka(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!s_(r))throw r;Wi("Error using user provided cache. Falling back to memory cache: "+r),yield ka(i,new Qg)}}else cn("FirestoreClient","Using default OfflineComponentProvider"),yield ka(i,new Qg);return i._offlineComponents}),iv.apply(this,arguments)}function a_(i){return sv.apply(this,arguments)}function sv(){return sv=(0,Ce.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(cn("FirestoreClient","Using user provided OnlineComponentProvider"),yield rv(i,i._uninitializedComponentsProvider._online)):(cn("FirestoreClient","Using default OnlineComponentProvider"),yield rv(i,new Op))),i._onlineComponents}),sv.apply(this,arguments)}function ov(i){return o_(i).then(e=>e.persistence)}function Np(i){return o_(i).then(e=>e.localStore)}function vy(i){return a_(i).then(e=>e.remoteStore)}function Xg(i){return a_(i).then(e=>e.syncEngine)}function kp(i){return av.apply(this,arguments)}function av(){return av=(0,Ce.Z)(function*(i){const e=yield a_(i),r=e.eventManager;return r.onListen=Mr.bind(null,e.syncEngine),r.onUnlisten=ls.bind(null,e.syncEngine),r}),av.apply(this,arguments)}function l_(i,e,r={}){const o=new Kn;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(p,y,O,V,K){const fe=new i_({next:mt=>{y.enqueueAndForget(()=>Km(p,Fe));const Lt=mt.docs.has(O);!Lt&&mt.fromCache?K.reject(new Zt(Ft.UNAVAILABLE,"Failed to get document because the client is offline.")):Lt&&mt.fromCache&&V&&"server"===V.source?K.reject(new Zt(Ft.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(mt)},error:mt=>K.reject(mt)}),Fe=new I(xa(O.path),fe,{includeMetadataChanges:!0,J_:!0});return Ym(p,Fe)}(yield kp(i),i.asyncQueue,e,r,o)})),o.promise}function lv(i,e,r={}){const o=new Kn;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(p,y,O,V,K){const fe=new i_({next:mt=>{y.enqueueAndForget(()=>Km(p,Fe)),mt.fromCache&&"server"===V.source?K.reject(new Zt(Ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(mt)},error:mt=>K.reject(mt)}),Fe=new I(O,fe,{includeMetadataChanges:!0,J_:!0});return Ym(p,Fe)}(yield kp(i),i.asyncQueue,e,r,o)})),o.promise}function uv(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const dv=new Map;function u_(i,e,r){if(!r)throw new Zt(Ft.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jg(i,e,r,o){if(!0===e&&!0===o)throw new Zt(Ft.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function d_(i){if(!yn.isDocumentKey(i))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ed(i){if(yn.isDocumentKey(i))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function h_(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":zn()}function di(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Zt(Ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=h_(i);throw new Zt(Ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function Cy(i,e){if(e<=0)throw new Zt(Ft.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class XE{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Zt(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Zt(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uv(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Zt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Zt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Zt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lp{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Zt(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Zt(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Dm;switch(o.type){case"firstParty":return new mu(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Zt(Ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=dv.get(r);o&&(cn("ComponentProvider","Removing Datastore"),dv.delete(r),o.terminate())}(this),Promise.resolve()}}class oa{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class ws{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new td(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class td extends oa{constructor(e,r,o){super(e,r,xa(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new yn(e))}withConverter(e){return new td(this.firestore,e,this._path)}}function hv(i,e,...r){if(i=(0,_e.m9)(i),u_("collection","path",e),i instanceof Lp){const o=ei.fromString(e,...r);return ed(o),new td(i,null,o)}{if(!(i instanceof ws||i instanceof td))throw new Zt(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ei.fromString(e,...r));return ed(o),new td(i.firestore,null,o)}}function em(i,e,...r){if(i=(0,_e.m9)(i),1===arguments.length&&(e=uh.newId()),u_("doc","path",e),i instanceof Lp){const o=ei.fromString(e,...r);return d_(o),new ws(i,null,new yn(o))}{if(!(i instanceof ws||i instanceof td))throw new Zt(Ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ei.fromString(e,...r));return d_(o),new ws(i.firestore,i instanceof td?i.converter:null,new yn(o))}}function Fp(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),(i instanceof ws||i instanceof td)&&(e instanceof ws||e instanceof td)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Lf(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),i instanceof oa&&e instanceof oa&&i.firestore===e.firestore&&Gc(i._query,e._query)&&i.converter===e.converter}class Dy{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Cp(this,"async_queue_retry"),this.iu=()=>{const r=bf();r&&cn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=bf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=bf();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new Kn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(r){if(!rn(r))throw r;cn("AsyncQueue","Operation failed with retryable error: "+r)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,ss("INTERNAL UNHANDLED ERROR: ",function(y){let O=y.message||"";return y.stack&&(O=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),O}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=r,r}enqueueAfterDelay(e,r,o){this.su(),this.ru.indexOf(e)>-1&&(r=0);const u=jg.createAndSchedule(this,e,r,o,p=>this.au(p));return this.Xa.push(u),u}su(){this.eu&&zn()}verifyOperationInProgress(){}uu(){var e=this;return(0,Ce.Z)(function*(){let r;do{r=e.Ja,yield r}while(r!==e.Ja)})()}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}function fv(i){return function(r,o){if("object"!=typeof r||null===r)return!1;const u=r;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(i)}class JE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _s extends Lp{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new Dy,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||by(this),this._firestoreClient.terminate()}}function Ts(i){return i._firestoreClient||by(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function by(i){var e,r,o;const u=i._freezeSettings(),p=(V=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new uc(i._databaseId,V,i._persistenceKey,(fe=u).host,fe.ssl,fe.experimentalForceLongPolling,fe.experimentalAutoDetectLongPolling,uv(fe.experimentalLongPollingOptions),fe.useFetchStreams));var V,fe;i._firestoreClient=new YE(i._authCredentials,i._appCheckCredentials,i._queue,p),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Ay(i,e,r){const o=new Kn;return i.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield ka(i,r),yield rv(i,e),o.resolve()}catch(u){const p=u;if(!s_(p))throw p;Wi("Error enabling indexeddb cache. Falling back to memory cache: "+p),o.reject(p)}})).then(()=>o.promise)}function Ry(i){if(i._initialized||i._terminated)throw new Zt(Ft.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(Cs.fromBase64String(e))}catch(r){throw new Zt(Ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new lu(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xd{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Zt(Ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vs{constructor(e){this._methodName=e}}class f_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Zt(Ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Zt(Ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sr(this._lat,e._lat)||Sr(this._long,e._long)}}const pv=/^__.*__$/;class a0{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new $l(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ec(e,this.data,r,this.fieldTransforms)}}class Py{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new $l(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function p_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zn()}}class tm{constructor(e,r,o,u,p,y){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.Pu(),this.fieldTransforms=p||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return om(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(p_(this.Iu)&&pv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class My{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||Af(e)}pu(e,r,o,u=!1){return new tm({Iu:e,methodName:r,gu:o,path:ri.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bf(i){const e=i._freezeSettings(),r=Af(i._databaseId);return new My(i._databaseId,!!e.ignoreUndefinedProperties,r)}function nm(i,e,r,o,u,p={}){const y=i.pu(p.merge||p.mergeFields?2:0,e,r,u);rm("Data must be an object, but it was:",y,o);const O=ky(o,y);let V,K;if(p.merge)V=new eo(y.fieldMask),K=y.fieldTransforms;else if(p.mergeFields){const fe=[];for(const Fe of p.mergeFields){const mt=im(e,Fe,r);if(!y.contains(mt))throw new Zt(Ft.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);Fy(fe,mt)||fe.push(mt)}V=new eo(fe),K=y.fieldTransforms.filter(Fe=>V.covers(Fe.field))}else V=null,K=y.fieldTransforms;return new a0(new Io(O),V,K)}class Vp extends vs{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vp}}function xy(i,e,r){return new tm({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jd extends vs{_toFieldTransform(e){return new Wc(e.path,new Bs)}isEqual(e){return e instanceof Jd}}class Oy extends vs{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=xy(this,e,!0),o=this.yu.map(p=>rd(p,r)),u=new ta(o);return new Wc(e.path,u)}isEqual(e){return this===e}}class Ny extends vs{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=xy(this,e,!0),o=this.yu.map(p=>rd(p,r)),u=new _c(o);return new Wc(e.path,u)}isEqual(e){return this===e}}class l0 extends vs{constructor(e,r){super(e),this.wu=r}_toFieldTransform(e){const r=new zc(e.serializer,Ad(e.serializer,this.wu));return new Wc(e.path,r)}isEqual(e){return this===e}}function g_(i,e,r,o){const u=i.pu(1,e,r);rm("Data must be an object, but it was:",u,o);const p=[],y=Io.empty();ks(o,(V,K)=>{const fe=sm(e,V,r);K=(0,_e.m9)(K);const Fe=u.Ru(fe);if(K instanceof Vp)p.push(fe);else{const mt=rd(K,Fe);null!=mt&&(p.push(fe),y.set(fe,mt))}});const O=new eo(p);return new Py(y,O,u.fieldTransforms)}function m_(i,e,r,o,u,p){const y=i.pu(1,e,r),O=[im(e,o,r)],V=[u];if(p.length%2!=0)throw new Zt(Ft.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<p.length;mt+=2)O.push(im(e,p[mt])),V.push(p[mt+1]);const K=[],fe=Io.empty();for(let mt=O.length-1;mt>=0;--mt)if(!Fy(K,O[mt])){const Lt=O[mt];let In=V[mt];In=(0,_e.m9)(In);const Pn=y.Ru(Lt);if(In instanceof Vp)K.push(Lt);else{const On=rd(In,Pn);null!=On&&(K.push(Lt),fe.set(Lt,On))}}const Fe=new eo(K);return new Py(fe,Fe,y.fieldTransforms)}function gv(i,e,r,o=!1){return rd(r,i.pu(o?4:3,e))}function rd(i,e){if(Ly(i=(0,_e.m9)(i)))return rm("Unsupported field value:",e,i),ky(i,e);if(i instanceof vs)return function(o,u){if(!p_(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const p=[];let y=0;for(const O of o){let V=rd(O,u.Vu(y));null==V&&(V={nullValue:"NULL_VALUE"}),p.push(V),y++}return{arrayValue:{values:p}}}(i,e)}return function(o,u){if(null===(o=(0,_e.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Ad(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=Yi.fromDate(o);return{timestampValue:ho(u.serializer,p)}}if(o instanceof Yi){const p=new Yi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ho(u.serializer,p)}}if(o instanceof f_)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof lu)return{bytesValue:Pd(u.serializer,o._byteString)};if(o instanceof ws){const p=u.databaseId,y=o.firestore._databaseId;if(!y.isEqual(p))throw u.mu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:ku(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${h_(o)}`)}(i,e)}function ky(i,e){const r={};return gd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(i,(o,u)=>{const p=rd(u,e.Eu(o));null!=p&&(r[o]=p)}),{mapValue:{fields:r}}}function Ly(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Yi||i instanceof f_||i instanceof lu||i instanceof ws||i instanceof vs)}function rm(i,e,r){if(!Ly(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=h_(r);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function im(i,e,r){if((e=(0,_e.m9)(e))instanceof Xd)return e._internalPath;if("string"==typeof e)return sm(i,e);throw om("Field path arguments must be of type string or ",i,!1,void 0,r)}const __=new RegExp("[~\\*/\\[\\]]");function sm(i,e,r){if(e.search(__)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Xd(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function om(i,e,r,o,u){const p=o&&!o.isEmpty(),y=void 0!==u;let O=`Function ${e}() called with invalid data`;r&&(O+=" (via `toFirestore()`)"),O+=". ";let V="";return(p||y)&&(V+=" (found",p&&(V+=` in field ${o}`),y&&(V+=` in document ${u}`),V+=")"),new Zt(Ft.INVALID_ARGUMENT,O+i+V)}function Fy(i,e){return i.some(r=>r.isEqual(e))}class am{constructor(e,r,o,u,p){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class lm extends am{data(){return super.data()}}function v_(i,e){return"string"==typeof e?sm(i,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}function Vy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Zt(Ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class cm extends mv{}function Yh(i,e,...r){let o=[];e instanceof mv&&o.push(e),o=o.concat(r),function(p){const y=p.filter(V=>V instanceof Bp).length,O=p.filter(V=>V instanceof um).length;if(y>1||y>0&&O>0)throw new Zt(Ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class um extends cm{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new um(e,r,o)}_apply(e){const r=this._parse(e);return yv(e._query,r),new oa(e.firestore,e.converter,jc(e._query,r))}_parse(e){const r=Bf(e.firestore);return function(p,y,O,V,K,fe,Fe){let mt;if(K.isKeyField()){if("array-contains"===fe||"array-contains-any"===fe)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${fe}' queries on documentId().`);if("in"===fe||"not-in"===fe){vv(Fe,fe);const Lt=[];for(const In of Fe)Lt.push(g0(V,p,In));mt={arrayValue:{values:Lt}}}else mt=g0(V,p,Fe)}else"in"!==fe&&"not-in"!==fe&&"array-contains-any"!==fe||vv(Fe,fe),mt=gv(O,"where",Fe,"in"===fe||"not-in"===fe);return zr.create(K,fe,mt)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Bp extends mv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Bp(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:yi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,p){let y=u;const O=p.getFlattenedFilters();for(const V of O)yv(y,V),y=jc(y,V)}(e._query,r),new oa(e.firestore,e.converter,jc(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _v extends cm{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new _v(e,r)}_apply(e){const r=function(u,p,y){if(null!==u.startAt)throw new Zt(Ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Zt(Ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vl(p,y)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(u,p){const y=u.explicitOrderBy.concat([p]);return new ea(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class E_ extends cm{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new E_(e,r,o)}_apply(e){return new oa(e.firestore,e.converter,Hc(e._query,this._limit,this._limitType))}}class I_ extends cm{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new I_(e,r,o)}_apply(e){const r=jy(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(p=r,new ea((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class C_ extends cm{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new C_(e,r,o)}_apply(e){const r=jy(e,this.type,this._docOrFields,this._inclusive);return new oa(e.firestore,e.converter,(p=r,new ea((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function jy(i,e,r,o){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof am)return function(p,y,O,V,K){if(!V)throw new Zt(Ft.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${O}().`);const fe=[];for(const Fe of Cu(p))if(Fe.field.isKeyField())fe.push(Xo(y,V.key));else{const mt=V.data.field(Fe.field);if(vi(mt))throw new Zt(Ft.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===mt){const Lt=Fe.field.canonicalString();throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Lt}' (used as the orderBy) does not exist.`)}fe.push(mt)}return new _l(fe,K)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=Bf(i.firestore);return function(y,O,V,K,fe,Fe){const mt=y.explicitOrderBy;if(fe.length>mt.length)throw new Zt(Ft.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Lt=[];for(let In=0;In<fe.length;In++){const Pn=fe[In];if(mt[In].field.isKeyField()){if("string"!=typeof Pn)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof Pn}`);if(!Xa(y)&&-1!==Pn.indexOf("/"))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${Pn}' contains a slash.`);const On=y.path.child(ei.fromString(Pn));if(!yn.isDocumentKey(On))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const gr=new yn(On);Lt.push(Xo(O,gr))}else{const On=gv(V,K,Pn);Lt.push(On)}}return new _l(Lt,Fe)}(i._query,i.firestore._databaseId,u,e,r,o)}}function g0(i,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new Zt(Ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xa(e)&&-1!==r.indexOf("/"))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(ei.fromString(r));if(!yn.isDocumentKey(o))throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Xo(i,new yn(o))}if(r instanceof ws)return Xo(i,r._key);throw new Zt(Ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h_(r)}.`)}function vv(i,e){if(!Array.isArray(i)||0===i.length)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yv(i,e){const r=function(u,p){for(const y of u)for(const O of y.getFlattenedFilters())if(p.indexOf(O.op)>=0)return O.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Zt(Ft.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Uf{convertValue(e,r="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ml(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw zn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return ks(e,(u,p)=>{o[u]=this.convertValue(p,r)}),o}convertGeoPoint(e){return new f_(fs(e.latitude),fs(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=ml(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const r=qa(e);return new Yi(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=ei.fromString(e);Qn(tp(o));const u=new ma(o.get(1),o.get(3)),p=new yn(o.popFirst(5));return u.isEqual(r)||ss(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),p}}function Gs(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class $f extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}class Rc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tl extends am{constructor(e,r,o,u,p,y){super(e,r,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(v_("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class id extends Tl{data(e={}){return super.data(e)}}class Ql{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Rc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new id(this._firestore,this._userDataWriter,o.key,o,new Rc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Zt(Ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(O=>({type:"added",doc:new id(u._firestore,u._userDataWriter,O.doc.key,O.doc,new Rc(u._snapshot.mutatedKeys.has(O.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(O=>p||3!==O.type).map(O=>{const V=new id(u._firestore,u._userDataWriter,O.doc.key,O.doc,new Rc(u._snapshot.mutatedKeys.has(O.doc.key),u._snapshot.fromCache),u.query.converter);let K=-1,fe=-1;return 0!==O.type&&(K=y.indexOf(O.doc.key),y=y.delete(O.doc.key)),1!==O.type&&(y=y.add(O.doc),fe=y.indexOf(O.doc.key)),{type:Up(O.type),doc:V,oldIndex:K,newIndex:fe}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Up(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}function jf(i,e){return i instanceof Tl&&e instanceof Tl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ql&&e instanceof Ql&&i._firestore===e._firestore&&Lf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class eh extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,r)}}function Cv(i,e,r){i=di(i,ws);const o=di(i.firestore,_s),u=Gs(i.converter,e,r);return jp(o,[nm(Bf(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,as.none())])}function wv(i,e,r,...o){i=di(i,ws);const u=di(i.firestore,_s),p=Bf(u);let y;return y="string"==typeof(e=(0,_e.m9)(e))||e instanceof Xd?m_(p,"updateDoc",i._key,e,r,o):g_(p,"updateDoc",i._key,e),jp(u,[y.toMutation(i._key,as.exists(!0))])}function th(i,...e){var r,o,u;i=(0,_e.m9)(i);let p={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||fv(e[y])||(p=e[y],y++);const O={includeMetadataChanges:p.includeMetadataChanges};if(fv(e[y])){const Fe=e[y];e[y]=null===(r=Fe.next)||void 0===r?void 0:r.bind(Fe),e[y+1]=null===(o=Fe.error)||void 0===o?void 0:o.bind(Fe),e[y+2]=null===(u=Fe.complete)||void 0===u?void 0:u.bind(Fe)}let V,K,fe;if(i instanceof ws)K=di(i.firestore,_s),fe=xa(i._key.path),V={next:Fe=>{e[y]&&e[y](fm(K,i,Fe))},error:e[y+1],complete:e[y+2]};else{const Fe=di(i,oa);K=di(Fe.firestore,_s),fe=Fe._query;const mt=new eh(K);V={next:Lt=>{e[y]&&e[y](new Ql(K,mt,Fe,Lt))},error:e[y+1],complete:e[y+2]},Vy(i._query)}return function(mt,Lt,In,Pn){const On=new i_(Pn),gr=new I(Lt,On,In);return mt.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Ym(yield kp(mt),gr)})),()=>{On.Na(),mt.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Km(yield kp(mt),gr)}))}}(Ts(K),fe,O,V)}function jp(i,e){return function(o,u){const p=new Kn;return o.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function jh(i,e,r){return wl.apply(this,arguments)}(yield Xg(o),u,p)})),p.promise}(Ts(i),e)}function fm(i,e,r){const o=r.docs.get(e._key),u=new eh(i);return new Tl(i,u,e._key,o,new Rc(r.hasPendingWrites,r.fromCache),e.converter)}const Zy={maxAttempts:5};class Qy{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Bf(e)}set(e,r,o){this._verifyNotCommitted();const u=nh(e,this._firestore),p=Gs(u.converter,r,o),y=nm(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,as.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const p=nh(e,this._firestore);let y;return y="string"==typeof(r=(0,_e.m9)(r))||r instanceof Xd?m_(this._dataReader,"WriteBatch.update",p._key,r,o,u):g_(this._dataReader,"WriteBatch.update",p._key,r),this._mutations.push(y.toMutation(p._key,as.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=nh(e,this._firestore);return this._mutations=this._mutations.concat(new ro(r._key,as.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Zt(Ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(i,e){if((i=(0,_e.m9)(i)).firestore!==e)throw new Zt(Ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Xy extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=Bf(r)}get(r){const o=nh(r,this._firestore),u=new $f(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return zn();const y=p[0];if(y.isFoundDocument())return new am(this._firestore,u,y.key,y,o.converter);if(y.isNoDocument())return new am(this._firestore,u,o._key,null,o.converter);throw zn()})}set(r,o,u){const p=nh(r,this._firestore),y=Gs(p.converter,o,u),O=nm(this._dataReader,"Transaction.set",p._key,y,null!==p.converter,u);return this._transaction.set(p._key,O),this}update(r,o,u,...p){const y=nh(r,this._firestore);let O;return O="string"==typeof(o=(0,_e.m9)(o))||o instanceof Xd?m_(this._dataReader,"Transaction.update",y._key,o,u,p):g_(this._dataReader,"Transaction.update",y._key,o),this._transaction.update(y._key,O),this}delete(r){const o=nh(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=nh(e,this._firestore),o=new eh(this._firestore);return super.get(e).then(u=>new Tl(this._firestore,o,r._key,u._document,new Rc(!1,!1),r.converter))}}function bv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Zt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function iE(){if(typeof Uint8Array>"u")throw new Zt("unimplemented","Uint8Arrays are not available in this environment.")}function b_(){if(!function cc(){return typeof atob<"u"}())throw new Zt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){Ns=Be.SDK_VERSION,(0,Be._registerComponent)(new Xe.wA("firestore",(o,{instanceIdentifier:u,options:p})=>{const y=o.getProvider("app").getImmediate(),O=new _s(new ch(o.getProvider("auth-internal")),new sc(o.getProvider("app-check-internal")),function(K,fe){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new Zt(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ma(K.options.projectId,fe)}(y,u),y);return p=Object.assign({useFetchStreams:r},p),O._setSettings(p),O},"PUBLIC").setMultipleInstances(!0)),(0,Be.registerVersion)(Ps,"4.3.2",e),(0,Be.registerVersion)(Ps,"4.3.2","esm2017")}();class ih{constructor(e){this._delegate=e}static fromBase64String(e){return b_(),new ih(lu.fromBase64String(e))}static fromUint8Array(e){return iE(),new ih(lu.fromUint8Array(e))}toBase64(){return b_(),this._delegate.toBase64()}toUint8Array(){return iE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Av(i){return function sE(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class D0{enableIndexedDbPersistence(e,r){return function t0(i,e){Ry(i=di(i,_s));const r=Ts(i);if(r._uninitializedComponentsProvider)throw new Zt(Ft.FAILED_PRECONDITION,"SDK cache is already specified.");Wi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),u=new Op;return Ay(r,u,new r_(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function $I(i){Ry(i=di(i,_s));const e=Ts(i);if(e._uninitializedComponentsProvider)throw new Zt(Ft.FAILED_PRECONDITION,"SDK cache is already specified.");Wi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),o=new Op;return Ay(e,o,new fy(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function n0(i){if(i._initialized&&!i._terminated)throw new Zt(Ft.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kn;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(r=(0,Ce.Z)(function*(u){if(!ae.D())return Promise.resolve();const p=u+"main";yield ae.delete(p)}),function o(u){return r.apply(this,arguments)})(bc(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class oE{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ma||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Wi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function wy(i,e,r,o={}){var u;const p=(i=di(i,Lp))._getSettings(),y=`${e}:${r}`;if("firestore.googleapis.com"!==p.host&&p.host!==y&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},p),{host:y,ssl:!1})),o.mockUserToken){let O,V;if("string"==typeof o.mockUserToken)O=o.mockUserToken,V=pi.MOCK_USER;else{O=(0,_e.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new Zt(Ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");V=new pi(K)}i._authCredentials=new ud(new gu(O,V))}}(this._delegate,e,r,o)}enableNetwork(){return function s0(i){return function qE(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield ov(i),r=yield vy(i);return e.setNetworkEnabled(!0),function(u){const p=Tn(u);return p.C_.delete(0),zd(p)}(r)}))}(Ts(i=di(i,_s)))}(this._delegate)}disableNetwork(){return function o0(i){return function KE(i){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield ov(i),r=yield vy(i);return e.setNetworkEnabled(!1),(o=(0,Ce.Z)(function*(p){const y=Tn(p);y.C_.add(0),yield iu(y),y.M_.set("Offline")}),function u(p){return o.apply(this,arguments)})(r);var o}))}(Ts(i=di(i,_s)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Jg("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function r0(i){return function(r){const o=new Kn;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Hh(i,e){return Mp.apply(this,arguments)}(yield Xg(r),o)})),o.promise}(Ts(i=di(i,_s)))}(this._delegate)}onSnapshotsInSync(e){return function m0(i,e){return function QE(i,e){const r=new i_(e);return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return u=yield kp(i),p=r,Tn(u).q_.add(p),void p.next();var u,p})),()=>{r.Na(),i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return u=yield kp(i),p=r,void Tn(u).q_.delete(p);var u,p}))}}(Ts(i=di(i,_s)),fv(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Zt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zp(this,hv(this._delegate,e))}catch(r){throw ol(r,"collection()","Firestore.collection()")}}doc(e){try{return new Mc(this,em(this._delegate,e))}catch(r){throw ol(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new al(this,function Ty(i,e){if(i=di(i,Lp),u_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Zt(Ft.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(i,null,(o=e,new ea(ei.emptyPath(),o)));var o}(this._delegate,e))}catch(r){throw ol(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Gp(i,e,r){i=di(i,_s);const o=Object.assign(Object.assign({},Zy),r);return function(p){if(p.maxAttempts<1)throw new Zt(Ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,y,O){const V=new Kn;return p.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const K=yield function yy(i){return a_(i).then(e=>e.datastore)}(p);new WE(p.asyncQueue,K,O,y,V).run()})),V.promise}(Ts(i),u=>e(new Xy(i,u)),o)}(this._delegate,r=>e(new mm(this,r)))}batch(){return Ts(this._delegate),new lE(new Qy(this._delegate,e=>jp(this._delegate,e)))}loadBundle(e){return function Sy(i,e){const r=Ts(i=di(i,_s)),o=new JE;return function Ey(i,e,r,o){const u=function(y,O){let V;return V="string"==typeof y?af().encode(y):y,fe=function(fe,Fe){if(fe instanceof Uint8Array)return py(fe,void 0);if(fe instanceof ArrayBuffer)return py(new Uint8Array(fe),void 0);if(fe instanceof ReadableStream)return fe.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new gy(fe,O);var fe}(r,Af(e));i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function GE(i,e,r){const o=Tn(i);var u;(u=(0,Ce.Z)(function*(y,O,V){try{const K=yield O.getMetadata();if(yield function(In,Pn){const On=Tn(In),gr=es(Pn.createTime);return On.persistence.runTransaction("hasNewerBundle","readonly",xr=>On.Kr.getBundleMetadata(xr,Pn.id)).then(xr=>!!xr&&xr.createTime.compareTo(gr)>=0)}(y.localStore,K))return yield O.close(),V._completeWith({taskState:"Success",documentsLoaded:(In=K).totalDocuments,bytesLoaded:In.totalBytes,totalDocuments:In.totalDocuments,totalBytes:In.totalBytes}),Promise.resolve(new Set);V._updateProgress(ye(K));const fe=new ne(K,y.localStore,O.serializer);let Fe=yield O.Ma();for(;Fe;){const Lt=yield fe.ea(Fe);Lt&&V._updateProgress(Lt),Fe=yield O.Ma()}const mt=yield fe.complete();return yield Gh(y,mt.ra,void 0),yield function(In,Pn){const On=Tn(In);return On.persistence.runTransaction("Save bundle","readwrite",gr=>On.Kr.saveBundleMetadata(gr,Pn))}(y.localStore,K),V._completeWith(mt.progress),Promise.resolve(mt.na)}catch(K){return Wi("SyncEngine",`Loading bundle failed with ${K}`),V._failWith(K),Promise.resolve(new Set)}var In}),function p(y,O,V){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Xg(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ff(i,e){return function Iy(i,e){return i.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(o,u){const p=Tn(o);return p.persistence.runTransaction("Get named query","readonly",y=>p.Kr.getNamedQuery(y,u))}(yield Np(i),e)}))}(Ts(i=di(i,_s)),e).then(r=>r?new oa(i,null,r.query):null)}(this._delegate,e).then(r=>r?new al(this,r):null)}}class gm extends Uf{constructor(e){super(),this.firestore=e}convertBytes(e){return new ih(new lu(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Mc.forKey(r,this.firestore,null)}}class mm{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new gm(e)}get(e){const r=sh(e);return this._delegate.get(r).then(o=>new _m(this._firestore,new Tl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=sh(e);return o?(bv("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=sh(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=sh(e);return this._delegate.delete(r),this}}class lE{constructor(e){this._delegate=e}set(e,r,o){const u=sh(e);return o?(bv("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const p=sh(e);return 2===arguments.length?this._delegate.update(p,r):this._delegate.update(p,r,o,...u),this}delete(e){const r=sh(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class qh{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new id(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vm(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=qh.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let p=u.get(r);return p||(p=new qh(e,new gm(e),r),u.set(r,p)),p}}qh.INSTANCES=new WeakMap;class Mc{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new gm(e)}static forPath(e,r,o){if(e.length%2!=0)throw new Zt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Mc(r,new ws(r._delegate,o,new yn(e)))}static forKey(e,r,o){return new Mc(r,new ws(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new zp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zp(this.firestore,hv(this._delegate,e))}catch(r){throw ol(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.m9)(e))instanceof ws&&Fp(this._delegate,e)}set(e,r){r=bv("DocumentReference.set",r);try{return r?Cv(this._delegate,e,r):Cv(this._delegate,e)}catch(o){throw ol(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?wv(this._delegate,e):wv(this._delegate,e,r,...o)}catch(u){throw ol(u,"updateDoc()","DocumentReference.update()")}}delete(){return function qy(i){return jp(di(i.firestore,_s),[new ro(i._key,as.none())])}(this._delegate)}onSnapshot(...e){const r=cE(e),o=uE(e,u=>new _m(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return th(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Hy(i){i=di(i,ws);const e=di(i.firestore,_s),r=Ts(e),o=new eh(e);return function Ju(i,e){const r=new Kn;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(o=(0,Ce.Z)(function*(p,y,O){try{const V=yield function(fe,Fe){const mt=Tn(fe);return mt.persistence.runTransaction("read document","readonly",Lt=>mt.localDocuments.getDocument(Lt,Fe))}(p,y);V.isFoundDocument()?O.resolve(V):V.isNoDocument()?O.resolve(null):O.reject(new Zt(Ft.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const K=Zd(V,`Failed to get document '${y} from cache`);O.reject(K)}}),function u(p,y,O){return o.apply(this,arguments)})(yield Np(i),e,r);var o})),r.promise}(r,i._key).then(u=>new Tl(e,o,i._key,u,new Rc(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Gy(i){i=di(i,ws);const e=di(i.firestore,_s);return l_(Ts(e),i._key,{source:"server"}).then(r=>fm(e,i,r))}(this._delegate):function $p(i){i=di(i,ws);const e=di(i.firestore,_s);return l_(Ts(e),i._key).then(r=>fm(e,i,r))}(this._delegate),r.then(o=>new _m(this.firestore,new Tl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Mc(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}function ol(i,e,r){return i.message=i.message.replace(e,r),i}function cE(i){for(const e of i)if("object"==typeof e&&!Av(e))return e;return{}}function uE(i,e){var r,o;let u;return u=Av(i[0])?i[0]:Av(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:p=>{u.next&&u.next(e(p))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class _m{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Mc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return jf(this._delegate,e._delegate)}}class vm extends _m{data(e){const r=this._delegate.data(e);return this._delegate._converter||function cd(i,e){i||zn()}(void 0!==r),r}}class al{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new gm(e)}where(e,r,o){try{return new al(this.firestore,Yh(this._delegate,function c0(i,e,r){const o=e,u=v_("where",i);return um._create(u,o,r)}(e,r,o)))}catch(u){throw ol(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new al(this.firestore,Yh(this._delegate,function y_(i,e="asc"){const r=e,o=v_("orderBy",i);return _v._create(o,r)}(e,r)))}catch(o){throw ol(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new al(this.firestore,Yh(this._delegate,function d0(i){return Cy("limit",i),E_._create("limit",i,"F")}(e)))}catch(r){throw ol(r,"limit()","Query.limit()")}}limitToLast(e){try{return new al(this.firestore,Yh(this._delegate,function h0(i){return Cy("limitToLast",i),E_._create("limitToLast",i,"L")}(e)))}catch(r){throw ol(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new al(this.firestore,Yh(this._delegate,function f0(...i){return I_._create("startAt",i,!0)}(...e)))}catch(r){throw ol(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new al(this.firestore,Yh(this._delegate,function p0(...i){return I_._create("startAfter",i,!1)}(...e)))}catch(r){throw ol(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new al(this.firestore,Yh(this._delegate,function Uy(...i){return C_._create("endBefore",i,!1)}(...e)))}catch(r){throw ol(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new al(this.firestore,Yh(this._delegate,function $y(...i){return C_._create("endAt",i,!0)}(...e)))}catch(r){throw ol(r,"endAt()","Query.endAt()")}}isEqual(e){return Lf(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Wy(i){i=di(i,oa);const e=di(i.firestore,_s),r=Ts(e),o=new eh(e);return function ZE(i,e){const r=new Kn;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(o=(0,Ce.Z)(function*(p,y,O){try{const V=yield wf(p,y,!0),K=new kt(y,V.ls),fe=K.ca(V.documents),Fe=K.applyChanges(fe,!1);O.resolve(Fe.snapshot)}catch(V){const K=Zd(V,`Failed to execute query '${y} against cache`);O.reject(K)}}),function u(p,y,O){return o.apply(this,arguments)})(yield Np(i),e,r);var o})),r.promise}(r,i._query).then(u=>new Ql(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Yy(i){i=di(i,oa);const e=di(i.firestore,_s),r=Ts(e),o=new eh(e);return lv(r,i._query,{source:"server"}).then(u=>new Ql(e,o,i,u))}(this._delegate):function zy(i){i=di(i,oa);const e=di(i.firestore,_s),r=Ts(e),o=new eh(e);return Vy(i._query),lv(r,i._query).then(u=>new Ql(e,o,i,u))}(this._delegate),r.then(o=>new Sv(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=cE(e),o=uE(e,u=>new Sv(this.firestore,new Ql(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return th(this._delegate,r,o)}withConverter(e){return new al(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}class b0{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new vm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sv{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new al(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new b0(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new vm(this._firestore,o))})}isEqual(e){return jf(this._delegate,e._delegate)}}class zp extends al{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Mc(this.firestore,e):null}doc(e){try{return new Mc(this.firestore,void 0===e?em(this._delegate):em(this._delegate,e))}catch(r){throw ol(r,"doc()","CollectionReference.doc()")}}add(e){return function w_(i,e){const r=di(i.firestore,_s),o=em(i),u=Gs(i.converter,e);return jp(r,[nm(Bf(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,as.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Mc(this.firestore,r))}isEqual(e){return Fp(this._delegate,e._delegate)}withConverter(e){return new zp(this.firestore,this._delegate.withConverter(e?qh.getInstance(this.firestore,e):null))}}function sh(i){return di(i,ws)}class Rv{constructor(...e){this._delegate=new Xd(...e)}static documentId(){return new Rv(ri.keyField().canonicalString())}isEqual(e){return(e=(0,_e.m9)(e))instanceof Xd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function I0(){return new Jd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wp(e)}static delete(){const e=function E0(){return new Vp("deleteField")}();return e._methodName="FieldValue.delete",new Wp(e)}static arrayUnion(...e){const r=function Jy(...i){return new Oy("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new Wp(r)}static arrayRemove(...e){const r=function C0(...i){return new Ny("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new Wp(r)}static increment(e){const r=function eE(i){return new l0("increment",i)}(e);return r._methodName="FieldValue.increment",new Wp(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QI={Firestore:oE,GeoPoint:f_,Timestamp:Yi,Blob:ih,Transaction:mm,WriteBatch:lE,DocumentReference:Mc,DocumentSnapshot:_m,Query:al,QueryDocumentSnapshot:vm,QuerySnapshot:Sv,CollectionReference:zp,FieldPath:Rv,FieldValue:Wp,setLogLevel:function aE(i){!function lh(i){Qs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function S0(i){(function A0(i,e){i.INTERNAL.registerComponent(new Xe.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},QI)))})(i,(e,r)=>new oE(e,r,new D0)),i.registerVersion("@firebase/firestore-compat","0.3.22")}(Et.Z);var XI=N(120);function P0(i,e){return function R0(i,e=me.z){return new qe.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function Pv(i,e){return P0(i,e).pipe((0,Ke.U)(r=>({payload:r,type:"query"})))}class dE{constructor(e,r){(0,d.Z)(this,"ref",void 0),(0,d.Z)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:p}=ym(o,r);return new xv(u,p,this.afs)}snapshotChanges(){return function M0(i,e){return P0(i,e).pipe((0,Te.O)(void 0),Ee(),(0,Ke.U)(r=>{const[o,u]=r;return u.exists?null!=o&&o.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,Ze.D)(this.ref.get(e)).pipe(de.iC)}}function Yp(i,e){return Pv(i,e).pipe((0,Te.O)(void 0),Ee(),(0,Ke.U)(r=>{const[o,u]=r,p=u.payload.docChanges(),y=p.map(O=>({type:O.type,payload:O}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((O,V)=>{const K=p.find(Fe=>Fe.doc.ref.isEqual(O.ref)),fe=null==o?void 0:o.payload.docs.find(Fe=>Fe.ref.isEqual(O.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(O.metadata)||!K&&fe&&JSON.stringify(fe.metadata)===JSON.stringify(O.metadata)||y.push({type:"modified",payload:{oldIndex:V,newIndex:V,type:"modified",doc:O}})}),y}))}function qp(i,e,r){return Yp(i,r).pipe((0,_t.R)((o,u)=>function Mv(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function hE(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Kp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return Kp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Kp(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(p=>p.payload),e),[]),(0,et.x)(),(0,Ke.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Kp(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function Zp(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class xv{constructor(e,r,o){(0,d.Z)(this,"ref",void 0),(0,d.Z)(this,"query",void 0),(0,d.Z)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=Yp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Ke.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,Te.O)(void 0),Ee(),(0,nt.h)(([o,u])=>u.length>0||!o),(0,Ke.U)(([,o])=>o),de.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_t.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Zp(e);return qp(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(r=>r.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),de.iC)}get(e){return(0,Ze.D)(this.query.get(e)).pipe(de.iC)}add(e){return this.ref.add(e)}doc(e){return new dE(this.ref.doc(e),this.afs)}}class x0{constructor(e,r){(0,d.Z)(this,"query",void 0),(0,d.Z)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,nt.h)(r=>r.length>0),de.iC):Yp(this.query,this.afs.schedulers.outsideAngular).pipe(de.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,_t.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Zp(e);return qp(this.query,r,this.afs.schedulers.outsideAngular).pipe(de.iC)}valueChanges(e={}){return Pv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(o=>o.payload.docs.map(u=>e.idField?{[e.idField]:u.id,...u.data()}:u.data())),de.iC)}get(e){return(0,Ze.D)(this.query.get(e)).pipe(de.iC)}}const Qp=new J.OlP("angularfire2.enableFirestorePersistence"),Ov=new J.OlP("angularfire2.firestore.persistenceSettings"),O0=new J.OlP("angularfire2.firestore.settings"),fE=new J.OlP("angularfire2.firestore.use-emulator");function ym(i,e=(r=>r)){return{query:e(i),ref:i}}let pE=(()=>{var i;class e{constructor(o,u,p,y,O,V,K,fe,Fe,mt,Lt,In,Pn,On,gr,xr,br){(0,d.Z)(this,"schedulers",void 0),(0,d.Z)(this,"firestore",void 0),(0,d.Z)(this,"persistenceEnabled$",void 0),this.schedulers=K;const ii=(0,Oe.on)(o,V,u),ji=Fe;mt&&(0,re.nw)(ii,V,Lt,Pn,On,gr,In,xr),[this.firestore,this.persistenceEnabled$]=(0,Oe.cc)(`${ii.name}.firestore`,"AngularFirestore",ii.name,()=>{const Ci=V.runOutsideAngular(()=>ii.firestore());if(y&&Ci.settings(y),ji&&Ci.useEmulator(...ji),p&&!(0,$.PM)(O)){const _o=()=>{try{return(0,Ze.D)(Ci.enablePersistence(fe||void 0).then(()=>!0,()=>!1))}catch(Xl){return typeof console<"u"&&console.warn(Xl),(0,be.of)(!1)}};return[Ci,V.runOutsideAngular(_o)]}return[Ci,(0,be.of)(!1)]},[y,ji,p])}collection(o,u){let p;p="string"==typeof o?this.firestore.collection(o):o;const{ref:y,query:O}=ym(p,u),V=this.schedulers.ngZone.run(()=>y);return new xv(V,O,this)}collectionGroup(o,u){const p=u||(O=>O),y=this.firestore.collectionGroup(o);return new x0(p(y),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const p=this.schedulers.ngZone.run(()=>u);return new dE(p,this)}createId(){return this.firestore.collection("_").doc().id}}return i=e,(0,d.Z)(e,"\u0275fac",function(o){return new(o||i)(J.LFG(Oe.Dh),J.LFG(Oe.xv,8),J.LFG(Qp,8),J.LFG(O0,8),J.LFG(J.Lbi),J.LFG(J.R0b),J.LFG(de.HU),J.LFG(Ov,8),J.LFG(fE,8),J.LFG(re.zQ,8),J.LFG(re.Qv,8),J.LFG(re.L6,8),J.LFG(re._Q,8),J.LFG(re.rT,8),J.LFG(re.lh,8),J.LFG(re.f7,8),J.LFG(de.Rf,8))}),(0,d.Z)(e,"\u0275prov",J.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})),e})(),N0=(()=>{var i;class e{constructor(){XI.Z.registerVersion("angularfire",de.q4.full,"fst-compat")}static enablePersistence(o){return{ngModule:e,providers:[{provide:Qp,useValue:!0},{provide:Ov,useValue:o}]}}}return i=e,(0,d.Z)(e,"\u0275fac",function(o){return new(o||i)}),(0,d.Z)(e,"\u0275mod",J.oAB({type:i})),(0,d.Z)(e,"\u0275inj",J.cJS({providers:[pE]})),e})()},7217:(un,ft,N)=>{"use strict";N.d(ft,{Dh:()=>Ze,GT:()=>me,cc:()=>Ke,hO:()=>Ee,on:()=>Te,pX:()=>re,xv:()=>be});var d=N(1180),$=N(9212),J=N(9230),de=N(120);const Oe=["ngOnDestroy"],re=(at,Et,Ce,Be={})=>new Proxy(at,{get:(Xe,pt)=>Ce.runOutsideAngular(()=>{var _e;if(at[pt])return null!=Be&&null!==(_e=Be.spy)&&void 0!==_e&&_e.get&&Be.spy.get(pt,at[pt]),at[pt];if(Oe.indexOf(pt)>-1)return()=>{};const Se=Et.toPromise().then(he=>{const Ie=null==he?void 0:he[pt];return"function"==typeof Ie?Ie.bind(he):null!=Ie&&Ie.then?Ie.then(Ue=>Ce.run(()=>Ue)):Ce.run(()=>Ie)});return new Proxy(()=>{},{get:(he,Ie)=>Se[Ie],apply:(he,Ie,Ue)=>Se.then(rt=>{var Me;const st=null==rt?void 0:rt(...Ue);return null!=Be&&null!==(Me=Be.spy)&&void 0!==Me&&Me.apply&&Be.spy.apply(pt,Ue,st),st})})})}),me=(at,Et)=>{Et.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(Be=>{Object.defineProperty(at.prototype,Be,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,Be))})})};class qe{constructor(Et){return Et}}const Ze=new $.OlP("angularfire2.app.options"),be=new $.OlP("angularfire2.app.name");function Te(at,Et,Ce){const Xe="object"==typeof Ce&&Ce||{};Xe.name=Xe.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const _e=de.Z.apps.filter(Se=>Se&&Se.name===Xe.name)[0]||Et.runOutsideAngular(()=>de.Z.initializeApp(at,Xe));try{if(JSON.stringify(at)!==JSON.stringify(_e.options)){const Se=!!module.hot;Je("error",`${_e.name} Firebase App already initialized with different options${Se?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new qe(_e)}const Je=(at,...Et)=>{(0,$.X6Q)()&&typeof console<"u"&&console[at](...Et)},Ye={provide:qe,useFactory:Te,deps:[Ze,$.R0b,[new $.FiY,be]]};let Ee=(()=>{var at;class Et{static initializeApp(Be,Xe){return{ngModule:Et,providers:[{provide:Ze,useValue:Be},{provide:be,useValue:Xe}]}}constructor(Be){de.Z.registerVersion("angularfire",J.q4.full,"core"),de.Z.registerVersion("angularfire",J.q4.full,"app-compat"),de.Z.registerVersion("angular",$.q4F.full,Be.toString())}}return at=Et,(0,d.Z)(Et,"\u0275fac",function(Be){return new(Be||at)($.LFG($.Lbi))}),(0,d.Z)(Et,"\u0275mod",$.oAB({type:at})),(0,d.Z)(Et,"\u0275inj",$.cJS({providers:[Ye]})),Et})();function Ke(at,Et,Ce,Be,Xe){const[,pt,_e]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===at)||[];if(pt)return function _t(at,Et){try{return at.toString()===Et.toString()}catch{return at===Et}}(Xe,_e)||(nt("error",`${Et} was already initialized on the ${Ce} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:Xe,was:_e})),pt;{const Se=Be();return globalThis.\u0275AngularfireInstanceCache.push([at,Se,Xe]),Se}}const et=typeof module<"u"&&!!module.hot,nt=(at,...Et)=>{(0,$.X6Q)()&&typeof console<"u"&&console[at](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9230:(un,ft,N)=>{"use strict";N.d(ft,{q4:()=>_t,iC:()=>Me,fc:()=>Ue,HU:()=>_e,Rf:()=>Et});var d=N(1180),$=N(9212),J=N(9823);(0,J.registerVersion)("firebase","10.6.0","app");var re=N(1954),qe=N(2631);const be=new class Ze extends qe.v{}(class me extends re.o{constructor(x,Z){super(x,Z),this.scheduler=x,this.work=Z}schedule(x,Z=0){return Z>0?super.schedule(x,Z):(this.delay=Z,this.state=x,this.scheduler.flush(this),this)}execute(x,Z){return Z>0||this.closed?super.execute(x,Z):this._execute(x,Z)}requestAsyncId(x,Z,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(x,Z,ce):(x.flush(this),0)}});var Je=N(6321),Ye=N(9397),Ee=N(3093),Ke=N(5137);const _t=new $.GfV("ANGULARFIRE2_VERSION");class Et{constructor(){return((se,x)=>{const Z=(0,J.getApps)(),ce=[];return Z.forEach(je=>{je.container.getProvider(se).instances.forEach(We=>{ce.includes(We)||ce.push(We)})}),ce})(Ce)}}const Ce="app-check";function Be(){}class Xe{constructor(x,Z=be){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"delegate",void 0),this.zone=x,this.delegate=Z}now(){return this.delegate.now()}schedule(x,Z,ce){const je=this.zone;return this.delegate.schedule(function(We){je.runGuarded(()=>{x.apply(this,[We])})},Z,ce)}}class pt{constructor(x){(0,d.Z)(this,"zone",void 0),(0,d.Z)(this,"task",null),this.zone=x}call(x,Z){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Be,{},Be,Be)),Z.pipe((0,Ye.b)({next:ce,complete:ce,error:ce})).subscribe(x).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _e=(()=>{var se;class x{constructor(ce){(0,d.Z)(this,"ngZone",void 0),(0,d.Z)(this,"outsideAngular",void 0),(0,d.Z)(this,"insideAngular",void 0),this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new Xe(Zone.current)),this.insideAngular=ce.run(()=>new Xe(Zone.current,Je.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return se=x,(0,d.Z)(x,"\u0275fac",function(ce){return new(ce||se)($.LFG($.R0b))}),(0,d.Z)(x,"\u0275prov",$.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"})),x})();function Se(){const se=globalThis.\u0275AngularFireScheduler;if(!se)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return se}function Ue(se){return se.pipe((0,Ee.Q)(Se().outsideAngular))}function Me(se){return function st(se){return function(Z){return(Z=Z.lift(new pt(se.ngZone))).pipe((0,Ke.R)(se.outsideAngular),(0,Ee.Q)(se.insideAngular))}}(Se())(se)}},3399:(un,ft,N)=>{"use strict";N.d(ft,{Z:()=>Ke});var d=N(229),$=N(6820),J=N(9823),de=N(7879);class Oe{constructor(et,nt){this._delegate=et,this.firebase=nt,(0,J._addComponent)(et,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=et.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this._delegate.automaticDataCollectionEnabled=et}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(et=>{this._delegate.checkDestroyed(),et()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(et,nt=J._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(et);return!Et.isInitialized()&&"EXPLICIT"===(null===(at=Et.getComponent())||void 0===at?void 0:at.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:nt})}_removeServiceInstance(et,nt=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(et).clearInstance(nt)}_addComponent(et){(0,J._addComponent)(this._delegate,et)}_addOrOverwriteComponent(et){(0,J._addOrOverwriteComponent)(this._delegate,et)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),be=function Ze(){const _t=function qe(_t){const et={},nt={__esModule:!0,initializeApp:function Ce(_e,Se={}){const he=J.initializeApp(_e,Se);if((0,d.r3)(et,he.name))return et[he.name];const Ie=new _t(he,nt);return et[he.name]=Ie,Ie},app:Et,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function Xe(_e){const Se=_e.name,he=Se.replace("-compat","");if(J._registerComponent(_e)&&"PUBLIC"===_e.type){const Ie=(Ue=Et())=>{if("function"!=typeof Ue[he])throw me.create("invalid-app-argument",{appName:Se});return Ue[he]()};void 0!==_e.serviceProps&&(0,d.ZB)(Ie,_e.serviceProps),nt[he]=Ie,_t.prototype[he]=function(...Ue){return this._getService.bind(this,Se).apply(this,_e.multipleInstances?Ue:[])}}return"PUBLIC"===_e.type?nt[he]:null},removeApp:function at(_e){delete et[_e]},useAsService:function pt(_e,Se){return"serverAuth"===Se?null:Se},modularAPIs:J}};function Et(_e){if(!(0,d.r3)(et,_e=_e||J._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:_e});return et[_e]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Be(){return Object.keys(et).map(_e=>et[_e])}}),Et.App=_t,nt}(Oe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function et(nt){(0,d.ZB)(_t,nt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),_t}(),Te=new de.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&Te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=be;!function Ee(_t){(0,J.registerVersion)("@firebase/app-compat","0.2.23",_t)}()},9823:(un,ft,N)=>{"use strict";N.r(ft),N.d(ft,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>oi,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>$r,_addOrOverwriteComponent:()=>vn,_apps:()=>Bn,_clearComponents:()=>Dr,_components:()=>Qr,_getProvider:()=>Mn,_registerComponent:()=>Lr,_removeServiceInstance:()=>wi,deleteApp:()=>jr,getApp:()=>Ti,getApps:()=>Nr,initializeApp:()=>ki,onLog:()=>Un,registerVersion:()=>Gn,setLogLevel:()=>ai});var d=N(5861),$=N(6820),J=N(7879),de=N(229);const Oe=(St,ut)=>ut.some(Qt=>St instanceof Qt);let re,me;const be=new WeakMap,Te=new WeakMap,Je=new WeakMap,Ye=new WeakMap,Ee=new WeakMap;let et={get(St,ut,Qt){if(St instanceof IDBTransaction){if("done"===ut)return Te.get(St);if("objectStoreNames"===ut)return St.objectStoreNames||Je.get(St);if("store"===ut)return Qt.objectStoreNames[1]?void 0:Qt.objectStore(Qt.objectStoreNames[0])}return Ce(St[ut])},set:(St,ut,Qt)=>(St[ut]=Qt,!0),has:(St,ut)=>St instanceof IDBTransaction&&("done"===ut||"store"===ut)||ut in St};function Et(St){return"function"==typeof St?function at(St){return St!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(St)?function(...ut){return St.apply(Be(this),ut),Ce(be.get(this))}:function(...ut){return Ce(St.apply(Be(this),ut))}:function(ut,...Qt){const bn=St.call(Be(this),ut,...Qt);return Je.set(bn,ut.sort?ut.sort():[ut]),Ce(bn)}}(St):(St instanceof IDBTransaction&&function _t(St){if(Te.has(St))return;const ut=new Promise((Qt,bn)=>{const Xn=()=>{St.removeEventListener("complete",Yn),St.removeEventListener("error",kn),St.removeEventListener("abort",kn)},Yn=()=>{Qt(),Xn()},kn=()=>{bn(St.error||new DOMException("AbortError","AbortError")),Xn()};St.addEventListener("complete",Yn),St.addEventListener("error",kn),St.addEventListener("abort",kn)});Te.set(St,ut)}(St),Oe(St,function qe(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(St,et):St)}function Ce(St){if(St instanceof IDBRequest)return function Ke(St){const ut=new Promise((Qt,bn)=>{const Xn=()=>{St.removeEventListener("success",Yn),St.removeEventListener("error",kn)},Yn=()=>{Qt(Ce(St.result)),Xn()},kn=()=>{bn(St.error),Xn()};St.addEventListener("success",Yn),St.addEventListener("error",kn)});return ut.then(Qt=>{Qt instanceof IDBCursor&&be.set(Qt,St)}).catch(()=>{}),Ee.set(ut,St),ut}(St);if(Ye.has(St))return Ye.get(St);const ut=Et(St);return ut!==St&&(Ye.set(St,ut),Ee.set(ut,St)),ut}const Be=St=>Ee.get(St),_e=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],he=new Map;function Ie(St,ut){if(!(St instanceof IDBDatabase)||ut in St||"string"!=typeof ut)return;if(he.get(ut))return he.get(ut);const Qt=ut.replace(/FromIndex$/,""),bn=ut!==Qt,Xn=Se.includes(Qt);if(!(Qt in(bn?IDBIndex:IDBObjectStore).prototype)||!Xn&&!_e.includes(Qt))return;const Yn=function(){var kn=(0,d.Z)(function*(Xr,...dt){const He=this.transaction(Xr,Xn?"readwrite":"readonly");let Tt=He.store;return bn&&(Tt=Tt.index(dt.shift())),(yield Promise.all([Tt[Qt](...dt),Xn&&He.done]))[0]});return function(dt){return kn.apply(this,arguments)}}();return he.set(ut,Yn),Yn}!function nt(St){et=St(et)}(St=>({...St,get:(ut,Qt,bn)=>Ie(ut,Qt)||St.get(ut,Qt,bn),has:(ut,Qt)=>!!Ie(ut,Qt)||St.has(ut,Qt)}));class Ue{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(Qt=>{if(function rt(St){const ut=St.getComponent();return"VERSION"===(null==ut?void 0:ut.type)}(Qt)){const bn=Qt.getImmediate();return`${bn.library}/${bn.version}`}return null}).filter(Qt=>Qt).join(" ")}}const Me="@firebase/app",yt=new J.Yd("@firebase/app"),Jn="[DEFAULT]",lr={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bn=new Map,Qr=new Map;function $r(St,ut){try{St.container.addComponent(ut)}catch(Qt){yt.debug(`Component ${ut.name} failed to register with FirebaseApp ${St.name}`,Qt)}}function vn(St,ut){St.container.addOrOverwriteComponent(ut)}function Lr(St){const ut=St.name;if(Qr.has(ut))return yt.debug(`There were multiple attempts to register component ${ut}.`),!1;Qr.set(ut,St);for(const Qt of Bn.values())$r(Qt,St);return!0}function Mn(St,ut){const Qt=St.container.getProvider("heartbeat").getImmediate({optional:!0});return Qt&&Qt.triggerHeartbeat(),St.container.getProvider(ut)}function wi(St,ut,Qt=Jn){Mn(St,ut).clearInstance(Qt)}function Dr(){Qr.clear()}const tr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ar{constructor(ut,Qt,bn){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},Qt),this._name=Qt.name,this._automaticDataCollectionEnabled=Qt.automaticDataCollectionEnabled,this._container=bn,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const oi="10.6.0";function ki(St,ut={}){let Qt=St;"object"!=typeof ut&&(ut={name:ut});const bn=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},ut),Xn=bn.name;if("string"!=typeof Xn||!Xn)throw tr.create("bad-app-name",{appName:String(Xn)});if(Qt||(Qt=(0,de.aH)()),!Qt)throw tr.create("no-options");const Yn=Bn.get(Xn);if(Yn){if((0,de.vZ)(Qt,Yn.options)&&(0,de.vZ)(bn,Yn.config))return Yn;throw tr.create("duplicate-app",{appName:Xn})}const kn=new $.H0(Xn);for(const dt of Qr.values())kn.addComponent(dt);const Xr=new Ar(Qt,bn,kn);return Bn.set(Xn,Xr),Xr}function Ti(St=Jn){const ut=Bn.get(St);if(!ut&&St===Jn&&(0,de.aH)())return ki();if(!ut)throw tr.create("no-app",{appName:St});return ut}function Nr(){return Array.from(Bn.values())}function jr(St){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(St){const ut=St.name;Bn.has(ut)&&(Bn.delete(ut),yield Promise.all(St.container.getProviders().map(Qt=>Qt.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Gn(St,ut,Qt){var bn;let Xn=null!==(bn=lr[St])&&void 0!==bn?bn:St;Qt&&(Xn+=`-${Qt}`);const Yn=Xn.match(/\s|\//),kn=ut.match(/\s|\//);if(Yn||kn){const Xr=[`Unable to register library "${Xn}" with version "${ut}":`];return Yn&&Xr.push(`library name "${Xn}" contains illegal characters (whitespace or "/")`),Yn&&kn&&Xr.push("and"),kn&&Xr.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void yt.warn(Xr.join(" "))}Lr(new $.wA(`${Xn}-version`,()=>({library:Xn,version:ut}),"VERSION"))}function Un(St,ut){if(null!==St&&"function"!=typeof St)throw tr.create("invalid-log-argument");(0,J.Am)(St,ut)}function ai(St){(0,J.Ub)(St)}const Pi="firebase-heartbeat-database",Mi=1,lt="firebase-heartbeat-store";let ge=null;function oe(){return ge||(ge=function Xe(St,ut,{blocked:Qt,upgrade:bn,blocking:Xn,terminated:Yn}={}){const kn=indexedDB.open(St,ut),Xr=Ce(kn);return bn&&kn.addEventListener("upgradeneeded",dt=>{bn(Ce(kn.result),dt.oldVersion,dt.newVersion,Ce(kn.transaction),dt)}),Qt&&kn.addEventListener("blocked",dt=>Qt(dt.oldVersion,dt.newVersion,dt)),Xr.then(dt=>{Yn&&dt.addEventListener("close",()=>Yn()),Xn&&dt.addEventListener("versionchange",He=>Xn(He.oldVersion,He.newVersion,He))}).catch(()=>{}),Xr}(Pi,Mi,{upgrade:(St,ut)=>{0===ut&&St.createObjectStore(lt)}}).catch(St=>{throw tr.create("idb-open",{originalErrorMessage:St.message})})),ge}function pe(){return(pe=(0,d.Z)(function*(St){try{return yield(yield oe()).transaction(lt).objectStore(lt).get(Wt(St))}catch(ut){if(ut instanceof de.ZR)yt.warn(ut.message);else{const Qt=tr.create("idb-get",{originalErrorMessage:null==ut?void 0:ut.message});yt.warn(Qt.message)}}})).apply(this,arguments)}function ct(St,ut){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(St,ut){try{const bn=(yield oe()).transaction(lt,"readwrite");yield bn.objectStore(lt).put(ut,Wt(St)),yield bn.done}catch(Qt){if(Qt instanceof de.ZR)yt.warn(Qt.message);else{const bn=tr.create("idb-set",{originalErrorMessage:null==Qt?void 0:Qt.message});yt.warn(bn.message)}}})).apply(this,arguments)}function Wt(St){return`${St.name}!${St.options.appId}`}class ur{constructor(ut){this.container=ut,this._heartbeatsCache=null;const Qt=this.container.getProvider("app").getImmediate();this._storage=new Ei(Qt),this._heartbeatsCachePromise=this._storage.read().then(bn=>(this._heartbeatsCache=bn,bn))}triggerHeartbeat(){var ut=this;return(0,d.Z)(function*(){var Qt;const Xn=ut.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yn=Sn();if(null==(null===(Qt=ut._heartbeatsCache)||void 0===Qt?void 0:Qt.heartbeats)&&(ut._heartbeatsCache=yield ut._heartbeatsCachePromise),ut._heartbeatsCache.lastSentHeartbeatDate!==Yn&&!ut._heartbeatsCache.heartbeats.some(kn=>kn.date===Yn))return ut._heartbeatsCache.heartbeats.push({date:Yn,agent:Xn}),ut._heartbeatsCache.heartbeats=ut._heartbeatsCache.heartbeats.filter(kn=>{const Xr=new Date(kn.date).valueOf();return Date.now()-Xr<=2592e6}),ut._storage.overwrite(ut._heartbeatsCache)})()}getHeartbeatsHeader(){var ut=this;return(0,d.Z)(function*(){var Qt;if(null===ut._heartbeatsCache&&(yield ut._heartbeatsCachePromise),null==(null===(Qt=ut._heartbeatsCache)||void 0===Qt?void 0:Qt.heartbeats)||0===ut._heartbeatsCache.heartbeats.length)return"";const bn=Sn(),{heartbeatsToSend:Xn,unsentEntries:Yn}=function or(St,ut=1024){const Qt=[];let bn=St.slice();for(const Xn of St){const Yn=Qt.find(kn=>kn.agent===Xn.agent);if(Yn){if(Yn.dates.push(Xn.date),Hr(Qt)>ut){Yn.dates.pop();break}}else if(Qt.push({agent:Xn.agent,dates:[Xn.date]}),Hr(Qt)>ut){Qt.pop();break}bn=bn.slice(1)}return{heartbeatsToSend:Qt,unsentEntries:bn}}(ut._heartbeatsCache.heartbeats),kn=(0,de.L)(JSON.stringify({version:2,heartbeats:Xn}));return ut._heartbeatsCache.lastSentHeartbeatDate=bn,Yn.length>0?(ut._heartbeatsCache.heartbeats=Yn,yield ut._storage.overwrite(ut._heartbeatsCache)):(ut._heartbeatsCache.heartbeats=[],ut._storage.overwrite(ut._heartbeatsCache)),kn})()}}function Sn(){return(new Date).toISOString().substring(0,10)}class Ei{constructor(ut){this.app=ut,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ut=this;return(0,d.Z)(function*(){return(yield ut._canUseIndexedDBPromise)&&(yield function Le(St){return pe.apply(this,arguments)}(ut.app))||{heartbeats:[]}})()}overwrite(ut){var Qt=this;return(0,d.Z)(function*(){var bn;if(yield Qt._canUseIndexedDBPromise){const Yn=yield Qt.read();return ct(Qt.app,{lastSentHeartbeatDate:null!==(bn=ut.lastSentHeartbeatDate)&&void 0!==bn?bn:Yn.lastSentHeartbeatDate,heartbeats:ut.heartbeats})}})()}add(ut){var Qt=this;return(0,d.Z)(function*(){var bn;if(yield Qt._canUseIndexedDBPromise){const Yn=yield Qt.read();return ct(Qt.app,{lastSentHeartbeatDate:null!==(bn=ut.lastSentHeartbeatDate)&&void 0!==bn?bn:Yn.lastSentHeartbeatDate,heartbeats:[...Yn.heartbeats,...ut.heartbeats]})}})()}}function Hr(St){return(0,de.L)(JSON.stringify({version:2,heartbeats:St})).length}!function Hi(St){Lr(new $.wA("platform-logger",ut=>new Ue(ut),"PRIVATE")),Lr(new $.wA("heartbeat",ut=>new ur(ut),"PRIVATE")),Gn(Me,"0.9.23",St),Gn(Me,"0.9.23","esm2017"),Gn("fire-js","")}("")},6820:(un,ft,N)=>{"use strict";N.d(ft,{H0:()=>qe,wA:()=>J,zt:()=>Oe});var d=N(5861),$=N(229);class J{constructor(be,Te,Je){this.name=be,this.instanceFactory=Te,this.type=Je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const de="[DEFAULT]";class Oe{constructor(be,Te){this.name=be,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const Te=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(Te)){const Je=new $.BH;if(this.instancesDeferred.set(Te,Je),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Te});Ye&&Je.resolve(Ye)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(be){var Te;const Je=this.normalizeInstanceIdentifier(null==be?void 0:be.identifier),Ye=null!==(Te=null==be?void 0:be.optional)&&void 0!==Te&&Te;if(!this.isInitialized(Je)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Je})}catch(Ee){if(Ye)return null;throw Ee}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function me(Ze){return"EAGER"===Ze.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[Te,Je]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Te);try{const Ee=this.getOrInitializeService({instanceIdentifier:Ye});Je.resolve(Ee)}catch{}}}}clearInstance(be=de){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,d.Z)(function*(){const Te=Array.from(be.instances.values());yield Promise.all([...Te.filter(Je=>"INTERNAL"in Je).map(Je=>Je.INTERNAL.delete()),...Te.filter(Je=>"_delete"in Je).map(Je=>Je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=de){return this.instances.has(be)}getOptions(be=de){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:Te={}}=be,Je=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(Je))throw Error(`${this.name}(${Je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:Je,options:Te});for(const[Ee,Ke]of this.instancesDeferred.entries())Je===this.normalizeInstanceIdentifier(Ee)&&Ke.resolve(Ye);return Ye}onInit(be,Te){var Je;const Ye=this.normalizeInstanceIdentifier(Te),Ee=null!==(Je=this.onInitCallbacks.get(Ye))&&void 0!==Je?Je:new Set;Ee.add(be),this.onInitCallbacks.set(Ye,Ee);const Ke=this.instances.get(Ye);return Ke&&be(Ke,Ye),()=>{Ee.delete(be)}}invokeOnInitCallbacks(be,Te){const Je=this.onInitCallbacks.get(Te);if(Je)for(const Ye of Je)try{Ye(be,Te)}catch{}}getOrInitializeService({instanceIdentifier:be,options:Te={}}){let Je=this.instances.get(be);if(!Je&&this.component&&(Je=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=be,Ze===de?void 0:Ze),options:Te}),this.instances.set(be,Je),this.instancesOptions.set(be,Te),this.invokeOnInitCallbacks(Je,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,Je)}catch{}var Ze;return Je||null}normalizeInstanceIdentifier(be=de){return this.component?this.component.multipleInstances?be:de:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const Te=this.getProvider(be.name);if(Te.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);Te.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const Te=new Oe(be,this);return this.providers.set(be,Te),Te}getProviders(){return Array.from(this.providers.values())}}},120:(un,ft,N)=>{"use strict";N.d(ft,{Z:()=>d.Z});var d=N(3399);d.Z.registerVersion("firebase","10.6.0","app-compat")},8313:(un,ft,N)=>{"use strict";N.r(ft);var d=N(5861),$=N(3399),J=N(229),de=N(9823),Oe=N(7879),re=N(7582),me=N(6820);const Ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ke=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_t=function Ee(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new J.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new Oe.Yd("@firebase/auth");function Ce(C,..._){at.logLevel<=Oe.in.ERROR&&at.error(`Auth (${de.SDK_VERSION}): ${C}`,..._)}function Be(C,..._){throw Se(C,..._)}function Xe(C,..._){return Se(C,..._)}function pt(C,_,v){const b=Object.assign(Object.assign({},_t()),{[_]:v});return new J.LL("auth","Firebase",b).create(_,{appName:C.name})}function _e(C,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&Be(C,"argument-error"),pt(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(C,..._){if("string"!=typeof C){const v=_[0],b=[..._.slice(1)];return b[0]&&(b[0].appName=C.name),C._errorFactory.create(v,...b)}return et.create(C,..._)}function he(C,_,...v){if(!C)throw Se(_,...v)}function Ie(C){const _="INTERNAL ASSERTION FAILED: "+C;throw Ce(_),new Error(_)}function Ue(C,_){C||Ie(_)}function rt(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Me(){return"http:"===st()||"https:"===st()}function st(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class se{constructor(_,v){this.shortDelay=_,this.longDelay=v,Ue(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,J.uI)()||(0,J.b$)()}get(){return function yt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Me()||(0,J.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function x(C,_){Ue(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class Z{static initialize(_,v,b){this.fetchImpl=_,v&&(this.headersImpl=v),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new se(3e4,6e4);function $e(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function We(C,_,v,b){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(C,_,v,b,Y={}){return Pt(C,Y,(0,d.Z)(function*(){let le={},ot={};b&&("GET"===_?ot=b:le={body:JSON.stringify(b)});const Dt=(0,J.xO)(Object.assign({key:C.config.apiKey},ot)).slice(1),Xt=yield C._getAdditionalHeaders();return Xt["Content-Type"]="application/json",C.languageCode&&(Xt["X-Firebase-Locale"]=C.languageCode),Z.fetch()(Kt(C,C.config.apiHost,v,Dt),Object.assign({method:_,headers:Xt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Pt(C,_,v){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(C,_,v){C._canInitEmulator=!1;const b=Object.assign(Object.assign({},ce),_);try{const Y=new Nt(C),le=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const ot=yield le.json();if("needConfirmation"in ot)throw Ht(C,"account-exists-with-different-credential",ot);if(le.ok&&!("errorMessage"in ot))return ot;{const Dt=le.ok?ot.errorMessage:ot.error.message,[Xt,An]=Dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw Ht(C,"credential-already-in-use",ot);if("EMAIL_EXISTS"===Xt)throw Ht(C,"email-already-in-use",ot);if("USER_DISABLED"===Xt)throw Ht(C,"user-disabled",ot);const Zn=b[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw pt(C,Zn,An);Be(C,Zn)}}catch(Y){if(Y instanceof J.ZR)throw Y;Be(C,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function At(C,_,v,b){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(C,_,v,b,Y={}){const le=yield We(C,_,v,b,Y);return"mfaPendingCredential"in le&&Be(C,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Kt(C,_,v,b){const Y=`${_}${v}?${b}`;return C.config.emulator?x(C.config,Y):`${C.config.apiScheme}://${Y}`}function Rt(C){switch(C){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,b)=>{this.timer=setTimeout(()=>b(Xe(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ht(C,_,v){const b={appName:C.name};v.email&&(b.email=v.email),v.phoneNumber&&(b.phoneNumber=v.phoneNumber);const Y=Xe(C,_,b);return Y.customData._tokenResponse=v,Y}function Jt(C){return void 0!==C&&void 0!==C.getResponse}function Hn(C){return void 0!==C&&void 0!==C.enterprise}class Fn{constructor(_){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=_.recaptchaEnforcementState}getProviderEnforcementState(_){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===_)return Rt(v.enforcementState);return null}isProviderEnabled(_){return"ENFORCE"===this.getProviderEnforcementState(_)||"AUDIT"===this.getProviderEnforcementState(_)}}function gn(){return(gn=(0,d.Z)(function*(C){return(yield We(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function er(C,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(C,_){return We(C,"GET","/v2/recaptchaConfig",$e(C,_))})).apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function vn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function wi(){return(wi=(0,d.Z)(function*(C,_=!1){const v=(0,J.m9)(C),b=yield v.getIdToken(_),Y=hn(b);he(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const le="object"==typeof Y.firebase?Y.firebase:void 0,ot=null==le?void 0:le.sign_in_provider;return{claims:Y,token:b,authTime:vn(Dr(Y.auth_time)),issuedAtTime:vn(Dr(Y.iat)),expirationTime:vn(Dr(Y.exp)),signInProvider:ot||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function Dr(C){return 1e3*Number(C)}function hn(C){const[_,v,b]=C.split(".");if(void 0===_||void 0===v||void 0===b)return Ce("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,J.tV)(v);return Y?JSON.parse(Y):(Ce("Failed to decode base64 JWT payload"),null)}catch(Y){return Ce("Caught error parsing JWT payload as JSON",null==Y?void 0:Y.toString()),null}}function Ar(C,_){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(C,_,v=!1){if(v)return _;try{return yield _}catch(b){throw b instanceof J.ZR&&function ki({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}(b)&&C.auth.currentUser===C&&(yield C.auth.signOut()),b}})).apply(this,arguments)}class Ti{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const b=this.getInterval(_);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),b)}iteration(){var _=this;return(0,d.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&_.schedule(!0))}_.schedule()})()}}class Nr{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=vn(this.lastLoginAt),this.creationTime=vn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(C){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,d.Z)(function*(C){var _;const v=C.auth,b=yield C.getIdToken(),Y=yield Ar(C,function Qr(C,_){return $r.apply(this,arguments)}(v,{idToken:b}));he(null==Y?void 0:Y.users.length,v,"internal-error");const le=Y.users[0];C._notifyReloadListener(le);const ot=null!==(_=le.providerUserInfo)&&void 0!==_&&_.length?function Pi(C){return C.map(_=>{var{providerId:v}=_,b=(0,re._T)(_,["providerId"]);return{providerId:v,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(le.providerUserInfo):[],Dt=function ai(C,_){return[...C.filter(b=>!_.some(Y=>Y.providerId===b.providerId)),..._]}(C.providerData,ot),Zn=!!C.isAnonymous&&!(C.email&&le.passwordHash||null!=Dt&&Dt.length),qn={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Dt,metadata:new Nr(le.createdAt,le.lastLoginAt),isAnonymous:Zn};Object.assign(C,qn)}),Fr.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(C){const _=(0,J.m9)(C);yield jr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(C,_){const v=yield Pt(C,{},(0,d.Z)(function*(){const b=(0,J.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:Y,apiKey:le}=C.config,ot=Kt(C,Y,"/v1/token",`key=${le}`),Dt=yield C._getAdditionalHeaders();return Dt["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(ot,{method:"POST",headers:Dt,body:b})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}function oe(){return(oe=(0,d.Z)(function*(C,_){return We(C,"POST","/v2/accounts:revokeToken",$e(C,_))})).apply(this,arguments)}class Le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){he(_.idToken,"internal-error"),he(typeof _.idToken<"u","internal-error"),he(typeof _.refreshToken<"u","internal-error");const v="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function tr(C){const _=hn(C);return he(_,"internal-error"),he(typeof _.exp<"u","internal-error"),he(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var b=this;return(0,d.Z)(function*(){return he(!b.accessToken||b.refreshToken,_,"user-token-expired"),v||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(_,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var b=this;return(0,d.Z)(function*(){const{accessToken:Y,refreshToken:le,expiresIn:ot}=yield function Mi(C,_){return lt.apply(this,arguments)}(_,v);b.updateTokensAndExpiration(Y,le,Number(ot))})()}updateTokensAndExpiration(_,v,b){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(_,v){const{refreshToken:b,accessToken:Y,expirationTime:le}=v,ot=new Le;return b&&(he("string"==typeof b,"internal-error",{appName:_}),ot.refreshToken=b),Y&&(he("string"==typeof Y,"internal-error",{appName:_}),ot.accessToken=Y),le&&(he("number"==typeof le,"internal-error",{appName:_}),ot.expirationTime=le),ot}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Le,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function pe(C,_){he("string"==typeof C||typeof C>"u","internal-error",{appName:_})}class ct{constructor(_){var{uid:v,auth:b,stsTokenManager:Y}=_,le=(0,re._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ti(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=b,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Nr(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,d.Z)(function*(){const b=yield Ar(v,v.stsTokenManager.getToken(v.auth,_));return he(b,v.auth,"internal-error"),v.accessToken!==b&&(v.accessToken=b,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),b})()}getIdTokenResult(_){return function Mn(C){return wi.apply(this,arguments)}(this,_)}reload(){return function Gn(C){return Un.apply(this,arguments)}(this)}_assign(_){this!==_&&(he(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const v=new ct(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(_){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var b=this;return(0,d.Z)(function*(){let Y=!1;_.idToken&&_.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(_),Y=!0),v&&(yield jr(b)),yield b.auth._persistUserIfCurrent(b),Y&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var _=this;return(0,d.Z)(function*(){const v=yield _.getIdToken();return yield Ar(_,function ti(C,_){return Jn.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var b,Y,le,ot,Dt,Xt,An,Zn;const qn=null!==(b=v.displayName)&&void 0!==b?b:void 0,Si=null!==(Y=v.email)&&void 0!==Y?Y:void 0,ho=null!==(le=v.phoneNumber)&&void 0!==le?le:void 0,Pd=null!==(ot=v.photoURL)&&void 0!==ot?ot:void 0,lf=null!==(Dt=v.tenantId)&&void 0!==Dt?Dt:void 0,es=null!==(Xt=v._redirectEventId)&&void 0!==Xt?Xt:void 0,ku=null!==(An=v.createdAt)&&void 0!==An?An:void 0,Jf=null!==(Zn=v.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:jl,emailVerified:na,isAnonymous:Lu,providerData:Ic,stsTokenManager:Fu}=v;he(jl&&Fu,_,"internal-error");const Md=Le.fromJSON(this.name,Fu);he("string"==typeof jl,_,"internal-error"),pe(qn,_.name),pe(Si,_.name),he("boolean"==typeof na,_,"internal-error"),he("boolean"==typeof Lu,_,"internal-error"),pe(ho,_.name),pe(Pd,_.name),pe(lf,_.name),pe(es,_.name),pe(ku,_.name),pe(Jf,_.name);const bh=new ct({uid:jl,auth:_,email:Si,emailVerified:na,displayName:qn,isAnonymous:Lu,photoURL:Pd,phoneNumber:ho,tenantId:lf,stsTokenManager:Md,createdAt:ku,lastLoginAt:Jf});return Ic&&Array.isArray(Ic)&&(bh.providerData=Ic.map(xd=>Object.assign({},xd))),es&&(bh._redirectEventId=es),bh}static _fromIdTokenResponse(_,v,b=!1){return(0,d.Z)(function*(){const Y=new Le;Y.updateFromServerResponse(v);const le=new ct({uid:v.localId,auth:_,stsTokenManager:Y,isAnonymous:b});return yield jr(le),le})()}}const Ot=new Map;function Wt(C){Ue(C instanceof Function,"Expected a class definition");let _=Ot.get(C);return _?(Ue(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Ot.set(C,_),_)}const xn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,b){var Y=this;return(0,d.Z)(function*(){Y.storage[v]=b})()}_get(v){var b=this;return(0,d.Z)(function*(){const Y=b.storage[v];return void 0===Y?null:Y})()}_remove(v){var b=this;return(0,d.Z)(function*(){delete b.storage[v]})()}_addListener(v,b){}_removeListener(v,b){}}return C.type="NONE",C})();function ur(C,_,v){return`firebase:${C}:${_}:${v}`}class Sn{constructor(_,v,b){this.persistence=_,this.auth=v,this.userKey=b;const{config:Y,name:le}=this.auth;this.fullUserKey=ur(this.userKey,Y.apiKey,le),this.fullPersistenceKey=ur("persistence",Y.apiKey,le),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,d.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?ct._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,d.Z)(function*(){if(v.persistence===_)return;const b=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,b?v.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,b="authUser"){return(0,d.Z)(function*(){if(!v.length)return new Sn(Wt(xn),_,b);const Y=(yield Promise.all(v.map(function(){var An=(0,d.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return An.apply(this,arguments)}}()))).filter(An=>An);let le=Y[0]||Wt(xn);const ot=ur(b,_.config.apiKey,_.name);let Dt=null;for(const An of v)try{const Zn=yield An._get(ot);if(Zn){const qn=ct._fromJSON(_,Zn);An!==le&&(Dt=qn),le=An;break}}catch{}const Xt=Y.filter(An=>An._shouldAllowMigration);return le._shouldAllowMigration&&Xt.length?(le=Xt[0],Dt&&(yield le._set(ot,Dt.toJSON())),yield Promise.all(v.map(function(){var An=(0,d.Z)(function*(Zn){if(Zn!==le)try{yield Zn._remove(ot)}catch{}});return function(Zn){return An.apply(this,arguments)}}())),new Sn(le,_,b)):new Sn(le,_,b)})()}}function or(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(St(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Ei(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Qt(_))return"Blackberry";if(bn(_))return"Webos";if(Hr(_))return"Safari";if((_.includes("chrome/")||Hi(_))&&!_.includes("edge/"))return"Chrome";if(ut(_))return"Android";{const b=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ei(C=(0,J.z$)()){return/firefox\//i.test(C)}function Hr(C=(0,J.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Hi(C=(0,J.z$)()){return/crios\//i.test(C)}function St(C=(0,J.z$)()){return/iemobile/i.test(C)}function ut(C=(0,J.z$)()){return/android/i.test(C)}function Qt(C=(0,J.z$)()){return/blackberry/i.test(C)}function bn(C=(0,J.z$)()){return/webos/i.test(C)}function Xn(C=(0,J.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function dt(C=(0,J.z$)()){return Xn(C)||ut(C)||bn(C)||Qt(C)||/windows phone/i.test(C)||St(C)}function Tt(C,_=[]){let v;switch(C){case"Browser":v=or((0,J.z$)());break;case"Worker":v=`${or((0,J.z$)())}-${C}`;break;default:v=C}const b=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${de.SDK_VERSION}/${b}`}class vt{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,v){const b=le=>new Promise((ot,Dt)=>{try{ot(_(le))}catch(Xt){Dt(Xt)}});b.onAbort=v,this.queue.push(b);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(_){var v=this;return(0,d.Z)(function*(){if(v.auth.currentUser===_)return;const b=[];try{for(const Y of v.queue)yield Y(_),Y.onAbort&&b.push(Y.onAbort)}catch(Y){b.reverse();for(const le of b)try{le()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==Y?void 0:Y.message})}})()}}function Yt(){return(Yt=(0,d.Z)(function*(C,_={}){return We(C,"GET","/v2/passwordPolicy",$e(C,_))})).apply(this,arguments)}class fn{constructor(_){var v,b,Y,le;const ot=_.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=ot.minPasswordLength)&&void 0!==v?v:6,ot.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ot.maxPasswordLength),void 0!==ot.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ot.containsLowercaseCharacter),void 0!==ot.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ot.containsUppercaseCharacter),void 0!==ot.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ot.containsNumericCharacter),void 0!==ot.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ot.containsNonAlphanumericCharacter),this.enforcementState=_.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(b=_.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(le=_.forceUpgradeOnSignin)&&void 0!==le&&le,this.schemaVersion=_.schemaVersion}validatePassword(_){var v,b,Y,le,ot,Dt;const Xt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(_,Xt),this.validatePasswordCharacterOptions(_,Xt),Xt.isValid&&(Xt.isValid=null===(v=Xt.meetsMinPasswordLength)||void 0===v||v),Xt.isValid&&(Xt.isValid=null===(b=Xt.meetsMaxPasswordLength)||void 0===b||b),Xt.isValid&&(Xt.isValid=null===(Y=Xt.containsLowercaseLetter)||void 0===Y||Y),Xt.isValid&&(Xt.isValid=null===(le=Xt.containsUppercaseLetter)||void 0===le||le),Xt.isValid&&(Xt.isValid=null===(ot=Xt.containsNumericCharacter)||void 0===ot||ot),Xt.isValid&&(Xt.isValid=null===(Dt=Xt.containsNonAlphanumericCharacter)||void 0===Dt||Dt),Xt}validatePasswordLengthOptions(_,v){const b=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;b&&(v.meetsMinPasswordLength=_.length>=b),Y&&(v.meetsMaxPasswordLength=_.length<=Y)}validatePasswordCharacterOptions(_,v){let b;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let Y=0;Y<_.length;Y++)b=_.charAt(Y),this.updatePasswordCharacterOptionsStatuses(v,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(_,v,b,Y,le){this.customStrengthOptions.containsLowercaseLetter&&(_.containsLowercaseLetter||(_.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(_.containsUppercaseLetter||(_.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(_.containsNumericCharacter||(_.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(_.containsNonAlphanumericCharacter||(_.containsNonAlphanumericCharacter=le))}}class Rn{constructor(_,v,b,Y){this.app=_,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=b,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new De(this),this.idTokenSubscription=new De(this),this.beforeStateQueue=new vt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(_,v){var b=this;return v&&(this._popupRedirectResolver=Wt(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var Y,le;if(!b._deleted&&(b.persistenceManager=yield Sn.create(b,_),!b._deleted)){if(null!==(Y=b._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(v),b.lastNotifiedUid=(null===(le=b.currentUser)||void 0===le?void 0:le.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,d.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v,!0)}})()}initializeCurrentUser(_){var v=this;return(0,d.Z)(function*(){var b;const Y=yield v.assertedPersistence.getCurrentUser();let le=Y,ot=!1;if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Dt=null===(b=v.redirectUser)||void 0===b?void 0:b._redirectEventId,Xt=null==le?void 0:le._redirectEventId,An=yield v.tryRedirectSignIn(_);(!Dt||Dt===Xt)&&null!=An&&An.user&&(le=An.user,ot=!0)}if(!le)return v.directlySetCurrentUser(null);if(!le._redirectEventId){if(ot)try{yield v.beforeStateQueue.runMiddleware(le)}catch(Dt){le=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Dt))}return le?v.reloadAndSetCurrentUserOrClear(le):v.directlySetCurrentUser(null)}return he(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===le._redirectEventId?v.directlySetCurrentUser(le):v.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(_){var v=this;return(0,d.Z)(function*(){let b=null;try{b=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch{yield v._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,d.Z)(function*(){try{yield jr(_)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Qe(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,d.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,d.Z)(function*(){const b=_?(0,J.m9)(_):null;return b&&he(b.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(b&&b._clone(v))})()}_updateCurrentUser(_,v=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return _&&he(b.tenantId===_.tenantId,b,"tenant-id-mismatch"),v||(yield b.beforeStateQueue.runMiddleware(_)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(_),b.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,d.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(Wt(_))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(_){var v=this;return(0,d.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const b=v._getPasswordPolicyInternal();return b.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(_)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var _=this;return(0,d.Z)(function*(){const v=yield function Ut(C){return Yt.apply(this,arguments)}(_),b=new fn(v);null===_.tenantId?_._projectPasswordPolicy=b:_._tenantPasswordPolicies[_.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new J.LL("auth","Firebase",_())}onAuthStateChanged(_,v,b){return this.registerStateListener(this.authStateSubscription,_,v,b)}beforeAuthStateChanged(_,v){return this.beforeStateQueue.pushCallback(_,v)}onIdTokenChanged(_,v,b){return this.registerStateListener(this.idTokenSubscription,_,v,b)}authStateReady(){return new Promise((_,v)=>{if(this.currentUser)_();else{const b=this.onAuthStateChanged(()=>{b(),_()},v)}})}revokeAccessToken(_){var v=this;return(0,d.Z)(function*(){if(v.currentUser){const b=yield v.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:_,idToken:b};null!=v.tenantId&&(Y.tenantId=v.tenantId),yield function ge(C,_){return oe.apply(this,arguments)}(v,Y)}})()}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var b=this;return(0,d.Z)(function*(){const Y=yield b.getOrInitRedirectPersistenceManager(v);return null===_?Y.removeCurrentUser():Y.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const b=_&&Wt(_)||v._popupRedirectResolver;he(b,v,"argument-error"),v.redirectPersistenceManager=yield Sn.create(v,[Wt(b._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,d.Z)(function*(){var b,Y;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(b=v._currentUser)||void 0===b?void 0:b._redirectEventId)===_?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,d.Z)(function*(){if(_===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,b,Y){if(this._deleted)return()=>{};const le="function"==typeof v?v:v.next.bind(v);let ot=!1;const Dt=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(Dt,this,"internal-error"),Dt.then(()=>{ot||le(this.currentUser)}),"function"==typeof v){const Xt=_.addObserver(v,b,Y);return()=>{ot=!0,Xt()}}{const Xt=_.addObserver(v);return()=>{ot=!0,Xt()}}}directlySetCurrentUser(_){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==_&&v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh(),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Tt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,d.Z)(function*(){var v;const b={"X-Client-Version":_.clientVersion};_.app.options.appId&&(b["X-Firebase-gmpid"]=_.app.options.appId);const Y=yield null===(v=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(b["X-Firebase-Client"]=Y);const le=yield _._getAppCheckToken();return le&&(b["X-Firebase-AppCheck"]=le),b})()}_getAppCheckToken(){var _=this;return(0,d.Z)(function*(){var v;const b=yield null===(v=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=b&&b.error&&function Et(C,..._){at.logLevel<=Oe.in.WARN&&at.warn(`Auth (${de.SDK_VERSION}): ${C}`,..._)}(`Error while retrieving App Check token: ${b.error}`),null==b?void 0:b.token})()}}function mn(C){return(0,J.m9)(C)}class De{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,J.ne)(v=>this.observer=v)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ee(C){return new Promise((_,v)=>{const b=document.createElement("script");b.setAttribute("src",C),b.onload=_,b.onerror=Y=>{const le=Xe("internal-error");le.customData=Y,v(le)},b.type="text/javascript",b.charset="UTF-8",function Ne(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(b)})}function Ae(C){return`__${C}${Math.floor(1e6*Math.random())}`}class tn{constructor(_){this.type="recaptcha-enterprise",this.auth=mn(_)}verify(_="verify",v=!1){var b=this;return(0,d.Z)(function*(){function le(){return le=(0,d.Z)(function*(Dt){if(!v){if(null==Dt.tenantId&&null!=Dt._agentRecaptchaConfig)return Dt._agentRecaptchaConfig.siteKey;if(null!=Dt.tenantId&&void 0!==Dt._tenantRecaptchaConfigs[Dt.tenantId])return Dt._tenantRecaptchaConfigs[Dt.tenantId].siteKey}return new Promise(function(){var Xt=(0,d.Z)(function*(An,Zn){er(Dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qn=>{if(void 0!==qn.recaptchaKey){const Si=new Fn(qn);return null==Dt.tenantId?Dt._agentRecaptchaConfig=Si:Dt._tenantRecaptchaConfigs[Dt.tenantId]=Si,An(Si.siteKey)}Zn(new Error("recaptcha Enterprise site key undefined"))}).catch(qn=>{Zn(qn)})});return function(An,Zn){return Xt.apply(this,arguments)}}())}),le.apply(this,arguments)}function ot(Dt,Xt,An){const Zn=window.grecaptcha;Hn(Zn)?Zn.enterprise.ready(()=>{Zn.enterprise.execute(Dt,{action:_}).then(qn=>{Xt(qn)}).catch(()=>{Xt("NO_RECAPTCHA")})}):An(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Dt,Xt)=>{(function Y(Dt){return le.apply(this,arguments)})(b.auth).then(An=>{if(!v&&Hn(window.grecaptcha))ot(An,Dt,Xt);else{if(typeof window>"u")return void Xt(new Error("RecaptchaVerifier is only supported in browser"));ee("https://www.google.com/recaptcha/enterprise.js?render="+An).then(()=>{ot(An,Dt,Xt)}).catch(Zn=>{Xt(Zn)})}}).catch(An=>{Xt(An)})})})()}}function Nn(C,_,v){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(C,_,v,b=!1){const Y=new tn(C);let le;try{le=yield Y.verify(v)}catch{le=yield Y.verify(v,!0)}const ot=Object.assign({},_);return Object.assign(ot,b?{captchaResp:le}:{captchaResponse:le}),Object.assign(ot,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ot,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ot})).apply(this,arguments)}function dr(C,_,v,b){return z.apply(this,arguments)}function z(){return z=(0,d.Z)(function*(C,_,v,b){var Y;if(null!==(Y=C._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const le=yield Nn(C,_,v,"getOobCode"===v);return b(C,le)}return b(C,_).catch(function(){var le=(0,d.Z)(function*(ot){if("auth/missing-recaptcha-token"===ot.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Dt=yield Nn(C,_,v,"getOobCode"===v);return b(C,Dt)}return Promise.reject(ot)});return function(ot){return le.apply(this,arguments)}}())}),z.apply(this,arguments)}function Q(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function te(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class $t{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return Ie("not implemented")}_getIdTokenResponse(_){return Ie("not implemented")}_linkToIdToken(_,v){return Ie("not implemented")}_getReauthenticationResolver(_){return Ie("not implemented")}}function Vn(C,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:resetPassword",$e(C,_))})).apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ii(C,_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:signUp",_)})).apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:update",$e(C,_))})).apply(this,arguments)}function fi(C,_){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithPassword",$e(C,_))})).apply(this,arguments)}function Ui(C,_){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:sendOobCode",$e(C,_))})).apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(C,_){return Ui(C,_)})).apply(this,arguments)}function La(C,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(C,_){return Ui(C,_)})).apply(this,arguments)}function Fa(C,_){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(C,_){return Ui(C,_)})).apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(C,_){return Ui(C,_)})).apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithEmailLink",$e(C,_))})).apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithEmailLink",$e(C,_))})).apply(this,arguments)}class $o extends $t{constructor(_,v,b,Y=null){super("password",b),this._email=_,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(_,v){return new $o(_,v,"password")}static _fromEmailAndCode(_,v,b=null){return new $o(_,v,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return dr(_,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fi);case"emailLink":return function io(C,_){return so.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:Be(_,"internal-error")}})()}_linkToIdToken(_,v){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return dr(_,{idToken:v,returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ii);case"emailLink":return function zs(C,_){return Vr.apply(this,arguments)}(_,{idToken:v,email:b._email,oobCode:b._password});default:Be(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ds(C,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithIdp",$e(C,_))})).apply(this,arguments)}class ts extends $t{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new ts(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):Be("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:b,signInMethod:Y}=v,le=(0,re._T)(v,["providerId","signInMethod"]);if(!b||!Y)return null;const ot=new ts(b,Y);return ot.idToken=le.idToken||void 0,ot.accessToken=le.accessToken||void 0,ot.secret=le.secret,ot.nonce=le.nonce,ot.pendingToken=le.pendingToken||null,ot}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,v){const b=this.buildRequest();return b.idToken=v,ds(_,b)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ds(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,J.xO)(v)}return _}}function Ca(){return(Ca=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:sendVerificationCode",$e(C,_))})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithPhoneNumber",$e(C,_))})).apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(C,_){const v=yield At(C,"POST","/v1/accounts:signInWithPhoneNumber",$e(C,_));if(v.temporaryProof)throw Ht(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Ys={USER_NOT_FOUND:"user-not-found"};function vo(){return(vo=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithPhoneNumber",$e(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ys)})).apply(this,arguments)}class Va extends $t{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Va({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Va({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function Li(C,_){return la.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function jo(C,_){return ca.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Oc(C,_){return vo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:b,verificationCode:Y}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:b,code:Y}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:b,phoneNumber:Y,temporaryProof:le}=_;return b||v||Y||le?new Va({verificationId:v,verificationCode:b,phoneNumber:Y,temporaryProof:le}):null}}class qs{constructor(_){var v,b,Y,le,ot,Dt;const Xt=(0,J.zd)((0,J.pd)(_)),An=null!==(v=Xt.apiKey)&&void 0!==v?v:null,Zn=null!==(b=Xt.oobCode)&&void 0!==b?b:null,qn=function ua(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Xt.mode)&&void 0!==Y?Y:null);he(An&&Zn&&qn,"argument-error"),this.apiKey=An,this.operation=qn,this.code=Zn,this.continueUrl=null!==(le=Xt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(ot=Xt.languageCode)&&void 0!==ot?ot:null,this.tenantId=null!==(Dt=Xt.tenantId)&&void 0!==Dt?Dt:null}static parseLink(_){const v=function hu(C){const _=(0,J.zd)((0,J.pd)(C)).link,v=_?(0,J.zd)((0,J.pd)(_)).deep_link_id:null,b=(0,J.zd)((0,J.pd)(C)).deep_link_id;return(b?(0,J.zd)((0,J.pd)(b)).link:null)||b||v||_||C}(_);try{return new qs(v)}catch{return null}}}let Ba=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,b){return $o._fromEmailAndPassword(v,b)}static credentialWithLink(v,b){const Y=qs.parseLink(b);return he(Y,"argument-error"),$o._fromEmailAndCode(v,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class $i{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class da extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Es extends da{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return he("providerId"in v&&"signInMethod"in v,"argument-error"),ts._fromParams(v)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return he(_.idToken||_.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Es.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Es.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:b,oauthTokenSecret:Y,pendingToken:le,nonce:ot,providerId:Dt}=_;if(!b&&!Y&&!v&&!le||!Dt)return null;try{return new Es(Dt)._credential({idToken:v,accessToken:b,nonce:ot,pendingToken:le})}catch{return null}}}let tc=(()=>{class C extends da{constructor(){super("facebook.com")}static credential(v){return ts._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),nc=(()=>{class C extends da{constructor(){super("google.com"),this.addScope("profile")}static credential(v,b){return ts._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:b})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:b,oauthAccessToken:Y}=v;if(!b&&!Y)return null;try{return C.credential(b,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),Ua=(()=>{class C extends da{constructor(){super("github.com")}static credential(v){return ts._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ks extends $t{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ds(_,this.buildRequest())}_linkToIdToken(_,v){const b=this.buildRequest();return b.idToken=v,ds(_,b)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ds(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:b,signInMethod:Y,pendingToken:le}=v;return b&&Y&&le&&b===Y?new Ks(b,le):null}static _create(_,v){return new Ks(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends $i{constructor(_){he(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Ir.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Ir.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const v=Ks.fromJSON(_);return he(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:v,providerId:b}=_;if(!v||!b)return null;try{return Ks._create(b,v)}catch{return null}}}let xi=(()=>{class C extends da{constructor(){super("twitter.com")}static credential(v,b){return ts._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:b})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:b,oauthTokenSecret:Y}=v;if(!b||!Y)return null;try{return C.credential(b,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ki(C,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signUp",$e(C,_))})).apply(this,arguments)}class bi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,b,Y=!1){return(0,d.Z)(function*(){const le=yield ct._fromIdTokenResponse(_,b,Y),ot=wa(b);return new bi({user:le,providerId:ot,_tokenResponse:b,operationType:v})})()}static _forOperation(_,v,b){return(0,d.Z)(function*(){yield _._updateTokensIfNecessary(b,!0);const Y=wa(b);return new bi({user:_,providerId:Y,_tokenResponse:b,operationType:v})})()}}function wa(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function cl(){return(cl=(0,d.Z)(function*(C){var _;const v=mn(C);if(yield v._initializationPromise,null!==(_=v.currentUser)&&void 0!==_&&_.isAnonymous)return new bi({user:v.currentUser,providerId:null,operationType:"signIn"});const b=yield Ki(v,{returnSecureToken:!0}),Y=yield bi._fromIdTokenResponse(v,"signIn",b,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ao extends J.ZR{constructor(_,v,b,Y){var le;super(v.code,v.message),this.operationType=b,this.user=Y,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:_.name,tenantId:null!==(le=_.tenantId)&&void 0!==le?le:void 0,_serverResponse:v.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(_,v,b,Y){return new Ao(_,v,b,Y)}}function Ta(C,_,v,b){return("reauthenticate"===_?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Ao._fromErrorAndOperation(C,le,_,b):le})}function Ai(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function ar(){return ar=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C);yield q(!0,v,_);const{providerUserInfo:b}=yield function lr(C,_){return Bn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),Y=Ai(b||[]);return v.providerData=v.providerData.filter(le=>Y.has(le.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),ar.apply(this,arguments)}function hr(C,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(C,_,v=!1){const b=yield Ar(C,_._linkToIdToken(C.auth,yield C.getIdToken()),v);return bi._forOperation(C,"link",b)})).apply(this,arguments)}function q(C,_,v){return L.apply(this,arguments)}function L(){return(L=(0,d.Z)(function*(C,_,v){yield jr(_);const Y=!1===C?"provider-already-linked":"no-such-provider";he(Ai(_.providerData).has(v)===C,_.auth,Y)})).apply(this,arguments)}function we(C,_){return W.apply(this,arguments)}function W(){return(W=(0,d.Z)(function*(C,_,v=!1){const{auth:b}=C,Y="reauthenticate";try{const le=yield Ar(C,Ta(b,Y,_,C),v);he(le.idToken,b,"internal-error");const ot=hn(le.idToken);he(ot,b,"internal-error");const{sub:Dt}=ot;return he(C.uid===Dt,b,"user-mismatch"),bi._forOperation(C,Y,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&Be(b,"user-mismatch"),le}})).apply(this,arguments)}function Pe(C,_){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(C,_,v=!1){const b="signIn",Y=yield Ta(C,b,_),le=yield bi._fromIdTokenResponse(C,b,Y);return v||(yield C._updateCurrentUser(le.user)),le})).apply(this,arguments)}function dn(C,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(C,_){return Pe(mn(C),_)})).apply(this,arguments)}function As(C,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C);return yield q(!1,v,_.providerId),hr(v,_)})).apply(this,arguments)}function qr(C,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(C,_){return we((0,J.m9)(C),_)})).apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(C,_){return At(C,"POST","/v1/accounts:signInWithCustomToken",$e(C,_))})).apply(this,arguments)}function $a(){return $a=(0,d.Z)(function*(C,_){const v=mn(C),b=yield function Ho(C,_){return ao.apply(this,arguments)}(v,{token:_,returnSecureToken:!0}),Y=yield bi._fromIdTokenResponse(v,"signIn",b);return yield v._updateCurrentUser(Y.user),Y}),$a.apply(this,arguments)}class rs{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?Da._fromServerResponse(_,v):"totpInfo"in v?lo._fromServerResponse(_,v):Be(_,"internal-error")}}class Da extends rs{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new Da(v)}}class lo extends rs{constructor(_){super("totp",_)}static _fromServerResponse(_,v){return new lo(v)}}function vr(C,_,v){var b;he((null===(b=v.url)||void 0===b?void 0:b.length)>0,C,"invalid-continue-uri"),he(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(he(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=v.iOS.bundleId),v.android&&(he(v.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Al(C){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(C){const _=mn(C);_._getPasswordPolicyInternal()&&(yield _._updatePasswordPolicy())})).apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(C,_,v){const b=mn(C),Y={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};v&&vr(b,Y,v),yield dr(b,Y,"getOobCode",La)})).apply(this,arguments)}function zi(){return zi=(0,d.Z)(function*(C,_,v){yield Vn((0,J.m9)(C),{oobCode:_,newPassword:v}).catch(function(){var b=(0,d.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Al(C),Y});return function(Y){return b.apply(this,arguments)}}())}),zi.apply(this,arguments)}function hs(){return hs=(0,d.Z)(function*(C,_){yield function Di(C,_){return Ms.apply(this,arguments)}((0,J.m9)(C),{oobCode:_})}),hs.apply(this,arguments)}function Zi(C,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C),b=yield Vn(v,{oobCode:_}),Y=b.requestType;switch(he(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(b.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(b.mfaInfo,v,"internal-error");default:he(b.email,v,"internal-error")}let le=null;return b.mfaInfo&&(le=rs._fromServerResponse(mn(v),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:le},operation:Y}})).apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(C,_){const{data:v}=yield Zi((0,J.m9)(C),_);return v.email})).apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(C,_,v){const b=mn(C),ot=yield dr(b,{returnSecureToken:!0,email:_,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ki).catch(Xt=>{throw"auth/password-does-not-meet-requirements"===Xt.code&&Al(C),Xt}),Dt=yield bi._fromIdTokenResponse(b,"signIn",ot);return yield b._updateCurrentUser(Dt.user),Dt})).apply(this,arguments)}function So(){return(So=(0,d.Z)(function*(C,_,v){const b=mn(C),Y={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};(function le(ot,Dt){he(Dt.handleCodeInApp,b,"argument-error"),Dt&&vr(b,ot,Dt)})(Y,v),yield dr(b,Y,"getOobCode",Fa)})).apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C),Y=Ba.credentialWithLink(_,v||rt());return he(Y._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),dn(b,Y)})).apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:createAuthUri",$e(C,_))})).apply(this,arguments)}function dl(){return dl=(0,d.Z)(function*(C,_){const b={identifier:_,continueUri:Me()?rt():"http://localhost"},{signinMethods:Y}=yield function ld(C,_){return ul.apply(this,arguments)}((0,J.m9)(C),b);return Y||[]}),dl.apply(this,arguments)}function R(){return R=(0,d.Z)(function*(C,_){const v=(0,J.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&vr(v.auth,Y,_);const{email:le}=yield function Cr(C,_){return To.apply(this,arguments)}(v.auth,Y);le!==C.email&&(yield C.reload())}),R.apply(this,arguments)}function Ve(){return Ve=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};v&&vr(b.auth,le,v);const{email:ot}=yield function ys(C,_){return qi.apply(this,arguments)}(b.auth,le);ot!==C.email&&(yield C.reload())}),Ve.apply(this,arguments)}function ve(){return(ve=(0,d.Z)(function*(C,_){return We(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Gt(){return Gt=(0,d.Z)(function*(C,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const b=(0,J.m9)(C),le={idToken:yield b.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},ot=yield Ar(b,function H(C,_){return ve.apply(this,arguments)}(b.auth,le));b.displayName=ot.displayName||null,b.photoURL=ot.photoUrl||null;const Dt=b.providerData.find(({providerId:Xt})=>"password"===Xt);Dt&&(Dt.displayName=b.displayName,Dt.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ot)}),Gt.apply(this,arguments)}function wr(C,_,v){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,d.Z)(function*(C,_,v){const{auth:b}=C,le={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(le.email=_),v&&(le.password=v);const ot=yield Ar(C,function _r(C,_){return li.apply(this,arguments)}(b,le));yield C._updateTokensIfNecessary(ot,!0)}),Tr.apply(this,arguments)}class mr{constructor(_,v,b={}){this.isNewUser=_,this.providerId=v,this.profile=b}}class Pr extends mr{constructor(_,v,b,Y){super(_,v,b),this.username=Y}}class Qi extends mr{constructor(_,v){super(_,"facebook.com",v)}}class si extends Pr{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Rs extends mr{constructor(_,v){super(_,"google.com",v)}}class Ha extends Pr{constructor(_,v,b){super(_,"twitter.com",v,b)}}function co(C){const{user:_,_tokenResponse:v}=C;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function pr(C){var _,v;if(!C)return null;const{providerId:b}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},le=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!b&&null!=C&&C.idToken){const ot=null===(v=null===(_=hn(C.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(ot)return new mr(le,"anonymous"!==ot&&"custom"!==ot?ot:null)}if(!b)return null;switch(b){case"facebook.com":return new Qi(le,Y);case"github.com":return new si(le,Y);case"google.com":return new Rs(le,Y);case"twitter.com":return new Ha(le,Y,C.screenName||null);case"custom":case"anonymous":return new mr(le,null);default:return new mr(le,b,Y)}}(v)}class Ns{constructor(_,v,b){this.type=_,this.credential=v,this.user=b}static _fromIdtoken(_,v){return new Ns("enroll",_,v)}static _fromMfaPendingCredential(_){return new Ns("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,b;if(null!=_&&_.multiFactorSession){if(null!==(v=_.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ns._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.idToken)return Ns._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Qs{constructor(_,v,b){this.session=_,this.hints=v,this.signInResolver=b}static _fromError(_,v){const b=mn(_),Y=v.customData._serverResponse,le=(Y.mfaInfo||[]).map(Dt=>rs._fromServerResponse(b,Dt));he(Y.mfaPendingCredential,b,"internal-error");const ot=Ns._fromMfaPendingCredential(Y.mfaPendingCredential);return new Qs(ot,le,function(){var Dt=(0,d.Z)(function*(Xt){const An=yield Xt._process(b,ot);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Zn=Object.assign(Object.assign({},Y),{idToken:An.idToken,refreshToken:An.refreshToken});switch(v.operationType){case"signIn":const qn=yield bi._fromIdTokenResponse(b,v.operationType,Zn);return yield b._updateCurrentUser(qn.user),qn;case"reauthenticate":return he(v.user,b,"internal-error"),bi._forOperation(v.user,v.operationType,Zn);default:Be(b,"internal-error")}});return function(Xt){return Dt.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,d.Z)(function*(){return v.signInResolver(_)})()}}class zn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(b=>rs._fromServerResponse(_.auth,b)))})}static _fromUser(_){return new zn(_)}getSession(){var _=this;return(0,d.Z)(function*(){return Ns._fromIdtoken(yield _.user.getIdToken(),_.user)})()}enroll(_,v){var b=this;return(0,d.Z)(function*(){const Y=_,le=yield b.getSession(),ot=yield Ar(b.user,Y._process(b.user.auth,le,v));return yield b.user._updateTokensIfNecessary(ot),b.user.reload()})()}unenroll(_){var v=this;return(0,d.Z)(function*(){const b="string"==typeof _?_:_.uid,Y=yield v.user.getIdToken();try{const le=yield Ar(v.user,function pu(C,_){return We(C,"POST","/v2/accounts/mfaEnrollment:withdraw",$e(C,_))}(v.user.auth,{idToken:Y,mfaEnrollmentId:b}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ot})=>ot!==b),yield v.user._updateTokensIfNecessary(le),yield v.user.reload()}catch(le){throw le}})()}}const Qn=new WeakMap,Tn="__sak";class Ft{constructor(_,v){this.storageRetriever=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Tn,"1"),this.storage.removeItem(Tn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const ud=(()=>{class C extends Ft{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,b)=>this.onStorageEvent(v,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zt(){const C=(0,J.z$)();return Hr(C)||Xn(C)}()&&function He(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const b of Object.keys(this.listeners)){const Y=this.storage.getItem(b),le=this.localCache[b];Y!==le&&v(b,le,Y)}}onStorageEvent(v,b=!1){if(!v.key)return void this.forAllChangedKeys((Dt,Xt,An)=>{this.notifyListeners(Dt,An)});const Y=v.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Dt=this.storage.getItem(Y);if(v.newValue!==Dt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!b)return}const le=()=>{const Dt=this.storage.getItem(Y);!b&&this.localCache[Y]===Dt||this.notifyListeners(Y,Dt)},ot=this.storage.getItem(Y);!function Xr(){return(0,J.w1)()&&10===document.documentMode}()||ot===v.newValue||v.newValue===v.oldValue?le():setTimeout(le,10)}notifyListeners(v,b){this.localCache[v]=b;const Y=this.listeners[v];if(Y)for(const le of Array.from(Y))le(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,b,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:b,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,b){var Y=()=>super._set,le=this;return(0,d.Z)(function*(){yield Y().call(le,v,b),le.localCache[v]=JSON.stringify(b)})()}_get(v){var b=()=>super._get,Y=this;return(0,d.Z)(function*(){const le=yield b().call(Y,v);return Y.localCache[v]=JSON.stringify(le),le})()}_remove(v){var b=()=>super._remove,Y=this;return(0,d.Z)(function*(){yield b().call(Y,v),delete Y.localCache[v]})()}}return C.type="LOCAL",C})(),za=(()=>{class C extends Ft{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,b){}_removeListener(v,b){}}return C.type="SESSION",C})();let Sl=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const b=this.receivers.find(le=>le.isListeningto(v));if(b)return b;const Y=new C(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var b=this;return(0,d.Z)(function*(){const Y=v,{eventId:le,eventType:ot,data:Dt}=Y.data,Xt=b.handlersMap[ot];if(null==Xt||!Xt.size)return;Y.ports[0].postMessage({status:"ack",eventId:le,eventType:ot});const An=Array.from(Xt).map(function(){var qn=(0,d.Z)(function*(Si){return Si(Y.origin,Dt)});return function(Si){return qn.apply(this,arguments)}}()),Zn=yield function mu(C){return Promise.all(C.map(function(){var _=(0,d.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(b){return{fulfilled:!1,reason:b}}});return function(v){return _.apply(this,arguments)}}()))}(An);Y.ports[0].postMessage({status:"done",eventId:le,eventType:ot,response:Zn})})()}_subscribe(v,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(b)}_unsubscribe(v,b){this.handlersMap[v]&&b&&this.handlersMap[v].delete(b),(!b||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function sc(C="",_=10){let v="";for(let b=0;b<_;b++)v+=Math.floor(10*Math.random());return C+v}class Hf{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,b=50){var Y=this;return(0,d.Z)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let ot,Dt;return new Promise((Xt,An)=>{const Zn=sc("",20);le.port1.start();const qn=setTimeout(()=>{An(new Error("unsupported_event"))},b);Dt={messageChannel:le,onMessage(Si){const ho=Si;if(ho.data.eventId===Zn)switch(ho.data.status){case"ack":clearTimeout(qn),ot=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(ot),Xt(ho.data.response);break;default:clearTimeout(qn),clearTimeout(ot),An(new Error("invalid_response"))}}},Y.handlers.add(Dt),le.port1.addEventListener("message",Dt.onMessage),Y.target.postMessage({eventType:_,eventId:Zn,data:v},[le.port2])}).finally(()=>{Dt&&Y.removeMessageHandler(Dt)})})()}}function os(){return window}function Sr(){return typeof os().WorkerGlobalScope<"u"&&"function"==typeof os().importScripts}function Kr(){return(Kr=(0,d.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ci="firebaseLocalStorageDb",hl="firebaseLocalStorage",ri="fbase_key";class yn{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Mo(C,_){return C.transaction([hl],_?"readwrite":"readonly").objectStore(hl)}function fl(){const C=indexedDB.open(ci,1);return new Promise((_,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const b=C.result;try{b.createObjectStore(hl,{keyPath:ri})}catch(Y){v(Y)}}),C.addEventListener("success",(0,d.Z)(function*(){const b=C.result;b.objectStoreNames.contains(hl)?_(b):(b.close(),yield function dd(){const C=indexedDB.deleteDatabase(ci);return new yn(C).toPromise()}(),_(yield fl()))}))})}function oc(C,_,v){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(C,_,v){const b=Mo(C,!0).put({[ri]:_,value:v});return new yn(b).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(C,_){const v=Mo(C,!1).get(_),b=yield new yn(v).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ga(C,_){const v=Mo(C,!0).delete(_);return new yn(v).toPromise()}const Rl=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield fl()),v.db})()}_withRetries(v){var b=this;return(0,d.Z)(function*(){let Y=0;for(;;)try{const le=yield b._openDb();return yield v(le)}catch(le){if(Y++>3)throw le;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return Sr()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){v.receiver=Sl._getInstance(function ir(){return Sr()?self:null}()),v.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(Y,le){return{keyProcessed:(yield v._poll()).includes(le.key)}});return function(Y,le){return b.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(Y,le){return["keyChanged"]});return function(Y,le){return b.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var b,Y;if(v.activeServiceWorker=yield function qt(){return Kr.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Hf(v.activeServiceWorker);const le=yield v.sender._send("ping",{},800);le&&null!==(b=le[0])&&void 0!==b&&b.fulfilled&&null!==(Y=le[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Yi(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:v},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield fl();return yield oc(v,Tn,"1"),yield ga(v,Tn),!0}catch{}return!1})()}_withPendingWrite(v){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield v()}finally{b.pendingWrites--}})()}_set(v,b){var Y=this;return(0,d.Z)(function*(){return Y._withPendingWrite((0,d.Z)(function*(){return yield Y._withRetries(le=>oc(le,v,b)),Y.localCache[v]=b,Y.notifyServiceWorker(v)}))})()}_get(v){var b=this;return(0,d.Z)(function*(){const Y=yield b._withRetries(le=>function Ra(C,_){return pl.apply(this,arguments)}(le,v));return b.localCache[v]=Y,Y})()}_remove(v){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(Y=>ga(Y,v)),delete b.localCache[v],b.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const b=yield v._withRetries(ot=>{const Dt=Mo(ot,!1).getAll();return new yn(Dt).toPromise()});if(!b)return[];if(0!==v.pendingWrites)return[];const Y=[],le=new Set;for(const{fbase_key:ot,value:Dt}of b)le.add(ot),JSON.stringify(v.localCache[ot])!==JSON.stringify(Dt)&&(v.notifyListeners(ot,Dt),Y.push(ot));for(const ot of Object.keys(v.localCache))v.localCache[ot]&&!le.has(ot)&&(v.notifyListeners(ot,null),Y.push(ot));return Y})()}notifyListeners(v,b){this.localCache[v]=b;const Y=this.listeners[v];if(Y)for(const le of Array.from(Y))le(b)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(b)}_removeListener(v,b){this.listeners[v]&&(this.listeners[v].delete(b),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})(),ae=1e12;class Re{constructor(_){this.auth=_,this.counter=ae,this._widgets=new Map}render(_,v){const b=this.counter;return this._widgets.set(b,new Ct(_,this.auth.name,v||{})),this.counter++,b}reset(_){var v;const b=_||ae;null===(v=this._widgets.get(b))||void 0===v||v.delete(),this._widgets.delete(b)}getResponse(_){var v;return(null===(v=this._widgets.get(_||ae))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,d.Z)(function*(){var b;return null===(b=v._widgets.get(_||ae))||void 0===b||b.execute(),""})()}}class Ct{constructor(_,v,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof _?document.getElementById(_):_;he(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rn(C){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<C;b++)_.push(v.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bt=Ae("rcb"),Dn=new se(3e4,6e4);class Ni{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=os().grecaptcha)||void 0===_||!_.render)}load(_,v=""){return he(function gi(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),_,"argument-error"),this.shouldResolveImmediately(v)&&Jt(os().grecaptcha)?Promise.resolve(os().grecaptcha):new Promise((b,Y)=>{const le=os().setTimeout(()=>{Y(Xe(_,"network-request-failed"))},Dn.get());os()[bt]=()=>{os().clearTimeout(le),delete os()[bt];const Dt=os().grecaptcha;if(!Dt||!Jt(Dt))return void Y(Xe(_,"internal-error"));const Xt=Dt.render;Dt.render=(An,Zn)=>{const qn=Xt(An,Zn);return this.counter++,qn},this.hostLanguage=v,b(Dt)},ee(`https://www.google.com/recaptcha/api.js??${(0,J.xO)({onload:bt,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(le),Y(Xe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var v;return!(null===(v=os().grecaptcha)||void 0===v||!v.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sr{load(_){return(0,d.Z)(function*(){return new Re(_)})()}clearedOneInstance(){}}const cr="recaptcha",Wn={theme:"light",type:"image"};class Xs{constructor(_,v,b=Object.assign({},Wn)){this.parameters=b,this.type=cr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(_),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof v?document.getElementById(v):v;he(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sr:new Ni,this.validateStartingState()}verify(){var _=this;return(0,d.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),b=_.getAssertedRecaptcha();return b.getResponse(v)||new Promise(le=>{const ot=Dt=>{Dt&&(_.tokenChangeListeners.delete(ot),le(Dt))};_.tokenChangeListeners.add(ot),_.isInvisible&&b.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(b=>b(v)),"function"==typeof _)_(v);else if("string"==typeof _){const b=os()[_];"function"==typeof b&&b(v)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,d.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const b=document.createElement("div");v.appendChild(b),v=b}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,d.Z)(function*(){he(Me()&&!Sr(),_.auth,"internal-error"),yield function mi(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function rr(C){return gn.apply(this,arguments)}(_.auth);he(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xi{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Va._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function xo(){return(xo=(0,d.Z)(function*(C,_,v){const b=mn(C),Y=yield Nc(b,_,(0,J.m9)(v));return new Xi(Y,le=>dn(b,le))})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C);yield q(!1,b,"phone");const Y=yield Nc(b.auth,_,(0,J.m9)(v));return new Xi(Y,le=>As(b,le))})).apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C),Y=yield Nc(b.auth,_,(0,J.m9)(v));return new Xi(Y,le=>qr(b,le))})).apply(this,arguments)}function Nc(C,_,v){return ac.apply(this,arguments)}function ac(){return ac=(0,d.Z)(function*(C,_,v){var b;const Y=yield v.verify();try{let le;if(he("string"==typeof Y,C,"argument-error"),he(v.type===cr,C,"argument-error"),le="string"==typeof _?{phoneNumber:_}:_,"session"in le){const ot=le.session;if("phoneNumber"in le)return he("enroll"===ot.type,C,"internal-error"),(yield function lh(C,_){return We(C,"POST","/v2/accounts/mfaEnrollment:start",$e(C,_))}(C,{idToken:ot.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{he("signin"===ot.type,C,"internal-error");const Dt=(null===(b=le.multiFactorHint)||void 0===b?void 0:b.uid)||le.multiFactorUid;return he(Dt,C,"missing-multi-factor-info"),(yield function A(C,_){return We(C,"POST","/v2/accounts/mfaSignIn:start",$e(C,_))}(C,{mfaPendingCredential:ot.credential,mfaEnrollmentId:Dt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ot}=yield function Ia(C,_){return Ca.apply(this,arguments)}(C,{phoneNumber:le.phoneNumber,recaptchaToken:Y});return ot}}finally{v._reset()}}),ac.apply(this,arguments)}function hd(){return(hd=(0,d.Z)(function*(C,_){yield hr((0,J.m9)(C),_)})).apply(this,arguments)}let vu=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=mn(v)}verifyPhoneNumber(v,b){return Nc(this.auth,v,(0,J.m9)(b))}static credential(v,b){return Va._fromVerification(v,b)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:b,temporaryProof:Y}=v;return b&&Y?Va._fromTokenResponse(b,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function lc(C,_){return _?Wt(_):(he(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class dh extends $t{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ds(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ds(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ds(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function Ma(C){return Pe(C.auth,new dh(C),C.bypassAuthState)}function kc(C){const{auth:_,user:v}=C;return he(v,_,"internal-error"),we(v,new dh(C),C.bypassAuthState)}function fd(C){return pd.apply(this,arguments)}function pd(){return(pd=(0,d.Z)(function*(C){const{auth:_,user:v}=C;return he(v,_,"internal-error"),hr(v,new dh(C),C.bypassAuthState)})).apply(this,arguments)}class Qh{constructor(_,v,b,Y,le=!1){this.auth=_,this.resolver=b,this.user=Y,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,d.Z)(function*(b,Y){_.pendingPromise={resolve:b,reject:Y};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(le){_.reject(le)}});return function(b,Y){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:Y,postBody:le,tenantId:ot,error:Dt,type:Xt}=_;if(Dt)return void v.reject(Dt);const An={auth:v.auth,requestUri:b,sessionId:Y,tenantId:ot||void 0,postBody:le||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Xt)(An))}catch(Zn){v.reject(Zn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Ma;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return kc;default:Be(this.auth,"internal-error")}}resolve(_){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tg=new se(2e3,1e4);function Gf(){return(Gf=(0,d.Z)(function*(C,_,v){const b=mn(C);_e(C,_,$i);const Y=lc(b,v);return new gl(b,"signInViaPopup",_,Y).executeNotNull()})).apply(this,arguments)}function Ya(){return(Ya=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C);_e(b.auth,_,$i);const Y=lc(b.auth,v);return new gl(b.auth,"reauthViaPopup",_,Y,b).executeNotNull()})).apply(this,arguments)}function Lc(){return(Lc=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C);_e(b.auth,_,$i);const Y=lc(b.auth,v);return new gl(b.auth,"linkViaPopup",_,Y,b).executeNotNull()})).apply(this,arguments)}let gl=(()=>{class C extends Qh{constructor(v,b,Y,le,ot){super(v,b,le,ot),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const b=yield v.execute();return he(b,v.auth,"internal-error"),b})()}onExecution(){var v=this;return(0,d.Z)(function*(){Ue(1===v.filter.length,"Popup operations only handle one event");const b=sc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],b),v.authWindow.associatedEvent=b,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(Xe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var b,Y;this.pollId=null!==(Y=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,tg.get())};v()}}return C.currentPopupAction=null,C})();const yu="pendingRedirect",_i=new Map;class hh extends Qh{constructor(_,v,b=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,b),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,d.Z)(function*(){let b=_i.get(v.auth._key());if(!b){try{const le=(yield function ks(C,_){return gd.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;b=()=>Promise.resolve(le)}catch(Y){b=()=>Promise.reject(Y)}_i.set(v.auth._key(),b)}return v.bypassAuthState||_i.set(v.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(b,_);if("unknown"!==_.type){if(_.eventId){const Y=yield b.auth._redirectUserForId(_.eventId);if(Y)return b.user=Y,v().call(b,_);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function gd(){return(gd=(0,d.Z)(function*(C,_){const v=Pl(_),b=md(C);if(!(yield b._isAvailable()))return!1;const Y="true"===(yield b._get(v));return yield b._remove(v),Y})).apply(this,arguments)}function Gr(C,_){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(C,_){return md(C)._set(Pl(_),"true")})).apply(this,arguments)}function ui(C,_){_i.set(C._key(),_)}function md(C){return Wt(C._redirectPersistence)}function Pl(C){return ur(yu,C.config.apiKey,C.name)}function eo(C,_,v){return function _d(C,_,v){return cc.apply(this,arguments)}(C,_,v)}function cc(){return(cc=(0,d.Z)(function*(C,_,v){const b=mn(C);_e(C,_,$i),yield b._initializationPromise;const Y=lc(b,v);return yield Gr(Y,b),Y._openRedirect(b,_,"signInViaRedirect")})).apply(this,arguments)}function Cs(C,_,v){return function Xh(C,_,v){return qa.apply(this,arguments)}(C,_,v)}function qa(){return(qa=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C);_e(b.auth,_,$i),yield b.auth._initializationPromise;const Y=lc(b.auth,v);yield Gr(Y,b.auth);const le=yield Fs(b);return Y._openRedirect(b.auth,_,"reauthViaRedirect",le)})).apply(this,arguments)}function fs(C,_,v){return function Ml(C,_,v){return vi.apply(this,arguments)}(C,_,v)}function vi(){return(vi=(0,d.Z)(function*(C,_,v){const b=(0,J.m9)(C);_e(b.auth,_,$i),yield b.auth._initializationPromise;const Y=lc(b.auth,v);yield q(!1,b,_.providerId),yield Gr(Y,b.auth);const le=yield Fs(b);return Y._openRedirect(b.auth,_,"linkViaRedirect",le)})).apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(C,_){return yield mn(C)._initializationPromise,uc(C,_,!1)})).apply(this,arguments)}function uc(C,_){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(C,_,v=!1){const b=mn(C),Y=lc(b,_),ot=yield new hh(b,Y,v).execute();return ot&&!v&&(delete ot.user._redirectEventId,yield b._persistUserIfCurrent(ot.user),yield b._setRedirectUser(null,_)),ot})).apply(this,arguments)}function Fs(C){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(C){const _=sc(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Er{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(_,b)&&(v=!0,this.sendToConsumer(_,b),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Wf(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ko(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var b;if(_.error&&!ko(_)){const Y=(null===(b=_.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";v.onError(Xe(this.auth,Y))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const b=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&b}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vc(_))}saveEventToCache(_){this.cachedEventUids.add(Vc(_)),this.lastProcessedEventTime=Date.now()}}function Vc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function ko({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Bi(C){return xl.apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(C,_={}){return We(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Ol=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;function _a(){return(_a=(0,d.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Bi(C);for(const v of _)try{if(dc(v))return}catch{}Be(C,"unauthorized-domain")})).apply(this,arguments)}function dc(C){const _=rt(),{protocol:v,hostname:b}=new URL(_);if(C.startsWith("chrome-extension://")){const ot=new URL(C);return""===ot.hostname&&""===b?"chrome-extension:"===v&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&ot.hostname===b}if(!Xo.test(v))return!1;if(Ol.test(C))return b===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(b)}const Ka=new se(3e4,6e4);function fh(){const C=os().___jsl;if(null!=C&&C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let hc=null;const Jh=new se(5e3,15e3),rg="__/auth/iframe",ig="emulator/auth/iframe",Io={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ji(C){const _=C.config;he(_.authDomain,C,"auth-domain-config-required");const v=_.emulator?x(_,ig):`https://${C.config.authDomain}/${rg}`,b={apiKey:_.apiKey,appName:C.name,v:de.SDK_VERSION},Y=kl.get(C.config.apiHost);Y&&(b.eid=Y);const le=C._getFrameworks();return le.length&&(b.fw=le.join(",")),`${v}?${(0,J.xO)(b).slice(1)}`}function ms(){return ms=(0,d.Z)(function*(C){const _=yield function bm(C){return hc=hc||function Bc(C){return new Promise((_,v)=>{var b,Y,le;function ot(){fh(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{fh(),v(Xe(C,"network-request-failed"))},timeout:Ka.get()})}if(null!==(Y=null===(b=os().gapi)||void 0===b?void 0:b.iframes)&&void 0!==Y&&Y.Iframe)_(gapi.iframes.getContext());else{if(null===(le=os().gapi)||void 0===le||!le.load){const Dt=Ae("iframefcb");return os()[Dt]=()=>{gapi.load?ot():v(Xe(C,"network-request-failed"))},ee(`https://apis.google.com/js/api.js?onload=${Dt}`).catch(Xt=>v(Xt))}ot()}}).catch(_=>{throw hc=null,_})}(C),hc}(C),v=os().gapi;return he(v,C,"internal-error"),_.open({where:document.body,url:Ji(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Io,dontclear:!0},b=>new Promise(function(){var Y=(0,d.Z)(function*(le,ot){yield b.restyle({setHideOnLeave:!1});const Dt=Xe(C,"network-request-failed"),Xt=os().setTimeout(()=>{ot(Dt)},Jh.get());function An(){os().clearTimeout(Xt),le(b)}b.ping(An).then(An,()=>{ot(Dt)})});return function(le,ot){return Y.apply(this,arguments)}}()))}),ms.apply(this,arguments)}const vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yi{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uc="__/auth/handler",sg="emulator/auth/handler",ph=encodeURIComponent("fac");function gh(C,_,v,b,Y,le){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(C,_,v,b,Y,le){he(C.config.authDomain,C,"auth-domain-config-required"),he(C.config.apiKey,C,"invalid-api-key");const ot={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:b,v:de.SDK_VERSION,eventId:Y};if(_ instanceof $i){_.setDefaultLanguage(C.languageCode),ot.providerId=_.providerId||"",(0,J.xb)(_.getCustomParameters())||(ot.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Zn,qn]of Object.entries(le||{}))ot[Zn]=qn}if(_ instanceof da){const Zn=_.getScopes().filter(qn=>""!==qn);Zn.length>0&&(ot.scopes=Zn.join(","))}C.tenantId&&(ot.tid=C.tenantId);const Dt=ot;for(const Zn of Object.keys(Dt))void 0===Dt[Zn]&&delete Dt[Zn];const Xt=yield C._getAppCheckToken(),An=Xt?`#${ph}=${encodeURIComponent(Xt)}`:"";return`${function mh({config:C}){return C.emulator?x(C,sg):`https://${C.authDomain}/${Uc}`}(C)}?${(0,J.xO)(Dt).slice(1)}${An}`})).apply(this,arguments)}const fc="webStorageSupport",yd=class Fl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=za,this._completeRedirectFn=uc,this._overrideRedirectResult=ui}_openPopup(_,v,b,Y){var le=this;return(0,d.Z)(function*(){var ot;Ue(null===(ot=le.eventManagers[_._key()])||void 0===ot?void 0:ot.manager,"_initialize() not called before _openPopup()");const Dt=yield gh(_,v,b,rt(),Y);return function Jo(C,_,v,b=500,Y=600){const le=Math.max((window.screen.availHeight-Y)/2,0).toString(),ot=Math.max((window.screen.availWidth-b)/2,0).toString();let Dt="";const Xt=Object.assign(Object.assign({},vd),{width:b.toString(),height:Y.toString(),top:le,left:ot}),An=(0,J.z$)().toLowerCase();v&&(Dt=Hi(An)?"_blank":v),Ei(An)&&(_=_||"http://localhost",Xt.scrollbars="yes");const Zn=Object.entries(Xt).reduce((Si,[ho,Pd])=>`${Si}${ho}=${Pd},`,"");if(function kn(C=(0,J.z$)()){var _;return Xn(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(An)&&"_self"!==Dt)return function Ll(C,_){const v=document.createElement("a");v.href=C,v.target=_;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(b)}(_||"",Dt),new yi(null);const qn=window.open(_||"",Dt,Zn);he(qn,C,"popup-blocked");try{qn.focus()}catch{}return new yi(qn)}(_,Dt,sc())})()}_openRedirect(_,v,b,Y){var le=this;return(0,d.Z)(function*(){return yield le._originValidation(_),function uh(C){os().location.href=C}(yield gh(_,v,b,rt(),Y)),new Promise(()=>{})})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:Y,promise:le}=this.eventManagers[v];return Y?Promise.resolve(Y):(Ue(le,"If manager is not set, promise should be"),le)}const b=this.initAndGetManager(_);return this.eventManagers[v]={promise:b},b.catch(()=>{delete this.eventManagers[v]}),b}initAndGetManager(_){var v=this;return(0,d.Z)(function*(){const b=yield function _l(C){return ms.apply(this,arguments)}(_),Y=new Er(_);return b.register("authEvent",le=>(he(null==le?void 0:le.authEvent,_,"invalid-auth-event"),{status:Y.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:Y},v.iframes[_._key()]=b,Y})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(fc,{type:fc},Y=>{var le;const ot=null===(le=null==Y?void 0:Y[0])||void 0===le?void 0:le[fc];void 0!==ot&&v(!!ot),Be(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Nl(C){return _a.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return dt()||Hr()||Xn()}};class _h{constructor(_){this.factorId=_}_process(_,v,b){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,b);case"signin":return this._finalizeSignIn(_,v.credential);default:return Ie("unexpected MultiFactorSessionType")}}}class Ed extends _h{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Ed(_)}_finalizeEnroll(_,v,b){return function cn(C,_){return We(C,"POST","/v2/accounts/mfaEnrollment:finalize",$e(C,_))}(_,{idToken:v,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function M(C,_){return We(C,"POST","/v2/accounts/mfaSignIn:finalize",$e(C,_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Id=(()=>{class C{constructor(){}static assertion(v){return Ed._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var Za="@firebase/auth";class Qa{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(b=>{_((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);v&&(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xa(){return window}(0,J.Pz)("authIdTokenMaxAge"),function Cd(C){(0,de._registerComponent)(new me.wA("auth",(_,{options:v})=>{const b=_.getProvider("app").getImmediate(),Y=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:ot,authDomain:Dt}=b.options;he(ot&&!ot.includes(":"),"invalid-api-key",{appName:b.name});const Xt={apiKey:ot,authDomain:Dt,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tt(C)},An=new Rn(b,Y,le,Xt);return function xt(C,_){const v=(null==_?void 0:_.persistence)||[],b=(Array.isArray(v)?v:[v]).map(Wt);null!=_&&_.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(b,null==_?void 0:_.popupRedirectResolver)}(An,v),An},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,b)=>{_.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new me.wA("auth-internal",_=>{const v=mn(_.getProvider("auth").getImmediate());return new Qa(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Za,"1.4.0",function yh(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,de.registerVersion)(Za,"1.4.0","esm2017")}("Browser");function no(){return no=(0,d.Z)(function*(C,_,v){var b;const{BuildInfo:Y}=Xa();Ue(_.sessionId,"AuthEvent did not contain a session ID");const le=yield function Bl(C){return Tu.apply(this,arguments)}(_.sessionId),ot={};return Xn()?ot.ibi=Y.packageName:ut()?ot.apn=Y.packageName:Be(C,"operation-not-supported-in-this-environment"),Y.displayName&&(ot.appDisplayName=Y.displayName),ot.sessionId=le,gh(C,v,_.type,void 0,null!==(b=_.eventId)&&void 0!==b?b:void 0,ot)}),no.apply(this,arguments)}function Hc(){return(Hc=(0,d.Z)(function*(C){const{BuildInfo:_}=Xa(),v={};Xn()?v.iosBundleId=_.packageName:ut()?v.androidPackageName=_.packageName:Be(C,"operation-not-supported-in-this-environment"),yield Bi(C,v)})).apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(C,_,v){const{cordova:b}=Xa();let Y=()=>{};try{yield new Promise((le,ot)=>{let Dt=null;function Xt(){var qn;le();const Si=null===(qn=b.plugins.browsertab)||void 0===qn?void 0:qn.close;"function"==typeof Si&&Si(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function An(){Dt||(Dt=window.setTimeout(()=>{ot(Xe(C,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}_.addPassiveListener(Xt),document.addEventListener("resume",An,!1),ut()&&document.addEventListener("visibilitychange",Zn,!1),Y=()=>{_.removePassiveListener(Xt),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",Zn,!1),Dt&&window.clearTimeout(Dt)}})}finally{Y()}})).apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(C){const _=function Ja(C){if(Ue(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(C);const _=new ArrayBuffer(C.length),v=new Uint8Array(_);for(let b=0;b<C.length;b++)v[b]=C.charCodeAt(b);return v}(C),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(Y=>Y.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Du extends Er{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,d.Z)(function*(){yield _.initPromise})()}}function bu(C){return Td.apply(this,arguments)}function Td(){return(Td=(0,d.Z)(function*(C){const _=yield Au()._get(Su(C));return _&&(yield Au()._remove(Su(C))),_})).apply(this,arguments)}function Dd(){const C=[];for(let v=0;v<20;v++){const b=Math.floor(62*Math.random());C.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(b))}return C.join("")}function Au(){return Wt(ud)}function Su(C){return ur("authEvent",C.config.apiKey,C.name)}function bd(C){if(null==C||!C.includes("?"))return{};const[_,...v]=C.split("?");return(0,J.zd)(v.join("?"))}const Kf=class gc{constructor(){this._redirectPersistence=za,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=uc,this._overrideRedirectResult=ui}_initialize(_){var v=this;return(0,d.Z)(function*(){const b=_._key();let Y=v.eventManagers.get(b);return Y||(Y=new Du(_),v.eventManagers.set(b,Y),v.attachCallbackListeners(_,Y)),Y})()}_openPopup(_){Be(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,b,Y){var le=this;return(0,d.Z)(function*(){!function wu(C){var _,v,b,Y,le,ot,Dt,Xt,An,Zn;const qn=Xa();he("function"==typeof(null===(_=null==qn?void 0:qn.universalLinks)||void 0===_?void 0:_.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof(null===(v=null==qn?void 0:qn.BuildInfo)||void 0===v?void 0:v.packageName)<"u",C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he("function"==typeof(null===(le=null===(Y=null===(b=null==qn?void 0:qn.cordova)||void 0===b?void 0:b.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===le?void 0:le.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Xt=null===(Dt=null===(ot=null==qn?void 0:qn.cordova)||void 0===ot?void 0:ot.plugins)||void 0===Dt?void 0:Dt.browsertab)||void 0===Xt?void 0:Xt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Zn=null===(An=null==qn?void 0:qn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===Zn?void 0:Zn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const ot=yield le._initialize(_);yield ot.initialized(),ot.resetRedirect(),function Ls(){_i.clear()}(),yield le._originValidation(_);const Dt=function uo(C,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Dd(),postBody:null,tenantId:C.tenantId,error:Xe(C,"no-auth-event")}}(_,b,Y);yield function Ih(C,_){return Au()._set(Su(C),_)}(_,Dt);const Xt=yield function Or(C,_,v){return no.apply(this,arguments)}(_,Dt,v),An=yield function Gc(C){const{cordova:_}=Xa();return new Promise(v=>{_.plugins.browsertab.isAvailable(b=>{let Y=null;b?_.plugins.browsertab.openUrl(C):Y=_.InAppBrowser.open(C,function Yn(C=(0,J.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),v(Y)})})}(Xt);return function Eh(C,_,v){return va.apply(this,arguments)}(_,ot,An)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function jc(C){return Hc.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:b,handleOpenURL:Y,BuildInfo:le}=Xa(),ot=setTimeout((0,d.Z)(function*(){yield bu(_),v.onEvent(Ad())}),500),Dt=function(){var Zn=(0,d.Z)(function*(qn){clearTimeout(ot);const Si=yield bu(_);let ho=null;Si&&null!=qn&&qn.url&&(ho=function tl(C,_){var v,b;const Y=function kr(C){const _=bd(C),v=_.link?decodeURIComponent(_.link):void 0,b=bd(v).link,Y=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return bd(Y).link||Y||b||v||C}(_);if(Y.includes("/__/auth/callback")){const le=bd(Y),ot=le.firebaseError?function qf(C){try{return JSON.parse(C)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,Dt=null===(b=null===(v=null==ot?void 0:ot.code)||void 0===v?void 0:v.split("auth/"))||void 0===b?void 0:b[1],Xt=Dt?Xe(Dt):null;return Xt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:Y,postBody:null}}return null}(Si,qn.url)),v.onEvent(ho||Ad())});return function(Si){return Zn.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Dt);const Xt=Y,An=`${le.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var Zn=(0,d.Z)(function*(qn){if(qn.toLowerCase().startsWith(An)&&Dt({url:qn}),"function"==typeof Xt)try{Xt(qn)}catch(Si){console.error(Si)}});return function(qn){return Zn.apply(this,arguments)}}()}};function Ad(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xe("no-auth-event")}}function Bs(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Ru(C=(0,J.z$)()){return!("file:"!==Bs()&&"ionic:"!==Bs()&&"capacitor:"!==Bs()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){try{const C=self.localStorage,_=sc();if(C)return C.setItem(_,"1"),C.removeItem(_),!function vc(C=(0,J.z$)()){return function Zf(){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)}()||function zc(C=(0,J.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,J.hl)()}catch{return Wc()&&(0,J.hl)()}return!1}function Wc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function tf(){return(function ta(){return"http:"===Bs()||"https:"===Bs()}()||(0,J.ru)()||Ru())&&!function _c(){return(0,J.b$)()||(0,J.UG)()}()&&Sd()&&!Wc()}function Th(){return Ru()&&typeof document<"u"}function Ul(){return(Ul=(0,d.Z)(function*(){return!!Th()&&new Promise(C=>{const _=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),C(!0)})})})).apply(this,arguments)}const wo={LOCAL:"local",NONE:"none",SESSION:"session"},Pu=he,Yc="persistence";function qc(C){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,d.Z)(function*(C){yield C._initializationPromise;const _=nf(),v=ur(Yc,C.config.apiKey,C.name);_&&_.setItem(v,C._getPersistence())})).apply(this,arguments)}function nf(){var C;try{return(null===(C=function yc(){return typeof window<"u"?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch{return null}}const rf=he;class El{constructor(){this.browserResolver=Wt(yd),this.cordovaResolver=Wt(Kf),this.underlyingResolver=null,this._redirectPersistence=za,this._completeRedirectFn=uc,this._overrideRedirectResult=ui}_initialize(_){var v=this;return(0,d.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,b,Y){var le=this;return(0,d.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(_,v,b,Y)})()}_openRedirect(_,v,b,Y){var le=this;return(0,d.Z)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(_,v,b,Y)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return Th()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,d.Z)(function*(){if(_.underlyingResolver)return;const v=yield function as(){return Ul.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function ro(C){return C.unwrap()}function nl(C){return xu(C)}function xu(C){const{_tokenResponse:_}=C instanceof J.ZR?C.customData:C;if(!_)return null;if(!(C instanceof J.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return vu.credentialFromResult(C);const v=_.providerId;if(!v||v===Ze.PASSWORD)return null;let b;switch(v){case Ze.GOOGLE:b=nc;break;case Ze.FACEBOOK:b=tc;break;case Ze.GITHUB:b=Ua;break;case Ze.TWITTER:b=xi;break;default:const{oauthIdToken:Y,oauthAccessToken:le,oauthTokenSecret:ot,pendingToken:Dt,nonce:Xt}=_;return le||ot||Y||Dt?Dt?v.startsWith("saml.")?Ks._create(v,Dt):ts._fromParams({providerId:v,signInMethod:v,pendingToken:Dt,idToken:Y,accessToken:le}):new Es(v).credential({idToken:Y,accessToken:le,rawNonce:Xt}):null}return C instanceof J.ZR?b.credentialFromError(C):b.credentialFromResult(C)}function Us(C,_){return _.catch(v=>{throw v instanceof J.ZR&&function Mu(C,_){var v;const b=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null==_?void 0:_.code))_.resolver=new Zr(C,function is(C,_){var v;const b=(0,J.m9)(C),Y=_;return he(_.customData.operationType,b,"argument-error"),he(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,b,"argument-error"),Qs._fromError(b,Y)}(C,_));else if(b){const Y=xu(_),le=_;Y&&(le.credential=Y,le.tenantId=b.tenantId||void 0,le.email=b.email||void 0,le.phoneNumber=b.phoneNumber||void 0)}}(C,v),v}).then(v=>{const Y=v.user;return{operationType:v.operationType,credential:nl(v),additionalUserInfo:co(v),user:rl.getOrCreate(Y)}})}function sf(C,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(C,_){const v=yield _;return{verificationId:v.verificationId,confirm:b=>Us(C,v.confirm(b))}})).apply(this,arguments)}class Zr{constructor(_,v){this.resolver=v,this.auth=function Rd(C){return C.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Us(ro(this.auth),this.resolver.resolveSignIn(_))}}class rl{constructor(_){this._delegate=_,this.multiFactor=function cd(C){const _=(0,J.m9)(C);return Qn.has(_)||Qn.set(_,zn._fromUser(_)),Qn.get(_)}(_)}static getOrCreate(_){return rl.USER_MAP.has(_)||rl.USER_MAP.set(_,new rl(_)),rl.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,d.Z)(function*(){return Us(v.auth,As(v._delegate,_))})()}linkWithPhoneNumber(_,v){var b=this;return(0,d.Z)(function*(){return sf(b.auth,function Pa(C,_,v){return Fi.apply(this,arguments)}(b._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,d.Z)(function*(){return Us(v.auth,function Br(C,_,v){return Lc.apply(this,arguments)}(v._delegate,_,El))})()}linkWithRedirect(_){var v=this;return(0,d.Z)(function*(){return yield qc(mn(v.auth)),fs(v._delegate,_,El)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,d.Z)(function*(){return Us(v.auth,qr(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return sf(this.auth,function Rr(C,_,v){return Js.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Us(this.auth,function zf(C,_,v){return Ya.apply(this,arguments)}(this._delegate,_,El))}reauthenticateWithRedirect(_){var v=this;return(0,d.Z)(function*(){return yield qc(mn(v.auth)),Cs(v._delegate,_,El)})()}sendEmailVerification(_){return function qo(C,_){return R.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,d.Z)(function*(){return yield function pn(C,_){return ar.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function on(C,_){return wr((0,J.m9)(C),_,null)}(this._delegate,_)}updatePassword(_){return function fr(C,_){return wr((0,J.m9)(C),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function Oo(C,_){return hd.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function tt(C,_){return Gt.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function G(C,_,v){return Ve.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rl.USER_MAP=new WeakMap;const ya=he;let Ou=(()=>{class C{constructor(v,b){if(this.app=v,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Y}=v.options;ya(Y,"invalid-api-key",{appName:v.name}),ya(Y,"invalid-api-key",{appName:v.name});const le=typeof window<"u"?El:void 0;this._delegate=b.initialize({options:{persistence:Dh(Y,v.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,b){!function T(C,_,v){const b=mn(C);he(b._canInitEmulator,b,"emulator-config-failed"),he(/^https?:\/\//.test(_),b,"invalid-emulator-scheme");const Y=!(null==v||!v.disableWarnings),le=Q(_),{host:ot,port:Dt}=function k(C){const _=Q(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!v)return{host:"",port:null};const b=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(b);if(Y){const le=Y[1];return{host:le,port:te(b.substr(le.length+1))}}{const[le,ot]=b.split(":");return{host:le,port:te(ot)}}}(_);b.config.emulator={url:`${le}//${ot}${null===Dt?"":`:${Dt}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ot,port:Dt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function xe(){function C(){const _=document.createElement("p"),v=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,v,b)}applyActionCode(v){return function ja(C,_){return hs.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Zi(this._delegate,v)}confirmPasswordReset(v,b){return function Go(C,_,v){return zi.apply(this,arguments)}(this._delegate,v,b)}createUserWithEmailAndPassword(v,b){var Y=this;return(0,d.Z)(function*(){return Us(Y._delegate,function Zs(C,_,v){return Yo.apply(this,arguments)}(Y._delegate,v,b))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function Ro(C,_){return dl.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function ic(C,_){const v=qs.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,d.Z)(function*(){ya(tf(),v._delegate,"operation-not-supported-in-this-environment");const b=yield function ml(C,_){return Fc.apply(this,arguments)}(v._delegate,El);return b?Us(v._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function yl(C,_){mn(C)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,b,Y){const{next:le,error:ot,complete:Dt}=af(v,b,Y);return this._delegate.onAuthStateChanged(le,ot,Dt)}onIdTokenChanged(v,b,Y){const{next:le,error:ot,complete:Dt}=af(v,b,Y);return this._delegate.onIdTokenChanged(le,ot,Dt)}sendSignInLinkToEmail(v,b){return function fu(C,_,v){return So.apply(this,arguments)}(this._delegate,v,b)}sendPasswordResetEmail(v,b){return function ha(C,_,v){return ba.apply(this,arguments)}(this._delegate,v,b||void 0)}setPersistence(v){var b=this;return(0,d.Z)(function*(){let Y;switch(function Qf(C,_){Pu(Object.values(wo).includes(_),C,"invalid-persistence-type"),(0,J.b$)()?Pu(_!==wo.SESSION,C,"unsupported-persistence-type"):(0,J.UG)()?Pu(_===wo.NONE,C,"unsupported-persistence-type"):Wc()?Pu(_===wo.NONE||_===wo.LOCAL&&(0,J.hl)(),C,"unsupported-persistence-type"):Pu(_===wo.NONE||Sd(),C,"unsupported-persistence-type")}(b._delegate,v),v){case wo.SESSION:Y=za;break;case wo.LOCAL:Y=(yield Wt(Rl)._isAvailable())?Rl:ud;break;case wo.NONE:Y=xn;break;default:return Be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(Y)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Us(this._delegate,function ll(C){return cl.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Us(this._delegate,dn(this._delegate,v))}signInWithCustomToken(v){return Us(this._delegate,function yo(C,_){return $a.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,b){return Us(this._delegate,function ad(C,_,v){return dn((0,J.m9)(C),Ba.credential(_,v)).catch(function(){var b=(0,d.Z)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&Al(C),Y});return function(Y){return b.apply(this,arguments)}}())}(this._delegate,v,b))}signInWithEmailLink(v,b){return Us(this._delegate,function pa(C,_,v){return Ss.apply(this,arguments)}(this._delegate,v,b))}signInWithPhoneNumber(v,b){return sf(this._delegate,function Zh(C,_,v){return xo.apply(this,arguments)}(this._delegate,v,b))}signInWithPopup(v){var b=this;return(0,d.Z)(function*(){return ya(tf(),b._delegate,"operation-not-supported-in-this-environment"),Us(b._delegate,function ng(C,_,v){return Gf.apply(this,arguments)}(b._delegate,v,El))})()}signInWithRedirect(v){var b=this;return(0,d.Z)(function*(){return ya(tf(),b._delegate,"operation-not-supported-in-this-environment"),yield qc(b._delegate),eo(b._delegate,v,El)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function Wo(C,_){return fa.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=wo,C})();function af(C,_,v){let b=C;"function"!=typeof C&&({next:b,error:_,complete:v}=C);const Y=b;return{next:ot=>Y(ot&&rl.getOrCreate(ot)),error:_,complete:v}}function Dh(C,_){const v=function $l(C,_){const v=nf();if(!v)return[];const b=ur(Yc,C,_);switch(v.getItem(b)){case wo.NONE:return[xn];case wo.LOCAL:return[Rl,za];case wo.SESSION:return[za];default:return[]}}(C,_);if(typeof self<"u"&&!v.includes(Rl)&&v.push(Rl),typeof window<"u")for(const b of[ud,za])v.includes(b)||v.push(b);return v.includes(xn)||v.push(xn),v}class Kc{constructor(){this.providerId="phone",this._delegate=new vu(ro($.Z.auth()))}static credential(_,v){return vu.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}Kc.PHONE_SIGN_IN_METHOD=vu.PHONE_SIGN_IN_METHOD,Kc.PROVIDER_ID=vu.PROVIDER_ID;const og=he;class Xf{constructor(_,v,b=$.Z.app()){var Y;og(null===(Y=b.options)||void 0===Y?void 0:Y.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Xs(b.auth(),_,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Oa(C){C.INTERNAL.registerComponent(new me.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),b=_.getProvider("auth");return new Ou(v,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ba,FacebookAuthProvider:tc,GithubAuthProvider:Ua,GoogleAuthProvider:nc,OAuthProvider:Es,SAMLAuthProvider:Ir,PhoneAuthProvider:Kc,PhoneMultiFactorGenerator:Id,RecaptchaVerifier:Xf,TwitterAuthProvider:xi,Auth:Ou,AuthCredential:$t,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.4.9")}($.Z)},95:(un,ft,N)=>{"use strict";N.d(ft,{u5:()=>hr,Fd:()=>ua,qQ:()=>qs,Cf:()=>pt,JU:()=>Ke,a5:()=>er,JL:()=>Bn,F:()=>Nn,_Y:()=>_r});var d=N(9212),J=(N(6814),N(2459)),de=N(5592),Oe=N(7453),re=N(4829),me=N(4564),qe=N(8251),Ze=N(7400),be=N(2714),Je=N(7398);const Ke=new d.OlP("NgValueAccessor");function Be(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}const pt=new d.OlP("NgValidators"),_e=new d.OlP("NgAsyncValidators");function x(q){return null}function Z(q){return null!=q}function ce(q){return(0,d.QGY)(q)?(0,J.D)(q):q}function je(q){let L={};return q.forEach(we=>{L=null!=we?{...L,...we}:L}),0===Object.keys(L).length?null:L}function $e(q,L){return L.map(we=>we(q))}function It(q){return q.map(L=>function We(q){return!q.validate}(L)?L:we=>L.validate(we))}function Mt(q){return null!=q?function Pt(q){if(!q)return null;const L=q.filter(Z);return 0==L.length?null:function(we){return je($e(we,L))}}(It(q)):null}function ln(q){return null!=q?function At(q){if(!q)return null;const L=q.filter(Z);return 0==L.length?null:function(we){return function Te(...q){const L=(0,me.jO)(q),{args:we,keys:W}=(0,Oe.D)(q),Pe=new de.y(an=>{const{length:dn}=we;if(!dn)return void an.complete();const ni=new Array(dn);let As=dn,gs=dn;for(let qr=0;qr<dn;qr++){let ns=!1;(0,re.Xf)(we[qr]).subscribe((0,qe.x)(an,Ho=>{ns||(ns=!0,gs--),ni[qr]=Ho},()=>As--,void 0,()=>{(!As||!ns)&&(gs||an.next(W?(0,be.n)(W,ni):ni),an.complete())}))}});return L?Pe.pipe((0,Ze.Z)(L)):Pe}($e(we,L).map(ce)).pipe((0,Je.U)(je))}}(It(q)):null}function Kt(q,L){return null===q?[L]:Array.isArray(q)?[...q,L]:[q,L]}function Ht(q){return q?Array.isArray(q)?q:[q]:[]}function Jt(q,L){return Array.isArray(q)?q.includes(L):q===L}function Hn(q,L){const we=Ht(L);return Ht(q).forEach(Pe=>{Jt(we,Pe)||we.push(Pe)}),we}function Fn(q,L){return Ht(L).filter(we=>!Jt(q,we))}class rr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,we){return!!this.control&&this.control.hasError(L,we)}getError(L,we){return this.control?this.control.getError(L,we):null}}class gn extends rr{get formDirective(){return null}get path(){return null}}class er extends rr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _n{constructor(L){this._cd=L}get isTouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.touched)}get isUntouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.untouched)}get isPristine(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pristine)}get isDirty(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.dirty)}get isValid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.valid)}get isInvalid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.invalid)}get isPending(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pending)}get isSubmitted(){var L;return!(null===(L=this._cd)||void 0===L||!L.submitted)}}let Bn=(()=>{var q;class L extends _n{constructor(W){super(W)}}return(q=L).\u0275fac=function(W){return new(W||q)(d.Y36(gn,10))},q.\u0275dir=d.lG2({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(W,Pe){2&W&&d.ekj("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)("ng-submitted",Pe.isSubmitted)},features:[d.qOj]}),L})();const Un="VALID",ai="INVALID",Pi="PENDING",Mi="DISABLED";function pe(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class Wt{constructor(L,we){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(we)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===ai}get pending(){return this.status==Pi}get disabled(){return this.status===Mi}get enabled(){return this.status!==Mi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(Hn(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Hn(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Fn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Fn(L,this._rawAsyncValidators))}hasValidator(L){return Jt(this._rawValidators,L)}hasAsyncValidator(L){return Jt(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(we=>{we.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(we=>{we.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Pi,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const we=this._parentMarkedDirty(L.onlySelf);this.status=Mi,this.errors=null,this._forEachChild(W=>{W.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:we}),this._onDisabledChange.forEach(W=>W(!0))}enable(L={}){const we=this._parentMarkedDirty(L.onlySelf);this.status=Un,this._forEachChild(W=>{W.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:we}),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===Pi)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(we=>we._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mi:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Pi,this._hasOwnPendingAsyncValidator=!0;const we=ce(this.asyncValidator(this));this._asyncValidationSubscription=we.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,we={}){this.errors=L,this._updateControlsErrors(!1!==we.emitEvent)}get(L){let we=L;return null==we||(Array.isArray(we)||(we=we.split(".")),0===we.length)?null:we.reduce((W,Pe)=>W&&W._find(Pe),this)}getError(L,we){const W=we?this.get(we):this;return W&&W.errors?W.errors[L]:null}hasError(L,we){return!!this.getError(L,we)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Mi:this.errors?ai:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pi)?Pi:this._anyControlsHaveStatus(ai)?ai:Un}_anyControlsHaveStatus(L){return this._anyControls(we=>we.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){pe(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function ge(q){return Array.isArray(q)?Mt(q):q||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function Le(q){return Array.isArray(q)?ln(q):q||null}(this._rawAsyncValidators)}}class $n extends Wt{constructor(L,we,W){super(function lt(q){return(pe(q)?q.validators:q)||null}(we),function oe(q,L){return(pe(L)?L.asyncValidators:q)||null}(W,we)),this.controls=L,this._initObservables(),this._setUpdateStrategy(we),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,we){return this.controls[L]?this.controls[L]:(this.controls[L]=we,we.setParent(this),we._registerOnCollectionChange(this._onCollectionChange),we)}addControl(L,we,W={}){this.registerControl(L,we),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(L,we={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}setControl(L,we,W={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],we&&this.registerControl(L,we),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,we={}){(function Ot(q,L,we){q._forEachChild((W,Pe)=>{if(void 0===we[Pe])throw new d.vHH(1002,"")})})(this,0,L),Object.keys(L).forEach(W=>{(function ct(q,L,we){const W=q.controls;if(!(L?Object.keys(W):W).length)throw new d.vHH(1e3,"");if(!W[we])throw new d.vHH(1001,"")})(this,!0,W),this.controls[W].setValue(L[W],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we)}patchValue(L,we={}){null!=L&&(Object.keys(L).forEach(W=>{const Pe=this.controls[W];Pe&&Pe.patchValue(L[W],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we))}reset(L={},we={}){this._forEachChild((W,Pe)=>{W.reset(L?L[Pe]:null,{onlySelf:!0,emitEvent:we.emitEvent})}),this._updatePristine(we),this._updateTouched(we),this.updateValueAndValidity(we)}getRawValue(){return this._reduceChildren({},(L,we,W)=>(L[W]=we.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(we,W)=>!!W._syncPendingControls()||we);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(we=>{const W=this.controls[we];W&&L(W,we)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[we,W]of Object.entries(this.controls))if(this.contains(we)&&L(W))return!0;return!1}_reduceValue(){return this._reduceChildren({},(we,W,Pe)=>((W.enabled||this.disabled)&&(we[Pe]=W.value),we))}_reduceChildren(L,we){let W=L;return this._forEachChild((Pe,an)=>{W=we(W,Pe,an)}),W}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}const Hr=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hi}),Hi="always";function bn(q,L){q.forEach(we=>{we.registerOnValidatorChange&&we.registerOnValidatorChange(L)})}function Yn(q,L){const we=function Rt(q){return q._rawValidators}(q);null!==L.validator?q.setValidators(Kt(we,L.validator)):"function"==typeof we&&q.setValidators([we]);const W=function Nt(q){return q._rawAsyncValidators}(q);null!==L.asyncValidator?q.setAsyncValidators(Kt(W,L.asyncValidator)):"function"==typeof W&&q.setAsyncValidators([W]);const Pe=()=>q.updateValueAndValidity();bn(L._rawValidators,Pe),bn(L._rawAsyncValidators,Pe)}function He(q,L){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}const jt={provide:gn,useExisting:(0,d.Gpc)(()=>Nn)},tn=(()=>Promise.resolve())();let Nn=(()=>{var q;class L extends gn{constructor(W,Pe,an){super(),this.callSetDisabledState=an,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new $n({},Mt(W),ln(Pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(W){tn.then(()=>{const Pe=this._findContainer(W.path);W.control=Pe.registerControl(W.name,W.control),function ut(q,L,we=Hi){var W,Pe;Yn(q,L),L.valueAccessor.writeValue(q.value),(q.disabled||"always"===we)&&(null===(W=(Pe=L.valueAccessor).setDisabledState)||void 0===W||W.call(Pe,q.disabled)),function Xr(q,L){L.valueAccessor.registerOnChange(we=>{q._pendingValue=we,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&He(q,L)})}(q,L),function Tt(q,L){const we=(W,Pe)=>{L.valueAccessor.writeValue(W),Pe&&L.viewToModelUpdate(W)};q.registerOnChange(we),L._registerOnDestroy(()=>{q._unregisterOnChange(we)})}(q,L),function dt(q,L){L.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&He(q,L),"submit"!==q.updateOn&&q.markAsTouched()})}(q,L),function Xn(q,L){if(L.valueAccessor.setDisabledState){const we=W=>{L.valueAccessor.setDisabledState(W)};q.registerOnDisabledChange(we),L._registerOnDestroy(()=>{q._unregisterOnDisabledChange(we)})}}(q,L)}(W.control,W,this.callSetDisabledState),W.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(W)})}getControl(W){return this.form.get(W.path)}removeControl(W){tn.then(()=>{const Pe=this._findContainer(W.path);Pe&&Pe.removeControl(W.name),this._directives.delete(W)})}addFormGroup(W){tn.then(()=>{const Pe=this._findContainer(W.path),an=new $n({});(function vt(q,L){Yn(q,L)})(an,W),Pe.registerControl(W.name,an),an.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(W){tn.then(()=>{const Pe=this._findContainer(W.path);Pe&&Pe.removeControl(W.name)})}getFormGroup(W){return this.form.get(W.path)}updateModel(W,Pe){tn.then(()=>{this.form.get(W.path).setValue(Pe)})}setValue(W){this.control.setValue(W)}onSubmit(W){var Pe;return this.submitted=!0,function ee(q,L){q._syncPendingControls(),L.forEach(we=>{const W=we.control;"submit"===W.updateOn&&W._pendingChange&&(we.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(W),"dialog"===(null==W||null===(Pe=W.target)||void 0===Pe?void 0:Pe.method)}onReset(){this.resetForm()}resetForm(W=void 0){this.form.reset(W),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(W){return W.pop(),W.length?this.form.get(W):this.form}}return(q=L).\u0275fac=function(W){return new(W||q)(d.Y36(pt,10),d.Y36(_e,10),d.Y36(Hr,8))},q.\u0275dir=d.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(W,Pe){1&W&&d.NdJ("submit",function(dn){return Pe.onSubmit(dn)})("reset",function(){return Pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([jt]),d.qOj]}),L})(),_r=(()=>{var q;class L{}return(q=L).\u0275fac=function(W){return new(W||q)},q.\u0275dir=d.lG2({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})(),Ms=(()=>{var q;class L{}return(q=L).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({}),L})();function Oc(q){return"number"==typeof q?q:parseFloat(q)}let vo=(()=>{var q;class L{constructor(){this._validator=x}ngOnChanges(W){if(this.inputName in W){const Pe=this.normalizeInput(W[this.inputName].currentValue);this._enabled=this.enabled(Pe),this._validator=this._enabled?this.createValidator(Pe):x,this._onChange&&this._onChange()}}validate(W){return this._validator(W)}registerOnValidatorChange(W){this._onChange=W}enabled(W){return null!=W}}return(q=L).\u0275fac=function(W){return new(W||q)},q.\u0275dir=d.lG2({type:q,features:[d.TTD]}),L})();const Va={provide:pt,useExisting:(0,d.Gpc)(()=>ua),multi:!0};let ua=(()=>{var q;class L extends vo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=W=>Oc(W),this.createValidator=W=>function Ue(q){return L=>{if(Be(L.value)||Be(q))return null;const we=parseFloat(L.value);return!isNaN(we)&&we>q?{max:{max:q,actual:L.value}}:null}}(W)}}return(q=L).\u0275fac=(()=>{let we;return function(Pe){return(we||(we=d.n5z(q)))(Pe||q)}})(),q.\u0275dir=d.lG2({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(W,Pe){2&W&&d.uIk("max",Pe._enabled?Pe.max:null)},inputs:{max:"max"},features:[d._Bn([Va]),d.qOj]}),L})();const hu={provide:pt,useExisting:(0,d.Gpc)(()=>qs),multi:!0};let qs=(()=>{var q;class L extends vo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=W=>Oc(W),this.createValidator=W=>function Ie(q){return L=>{if(Be(L.value)||Be(q))return null;const we=parseFloat(L.value);return!isNaN(we)&&we<q?{min:{min:q,actual:L.value}}:null}}(W)}}return(q=L).\u0275fac=(()=>{let we;return function(Pe){return(we||(we=d.n5z(q)))(Pe||q)}})(),q.\u0275dir=d.lG2({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(W,Pe){2&W&&d.uIk("min",Pe._enabled?Pe.min:null)},inputs:{min:"min"},features:[d._Bn([hu]),d.qOj]}),L})(),bi=(()=>{var q;class L{}return(q=L).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[Ms]}),L})(),hr=(()=>{var q;class L{static withConfig(W){var Pe;return{ngModule:L,providers:[{provide:Hr,useValue:null!==(Pe=W.callSetDisabledState)&&void 0!==Pe?Pe:Hi}]}}}return(q=L).\u0275fac=function(W){return new(W||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({imports:[bi]}),L})()},6593:(un,ft,N)=>{"use strict";N.d(ft,{Dx:()=>er,b2:()=>Jt,q6:()=>Kt});var d=N(9212),$=N(6814);class J extends $.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends J{static makeCurrent(){(0,$.HT)(new de)}onAndCancel(oe,Le,pe){return oe.addEventListener(Le,pe),()=>{oe.removeEventListener(Le,pe)}}dispatchEvent(oe,Le){oe.dispatchEvent(Le)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,Le){return(Le=Le||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,Le){return"window"===Le?window:"document"===Le?oe:"body"===Le?oe.body:null}getBaseHref(oe){const Le=function re(){return Oe=Oe||document.querySelector("base"),Oe?Oe.getAttribute("href"):null}();return null==Le?null:function qe(ge){me=me||document.createElement("a"),me.setAttribute("href",ge);const oe=me.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(Le)}resetBaseElement(){Oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,$.Mx)(document.cookie,oe)}}let me,Oe=null,be=(()=>{var ge;class oe{build(){return new XMLHttpRequest}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();const Te=new d.OlP("EventManagerPlugins");let Je=(()=>{var ge;class oe{constructor(pe,ct){this._zone=ct,this._eventNameToPlugin=new Map,pe.forEach(Ot=>{Ot.manager=this}),this._plugins=pe.slice().reverse()}addEventListener(pe,ct,Ot){return this._findPluginFor(ct).addEventListener(pe,ct,Ot)}getZone(){return this._zone}_findPluginFor(pe){let ct=this._eventNameToPlugin.get(pe);if(ct)return ct;if(ct=this._plugins.find(Wt=>Wt.supports(pe)),!ct)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(pe,ct),ct}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG(Te),d.LFG(d.R0b))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();class Ye{constructor(oe){this._doc=oe}}const Ee="ng-app-id";let Ke=(()=>{var ge;class oe{constructor(pe,ct,Ot,Wt={}){this.doc=pe,this.appId=ct,this.nonce=Ot,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,$.PM)(Wt),this.resetHostNodes()}addStyles(pe){for(const ct of pe)1===this.changeUsageCount(ct,1)&&this.onStyleAdded(ct)}removeStyles(pe){for(const ct of pe)this.changeUsageCount(ct,-1)<=0&&this.onStyleRemoved(ct)}ngOnDestroy(){const pe=this.styleNodesInDOM;pe&&(pe.forEach(ct=>ct.remove()),pe.clear());for(const ct of this.getAllStyles())this.onStyleRemoved(ct);this.resetHostNodes()}addHost(pe){this.hostNodes.add(pe);for(const ct of this.getAllStyles())this.addStyleToHost(pe,ct)}removeHost(pe){this.hostNodes.delete(pe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(pe){for(const ct of this.hostNodes)this.addStyleToHost(ct,pe)}onStyleRemoved(pe){var ct;const Ot=this.styleRef;null===(ct=Ot.get(pe))||void 0===ct||null===(ct=ct.elements)||void 0===ct||ct.forEach(Wt=>Wt.remove()),Ot.delete(pe)}collectServerRenderedStyles(){var pe;const ct=null===(pe=this.doc.head)||void 0===pe?void 0:pe.querySelectorAll(`style[${Ee}="${this.appId}"]`);if(null!=ct&&ct.length){const Ot=new Map;return ct.forEach(Wt=>{null!=Wt.textContent&&Ot.set(Wt.textContent,Wt)}),Ot}return null}changeUsageCount(pe,ct){const Ot=this.styleRef;if(Ot.has(pe)){const Wt=Ot.get(pe);return Wt.usage+=ct,Wt.usage}return Ot.set(pe,{usage:ct,elements:[]}),ct}getStyleElement(pe,ct){const Ot=this.styleNodesInDOM,Wt=null==Ot?void 0:Ot.get(ct);if((null==Wt?void 0:Wt.parentNode)===pe)return Ot.delete(ct),Wt.removeAttribute(Ee),Wt;{const $n=this.doc.createElement("style");return this.nonce&&$n.setAttribute("nonce",this.nonce),$n.textContent=ct,this.platformIsServer&&$n.setAttribute(Ee,this.appId),pe.appendChild($n),$n}}addStyleToHost(pe,ct){var Ot;const Wt=this.getStyleElement(pe,ct),$n=this.styleRef,xn=null===(Ot=$n.get(ct))||void 0===Ot?void 0:Ot.elements;xn?xn.push(Wt):$n.set(ct,{elements:[Wt],usage:1})}resetHostNodes(){const pe=this.hostNodes;pe.clear(),pe.add(this.doc.head)}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG($.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g,Be=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function _e(ge,oe){return oe.map(Le=>Le.replace(et,ge))}let Se=(()=>{var ge;class oe{constructor(pe,ct,Ot,Wt,$n,xn,ur,Sn=null){this.eventManager=pe,this.sharedStylesHost=ct,this.appId=Ot,this.removeStylesOnCompDestroy=Wt,this.doc=$n,this.platformId=xn,this.ngZone=ur,this.nonce=Sn,this.rendererByCompId=new Map,this.platformIsServer=(0,$.PM)(xn),this.defaultRenderer=new he(pe,$n,ur,this.platformIsServer)}createRenderer(pe,ct){if(!pe||!ct)return this.defaultRenderer;this.platformIsServer&&ct.encapsulation===d.ifc.ShadowDom&&(ct={...ct,encapsulation:d.ifc.Emulated});const Ot=this.getOrCreateRenderer(pe,ct);return Ot instanceof yt?Ot.applyToHost(pe):Ot instanceof st&&Ot.applyStyles(),Ot}getOrCreateRenderer(pe,ct){const Ot=this.rendererByCompId;let Wt=Ot.get(ct.id);if(!Wt){const $n=this.doc,xn=this.ngZone,ur=this.eventManager,Sn=this.sharedStylesHost,or=this.removeStylesOnCompDestroy,Ei=this.platformIsServer;switch(ct.encapsulation){case d.ifc.Emulated:Wt=new yt(ur,Sn,ct,this.appId,or,$n,xn,Ei);break;case d.ifc.ShadowDom:return new Me(ur,Sn,pe,ct,$n,xn,this.nonce,Ei);default:Wt=new st(ur,Sn,ct,or,$n,xn,Ei)}Ot.set(ct.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG(Je),d.LFG(Ke),d.LFG(d.AFp),d.LFG(Be),d.LFG($.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();class he{constructor(oe,Le,pe,ct){this.eventManager=oe,this.doc=Le,this.ngZone=pe,this.platformIsServer=ct,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(oe,Le){return Le?this.doc.createElementNS(_t[Le]||Le,oe):this.doc.createElement(oe)}createComment(oe){return this.doc.createComment(oe)}createText(oe){return this.doc.createTextNode(oe)}appendChild(oe,Le){(rt(oe)?oe.content:oe).appendChild(Le)}insertBefore(oe,Le,pe){oe&&(rt(oe)?oe.content:oe).insertBefore(Le,pe)}removeChild(oe,Le){oe&&oe.removeChild(Le)}selectRootElement(oe,Le){let pe="string"==typeof oe?this.doc.querySelector(oe):oe;if(!pe)throw new d.vHH(-5104,!1);return Le||(pe.textContent=""),pe}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,Le,pe,ct){if(ct){Le=ct+":"+Le;const Ot=_t[ct];Ot?oe.setAttributeNS(Ot,Le,pe):oe.setAttribute(Le,pe)}else oe.setAttribute(Le,pe)}removeAttribute(oe,Le,pe){if(pe){const ct=_t[pe];ct?oe.removeAttributeNS(ct,Le):oe.removeAttribute(`${pe}:${Le}`)}else oe.removeAttribute(Le)}addClass(oe,Le){oe.classList.add(Le)}removeClass(oe,Le){oe.classList.remove(Le)}setStyle(oe,Le,pe,ct){ct&(d.JOm.DashCase|d.JOm.Important)?oe.style.setProperty(Le,pe,ct&d.JOm.Important?"important":""):oe.style[Le]=pe}removeStyle(oe,Le,pe){pe&d.JOm.DashCase?oe.style.removeProperty(Le):oe.style[Le]=""}setProperty(oe,Le,pe){null!=oe&&(oe[Le]=pe)}setValue(oe,Le){oe.nodeValue=Le}listen(oe,Le,pe){if("string"==typeof oe&&!(oe=(0,$.q)().getGlobalEventTarget(this.doc,oe)))throw new Error(`Unsupported event target ${oe} for event ${Le}`);return this.eventManager.addEventListener(oe,Le,this.decoratePreventDefault(pe))}decoratePreventDefault(oe){return Le=>{if("__ngUnwrap__"===Le)return oe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>oe(Le)):oe(Le))&&Le.preventDefault()}}}function rt(ge){return"TEMPLATE"===ge.tagName&&void 0!==ge.content}class Me extends he{constructor(oe,Le,pe,ct,Ot,Wt,$n,xn){super(oe,Ot,Wt,xn),this.sharedStylesHost=Le,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ur=_e(ct.id,ct.styles);for(const Sn of ur){const or=document.createElement("style");$n&&or.setAttribute("nonce",$n),or.textContent=Sn,this.shadowRoot.appendChild(or)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}appendChild(oe,Le){return super.appendChild(this.nodeOrShadowRoot(oe),Le)}insertBefore(oe,Le,pe){return super.insertBefore(this.nodeOrShadowRoot(oe),Le,pe)}removeChild(oe,Le){return super.removeChild(this.nodeOrShadowRoot(oe),Le)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class st extends he{constructor(oe,Le,pe,ct,Ot,Wt,$n,xn){super(oe,Ot,Wt,$n),this.sharedStylesHost=Le,this.removeStylesOnCompDestroy=ct,this.styles=xn?_e(xn,pe.styles):pe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yt extends st{constructor(oe,Le,pe,ct,Ot,Wt,$n,xn){const ur=ct+"-"+pe.id;super(oe,Le,pe,Ot,Wt,$n,xn,ur),this.contentAttr=function Xe(ge){return"_ngcontent-%COMP%".replace(et,ge)}(ur),this.hostAttr=function pt(ge){return"_nghost-%COMP%".replace(et,ge)}(ur)}applyToHost(oe){this.applyStyles(),this.setAttribute(oe,this.hostAttr,"")}createElement(oe,Le){const pe=super.createElement(oe,Le);return super.setAttribute(pe,this.contentAttr,""),pe}}let Qe=(()=>{var ge;class oe extends Ye{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,ct,Ot){return pe.addEventListener(ct,Ot,!1),()=>this.removeEventListener(pe,ct,Ot)}removeEventListener(pe,ct,Ot){return pe.removeEventListener(ct,Ot)}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG($.K0))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();const se=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z={alt:ge=>ge.altKey,control:ge=>ge.ctrlKey,meta:ge=>ge.metaKey,shift:ge=>ge.shiftKey};let ce=(()=>{var ge;class oe extends Ye{constructor(pe){super(pe)}supports(pe){return null!=oe.parseEventName(pe)}addEventListener(pe,ct,Ot){const Wt=oe.parseEventName(ct),$n=oe.eventCallback(Wt.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,$.q)().onAndCancel(pe,Wt.domEventName,$n))}static parseEventName(pe){const ct=pe.toLowerCase().split("."),Ot=ct.shift();if(0===ct.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const Wt=oe._normalizeKey(ct.pop());let $n="",xn=ct.indexOf("code");if(xn>-1&&(ct.splice(xn,1),$n="code."),se.forEach(Sn=>{const or=ct.indexOf(Sn);or>-1&&(ct.splice(or,1),$n+=Sn+".")}),$n+=Wt,0!=ct.length||0===Wt.length)return null;const ur={};return ur.domEventName=Ot,ur.fullKey=$n,ur}static matchEventFullKeyCode(pe,ct){let Ot=x[pe.key]||pe.key,Wt="";return ct.indexOf("code.")>-1&&(Ot=pe.code,Wt="code."),!(null==Ot||!Ot)&&(Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),se.forEach($n=>{$n!==Ot&&(0,Z[$n])(pe)&&(Wt+=$n+".")}),Wt+=Ot,Wt===ct)}static eventCallback(pe,ct,Ot){return Wt=>{oe.matchEventFullKeyCode(Wt,pe)&&Ot.runGuarded(()=>ct(Wt))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG($.K0))},ge.\u0275prov=d.Yz7({token:ge,factory:ge.\u0275fac}),oe})();const Kt=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:$.bD},{provide:d.g9A,useValue:function Pt(){de.makeCurrent()},multi:!0},{provide:$.K0,useFactory:function At(){return(0,d.RDi)(document),document},deps:[]}]),Rt=new d.OlP(""),Nt=[{provide:d.rWj,useClass:class Ze{addToWindow(oe){d.dqk.getAngularTestability=(pe,ct=!0)=>{const Ot=oe.findTestabilityInTree(pe,ct);if(null==Ot)throw new d.vHH(5103,!1);return Ot},d.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(pe=>{const ct=d.dqk.getAllAngularTestabilities();let Ot=ct.length,Wt=!1;const $n=function(xn){Wt=Wt||xn,Ot--,0==Ot&&pe(Wt)};ct.forEach(xn=>{xn.whenStable($n)})})}findTestabilityInTree(oe,Le,pe){if(null==Le)return null;const ct=oe.getTestability(Le);return null!=ct?ct:pe?(0,$.q)().isShadowRoot(Le)?this.findTestabilityInTree(oe,Le.host,!0):this.findTestabilityInTree(oe,Le.parentElement,!0):null}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ht=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Mt(){return new d.qLn},deps:[]},{provide:Te,useClass:Qe,multi:!0,deps:[$.K0,d.R0b,d.Lbi]},{provide:Te,useClass:ce,multi:!0,deps:[$.K0]},Se,Ke,Je,{provide:d.FYo,useExisting:Se},{provide:$.JF,useClass:be,deps:[]},[]];let Jt=(()=>{var ge;class oe{constructor(pe){}static withServerTransition(pe){return{ngModule:oe,providers:[{provide:d.AFp,useValue:pe.appId}]}}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG(Rt,12))},ge.\u0275mod=d.oAB({type:ge}),ge.\u0275inj=d.cJS({providers:[...Ht,...Nt],imports:[$.ez,d.hGG]}),oe})(),er=(()=>{var ge;class oe{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return(ge=oe).\u0275fac=function(pe){return new(pe||ge)(d.LFG($.K0))},ge.\u0275prov=d.Yz7({token:ge,factory:function(pe){let ct=null;return ct=pe?new pe:function gn(){return new er((0,d.LFG)($.K0))}(),ct},providedIn:"root"}),oe})();typeof window<"u"&&window},2692:(un,ft,N)=>{"use strict";N.d(ft,{gz:()=>us,y6:()=>_r,OD:()=>Ae,eC:()=>At,wm:()=>Wi,wN:()=>Sa,F0:()=>pi,rH:()=>is,Bz:()=>ri,Hx:()=>Ar});var d=N(9212),$=N(5592),J=N(4674),Oe=N(2459),re=N(2096),me=N(5619),qe=N(2572),Ze=N(6973),be=N(5211),Te=N(4829);function Je(A){return new $.y(M=>{(0,Te.Xf)(A()).subscribe(M)})}var Ye=N(8407);function Ee(A,M){const F=(0,J.m)(A)?A:()=>A,w=U=>U.error(F());return new $.y(M?U=>M.schedule(w,0,U):w)}var Ke=N(6232),_t=N(7394),et=N(9360),nt=N(8251);function at(){return(0,et.e)((A,M)=>{let F=null;A._refCount++;const w=(0,nt.x)(M,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(F=null);const U=A._connection,ae=F;F=null,U&&(!ae||U===ae)&&U.unsubscribe(),M.unsubscribe()});A.subscribe(w),w.closed||(F=A.connect())})}class Et extends $.y{constructor(M,F){super(),this.source=M,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,et.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new _t.w0;const F=this.getSubject();M.add(this.source.subscribe((0,nt.x)(F,void 0,()=>{this._teardown(),F.complete()},w=>{this._teardown(),F.error(w)},()=>this._teardown()))),M.closed&&(this._connection=null,M=_t.w0.EMPTY)}return M}refCount(){return at()(this)}}var Ce=N(8645),Be=N(6814),Xe=N(7398),pt=N(4664),_e=N(8180),Se=N(7921),he=N(2181),Ie=N(1631),Ue=N(1374),rt=N(6328),Me=N(9397);function st(A){return(0,et.e)((M,F)=>{let ae,w=null,U=!1;w=M.subscribe((0,nt.x)(F,void 0,void 0,Re=>{ae=(0,Te.Xf)(A(Re,st(A)(M))),w?(w.unsubscribe(),w=null,ae.subscribe(F)):U=!0})),U&&(w.unsubscribe(),w=null,ae.subscribe(F))})}var yt=N(6699),Qe=N(3572);function se(A){return A<=0?()=>Ke.E:(0,et.e)((M,F)=>{let w=[];M.subscribe((0,nt.x)(F,U=>{w.push(U),A<w.length&&w.shift()},()=>{for(const U of w)F.next(U);F.complete()},void 0,()=>{w=null}))})}var x=N(3026),Z=N(2737),$e=N(4716),We=N(2420),Pt=N(7537),Mt=N(6593);const At="primary",ln=Symbol("RouteTitle");class Kt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const F=this.params[M];return Array.isArray(F)?F[0]:F}return null}getAll(M){if(this.has(M)){const F=this.params[M];return Array.isArray(F)?F:[F]}return[]}get keys(){return Object.keys(this.params)}}function Rt(A){return new Kt(A)}function Nt(A,M,F){const w=F.path.split("/");if(w.length>A.length||"full"===F.pathMatch&&(M.hasChildren()||w.length<A.length))return null;const U={};for(let ae=0;ae<w.length;ae++){const Re=w[ae],Ct=A[ae];if(Re.startsWith(":"))U[Re.substring(1)]=Ct;else if(Re!==Ct.path)return null}return{consumed:A.slice(0,w.length),posParams:U}}function Jt(A,M){const F=A?Hn(A):void 0,w=M?Hn(M):void 0;if(!F||!w||F.length!=w.length)return!1;let U;for(let ae=0;ae<F.length;ae++)if(U=F[ae],!Fn(A[U],M[U]))return!1;return!0}function Hn(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Fn(A,M){if(Array.isArray(A)&&Array.isArray(M)){if(A.length!==M.length)return!1;const F=[...A].sort(),w=[...M].sort();return F.every((U,ae)=>w[ae]===U)}return A===M}function rr(A){return A.length>0?A[A.length-1]:null}function gn(A){return function de(A){return!!A&&(A instanceof $.y||(0,J.m)(A.lift)&&(0,J.m)(A.subscribe))}(A)?A:(0,d.QGY)(A)?(0,Oe.D)(Promise.resolve(A)):(0,re.of)(A)}const er={exact:function lr(A,M,F){if(!hn(A.segments,M.segments)||!vn(A.segments,M.segments,F)||A.numberOfChildren!==M.numberOfChildren)return!1;for(const w in M.children)if(!A.children[w]||!lr(A.children[w],M.children[w],F))return!1;return!0},subset:Qr},_n={exact:function Jn(A,M){return Jt(A,M)},subset:function Bn(A,M){return Object.keys(M).length<=Object.keys(A).length&&Object.keys(M).every(F=>Fn(A[F],M[F]))},ignored:()=>!0};function ti(A,M,F){return er[F.paths](A.root,M.root,F.matrixParams)&&_n[F.queryParams](A.queryParams,M.queryParams)&&!("exact"===F.fragment&&A.fragment!==M.fragment)}function Qr(A,M,F){return $r(A,M,M.segments,F)}function $r(A,M,F,w){if(A.segments.length>F.length){const U=A.segments.slice(0,F.length);return!(!hn(U,F)||M.hasChildren()||!vn(U,F,w))}if(A.segments.length===F.length){if(!hn(A.segments,F)||!vn(A.segments,F,w))return!1;for(const U in M.children)if(!A.children[U]||!Qr(A.children[U],M.children[U],w))return!1;return!0}{const U=F.slice(0,A.segments.length),ae=F.slice(A.segments.length);return!!(hn(A.segments,U)&&vn(A.segments,U,w)&&A.children[At])&&$r(A.children[At],M,ae,w)}}function vn(A,M,F){return M.every((w,U)=>_n[F](A[U].parameters,w.parameters))}class Lr{constructor(M=new Mn([],{}),F={},w=null){this.root=M,this.queryParams=F,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return ki.serialize(this)}}class Mn{constructor(M,F){this.segments=M,this.children=F,this.parent=null,Object.values(F).forEach(w=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ti(this)}}class wi{constructor(M,F){this.path=M,this.parameters=F}get parameterMap(){return this._parameterMap||(this._parameterMap=Rt(this.parameters)),this._parameterMap}toString(){return Mi(this)}}function hn(A,M){return A.length===M.length&&A.every((F,w)=>F.path===M[w].path)}let Ar=(()=>{var A;class M{}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:()=>new oi,providedIn:"root"}),M})();class oi{parse(M){const F=new ur(M);return new Lr(F.parseRootSegment(),F.parseQueryParams(),F.parseFragment())}serialize(M){const F=`/${Nr(M.root,!0)}`,w=function ge(A){const M=Object.keys(A).map(F=>{const w=A[F];return Array.isArray(w)?w.map(U=>`${Fr(F)}=${Fr(U)}`).join("&"):`${Fr(F)}=${Fr(w)}`}).filter(F=>!!F);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${F}${w}${"string"==typeof M.fragment?`#${function Gn(A){return encodeURI(A)}(M.fragment)}`:""}`}}const ki=new oi;function Ti(A){return A.segments.map(M=>Mi(M)).join("/")}function Nr(A,M){if(!A.hasChildren())return Ti(A);if(M){const F=A.children[At]?Nr(A.children[At],!1):"",w=[];return Object.entries(A.children).forEach(([U,ae])=>{U!==At&&w.push(`${U}:${Nr(ae,!1)}`)}),w.length>0?`${F}(${w.join("//")})`:F}{const F=function tr(A,M){let F=[];return Object.entries(A.children).forEach(([w,U])=>{w===At&&(F=F.concat(M(U,w)))}),Object.entries(A.children).forEach(([w,U])=>{w!==At&&(F=F.concat(M(U,w)))}),F}(A,(w,U)=>U===At?[Nr(A.children[At],!1)]:[`${U}:${Nr(w,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[At]?`${Ti(A)}/${F[0]}`:`${Ti(A)}/(${F.join("//")})`}}function jr(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(A){return jr(A).replace(/%3B/gi,";")}function Un(A){return jr(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ai(A){return decodeURIComponent(A)}function Pi(A){return ai(A.replace(/\+/g,"%20"))}function Mi(A){return`${Un(A.path)}${function lt(A){return Object.keys(A).map(M=>`;${Un(M)}=${Un(A[M])}`).join("")}(A.parameters)}`}const oe=/^[^\/()?;#]+/;function Le(A){const M=A.match(oe);return M?M[0]:""}const pe=/^[^\/()?;=#]+/,Ot=/^[^=?&#]+/,$n=/^[^&#]+/;class ur{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let F={};this.peekStartsWith("/(")&&(this.capture("/"),F=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(M.length>0||Object.keys(F).length>0)&&(w[At]=new Mn(M,F)),w}parseSegment(){const M=Le(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(M),new wi(ai(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const F=function ct(A){const M=A.match(pe);return M?M[0]:""}(this.remaining);if(!F)return;this.capture(F);let w="";if(this.consumeOptional("=")){const U=Le(this.remaining);U&&(w=U,this.capture(w))}M[ai(F)]=ai(w)}parseQueryParam(M){const F=function Wt(A){const M=A.match(Ot);return M?M[0]:""}(this.remaining);if(!F)return;this.capture(F);let w="";if(this.consumeOptional("=")){const Re=function xn(A){const M=A.match($n);return M?M[0]:""}(this.remaining);Re&&(w=Re,this.capture(w))}const U=Pi(F),ae=Pi(w);if(M.hasOwnProperty(U)){let Re=M[U];Array.isArray(Re)||(Re=[Re],M[U]=Re),Re.push(ae)}else M[U]=ae}parseParens(M){const F={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=Le(this.remaining),U=this.remaining[w.length];if("/"!==U&&")"!==U&&";"!==U)throw new d.vHH(4010,!1);let ae;w.indexOf(":")>-1?(ae=w.slice(0,w.indexOf(":")),this.capture(ae),this.capture(":")):M&&(ae=At);const Re=this.parseChildren();F[ae]=1===Object.keys(Re).length?Re[At]:new Mn([],Re),this.consumeOptional("//")}return F}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new d.vHH(4011,!1)}}function Sn(A){return A.segments.length>0?new Mn([],{[At]:A}):A}function or(A){const M={};for(const w of Object.keys(A.children)){const ae=or(A.children[w]);if(w===At&&0===ae.segments.length&&ae.hasChildren())for(const[Re,Ct]of Object.entries(ae.children))M[Re]=Ct;else(ae.segments.length>0||ae.hasChildren())&&(M[w]=ae)}return function Ei(A){if(1===A.numberOfChildren&&A.children[At]){const M=A.children[At];return new Mn(A.segments.concat(M.segments),M.children)}return A}(new Mn(A.segments,M))}function Hr(A){return A instanceof Lr}function St(A){var M;let F;const ae=Sn(function w(Re){const Ct={};for(const bt of Re.children){const Dn=w(bt);Ct[bt.outlet]=Dn}const rn=new Mn(Re.url,Ct);return Re===A&&(F=rn),rn}(A.root));return null!==(M=F)&&void 0!==M?M:ae}function ut(A,M,F,w){let U=A;for(;U.parent;)U=U.parent;if(0===M.length)return Xn(U,U,U,F,w);const ae=function Xr(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new kn(!0,0,A);let M=0,F=!1;const w=A.reduce((U,ae,Re)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Ct={};return Object.entries(ae.outlets).forEach(([rn,bt])=>{Ct[rn]="string"==typeof bt?bt.split("/"):bt}),[...U,{outlets:Ct}]}if(ae.segmentPath)return[...U,ae.segmentPath]}return"string"!=typeof ae?[...U,ae]:0===Re?(ae.split("/").forEach((Ct,rn)=>{0==rn&&"."===Ct||(0==rn&&""===Ct?F=!0:".."===Ct?M++:""!=Ct&&U.push(Ct))}),U):[...U,ae]},[]);return new kn(F,M,w)}(M);if(ae.toRoot())return Xn(U,U,new Mn([],{}),F,w);const Re=function He(A,M,F){if(A.isAbsolute)return new dt(M,!0,0);if(!F)return new dt(M,!1,NaN);if(null===F.parent)return new dt(F,!0,0);const w=Qt(A.commands[0])?0:1;return function Tt(A,M,F){let w=A,U=M,ae=F;for(;ae>U;){if(ae-=U,w=w.parent,!w)throw new d.vHH(4005,!1);U=w.segments.length}return new dt(w,!1,U-ae)}(F,F.segments.length-1+w,A.numberOfDoubleDots)}(ae,U,A),Ct=Re.processChildren?Yt(Re.segmentGroup,Re.index,ae.commands):Ut(Re.segmentGroup,Re.index,ae.commands);return Xn(U,Re.segmentGroup,Ct,F,w)}function Qt(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function bn(A){return"object"==typeof A&&null!=A&&A.outlets}function Xn(A,M,F,w,U){let Re,ae={};w&&Object.entries(w).forEach(([rn,bt])=>{ae[rn]=Array.isArray(bt)?bt.map(Dn=>`${Dn}`):`${bt}`}),Re=A===M?F:Yn(A,M,F);const Ct=Sn(or(Re));return new Lr(Ct,ae,U)}function Yn(A,M,F){const w={};return Object.entries(A.children).forEach(([U,ae])=>{w[U]=ae===M?F:Yn(ae,M,F)}),new Mn(A.segments,w)}class kn{constructor(M,F,w){if(this.isAbsolute=M,this.numberOfDoubleDots=F,this.commands=w,M&&w.length>0&&Qt(w[0]))throw new d.vHH(4003,!1);const U=w.find(bn);if(U&&U!==rr(w))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(M,F,w){this.segmentGroup=M,this.processChildren=F,this.index=w}}function Ut(A,M,F){if(A||(A=new Mn([],{})),0===A.segments.length&&A.hasChildren())return Yt(A,M,F);const w=function Cn(A,M,F){let w=0,U=M;const ae={match:!1,pathIndex:0,commandIndex:0};for(;U<A.segments.length;){if(w>=F.length)return ae;const Re=A.segments[U],Ct=F[w];if(bn(Ct))break;const rn=`${Ct}`,bt=w<F.length-1?F[w+1]:null;if(U>0&&void 0===rn)break;if(rn&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!De(rn,bt,Re))return ae;w+=2}else{if(!De(rn,{},Re))return ae;w++}U++}return{match:!0,pathIndex:U,commandIndex:w}}(A,M,F),U=F.slice(w.commandIndex);if(w.match&&w.pathIndex<A.segments.length){const ae=new Mn(A.segments.slice(0,w.pathIndex),{});return ae.children[At]=new Mn(A.segments.slice(w.pathIndex),A.children),Yt(ae,0,U)}return w.match&&0===U.length?new Mn(A.segments,{}):w.match&&!A.hasChildren()?fn(A,M,F):w.match?Yt(A,0,U):fn(A,M,F)}function Yt(A,M,F){if(0===F.length)return new Mn(A.segments,{});{const w=function vt(A){return bn(A[0])?A[0].outlets:{[At]:A}}(F),U={};if(Object.keys(w).some(ae=>ae!==At)&&A.children[At]&&1===A.numberOfChildren&&0===A.children[At].segments.length){const ae=Yt(A.children[At],M,F);return new Mn(A.segments,ae.children)}return Object.entries(w).forEach(([ae,Re])=>{"string"==typeof Re&&(Re=[Re]),null!==Re&&(U[ae]=Ut(A.children[ae],M,Re))}),Object.entries(A.children).forEach(([ae,Re])=>{void 0===w[ae]&&(U[ae]=Re)}),new Mn(A.segments,U)}}function fn(A,M,F){const w=A.segments.slice(0,M);let U=0;for(;U<F.length;){const ae=F[U];if(bn(ae)){const rn=Rn(ae.outlets);return new Mn(w,rn)}if(0===U&&Qt(F[0])){w.push(new wi(A.segments[M].path,mn(F[0]))),U++;continue}const Re=bn(ae)?ae.outlets[At]:`${ae}`,Ct=U<F.length-1?F[U+1]:null;Re&&Ct&&Qt(Ct)?(w.push(new wi(Re,mn(Ct))),U+=2):(w.push(new wi(Re,{})),U++)}return new Mn(w,{})}function Rn(A){const M={};return Object.entries(A).forEach(([F,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(M[F]=fn(new Mn([],{}),0,w))}),M}function mn(A){const M={};return Object.entries(A).forEach(([F,w])=>M[F]=`${w}`),M}function De(A,M,F){return A==F.path&&Jt(M,F.parameters)}const Ne="imperative";class ee{constructor(M,F){this.id=M,this.url=F}}class Ae extends ee{constructor(M,F,w="imperative",U=null){super(M,F),this.type=0,this.navigationTrigger=w,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gt extends ee{constructor(M,F,w){super(M,F),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bt extends ee{constructor(M,F,w,U){super(M,F),this.reason=w,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jt extends ee{constructor(M,F,w,U){super(M,F),this.reason=w,this.code=U,this.type=16}}class tn extends ee{constructor(M,F,w,U){super(M,F),this.error=w,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nn extends ee{constructor(M,F,w,U){super(M,F),this.urlAfterRedirects=w,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends ee{constructor(M,F,w,U){super(M,F),this.urlAfterRedirects=w,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dr extends ee{constructor(M,F,w,U,ae){super(M,F),this.urlAfterRedirects=w,this.state=U,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class z extends ee{constructor(M,F,w,U){super(M,F),this.urlAfterRedirects=w,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends ee{constructor(M,F,w,U){super(M,F),this.urlAfterRedirects=w,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class it{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xt{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class te{constructor(M,F,w){this.routerEvent=M,this.position=F,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xe{}class $t{constructor(M){this.url=M}}class nr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _r,this.attachRef=null}}let _r=(()=>{var A;class M{constructor(){this.contexts=new Map}onChildOutletCreated(w,U){const ae=this.getOrCreateContext(w);ae.outlet=U,this.contexts.set(w,ae)}onChildOutletDestroyed(w){const U=this.getContext(w);U&&(U.outlet=null,U.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let U=this.getContext(w);return U||(U=new nr,this.contexts.set(w,U)),U}getContext(w){return this.contexts.get(w)||null}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();class li{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const F=this.pathFromRoot(M);return F.length>1?F[F.length-2]:null}children(M){const F=Ii(M,this._root);return F?F.children.map(w=>w.value):[]}firstChild(M){const F=Ii(M,this._root);return F&&F.children.length>0?F.children[0].value:null}siblings(M){const F=Jr(M,this._root);return F.length<2?[]:F[F.length-2].children.map(U=>U.value).filter(U=>U!==M)}pathFromRoot(M){return Jr(M,this._root).map(F=>F.value)}}function Ii(A,M){if(A===M.value)return M;for(const F of M.children){const w=Ii(A,F);if(w)return w}return null}function Jr(A,M){if(A===M.value)return[M];for(const F of M.children){const w=Jr(A,F);if(w.length)return w.unshift(M),w}return[]}class Di{constructor(M,F){this.value=M,this.children=F}toString(){return`TreeNode(${this.value})`}}function Ms(A){const M={};return A&&A.children.forEach(F=>M[F.value.outlet]=F),M}class fi extends li{constructor(M,F){super(M),this.snapshot=F,bs(this,M)}toString(){return this.snapshot.toString()}}function Ds(A,M){const F=function Ui(A,M){const Re=new To([],{},{},"",{},At,M,null,{});return new La("",new Di(Re,[]))}(0,M),w=new me.X([new wi("",{})]),U=new me.X({}),ae=new me.X({}),Re=new me.X({}),Ct=new me.X(""),rn=new us(w,U,Re,Ct,ae,At,M,F.root);return rn.snapshot=F.root,new fi(new Di(rn,[]),F)}class us{constructor(M,F,w,U,ae,Re,Ct,rn){var bt,Dn;this.urlSubject=M,this.paramsSubject=F,this.queryParamsSubject=w,this.fragmentSubject=U,this.dataSubject=ae,this.outlet=Re,this.component=Ct,this._futureSnapshot=rn,this.title=null!==(bt=null===(Dn=this.dataSubject)||void 0===Dn?void 0:Dn.pipe((0,Xe.U)(yr=>yr[ln])))&&void 0!==bt?bt:(0,re.of)(void 0),this.url=M,this.params=F,this.queryParams=w,this.fragment=U,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(M=>Rt(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(M=>Rt(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cr(A,M,F="emptyOnly"){var w;let U;const{routeConfig:ae}=A;var Re;return U=null===M||"always"!==F&&""!==(null==ae?void 0:ae.path)&&(M.component||null!==(w=M.routeConfig)&&void 0!==w&&w.loadComponent)?{params:A.params,data:A.data,resolve:{...A.data,...null!==(Re=A._resolvedData)&&void 0!==Re?Re:{}}}:{params:{...M.params,...A.params},data:{...M.data,...A.data},resolve:{...A.data,...M.data,...null==ae?void 0:ae.data,...A._resolvedData}},ae&&qi(ae)&&(U.resolve[ln]=ae.title),U}class To{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[ln]}constructor(M,F,w,U,ae,Re,Ct,rn,bt){this.url=M,this.params=F,this.queryParams=w,this.fragment=U,this.data=ae,this.outlet=Re,this.component=Ct,this.routeConfig=rn,this._resolve=bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class La extends li{constructor(M,F){super(F),this.url=M,bs(this,F)}toString(){return Fa(this._root)}}function bs(A,M){M.value._routerState=A,M.children.forEach(F=>bs(A,F))}function Fa(A){const M=A.children.length>0?` { ${A.children.map(Fa).join(", ")} } `:"";return`${A.value}${M}`}function Do(A){if(A.snapshot){const M=A.snapshot,F=A._futureSnapshot;A.snapshot=F,Jt(M.queryParams,F.queryParams)||A.queryParamsSubject.next(F.queryParams),M.fragment!==F.fragment&&A.fragmentSubject.next(F.fragment),Jt(M.params,F.params)||A.paramsSubject.next(F.params),function Ht(A,M){if(A.length!==M.length)return!1;for(let F=0;F<A.length;++F)if(!Jt(A[F],M[F]))return!1;return!0}(M.url,F.url)||A.urlSubject.next(F.url),Jt(M.data,F.data)||A.dataSubject.next(F.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function ys(A,M){const F=Jt(A.params,M.params)&&function Dr(A,M){return hn(A,M)&&A.every((F,w)=>Jt(F.parameters,M[w].parameters))}(A.url,M.url);return F&&!(!A.parent!=!M.parent)&&(!A.parent||ys(A.parent,M.parent))}function qi(A){return"string"==typeof A.title||null===A.title}let io=(()=>{var A;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(_r),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(zs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(w){if(w.name){const{firstChange:U,previousValue:ae}=w.name;if(U)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){var w;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(w=this.inputBinder)||void 0===w||w.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){var U;return(null===(U=this.parentContexts.getContext(w))||void 0===U?void 0:U.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);null!=w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,U){var ae;this.activated=w,this._activatedRoute=U,this.location.insert(w.hostView),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,U){var ae;if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=w;const Re=this.location,rn=w.snapshot.component,bt=this.parentContexts.getOrCreateContext(this.name).children,Dn=new so(w,bt,Re.injector);this.activated=Re.createComponent(rn,{index:Re.length,injector:Dn,environmentInjector:null!=U?U:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275dir=d.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),M})();class so{constructor(M,F,w){this.route=M,this.childContexts=F,this.parent=w}get(M,F){return M===us?this.route:M===_r?this.childContexts:this.parent.get(M,F)}}const zs=new d.OlP("");let Vr=(()=>{var A;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){var U;null===(U=this.outletDataSubscriptions.get(w))||void 0===U||U.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:U}=w,ae=(0,qe.a)([U.queryParams,U.params,U.data]).pipe((0,pt.w)(([Re,Ct,rn],bt)=>(rn={...Re,...Ct,...rn},0===bt?(0,re.of)(rn):Promise.resolve(rn)))).subscribe(Re=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==U||null===U.component)return void this.unsubscribeFromRouteData(w);const Ct=(0,d.qFp)(U.component);if(Ct)for(const{templateName:rn}of Ct.inputs)w.activatedComponentRef.setInput(rn,Re[rn]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,ae)}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac}),M})();function ds(A,M,F){if(F&&A.shouldReuseRoute(M.value,F.value.snapshot)){const w=F.value;w._futureSnapshot=M.value;const U=function Ws(A,M,F){return M.children.map(w=>{for(const U of F.children)if(A.shouldReuseRoute(w.value,U.value.snapshot))return ds(A,w,U);return ds(A,w)})}(A,M,F);return new Di(w,U)}{if(A.shouldAttach(M.value)){const ae=A.retrieve(M.value);if(null!==ae){const Re=ae.route;return Re.value._futureSnapshot=M.value,Re.children=M.children.map(Ct=>ds(A,Ct)),Re}}const w=function xs(A){return new us(new me.X(A.url),new me.X(A.params),new me.X(A.queryParams),new me.X(A.fragment),new me.X(A.data),A.outlet,A.component,A)}(M.value),U=M.children.map(ae=>ds(A,ae));return new Di(w,U)}}const ts="ngNavigationCancelingError";function Ia(A,M){const{redirectTo:F,navigationBehaviorOptions:w}=Hr(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,U=Ca(!1,0,M);return U.url=F,U.navigationBehaviorOptions=w,U}function Ca(A,M,F){const w=new Error("NavigationCancelingError: "+(A||""));return w[ts]=!0,w.cancellationCode=M,F&&(w.url=F),w}function la(A){return A&&A[ts]}let jo=(()=>{var A;class M{}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275cmp=d.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(w,U){1&w&&d._UZ(0,"router-outlet")},dependencies:[io],encapsulation:2}),M})();function Ba(A){const M=A.children&&A.children.map(Ba),F=M?{...A,children:M}:{...A};return!F.component&&!F.loadComponent&&(M||F.loadChildren)&&F.outlet&&F.outlet!==At&&(F.component=jo),F}function $i(A){return A.outlet||At}function Es(A){var M;if(!A)return null;if(null!==(M=A.routeConfig)&&void 0!==M&&M._injector)return A.routeConfig._injector;for(let F=A.parent;F;F=F.parent){const w=F.routeConfig;if(null!=w&&w._loadedInjector)return w._loadedInjector;if(null!=w&&w._injector)return w._injector}return null}class Ua{constructor(M,F,w,U,ae){this.routeReuseStrategy=M,this.futureState=F,this.currState=w,this.forwardEvent=U,this.inputBindingEnabled=ae}activate(M){const F=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(F,w,M),Do(this.futureState.root),this.activateChildRoutes(F,w,M)}deactivateChildRoutes(M,F,w){const U=Ms(F);M.children.forEach(ae=>{const Re=ae.value.outlet;this.deactivateRoutes(ae,U[Re],w),delete U[Re]}),Object.values(U).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,w)})}deactivateRoutes(M,F,w){const U=M.value,ae=F?F.value:null;if(U===ae)if(U.component){const Re=w.getContext(U.outlet);Re&&this.deactivateChildRoutes(M,F,Re.children)}else this.deactivateChildRoutes(M,F,w);else ae&&this.deactivateRouteAndItsChildren(F,w)}deactivateRouteAndItsChildren(M,F){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,F):this.deactivateRouteAndOutlet(M,F)}detachAndStoreRouteSubtree(M,F){const w=F.getContext(M.value.outlet),U=w&&M.value.component?w.children:F,ae=Ms(M);for(const Re of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Re],U);if(w&&w.outlet){const Re=w.outlet.detach(),Ct=w.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Re,route:M,contexts:Ct})}}deactivateRouteAndOutlet(M,F){const w=F.getContext(M.value.outlet),U=w&&M.value.component?w.children:F,ae=Ms(M);for(const Re of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[Re],U);w&&(w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated()),w.attachRef=null,w.route=null)}activateChildRoutes(M,F,w){const U=Ms(F);M.children.forEach(ae=>{this.activateRoutes(ae,U[ae.value.outlet],w),this.forwardEvent(new k(ae.value.snapshot))}),M.children.length&&this.forwardEvent(new T(M.value.snapshot))}activateRoutes(M,F,w){const U=M.value,ae=F?F.value:null;if(Do(U),U===ae)if(U.component){const Re=w.getOrCreateContext(U.outlet);this.activateChildRoutes(M,F,Re.children)}else this.activateChildRoutes(M,F,w);else if(U.component){const Re=w.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Ct=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Re.children.onOutletReAttached(Ct.contexts),Re.attachRef=Ct.componentRef,Re.route=Ct.route.value,Re.outlet&&Re.outlet.attach(Ct.componentRef,Ct.route.value),Do(Ct.route.value),this.activateChildRoutes(M,null,Re.children)}else{const Ct=Es(U.snapshot);Re.attachRef=null,Re.route=U,Re.injector=Ct,Re.outlet&&Re.outlet.activateWith(U,Re.injector),this.activateChildRoutes(M,null,Re.children)}}else this.activateChildRoutes(M,null,w)}}class rc{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ks{constructor(M,F){this.component=M,this.route=F}}function bl(A,M,F){const w=A._root;return Ki(w,M?M._root:null,F,[w.value])}function xi(A,M){const F=Symbol(),w=M.get(A,F);return w===F?"function"!=typeof A||(0,d.Z0I)(A)?M.get(A):A:w}function Ki(A,M,F,w,U={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Ms(M);return A.children.forEach(Re=>{(function oo(A,M,F,w,U={canDeactivateChecks:[],canActivateChecks:[]}){const ae=A.value,Re=M?M.value:null,Ct=F?F.getContext(A.value.outlet):null;if(Re&&ae.routeConfig===Re.routeConfig){const rn=function bi(A,M,F){if("function"==typeof F)return F(A,M);switch(F){case"pathParamsChange":return!hn(A.url,M.url);case"pathParamsOrQueryParamsChange":return!hn(A.url,M.url)||!Jt(A.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(A,M)||!Jt(A.queryParams,M.queryParams);default:return!ys(A,M)}}(Re,ae,ae.routeConfig.runGuardsAndResolvers);rn?U.canActivateChecks.push(new rc(w)):(ae.data=Re.data,ae._resolvedData=Re._resolvedData),Ki(A,M,ae.component?Ct?Ct.children:null:F,w,U),rn&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&U.canDeactivateChecks.push(new Ks(Ct.outlet.component,Re))}else Re&&wa(M,Ct,U),U.canActivateChecks.push(new rc(w)),Ki(A,null,ae.component?Ct?Ct.children:null:F,w,U)})(Re,ae[Re.value.outlet],F,w.concat([Re.value]),U),delete ae[Re.value.outlet]}),Object.entries(ae).forEach(([Re,Ct])=>wa(Ct,F.getContext(Re),U)),U}function wa(A,M,F){const w=Ms(A),U=A.value;Object.entries(w).forEach(([ae,Re])=>{wa(Re,U.component?M?M.children.getContext(ae):null:M,F)}),F.canDeactivateChecks.push(new Ks(U.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,U))}function ll(A){return"function"==typeof A}function q(A){return A instanceof Ze.K||"EmptyError"===(null==A?void 0:A.name)}const L=Symbol("INITIAL_VALUE");function we(){return(0,pt.w)(A=>(0,qe.a)(A.map(M=>M.pipe((0,_e.q)(1),(0,Se.O)(L)))).pipe((0,Xe.U)(M=>{for(const F of M)if(!0!==F){if(F===L)return L;if(!1===F||F instanceof Lr)return F}return!0}),(0,he.h)(M=>M!==L),(0,_e.q)(1)))}function Ho(A){return(0,Ye.z)((0,Me.b)(M=>{if(Hr(M))throw Ia(0,M)}),(0,Xe.U)(M=>!0===M))}class yo{constructor(M){this.segmentGroup=M||null}}class $a extends Error{constructor(M){super(),this.urlTree=M}}function rs(A){return Ee(new yo(A))}class Al{constructor(M,F){this.urlSerializer=M,this.urlTree=F}noMatchError(M){return new d.vHH(4002,!1)}lineralizeSegments(M,F){let w=[],U=F.root;for(;;){if(w=w.concat(U.segments),0===U.numberOfChildren)return(0,re.of)(w);if(U.numberOfChildren>1||!U.children[At])return Ee(new d.vHH(4e3,!1));U=U.children[At]}}applyRedirectCommands(M,F,w){const U=this.applyRedirectCreateUrlTree(F,this.urlSerializer.parse(F),M,w);if(F.startsWith("/"))throw new $a(U);return U}applyRedirectCreateUrlTree(M,F,w,U){const ae=this.createSegmentGroup(M,F.root,w,U);return new Lr(ae,this.createQueryParams(F.queryParams,this.urlTree.queryParams),F.fragment)}createQueryParams(M,F){const w={};return Object.entries(M).forEach(([U,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const Ct=ae.substring(1);w[U]=F[Ct]}else w[U]=ae}),w}createSegmentGroup(M,F,w,U){const ae=this.createSegments(M,F.segments,w,U);let Re={};return Object.entries(F.children).forEach(([Ct,rn])=>{Re[Ct]=this.createSegmentGroup(M,rn,w,U)}),new Mn(ae,Re)}createSegments(M,F,w,U){return F.map(ae=>ae.path.startsWith(":")?this.findPosParam(M,ae,U):this.findOrReturn(ae,w))}findPosParam(M,F,w){const U=w[F.path.substring(1)];if(!U)throw new d.vHH(4001,!1);return U}findOrReturn(M,F){let w=0;for(const U of F){if(U.path===M.path)return F.splice(w),U;w++}return M}}const Eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ha(A,M,F,w,U){const ae=ba(A,M,F);return ae.matched?(w=function ca(A,M){var F;return A.providers&&!A._injector&&(A._injector=(0,d.MMx)(A.providers,M,`Route: ${A.path}`)),null!==(F=A._injector)&&void 0!==F?F:M}(M,w),function ao(A,M,F,w){const U=M.canMatch;if(!U||0===U.length)return(0,re.of)(!0);const ae=U.map(Re=>{const Ct=xi(Re,A);return gn(function ar(A){return A&&ll(A.canMatch)}(Ct)?Ct.canMatch(M,F):A.runInContext(()=>Ct(M,F)))});return(0,re.of)(ae).pipe(we(),Ho())}(w,M,F).pipe((0,Xe.U)(Re=>!0===Re?ae:{...Eo}))):(0,re.of)(ae)}function ba(A,M,F){var w,U;if(""===M.path)return"full"===M.pathMatch&&(A.hasChildren()||F.length>0)?{...Eo}:{matched:!0,consumedSegments:[],remainingSegments:F,parameters:{},positionalParamSegments:{}};const Re=(M.matcher||Nt)(F,A,M);if(!Re)return{...Eo};const Ct={};Object.entries(null!==(w=Re.posParams)&&void 0!==w?w:{}).forEach(([bt,Dn])=>{Ct[bt]=Dn.path});const rn=Re.consumed.length>0?{...Ct,...Re.consumed[Re.consumed.length-1].parameters}:Ct;return{matched:!0,consumedSegments:Re.consumed,remainingSegments:F.slice(Re.consumed.length),parameters:rn,positionalParamSegments:null!==(U=Re.posParams)&&void 0!==U?U:{}}}function Go(A,M,F,w){return F.length>0&&function hs(A,M,F){return F.some(w=>zo(A,M,w)&&$i(w)!==At)}(A,F,w)?{segmentGroup:new Mn(M,ja(w,new Mn(F,A.children))),slicedSegments:[]}:0===F.length&&function Zi(A,M,F){return F.some(w=>zo(A,M,w))}(A,F,w)?{segmentGroup:new Mn(A.segments,zi(A,0,F,w,A.children)),slicedSegments:F}:{segmentGroup:new Mn(A.segments,A.children),slicedSegments:F}}function zi(A,M,F,w,U){const ae={};for(const Re of w)if(zo(A,F,Re)&&!U[$i(Re)]){const Ct=new Mn([],{});ae[$i(Re)]=Ct}return{...U,...ae}}function ja(A,M){const F={};F[At]=M;for(const w of A)if(""===w.path&&$i(w)!==At){const U=new Mn([],{});F[$i(w)]=U}return F}function zo(A,M,F){return(!(A.hasChildren()||M.length>0)||"full"!==F.pathMatch)&&""===F.path}class Zs{}class fu{constructor(M,F,w,U,ae,Re,Ct){this.injector=M,this.configLoader=F,this.rootComponentType=w,this.config=U,this.urlTree=ae,this.paramsInheritanceStrategy=Re,this.urlSerializer=Ct,this.applyRedirects=new Al(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(M){return new d.vHH(4002,!1)}recognize(){const M=Go(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,Xe.U)(F=>{const w=new To([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),U=new Di(w,F),ae=new La("",U),Re=function Hi(A,M,F=null,w=null){return ut(St(A),M,F,w)}(w,[],this.urlTree.queryParams,this.urlTree.fragment);return Re.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(Re),this.inheritParamsAndData(ae._root,null),{state:ae,tree:Re}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M,At).pipe(st(w=>{if(w instanceof $a)return this.urlTree=w.urlTree,this.match(w.urlTree.root);throw w instanceof yo?this.noMatchError(w):w}))}inheritParamsAndData(M,F){const w=M.value,U=Cr(w,F,this.paramsInheritanceStrategy);w.params=Object.freeze(U.params),w.data=Object.freeze(U.data),M.children.forEach(ae=>this.inheritParamsAndData(ae,w))}processSegmentGroup(M,F,w,U){return 0===w.segments.length&&w.hasChildren()?this.processChildren(M,F,w):this.processSegment(M,F,w,w.segments,U,!0).pipe((0,Xe.U)(ae=>ae instanceof Di?[ae]:[]))}processChildren(M,F,w){const U=[];for(const ae of Object.keys(w.children))"primary"===ae?U.unshift(ae):U.push(ae);return(0,Oe.D)(U).pipe((0,rt.b)(ae=>{const Re=w.children[ae],Ct=function da(A,M){const F=A.filter(w=>$i(w)===M);return F.push(...A.filter(w=>$i(w)!==M)),F}(F,ae);return this.processSegmentGroup(M,Ct,Re,ae)}),(0,yt.R)((ae,Re)=>(ae.push(...Re),ae)),(0,Qe.d)(null),function ce(A,M){const F=arguments.length>=2;return w=>w.pipe(A?(0,he.h)((U,ae)=>A(U,ae,w)):Z.y,se(1),F?(0,Qe.d)(M):(0,x.T)(()=>new Ze.K))}(),(0,Ie.z)(ae=>{if(null===ae)return rs(w);const Re=pa(ae);return function So(A){A.sort((M,F)=>M.value.outlet===At?-1:F.value.outlet===At?1:M.value.outlet.localeCompare(F.value.outlet))}(Re),(0,re.of)(Re)}))}processSegment(M,F,w,U,ae,Re){return(0,Oe.D)(F).pipe((0,rt.b)(Ct=>{var rn;return this.processSegmentAgainstRoute(null!==(rn=Ct._injector)&&void 0!==rn?rn:M,F,Ct,w,U,ae,Re).pipe(st(bt=>{if(bt instanceof yo)return(0,re.of)(null);throw bt}))}),(0,Ue.P)(Ct=>!!Ct),st(Ct=>{if(q(Ct))return function fa(A,M,F){return 0===M.length&&!A.children[F]}(w,U,ae)?(0,re.of)(new Zs):rs(w);throw Ct}))}processSegmentAgainstRoute(M,F,w,U,ae,Re,Ct){return function Wo(A,M,F,w){return!!($i(A)===w||w!==At&&zo(M,F,A))&&("**"===A.path||ba(M,A,F).matched)}(w,U,ae,Re)?void 0===w.redirectTo?this.matchSegmentAgainstRoute(M,U,w,ae,Re):this.allowRedirects&&Ct?this.expandSegmentAgainstRouteUsingRedirect(M,U,F,w,ae,Re):rs(U):rs(U)}expandSegmentAgainstRouteUsingRedirect(M,F,w,U,ae,Re){const{matched:Ct,consumedSegments:rn,positionalParamSegments:bt,remainingSegments:Dn}="**"===U.path?Ro(ae):ba(F,U,ae);if(!Ct)return rs(F);U.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const yr=this.applyRedirects.applyRedirectCommands(rn,U.redirectTo,bt);return this.applyRedirects.lineralizeSegments(U,yr).pipe((0,Ie.z)(Ni=>this.processSegment(M,w,F,Ni.concat(Dn),Re,!1)))}matchSegmentAgainstRoute(M,F,w,U,ae){let Re;return"**"===w.path?(Re=(0,re.of)(Ro(U)),F.children={}):Re=ha(F,w,U,M),Re.pipe((0,pt.w)(Ct=>{var rn;return Ct.matched?(M=null!==(rn=w._injector)&&void 0!==rn?rn:M,this.getChildConfig(M,w,U).pipe((0,pt.w)(({routes:bt})=>{var Dn,yr,Ni;const gi=null!==(Dn=w._loadedInjector)&&void 0!==Dn?Dn:M,{consumedSegments:sr,remainingSegments:cr,parameters:Wn}=Ct,Xs=new To(sr,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ld(A){return A.data||{}}(w),$i(w),null!==(yr=null!==(Ni=w.component)&&void 0!==Ni?Ni:w._loadedComponent)&&void 0!==yr?yr:null,w,function ul(A){return A.resolve||{}}(w)),{segmentGroup:mi,slicedSegments:Xi}=Go(F,sr,cr,bt);if(0===Xi.length&&mi.hasChildren())return this.processChildren(gi,bt,mi).pipe((0,Xe.U)(xo=>null===xo?null:new Di(Xs,xo)));if(0===bt.length&&0===Xi.length)return(0,re.of)(new Di(Xs,[]));const Zh=$i(w)===ae;return this.processSegment(gi,bt,mi,Xi,Zh?At:ae,!0).pipe((0,Xe.U)(xo=>new Di(Xs,xo instanceof Di?[xo]:[])))}))):rs(F)}))}getChildConfig(M,F,w){return F.children?(0,re.of)({routes:F.children,injector:M}):F.loadChildren?void 0!==F._loadedRoutes?(0,re.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):function ns(A,M,F,w){const U=M.canLoad;if(void 0===U||0===U.length)return(0,re.of)(!0);const ae=U.map(Re=>{const Ct=xi(Re,A);return gn(function Ao(A){return A&&ll(A.canLoad)}(Ct)?Ct.canLoad(M,F):A.runInContext(()=>Ct(M,F)))});return(0,re.of)(ae).pipe(we(),Ho())}(M,F,w).pipe((0,Ie.z)(U=>U?this.configLoader.loadChildren(M,F).pipe((0,Me.b)(ae=>{F._loadedRoutes=ae.routes,F._loadedInjector=ae.injector})):function vr(A){return Ee(Ca(!1,3))}())):(0,re.of)({routes:[],injector:M})}}function ic(A){const M=A.value.routeConfig;return M&&""===M.path}function pa(A){const M=[],F=new Set;for(const w of A){if(!ic(w)){M.push(w);continue}const U=M.find(ae=>w.value.routeConfig===ae.value.routeConfig);void 0!==U?(U.children.push(...w.children),F.add(U)):M.push(w)}for(const w of F){const U=pa(w.children);M.push(new Di(w.value,U))}return M.filter(w=>!F.has(w))}function Ro(A){return{matched:!0,parameters:A.length>0?rr(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}function qo(A,M){return(0,Ie.z)(F=>{const{targetSnapshot:w,guards:{canActivateChecks:U}}=F;if(!U.length)return(0,re.of)(F);const ae=U.map(bt=>bt.route),Re=new Set(ae),Ct=R(ae[0].parent).slice(1);let rn=0;return(0,Oe.D)(Ct).pipe((0,rt.b)(bt=>Re.has(bt)?function G(A,M,F,w){const U=A.routeConfig,ae=A._resolve;return void 0!==(null==U?void 0:U.title)&&!qi(U)&&(ae[ln]=U.title),function Ve(A,M,F,w){const U=Hn(A);if(0===U.length)return(0,re.of)({});const ae={};return(0,Oe.D)(U).pipe((0,Ie.z)(Re=>function H(A,M,F,w){var U;const ae=null!==(U=Es(M))&&void 0!==U?U:w,Re=xi(A,ae);return gn(Re.resolve?Re.resolve(M,F):ae.runInContext(()=>Re(M,F)))}(A[Re],M,F,w).pipe((0,Ue.P)(),(0,Me.b)(Ct=>{ae[Re]=Ct}))),se(1),function je(A){return(0,Xe.U)(()=>A)}(ae),st(Re=>q(Re)?Ke.E:Ee(Re)))}(ae,A,M,w).pipe((0,Xe.U)(Re=>(A._resolvedData=Re,A.data=Cr(A,A.parent,F).resolve,null)))}(bt,w,A,M):(bt.data=Cr(bt,bt.parent,A).resolve,(0,re.of)(void 0))),(0,Me.b)(()=>rn++),se(1),(0,Ie.z)(bt=>rn===Ct.length?(0,re.of)(F):Ke.E))})}function R(A){const M=A.children.map(F=>R(F)).flat();return[A,...M]}function ve(A){return(0,pt.w)(M=>{const F=A(M);return F?(0,Oe.D)(F).pipe((0,Xe.U)(()=>M)):(0,re.of)(M)})}let tt=(()=>{var A;class M{buildTitle(w){let U,ae=w.root;for(;void 0!==ae;){var Re;U=null!==(Re=this.getResolvedTitleForRoute(ae))&&void 0!==Re?Re:U,ae=ae.children.find(Ct=>Ct.outlet===At)}return U}getResolvedTitleForRoute(w){return w.data[ln]}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:()=>(0,d.f3M)(Gt),providedIn:"root"}),M})(),Gt=(()=>{var A;class M extends tt{constructor(w){super(),this.title=w}updateTitle(w){const U=this.buildTitle(w);void 0!==U&&this.title.setTitle(U)}}return(A=M).\u0275fac=function(w){return new(w||A)(d.LFG(Mt.Dx))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();const on=new d.OlP("",{providedIn:"root",factory:()=>({})}),fr=new d.OlP("ROUTES");let wr=(()=>{var A;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,re.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const U=gn(w.loadComponent()).pipe((0,Xe.U)(mr),(0,Me.b)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=Re}),(0,$e.x)(()=>{this.componentLoaders.delete(w)})),ae=new Et(U,()=>new Ce.x).pipe(at());return this.componentLoaders.set(w,ae),ae}loadChildren(w,U){if(this.childrenLoaders.get(U))return this.childrenLoaders.get(U);if(U._loadedRoutes)return(0,re.of)({routes:U._loadedRoutes,injector:U._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(U);const Re=function Tr(A,M,F,w){return gn(A.loadChildren()).pipe((0,Xe.U)(mr),(0,Ie.z)(U=>U instanceof d.YKP||Array.isArray(U)?(0,re.of)(U):(0,Oe.D)(M.compileModuleAsync(U))),(0,Xe.U)(U=>{w&&w(A);let ae,Re,Ct=!1;return Array.isArray(U)?(Re=U,!0):(ae=U.create(F).injector,Re=ae.get(fr,[],{optional:!0,self:!0}).flat()),{routes:Re.map(Ba),injector:ae}}))}(U,this.compiler,w,this.onLoadEndListener).pipe((0,$e.x)(()=>{this.childrenLoaders.delete(U)})),Ct=new Et(Re,()=>new Ce.x).pipe(at());return this.childrenLoaders.set(U,Ct),Ct}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();function mr(A){return function pr(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Pr=(()=>{var A;class M{}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:()=>(0,d.f3M)(Qi),providedIn:"root"}),M})(),Qi=(()=>{var A;class M{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,U){return w}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();const si=new d.OlP(""),Rs=new d.OlP("");function Ha(A,M,F){const w=A.get(Rs),U=A.get(Be.K0);return A.get(d.R0b).runOutsideAngular(()=>{if(!U.startViewTransition||w.skipNextTransition)return w.skipNextTransition=!1,Promise.resolve();let ae;const Re=new Promise(bt=>{ae=bt}),Ct=U.startViewTransition(()=>(ae(),function co(A){return new Promise(M=>{(0,d.T8G)(M,{injector:A})})}(A))),{onViewTransitionCreated:rn}=w;return rn&&(0,d.r_H)(A,()=>rn({transition:Ct,from:M,to:F})),Re})}let Ko=(()=>{var A;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce.x,this.transitionAbortSubject=new Ce.x,this.configLoader=(0,d.f3M)(wr),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ar),this.rootContexts=(0,d.f3M)(_r),this.location=(0,d.f3M)(Be.Ye),this.inputBindingEnabled=null!==(0,d.f3M)(zs,{optional:!0}),this.titleStrategy=(0,d.f3M)(tt),this.options=(0,d.f3M)(on,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.f3M)(Pr),this.createViewTransition=(0,d.f3M)(si,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,re.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new it(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new ze(ae))}complete(){var w;null===(w=this.transitions)||void 0===w||w.complete()}handleNavigationRequest(w){var U;const ae=++this.navigationId;null===(U=this.transitions)||void 0===U||U.next({...this.transitions.value,...w,id:ae})}setupNavigations(w,U,ae){return this.transitions=new me.X({id:0,currentUrlTree:U,currentRawUrl:U,extractedUrl:this.urlHandlingStrategy.extract(U),urlAfterRedirects:this.urlHandlingStrategy.extract(U),rawUrl:U,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ne,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.h)(Re=>0!==Re.id),(0,Xe.U)(Re=>({...Re,extractedUrl:this.urlHandlingStrategy.extract(Re.rawUrl)})),(0,pt.w)(Re=>{this.currentTransition=Re;let Ct=!1,rn=!1;return(0,re.of)(Re).pipe((0,Me.b)(bt=>{this.currentNavigation={id:bt.id,initialUrl:bt.rawUrl,extractedUrl:bt.extractedUrl,trigger:bt.source,extras:bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,pt.w)(bt=>{var Dn;const yr=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Ni=null!==(Dn=bt.extras.onSameUrlNavigation)&&void 0!==Dn?Dn:w.onSameUrlNavigation;if(!yr&&"reload"!==Ni){const gi="";return this.events.next(new jt(bt.id,this.urlSerializer.serialize(bt.rawUrl),gi,0)),bt.resolve(null),Ke.E}if(this.urlHandlingStrategy.shouldProcessUrl(bt.rawUrl))return(0,re.of)(bt).pipe((0,pt.w)(gi=>{var sr,cr;const Wn=null===(sr=this.transitions)||void 0===sr?void 0:sr.getValue();return this.events.next(new Ae(gi.id,this.urlSerializer.serialize(gi.extractedUrl),gi.source,gi.restoredState)),Wn!==(null===(cr=this.transitions)||void 0===cr?void 0:cr.getValue())?Ke.E:Promise.resolve(gi)}),function dl(A,M,F,w,U,ae){return(0,Ie.z)(Re=>function Yo(A,M,F,w,U,ae,Re="emptyOnly"){return new fu(A,M,F,w,U,Re,ae).recognize()}(A,M,F,w,Re.extractedUrl,U,ae).pipe((0,Xe.U)(({state:Ct,tree:rn})=>({...Re,targetSnapshot:Ct,urlAfterRedirects:rn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Me.b)(gi=>{Re.targetSnapshot=gi.targetSnapshot,Re.urlAfterRedirects=gi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gi.urlAfterRedirects};const sr=new Nn(gi.id,this.urlSerializer.serialize(gi.extractedUrl),this.urlSerializer.serialize(gi.urlAfterRedirects),gi.targetSnapshot);this.events.next(sr)}));if(yr&&this.urlHandlingStrategy.shouldProcessUrl(bt.currentRawUrl)){const{id:gi,extractedUrl:sr,source:cr,restoredState:Wn,extras:Xs}=bt,mi=new Ae(gi,this.urlSerializer.serialize(sr),cr,Wn);this.events.next(mi);const Xi=Ds(0,this.rootComponentType).snapshot;return this.currentTransition=Re={...bt,targetSnapshot:Xi,urlAfterRedirects:sr,extras:{...Xs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=sr,(0,re.of)(Re)}{const gi="";return this.events.next(new jt(bt.id,this.urlSerializer.serialize(bt.extractedUrl),gi,1)),bt.resolve(null),Ke.E}}),(0,Me.b)(bt=>{const Dn=new nn(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot);this.events.next(Dn)}),(0,Xe.U)(bt=>(this.currentTransition=Re={...bt,guards:bl(bt.targetSnapshot,bt.currentSnapshot,this.rootContexts)},Re)),function W(A,M){return(0,Ie.z)(F=>{const{targetSnapshot:w,currentSnapshot:U,guards:{canActivateChecks:ae,canDeactivateChecks:Re}}=F;return 0===Re.length&&0===ae.length?(0,re.of)({...F,guardsResult:!0}):function Pe(A,M,F,w){return(0,Oe.D)(A).pipe((0,Ie.z)(U=>function qr(A,M,F,w,U){const ae=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,re.of)(!0);const Re=ae.map(Ct=>{var rn;const bt=null!==(rn=Es(M))&&void 0!==rn?rn:U,Dn=xi(Ct,bt);return gn(function pn(A){return A&&ll(A.canDeactivate)}(Dn)?Dn.canDeactivate(A,M,F,w):bt.runInContext(()=>Dn(A,M,F,w))).pipe((0,Ue.P)())});return(0,re.of)(Re).pipe(we())}(U.component,U.route,F,M,w)),(0,Ue.P)(U=>!0!==U,!0))}(Re,w,U,A).pipe((0,Ie.z)(Ct=>Ct&&function cl(A){return"boolean"==typeof A}(Ct)?function an(A,M,F,w){return(0,Oe.D)(M).pipe((0,rt.b)(U=>(0,be.z)(function ni(A,M){return null!==A&&M&&M(new xt(A)),(0,re.of)(!0)}(U.route.parent,w),function dn(A,M){return null!==A&&M&&M(new Q(A)),(0,re.of)(!0)}(U.route,w),function gs(A,M,F){const w=M[M.length-1],ae=M.slice(0,M.length-1).reverse().map(Re=>function Ir(A){const M=A.routeConfig?A.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:A,guards:M}:null}(Re)).filter(Re=>null!==Re).map(Re=>Je(()=>{const Ct=Re.guards.map(rn=>{var bt;const Dn=null!==(bt=Es(Re.node))&&void 0!==bt?bt:F,yr=xi(rn,Dn);return gn(function Ai(A){return A&&ll(A.canActivateChild)}(yr)?yr.canActivateChild(w,A):Dn.runInContext(()=>yr(w,A))).pipe((0,Ue.P)())});return(0,re.of)(Ct).pipe(we())}));return(0,re.of)(ae).pipe(we())}(A,U.path,F),function As(A,M,F){const w=M.routeConfig?M.routeConfig.canActivate:null;if(!w||0===w.length)return(0,re.of)(!0);const U=w.map(ae=>Je(()=>{var Re;const Ct=null!==(Re=Es(M))&&void 0!==Re?Re:F,rn=xi(ae,Ct);return gn(function Ta(A){return A&&ll(A.canActivate)}(rn)?rn.canActivate(M,A):Ct.runInContext(()=>rn(M,A))).pipe((0,Ue.P)())}));return(0,re.of)(U).pipe(we())}(A,U.route,F))),(0,Ue.P)(U=>!0!==U,!0))}(w,ae,A,M):(0,re.of)(Ct)),(0,Xe.U)(Ct=>({...F,guardsResult:Ct})))})}(this.environmentInjector,bt=>this.events.next(bt)),(0,Me.b)(bt=>{if(Re.guardsResult=bt.guardsResult,Hr(bt.guardsResult))throw Ia(0,bt.guardsResult);const Dn=new dr(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects),bt.targetSnapshot,!!bt.guardsResult);this.events.next(Dn)}),(0,he.h)(bt=>!!bt.guardsResult||(this.cancelNavigationTransition(bt,"",3),!1)),ve(bt=>{if(bt.guards.canActivateChecks.length)return(0,re.of)(bt).pipe((0,Me.b)(Dn=>{const yr=new z(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(yr)}),(0,pt.w)(Dn=>{let yr=!1;return(0,re.of)(Dn).pipe(qo(this.paramsInheritanceStrategy,this.environmentInjector),(0,Me.b)({next:()=>yr=!0,complete:()=>{yr||this.cancelNavigationTransition(Dn,"",2)}}))}),(0,Me.b)(Dn=>{const yr=new ie(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(yr)}))}),ve(bt=>{const Dn=yr=>{var Ni;const gi=[];null!==(Ni=yr.routeConfig)&&void 0!==Ni&&Ni.loadComponent&&!yr.routeConfig._loadedComponent&&gi.push(this.configLoader.loadComponent(yr.routeConfig).pipe((0,Me.b)(sr=>{yr.component=sr}),(0,Xe.U)(()=>{})));for(const sr of yr.children)gi.push(...Dn(sr));return gi};return(0,qe.a)(Dn(bt.targetSnapshot.root)).pipe((0,Qe.d)(),(0,_e.q)(1))}),ve(()=>this.afterPreactivation()),(0,pt.w)(()=>{var bt;const{currentSnapshot:Dn,targetSnapshot:yr}=Re,Ni=null===(bt=this.createViewTransition)||void 0===bt?void 0:bt.call(this,this.environmentInjector,Dn.root,yr.root);return Ni?(0,Oe.D)(Ni).pipe((0,Xe.U)(()=>Re)):(0,re.of)(Re)}),(0,Xe.U)(bt=>{const Dn=function $o(A,M,F){const w=ds(A,M._root,F?F._root:void 0);return new fi(w,M)}(w.routeReuseStrategy,bt.targetSnapshot,bt.currentRouterState);return this.currentTransition=Re={...bt,targetRouterState:Dn},this.currentNavigation.targetRouterState=Dn,Re}),(0,Me.b)(()=>{this.events.next(new xe)}),((A,M,F,w)=>(0,Xe.U)(U=>(new Ua(M,U.targetRouterState,U.currentRouterState,F,w).activate(A),U)))(this.rootContexts,w.routeReuseStrategy,bt=>this.events.next(bt),this.inputBindingEnabled),(0,_e.q)(1),(0,Me.b)({next:bt=>{var Dn;Ct=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gt(bt.id,this.urlSerializer.serialize(bt.extractedUrl),this.urlSerializer.serialize(bt.urlAfterRedirects))),null===(Dn=this.titleStrategy)||void 0===Dn||Dn.updateTitle(bt.targetRouterState.snapshot),bt.resolve(!0)},complete:()=>{Ct=!0}}),function It(A){return(0,et.e)((M,F)=>{(0,Te.Xf)(A).subscribe((0,nt.x)(F,()=>F.complete(),We.Z)),!F.closed&&M.subscribe(F)})}(this.transitionAbortSubject.pipe((0,Me.b)(bt=>{throw bt}))),(0,$e.x)(()=>{var bt;Ct||rn||this.cancelNavigationTransition(Re,"",1),(null===(bt=this.currentNavigation)||void 0===bt?void 0:bt.id)===Re.id&&(this.currentNavigation=null)}),st(bt=>{if(rn=!0,la(bt))this.events.next(new Bt(Re.id,this.urlSerializer.serialize(Re.extractedUrl),bt.message,bt.cancellationCode)),function Li(A){return la(A)&&Hr(A.url)}(bt)?this.events.next(new $t(bt.url)):Re.resolve(!1);else{var Dn;this.events.next(new tn(Re.id,this.urlSerializer.serialize(Re.extractedUrl),bt,null!==(Dn=Re.targetSnapshot)&&void 0!==Dn?Dn:void 0));try{Re.resolve(w.errorHandler(bt))}catch(yr){Re.reject(yr)}}return Ke.E}))}))}cancelNavigationTransition(w,U,ae){const Re=new Bt(w.id,this.urlSerializer.serialize(w.extractedUrl),U,ae);this.events.next(Re),w.resolve(!1)}isUpdatingInternalState(){var w,U;return(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())!==(null===(U=this.currentTransition)||void 0===U?void 0:U.currentUrlTree.toString())}isUpdatedBrowserUrl(){var w,U;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(w=this.currentTransition)||void 0===w?void 0:w.extractedUrl.toString())&&!(null!==(U=this.currentTransition)&&void 0!==U&&U.extras.skipLocationChange)}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();function Aa(A){return A!==Ne}let Sa=(()=>{var A;class M{}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:()=>(0,d.f3M)(oh),providedIn:"root"}),M})();class Ga{shouldDetach(M){return!1}store(M,F){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,F){return M.routeConfig===F.routeConfig}}let oh=(()=>{var A;class M extends Ga{}return(A=M).\u0275fac=(()=>{let F;return function(U){return(F||(F=d.n5z(A)))(U||A)}})(),A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})(),Os=(()=>{var A;class M{}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:()=>(0,d.f3M)(Kh),providedIn:"root"}),M})(),Kh=(()=>{var A;class M extends Os{constructor(){super(...arguments),this.location=(0,d.f3M)(Be.Ye),this.urlSerializer=(0,d.f3M)(Ar),this.options=(0,d.f3M)(on,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.f3M)(Pr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Lr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ds(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var w,U;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(w=null===(U=this.restoredState())||void 0===U?void 0:U.\u0275routerPageId)&&void 0!==w?w:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(U=>{"popstate"===U.type&&w(U.url,U.state)})}handleRouterEvent(w,U){if(w instanceof Ae)this.stateMemento=this.createStateMemento();else if(w instanceof jt)this.rawUrlTree=U.initialUrl;else if(w instanceof Nn){if("eager"===this.urlUpdateStrategy&&!U.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(U.finalUrl,U.initialUrl);this.setBrowserUrl(ae,U)}}else w instanceof xe?(this.currentUrlTree=U.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(U.finalUrl,U.initialUrl),this.routerState=U.targetRouterState,"deferred"===this.urlUpdateStrategy&&(U.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,U))):w instanceof Bt&&(3===w.code||2===w.code)?this.restoreHistory(U):w instanceof tn?this.restoreHistory(U,!0):w instanceof gt&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,U){const ae=this.urlSerializer.serialize(w);if(this.location.isCurrentPathEqualTo(ae)||U.extras.replaceUrl){const Ct={...U.extras.state,...this.generateNgRouterState(U.id,this.browserPageId)};this.location.replaceState(ae,"",Ct)}else{const Re={...U.extras.state,...this.generateNgRouterState(U.id,this.browserPageId+1)};this.location.go(ae,"",Re)}}restoreHistory(w,U=!1){if("computed"===this.canceledNavigationResolution){const Re=this.currentPageId-this.browserPageId;0!==Re?this.location.historyGo(Re):this.currentUrlTree===w.finalUrl&&0===Re&&(this.resetState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(U&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){var U;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(U=w.finalUrl)&&void 0!==U?U:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,U){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:U}:{navigationId:w}}}return(A=M).\u0275fac=(()=>{let F;return function(U){return(F||(F=d.n5z(A)))(U||A)}})(),A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();var Zo=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(Zo||{});function Gi(A,M){A.events.pipe((0,he.h)(F=>F instanceof gt||F instanceof Bt||F instanceof tn||F instanceof jt),(0,Xe.U)(F=>F instanceof gt||F instanceof jt?Zo.COMPLETE:F instanceof Bt&&(0===F.code||1===F.code)?Zo.REDIRECTING:Zo.FAILED),(0,he.h)(F=>F!==Zo.REDIRECTING),(0,_e.q)(1)).subscribe(()=>{M()})}function ah(A){throw A}const Po={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ps={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pi=(()=>{var A;class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var w,U;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.f3M)(d.c2e),this.stateManager=(0,d.f3M)(Os),this.options=(0,d.f3M)(on,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.f3M)(Ko),this.urlSerializer=(0,d.f3M)(Ar),this.location=(0,d.f3M)(Be.Ye),this.urlHandlingStrategy=(0,d.f3M)(Pr),this._events=new Ce.x,this.errorHandler=this.options.errorHandler||ah,this.navigated=!1,this.routeReuseStrategy=(0,d.f3M)(Sa),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(w=null===(U=(0,d.f3M)(fr,{optional:!0}))||void 0===U?void 0:U.flat())&&void 0!==w?w:[],this.componentInputBindingEnabled=!!(0,d.f3M)(zs,{optional:!0}),this.eventsSubscription=new _t.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(U=>{try{const ae=this.navigationTransitions.currentTransition,Re=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==Re)if(this.stateManager.handleRouterEvent(U,Re),U instanceof Bt&&0!==U.code&&1!==U.code)this.navigated=!0;else if(U instanceof gt)this.navigated=!0;else if(U instanceof $t){const Ct=this.urlHandlingStrategy.merge(U.url,ae.currentRawUrl),rn={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Aa(ae.source)};this.scheduleNavigation(Ct,Ne,null,rn,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function Qs(A){return!(A instanceof xe||A instanceof $t)})(U)&&this._events.next(U)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ne,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((w,U)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(w,"popstate",U)},0)}))}navigateToSyncWithBrowser(w,U,ae){const Re={replaceUrl:!0},Ct=null!=ae&&ae.navigationId?ae:null;if(ae){const bt={...ae};delete bt.navigationId,delete bt.\u0275routerPageId,0!==Object.keys(bt).length&&(Re.state=bt)}const rn=this.parseUrl(w);this.scheduleNavigation(rn,U,Ct,Re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Ba),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,U={}){const{relativeTo:ae,queryParams:Re,fragment:Ct,queryParamsHandling:rn,preserveFragment:bt}=U,Dn=bt?this.currentUrlTree.fragment:Ct;let Ni,yr=null;switch(rn){case"merge":yr={...this.currentUrlTree.queryParams,...Re};break;case"preserve":yr=this.currentUrlTree.queryParams;break;default:yr=Re||null}null!==yr&&(yr=this.removeEmptyProps(yr));try{Ni=St(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||!w[0].startsWith("/"))&&(w=[]),Ni=this.currentUrlTree.root}return ut(Ni,w,yr,null!=Dn?Dn:null)}navigateByUrl(w,U={skipLocationChange:!1}){const ae=Hr(w)?w:this.parseUrl(w),Re=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(Re,Ne,null,U)}navigate(w,U={skipLocationChange:!1}){return function Ns(A){for(let M=0;M<A.length;M++)if(null==A[M])throw new d.vHH(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,U),U)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,U){let ae;if(ae=!0===U?{...Po}:!1===U?{...Ps}:U,Hr(w))return ti(this.currentUrlTree,w,ae);const Re=this.parseUrl(w);return ti(this.currentUrlTree,Re,ae)}removeEmptyProps(w){return Object.keys(w).reduce((U,ae)=>{const Re=w[ae];return null!=Re&&(U[ae]=Re),U},{})}scheduleNavigation(w,U,ae,Re,Ct){if(this.disposed)return Promise.resolve(!1);let rn,bt,Dn;Ct?(rn=Ct.resolve,bt=Ct.reject,Dn=Ct.promise):Dn=new Promise((Ni,gi)=>{rn=Ni,bt=gi});const yr=this.pendingTasks.add();return Gi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(yr))}),this.navigationTransitions.handleNavigationRequest({source:U,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:Re,resolve:rn,reject:bt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Ni=>Promise.reject(Ni))}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})(),is=(()=>{var A;class M{constructor(w,U,ae,Re,Ct,rn){var bt;this.router=w,this.route=U,this.tabIndexAttribute=ae,this.renderer=Re,this.el=Ct,this.locationStrategy=rn,this.href=null,this.commands=null,this.onChanges=new Ce.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Dn=null===(bt=Ct.nativeElement.tagName)||void 0===bt?void 0:bt.toLowerCase();this.isAnchorElement="a"===Dn||"area"===Dn,this.isAnchorElement?this.subscription=w.events.subscribe(yr=>{yr instanceof gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",w)}ngOnChanges(w){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(w,U,ae,Re,Ct){return!!(null===this.urlTree||this.isAnchorElement&&(0!==w||U||ae||Re||Ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var w;null===(w=this.subscription)||void 0===w||w.unsubscribe()}updateHref(){var w;this.href=null!==this.urlTree&&this.locationStrategy?null===(w=this.locationStrategy)||void 0===w?void 0:w.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const U=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",U)}applyAttributeValue(w,U){const ae=this.renderer,Re=this.el.nativeElement;null!==U?ae.setAttribute(Re,w,U):ae.removeAttribute(Re,w)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=M).\u0275fac=function(w){return new(w||A)(d.Y36(pi),d.Y36(us),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Be.S$))},A.\u0275dir=d.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(w,U){1&w&&d.NdJ("click",function(Re){return U.onClick(Re.button,Re.ctrlKey,Re.shiftKey,Re.altKey,Re.metaKey)}),2&w&&d.uIk("target",U.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),M})();class ss{}let Wi=(()=>{var A;class M{preload(w,U){return U().pipe(st(()=>(0,re.of)(null)))}}return(A=M).\u0275fac=function(w){return new(w||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})(),zn=(()=>{var A;class M{constructor(w,U,ae,Re,Ct){this.router=w,this.injector=ae,this.preloadingStrategy=Re,this.loader=Ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.h)(w=>w instanceof gt),(0,rt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,U){const ae=[];for(const bt of U){var Re,Ct;bt.providers&&!bt._injector&&(bt._injector=(0,d.MMx)(bt.providers,w,`Route: ${bt.path}`));const Dn=null!==(Re=bt._injector)&&void 0!==Re?Re:w,yr=null!==(Ct=bt._loadedInjector)&&void 0!==Ct?Ct:Dn;var rn;(bt.loadChildren&&!bt._loadedRoutes&&void 0===bt.canLoad||bt.loadComponent&&!bt._loadedComponent)&&ae.push(this.preloadConfig(Dn,bt)),(bt.children||bt._loadedRoutes)&&ae.push(this.processRoutes(yr,null!==(rn=bt.children)&&void 0!==rn?rn:bt._loadedRoutes))}return(0,Oe.D)(ae).pipe((0,Pt.J)())}preloadConfig(w,U){return this.preloadingStrategy.preload(U,()=>{let ae;ae=U.loadChildren&&void 0===U.canLoad?this.loader.loadChildren(w,U):(0,re.of)(null);const Re=ae.pipe((0,Ie.z)(Ct=>{var rn;return null===Ct?(0,re.of)(void 0):(U._loadedRoutes=Ct.routes,U._loadedInjector=Ct.injector,this.processRoutes(null!==(rn=Ct.injector)&&void 0!==rn?rn:w,Ct.routes))}));if(U.loadComponent&&!U._loadedComponent){const Ct=this.loader.loadComponent(U);return(0,Oe.D)([Re,Ct]).pipe((0,Pt.J)())}return Re})}}return(A=M).\u0275fac=function(w){return new(w||A)(d.LFG(pi),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ss),d.LFG(wr))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),M})();const Qn=new d.OlP("");let cd=(()=>{var A;class M{constructor(w,U,ae,Re,Ct={}){this.urlSerializer=w,this.transitions=U,this.viewportScroller=ae,this.zone=Re,this.options=Ct,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ct.scrollPositionRestoration=Ct.scrollPositionRestoration||"disabled",Ct.anchorScrolling=Ct.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof gt?(this.lastId=w.id,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.urlAfterRedirects).fragment)):w instanceof jt&&0===w.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(w,this.urlSerializer.parse(w.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(w=>{w instanceof te&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,U){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new te(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,U))})},0)})}ngOnDestroy(){var w,U;null===(w=this.routerEventsSubscription)||void 0===w||w.unsubscribe(),null===(U=this.scrollEventsSubscription)||void 0===U||U.unsubscribe()}}return(A=M).\u0275fac=function(w){d.$Z()},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac}),M})();function Zt(A,M){return{\u0275kind:A,\u0275providers:M}}function ch(){const A=(0,d.f3M)(d.zs3);return M=>{var F,w;const U=A.get(d.z2F);if(M!==U.components[0])return;const ae=A.get(pi),Re=A.get(za);1===A.get(mu)&&ae.initialNavigation(),null===(F=A.get(os,null,d.XFs.Optional))||void 0===F||F.setUpPreloading(),null===(w=A.get(Qn,null,d.XFs.Optional))||void 0===w||w.init(),ae.resetRootComponentType(U.componentTypes[0]),Re.closed||(Re.next(),Re.complete(),Re.unsubscribe())}}const za=new d.OlP("",{factory:()=>new Ce.x}),mu=new d.OlP("",{providedIn:"root",factory:()=>1}),os=new d.OlP("");function uh(A){return Zt(0,[{provide:os,useExisting:zn},{provide:ss,useExisting:A}])}function ir(A){return Zt(9,[{provide:si,useValue:Ha},{provide:Rs,useValue:{skipNextTransition:!(null==A||!A.skipInitialTransition),...A}}])}const ei=new d.OlP("ROUTER_FORROOT_GUARD"),hl=[Be.Ye,{provide:Ar,useClass:oi},pi,_r,{provide:us,useFactory:function Ft(A){return A.routerState.root},deps:[pi]},wr,[]];let ri=(()=>{var A;class M{constructor(w){}static forRoot(w,U){return{ngModule:M,providers:[hl,[],{provide:fr,multi:!0,useValue:w},{provide:ei,useFactory:fl,deps:[[pi,new d.FiY,new d.tp0]]},{provide:on,useValue:U||{}},null!=U&&U.useHash?{provide:Be.S$,useClass:Be.Do}:{provide:Be.S$,useClass:Be.b0},{provide:Qn,useFactory:()=>{const A=(0,d.f3M)(Be.EM),M=(0,d.f3M)(d.R0b),F=(0,d.f3M)(on),w=(0,d.f3M)(Ko),U=(0,d.f3M)(Ar);return F.scrollOffset&&A.setOffset(F.scrollOffset),new cd(U,w,A,M,F)}},null!=U&&U.preloadingStrategy?uh(U.preloadingStrategy).\u0275providers:[],null!=U&&U.initialNavigation?oc(U):[],null!=U&&U.bindToComponentInputs?Zt(8,[Vr,{provide:zs,useExisting:Vr}]).\u0275providers:[],null!=U&&U.enableViewTransitions?ir().\u0275providers:[],[{provide:Oi,useFactory:ch},{provide:d.tb,multi:!0,useExisting:Oi}]]}}static forChild(w){return{ngModule:M,providers:[{provide:fr,multi:!0,useValue:w}]}}}return(A=M).\u0275fac=function(w){return new(w||A)(d.LFG(ei,8))},A.\u0275mod=d.oAB({type:A}),A.\u0275inj=d.cJS({}),M})();function fl(A){return"guarded"}function oc(A){return["disabled"===A.initialNavigation?Zt(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const M=(0,d.f3M)(pi);return()=>{M.setUpLocationChangeListener()}}},{provide:mu,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Zt(2,[{provide:mu,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:M=>{const F=M.get(Be.V_,Promise.resolve());return()=>F.then(()=>new Promise(w=>{const U=M.get(pi),ae=M.get(za);Gi(U,()=>{w(!0)}),M.get(Ko).afterPreactivation=()=>(w(!0),ae.closed?(0,re.of)(void 0):ae),U.initialNavigation()}))}}]).\u0275providers:[]]}const Oi=new d.OlP("")},7879:(un,ft,N)=>{"use strict";N.d(ft,{Am:()=>Ze,Ub:()=>qe,Yd:()=>me,in:()=>$});const d=[];var $=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}($||{});const J={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},de=$.INFO,Oe={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},re=(be,Te,...Je)=>{if(Te<be.logLevel)return;const Ye=(new Date).toISOString(),Ee=Oe[Te];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[Ee](`[${Ye}]  ${be.name}:`,...Je)};class me{constructor(Te){this.name=Te,this._logLevel=de,this._logHandler=re,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in $))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?J[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Te),this._logHandler(this,$.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Te),this._logHandler(this,$.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Te),this._logHandler(this,$.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Te),this._logHandler(this,$.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Te),this._logHandler(this,$.ERROR,...Te)}}function qe(be){d.forEach(Te=>{Te.setLogLevel(be)})}function Ze(be,Te){for(const Je of d){let Ye=null;Te&&Te.level&&(Ye=J[Te.level]),Je.userLogHandler=null===be?null:(Ee,Ke,..._t)=>{const et=_t.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Ke>=(null!=Ye?Ye:Ee.logLevel)&&be({level:$[Ke].toLowerCase(),message:et,args:_t,type:Ee.name})}}}},5472:(un,ft,N)=>{"use strict";N.d(ft,{y4:()=>Lr,De:()=>Bn,dy:()=>Qr,oU:()=>bn,ki:()=>Mi,O1:()=>dt,d8:()=>Un,jP:()=>or,UN:()=>He,r4:()=>Rn,SH:()=>_n,xs:()=>mn,j:()=>Xn,H:()=>Yn,bk:()=>vt,DN:()=>St,Wn:()=>Tt,vk:()=>Ut});var d=N(5861),$=N(9212),J=N(2692),de=N(6814);class Oe{constructor(){this.m=new Map}reset(Ne){this.m=new Map(Object.entries(Ne))}get(Ne,ee){const Ae=this.m.get(Ne);return void 0!==Ae?Ae:ee}getBoolean(Ne,ee=!1){const Ae=this.m.get(Ne);return void 0===Ae?ee:"string"==typeof Ae?"true"===Ae:!!Ae}getNumber(Ne,ee){const Ae=parseFloat(this.m.get(Ne));return isNaN(Ae)?void 0!==ee?ee:NaN:Ae}set(Ne,ee){this.m.set(Ne,ee)}}const re=new Oe,Ye=De=>Ke(De),Ke=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let Ne=De.Ionic.platforms;return null==Ne&&(Ne=De.Ionic.platforms=_t(De),Ne.forEach(ee=>De.document.documentElement.classList.add(`plt-${ee}`))),Ne},_t=De=>{const Ne=re.get("platform");return Object.keys(Qe).filter(ee=>{const Ae=null==Ne?void 0:Ne[ee];return"function"==typeof Ae?Ae(De):Qe[ee](De)})},nt=De=>!!(st(De,/iPad/i)||st(De,/Macintosh/i)&&_e(De)),Ce=De=>st(De,/android|sink/i),_e=De=>yt(De,"(any-pointer:coarse)"),he=De=>Ie(De)||Ue(De),Ie=De=>!!(De.cordova||De.phonegap||De.PhoneGap),Ue=De=>{const Ne=De.Capacitor;return!(null==Ne||!Ne.isNative)},st=(De,Ne)=>Ne.test(De.navigator.userAgent),yt=(De,Ne)=>{var ee;return null===(ee=De.matchMedia)||void 0===ee?void 0:ee.call(De,Ne).matches},Qe={ipad:nt,iphone:De=>st(De,/iPhone/i),ios:De=>st(De,/iPhone|iPod/i)||nt(De),android:Ce,phablet:De=>{const Ne=De.innerWidth,ee=De.innerHeight,Ae=Math.min(Ne,ee),gt=Math.max(Ne,ee);return Ae>390&&Ae<520&&gt>620&&gt<800},tablet:De=>{const Ne=De.innerWidth,ee=De.innerHeight,Ae=Math.min(Ne,ee),gt=Math.max(Ne,ee);return nt(De)||(De=>Ce(De)&&!st(De,/mobile/i))(De)||Ae>460&&Ae<820&&gt>780&&gt<1400},cordova:Ie,capacitor:Ue,electron:De=>st(De,/electron/i),pwa:De=>{var Ne;return!!(null!==(Ne=De.matchMedia)&&void 0!==Ne&&Ne.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:_e,mobileweb:De=>_e(De)&&!he(De),desktop:De=>!_e(De),hybrid:he};var ce=N(191),je=N(3630),$e=N(8645),We=N(2438),It=N(5619),Pt=N(2572),Mt=N(2096),At=N(7582),ln=N(2181),Kt=N(4664),Rt=N(3997),Nt=N(95);const Ht=["tabsInner"];let rr=(()=>{class De{constructor(ee,Ae){this.doc=ee,this.backButton=new $e.x,this.keyboardDidShow=new $e.x,this.keyboardDidHide=new $e.x,this.pause=new $e.x,this.resume=new $e.x,this.resize=new $e.x,Ae.run(()=>{var gt;let Bt;this.win=ee.defaultView,this.backButton.subscribeWithPriority=function(jt,tn){return this.subscribe(Nn=>Nn.register(jt,nn=>Ae.run(()=>tn(nn))))},er(this.pause,ee,"pause",Ae),er(this.resume,ee,"resume",Ae),er(this.backButton,ee,"ionBackButton",Ae),er(this.resize,this.win,"resize",Ae),er(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Ae),er(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Ae),this._readyPromise=new Promise(jt=>{Bt=jt}),null!==(gt=this.win)&&void 0!==gt&&gt.cordova?ee.addEventListener("deviceready",()=>{Bt("cordova")},{once:!0}):Bt("dom")})}is(ee){return((De,Ne)=>("string"==typeof De&&(Ne=De,De=void 0),Ye(De).includes(Ne)))(this.win,ee)}platforms(){return Ye(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ee){return gn(this.win.location.href,ee)}isLandscape(){return!this.isPortrait()}isPortrait(){var ee,Ae;return null===(ee=(Ae=this.win).matchMedia)||void 0===ee?void 0:ee.call(Ae,"(orientation: portrait)").matches}testUserAgent(ee){const Ae=this.win.navigator;return!!(null!=Ae&&Ae.userAgent&&Ae.userAgent.indexOf(ee)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return De.\u0275fac=function(ee){return new(ee||De)($.LFG(de.K0),$.LFG($.R0b))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const gn=(De,Ne)=>{Ne=Ne.replace(/[[\]\\]/g,"\\$&");const Ae=new RegExp("[\\?&]"+Ne+"=([^&#]*)").exec(De);return Ae?decodeURIComponent(Ae[1].replace(/\+/g," ")):null},er=(De,Ne,ee,Ae)=>{Ne&&Ne.addEventListener(ee,gt=>{Ae.run(()=>{De.next(null!=gt?gt.detail:void 0)})})};let _n=(()=>{class De{constructor(ee,Ae,gt,Bt){this.location=Ae,this.serializer=gt,this.router=Bt,this.direction=Jn,this.animated=lr,this.guessDirection="forward",this.lastNavId=-1,Bt&&Bt.events.subscribe(jt=>{if(jt instanceof J.OD){const tn=jt.restoredState?jt.restoredState.navigationId:jt.id;this.guessDirection=tn<this.lastNavId?"back":"forward",this.guessAnimation=jt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?jt.id:tn}}),ee.backButton.subscribeWithPriority(0,jt=>{this.pop(),jt()})}navigateForward(ee,Ae={}){return this.setDirection("forward",Ae.animated,Ae.animationDirection,Ae.animation),this.navigate(ee,Ae)}navigateBack(ee,Ae={}){return this.setDirection("back",Ae.animated,Ae.animationDirection,Ae.animation),this.navigate(ee,Ae)}navigateRoot(ee,Ae={}){return this.setDirection("root",Ae.animated,Ae.animationDirection,Ae.animation),this.navigate(ee,Ae)}back(ee={animated:!0,animationDirection:"back"}){return this.setDirection("back",ee.animated,ee.animationDirection,ee.animation),this.location.back()}pop(){var ee=this;return(0,d.Z)(function*(){let Ae=ee.topOutlet;for(;Ae;){if(yield Ae.pop())return!0;Ae=Ae.parentOutlet}return!1})()}setDirection(ee,Ae,gt,Bt){this.direction=ee,this.animated=ti(ee,Ae,gt),this.animationBuilder=Bt}setTopOutlet(ee){this.topOutlet=ee}consumeTransition(){let Ae,ee="root";const gt=this.animationBuilder;return"auto"===this.direction?(ee=this.guessDirection,Ae=this.guessAnimation):(Ae=this.animated,ee=this.direction),this.direction=Jn,this.animated=lr,this.animationBuilder=void 0,{direction:ee,animation:Ae,animationBuilder:gt}}navigate(ee,Ae){if(Array.isArray(ee))return this.router.navigate(ee,Ae);{const gt=this.serializer.parse(ee.toString());return void 0!==Ae.queryParams&&(gt.queryParams={...Ae.queryParams}),void 0!==Ae.fragment&&(gt.fragment=Ae.fragment),this.router.navigateByUrl(gt,Ae)}}}return De.\u0275fac=function(ee){return new(ee||De)($.LFG(rr),$.LFG(de.Ye),$.LFG(J.Hx),$.LFG(J.F0,8))},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const ti=(De,Ne,ee)=>{if(!1!==Ne){if(void 0!==ee)return ee;if("forward"===De||"back"===De)return De;if("root"===De&&!0===Ne)return"forward"}},Jn="auto",lr=void 0;let Bn=(()=>{class De{get(ee,Ae){const gt=$r();return gt?gt.get(ee,Ae):null}getBoolean(ee,Ae){const gt=$r();return!!gt&&gt.getBoolean(ee,Ae)}getNumber(ee,Ae){const gt=$r();return gt?gt.getNumber(ee,Ae):0}}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const Qr=new $.OlP("USERCONFIG"),$r=()=>{if(typeof window<"u"){const De=window.Ionic;if(null!=De&&De.config)return De.config}return null};class vn{constructor(Ne={}){this.data=Ne}get(Ne){return this.data[Ne]}}let Lr=(()=>{class De{constructor(){this.zone=(0,$.f3M)($.R0b),this.applicationRef=(0,$.f3M)($.z2F)}create(ee,Ae,gt){return new Mn(ee,Ae,this.applicationRef,this.zone,gt)}}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();class Mn{constructor(Ne,ee,Ae,gt,Bt){this.environmentInjector=Ne,this.injector=ee,this.applicationRef=Ae,this.zone=gt,this.elementReferenceKey=Bt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Ne,ee,Ae,gt){return this.zone.run(()=>new Promise(Bt=>{const jt={...Ae};void 0!==this.elementReferenceKey&&(jt[this.elementReferenceKey]=Ne),Bt(wi(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ne,ee,jt,gt,this.elementReferenceKey))}))}removeViewFromDom(Ne,ee){return this.zone.run(()=>new Promise(Ae=>{const gt=this.elRefMap.get(ee);if(gt){gt.destroy(),this.elRefMap.delete(ee);const Bt=this.elEventsMap.get(ee);Bt&&(Bt(),this.elEventsMap.delete(ee))}Ae()}))}}const wi=(De,Ne,ee,Ae,gt,Bt,jt,tn,Nn,nn,dr)=>{const z=$.zs3.create({providers:Ar(Nn),parent:ee}),ie=(0,$.LMc)(tn,{environmentInjector:Ne,elementInjector:z}),ze=ie.instance,it=ie.location.nativeElement;if(Nn&&(dr&&void 0!==ze[dr]&&console.error(`[Ionic Error]: ${dr} is a reserved property when using ${jt.tagName.toLowerCase()}. Rename or remove the "${dr}" property from ${tn.name}.`),Object.assign(ze,Nn)),nn)for(const T of nn)it.classList.add(T);const xt=hn(De,ze,it);return jt.appendChild(it),Ae.attachView(ie.hostView),gt.set(it,ie),Bt.set(it,xt),it},Dr=[ce.L,ce.a,ce.b,ce.c,ce.d],hn=(De,Ne,ee)=>De.run(()=>{const Ae=Dr.filter(gt=>"function"==typeof Ne[gt]).map(gt=>{const Bt=jt=>Ne[gt](jt.detail);return ee.addEventListener(gt,Bt),()=>ee.removeEventListener(gt,Bt)});return()=>Ae.forEach(gt=>gt())}),tr=new $.OlP("NavParamsToken"),Ar=De=>[{provide:tr,useValue:De},{provide:vn,useFactory:oi,deps:[tr]}],oi=De=>new vn(De),ki=(De,Ne)=>{const ee=De.prototype;Ne.forEach(Ae=>{Object.defineProperty(ee,Ae,{get(){return this.el[Ae]},set(gt){this.z.runOutsideAngular(()=>this.el[Ae]=gt)}})})},Ti=(De,Ne)=>{const ee=De.prototype;Ne.forEach(Ae=>{ee[Ae]=function(){const gt=arguments;return this.z.runOutsideAngular(()=>this.el[Ae].apply(this.el,gt))}})},Nr=(De,Ne,ee)=>{ee.forEach(Ae=>De[Ae]=(0,We.R)(Ne,Ae))};function jr(De){return function(ee){const{defineCustomElementFn:Ae,inputs:gt,methods:Bt}=De;return void 0!==Ae&&Ae(),gt&&ki(ee,gt),Bt&&Ti(ee,Bt),ee}}const Fr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Gn=["present","dismiss","onDidDismiss","onWillDismiss"];let Un=(()=>{let De=class{constructor(ee,Ae,gt){this.z=gt,this.isCmpOpen=!1,this.el=Ae.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),Nr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return De.\u0275fac=function(ee){return new(ee||De)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.R0b))},De.\u0275dir=$.lG2({type:De,selectors:[["ion-popover"]],contentQueries:function(ee,Ae,gt){if(1&ee&&$.Suo(gt,$.Rgc,5),2&ee){let Bt;$.iGM(Bt=$.CRH())&&(Ae.template=Bt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),De=(0,At.gn)([jr({inputs:Fr,methods:Gn})],De),De})();const ai=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Pi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Mi=(()=>{let De=class{constructor(ee,Ae,gt){this.z=gt,this.isCmpOpen=!1,this.el=Ae.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ee.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ee.detectChanges()}),Nr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return De.\u0275fac=function(ee){return new(ee||De)($.Y36($.sBO),$.Y36($.SBq),$.Y36($.R0b))},De.\u0275dir=$.lG2({type:De,selectors:[["ion-modal"]],contentQueries:function(ee,Ae,gt){if(1&ee&&$.Suo(gt,$.Rgc,5),2&ee){let Bt;$.iGM(Bt=$.CRH())&&(Ae.template=Bt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),De=(0,At.gn)([jr({inputs:ai,methods:Pi})],De),De})();const ge=(De,Ne)=>((De=De.filter(ee=>ee.stackId!==Ne.stackId)).push(Ne),De),pe=(De,Ne)=>{const ee=De.createUrlTree(["."],{relativeTo:Ne});return De.serializeUrl(ee)},ct=(De,Ne)=>!Ne||De.stackId!==Ne.stackId,Ot=(De,Ne)=>{if(!De)return;const ee=Wt(Ne);for(let Ae=0;Ae<ee.length;Ae++){if(Ae>=De.length)return ee[Ae];if(ee[Ae]!==De[Ae])return}},Wt=De=>De.split("/").map(Ne=>Ne.trim()).filter(Ne=>""!==Ne),$n=De=>{De&&(De.ref.destroy(),De.unlistenEvents())};class xn{constructor(Ne,ee,Ae,gt,Bt,jt){this.containerEl=ee,this.router=Ae,this.navCtrl=gt,this.zone=Bt,this.location=jt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Ne?Wt(Ne):void 0}createView(Ne,ee){var Ae;const gt=pe(this.router,ee),Bt=null==Ne||null===(Ae=Ne.location)||void 0===Ae?void 0:Ae.nativeElement,jt=hn(this.zone,Ne.instance,Bt);return{id:this.nextId++,stackId:Ot(this.tabsPrefix,gt),unlistenEvents:jt,element:Bt,ref:Ne,url:gt}}getExistingView(Ne){const ee=pe(this.router,Ne),Ae=this.views.find(gt=>gt.url===ee);return Ae&&Ae.ref.changeDetectorRef.reattach(),Ae}setActive(Ne){var ee,Ae;const gt=this.navCtrl.consumeTransition();let{direction:Bt,animation:jt,animationBuilder:tn}=gt;const Nn=this.activeView,nn=ct(Ne,Nn);nn&&(Bt="back",jt=void 0);const dr=this.views.slice();let z;const ie=this.router;ie.getCurrentNavigation?z=ie.getCurrentNavigation():null!==(ee=ie.navigations)&&void 0!==ee&&ee.value&&(z=ie.navigations.value),null!==(Ae=z)&&void 0!==Ae&&null!==(Ae=Ae.extras)&&void 0!==Ae&&Ae.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const ze=this.views.includes(Ne),it=this.insertView(Ne,Bt);ze||Ne.ref.changeDetectorRef.detectChanges();const xt=Ne.animationBuilder;return void 0===tn&&"back"===Bt&&!nn&&void 0!==xt&&(tn=xt),Nn&&(Nn.animationBuilder=tn),this.zone.runOutsideAngular(()=>this.wait(()=>(Nn&&Nn.ref.changeDetectorRef.detach(),Ne.ref.changeDetectorRef.reattach(),this.transition(Ne,Nn,jt,this.canGoBack(1),!1,tn).then(()=>ur(Ne,it,dr,this.location,this.zone)).then(()=>({enteringView:Ne,direction:Bt,animation:jt,tabSwitch:nn})))))}canGoBack(Ne,ee=this.getActiveStackId()){return this.getStack(ee).length>Ne}pop(Ne,ee=this.getActiveStackId()){return this.zone.run(()=>{const Ae=this.getStack(ee);if(Ae.length<=Ne)return Promise.resolve(!1);const gt=Ae[Ae.length-Ne-1];let Bt=gt.url;const jt=gt.savedData;if(jt){var tn;const nn=jt.get("primary");null!=nn&&null!==(tn=nn.route)&&void 0!==tn&&null!==(tn=tn._routerState)&&void 0!==tn&&tn.snapshot.url&&(Bt=nn.route._routerState.snapshot.url)}const{animationBuilder:Nn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,{...gt.savedExtras,animation:Nn}).then(()=>!0)})}startBackTransition(){const Ne=this.activeView;if(Ne){const ee=this.getStack(Ne.stackId),Ae=ee[ee.length-2],gt=Ae.animationBuilder;return this.wait(()=>this.transition(Ae,Ne,"back",this.canGoBack(2),!0,gt))}return Promise.resolve()}endBackTransition(Ne){Ne?(this.skipTransition=!0,this.pop(1)):this.activeView&&Sn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ne){const ee=this.getStack(Ne);return ee.length>0?ee[ee.length-1]:void 0}getRootUrl(Ne){const ee=this.getStack(Ne);return ee.length>0?ee[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($n),this.activeView=void 0,this.views=[]}getStack(Ne){return this.views.filter(ee=>ee.stackId===Ne)}insertView(Ne,ee){return this.activeView=Ne,this.views=((De,Ne,ee)=>"root"===ee?ge(De,Ne):"forward"===ee?((De,Ne)=>(De.indexOf(Ne)>=0?De=De.filter(Ae=>Ae.stackId!==Ne.stackId||Ae.id<=Ne.id):De.push(Ne),De))(De,Ne):((De,Ne)=>De.indexOf(Ne)>=0?De.filter(Ae=>Ae.stackId!==Ne.stackId||Ae.id<=Ne.id):ge(De,Ne))(De,Ne))(this.views,Ne,ee),this.views.slice()}transition(Ne,ee,Ae,gt,Bt,jt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(ee===Ne)return Promise.resolve(!1);const tn=Ne?Ne.element:void 0,Nn=ee?ee.element:void 0,nn=this.containerEl;return tn&&tn!==Nn&&(tn.classList.add("ion-page"),tn.classList.add("ion-page-invisible"),tn.parentElement!==nn&&nn.appendChild(tn),nn.commit)?nn.commit(tn,Nn,{duration:void 0===Ae?0:void 0,direction:Ae,showGoBack:gt,progressAnimation:Bt,animationBuilder:jt}):Promise.resolve(!1)}wait(Ne){var ee=this;return(0,d.Z)(function*(){void 0!==ee.runningTask&&(yield ee.runningTask,ee.runningTask=void 0);const Ae=ee.runningTask=Ne();return Ae.finally(()=>ee.runningTask=void 0),Ae})()}}const ur=(De,Ne,ee,Ae,gt)=>"function"==typeof requestAnimationFrame?new Promise(Bt=>{requestAnimationFrame(()=>{Sn(De,Ne,ee,Ae,gt),Bt()})}):Promise.resolve(),Sn=(De,Ne,ee,Ae,gt)=>{gt.run(()=>ee.filter(Bt=>!Ne.includes(Bt)).forEach($n)),Ne.forEach(Bt=>{const tn=Ae.path().split("?")[0].split("#")[0];if(Bt!==De&&Bt.url!==tn){const Nn=Bt.element;Nn.setAttribute("aria-hidden","true"),Nn.classList.add("ion-page-hidden"),Bt.ref.changeDetectorRef.detach()}})};let or=(()=>{class De{constructor(ee,Ae,gt,Bt,jt,tn,Nn,nn){this.parentOutlet=nn,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new It.X(null),this.activated=null,this._activatedRoute=null,this.name=J.eC,this.stackWillChange=new $.vpe,this.stackDidChange=new $.vpe,this.activateEvents=new $.vpe,this.deactivateEvents=new $.vpe,this.parentContexts=(0,$.f3M)(J.y6),this.location=(0,$.f3M)($.s_b),this.environmentInjector=(0,$.f3M)($.lqb),this.inputBinder=(0,$.f3M)(Hr,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,$.f3M)(Bn),this.navCtrl=(0,$.f3M)(_n),this.nativeEl=Bt.nativeElement,this.name=ee||J.eC,this.tabsPrefix="true"===Ae?pe(jt,Nn):void 0,this.stackCtrl=new xn(this.tabsPrefix,this.nativeEl,jt,this.navCtrl,tn,gt),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(ee){this.nativeEl.animation=ee}set animated(ee){this.nativeEl.animated=ee}set swipeGesture(ee){this._swipeGesture=ee,this.nativeEl.swipeHandler=ee?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Ae=>this.stackCtrl.endBackTransition(Ae)}:void 0}ngOnDestroy(){var ee;this.stackCtrl.destroy(),null===(ee=this.inputBinder)||void 0===ee||ee.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ee=this.getContext();null!=ee&&ee.route&&this.activateWith(ee.route,ee.injector)}new Promise(ee=>(0,je.c)(this.nativeEl,ee)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ee,Ae){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Ae=this.getContext();this.activatedView.savedData=new Map(Ae.children.contexts);const gt=this.activatedView.savedData.get("primary");if(gt&&Ae.route&&(gt.route={...Ae.route}),this.activatedView.savedExtras={},Ae.route){const Bt=Ae.route.snapshot;this.activatedView.savedExtras.queryParams=Bt.queryParams,this.activatedView.savedExtras.fragment=Bt.fragment}}const ee=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ee)}}activateWith(ee,Ae){var gt;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ee;let Bt,jt=this.stackCtrl.getExistingView(ee);if(jt){Bt=this.activated=jt.ref;const nn=jt.savedData;nn&&(this.getContext().children.contexts=nn),this.updateActivatedRouteProxy(Bt.instance,ee)}else{var tn;const nn=ee._futureSnapshot,dr=this.parentContexts.getOrCreateContext(this.name).children,z=new It.X(null),ie=this.createActivatedRouteProxy(z,ee),ze=new Ei(ie,dr,this.location.injector),it=null!==(tn=nn.routeConfig.component)&&void 0!==tn?tn:nn.component;Bt=this.activated=this.location.createComponent(it,{index:this.location.length,injector:ze,environmentInjector:null!=Ae?Ae:this.environmentInjector}),z.next(Bt.instance),jt=this.stackCtrl.createView(this.activated,ee),this.proxyMap.set(Bt.instance,ie),this.currentActivatedRoute$.next({component:Bt.instance,activatedRoute:ee})}null===(gt=this.inputBinder)||void 0===gt||gt.bindActivatedRouteToOutletComponent(this),this.activatedView=jt,this.navCtrl.setTopOutlet(this);const Nn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:jt,tabSwitch:ct(jt,Nn)}),this.stackCtrl.setActive(jt).then(nn=>{this.activateEvents.emit(Bt.instance),this.stackDidChange.emit(nn)})}canGoBack(ee=1,Ae){return this.stackCtrl.canGoBack(ee,Ae)}pop(ee=1,Ae){return this.stackCtrl.pop(ee,Ae)}getLastUrl(ee){const Ae=this.stackCtrl.getLastUrl(ee);return Ae?Ae.url:void 0}getLastRouteView(ee){return this.stackCtrl.getLastUrl(ee)}getRootView(ee){return this.stackCtrl.getRootUrl(ee)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ee,Ae){const gt=new J.gz;return gt._futureSnapshot=Ae._futureSnapshot,gt._routerState=Ae._routerState,gt.snapshot=Ae.snapshot,gt.outlet=Ae.outlet,gt.component=Ae.component,gt._paramMap=this.proxyObservable(ee,"paramMap"),gt._queryParamMap=this.proxyObservable(ee,"queryParamMap"),gt.url=this.proxyObservable(ee,"url"),gt.params=this.proxyObservable(ee,"params"),gt.queryParams=this.proxyObservable(ee,"queryParams"),gt.fragment=this.proxyObservable(ee,"fragment"),gt.data=this.proxyObservable(ee,"data"),gt}proxyObservable(ee,Ae){return ee.pipe((0,ln.h)(gt=>!!gt),(0,Kt.w)(gt=>this.currentActivatedRoute$.pipe((0,ln.h)(Bt=>null!==Bt&&Bt.component===gt),(0,Kt.w)(Bt=>Bt&&Bt.activatedRoute[Ae]),(0,Rt.x)())))}updateActivatedRouteProxy(ee,Ae){const gt=this.proxyMap.get(ee);if(!gt)throw new Error("Could not find activated route proxy for view");gt._futureSnapshot=Ae._futureSnapshot,gt._routerState=Ae._routerState,gt.snapshot=Ae.snapshot,gt.outlet=Ae.outlet,gt.component=Ae.component,this.currentActivatedRoute$.next({component:ee,activatedRoute:Ae})}}return De.\u0275fac=function(ee){return new(ee||De)($.$8M("name"),$.$8M("tabs"),$.Y36(de.Ye),$.Y36($.SBq),$.Y36(J.F0),$.Y36($.R0b),$.Y36(J.gz),$.Y36(De,12))},De.\u0275dir=$.lG2({type:De,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),De})();class Ei{constructor(Ne,ee,Ae){this.route=Ne,this.childContexts=ee,this.parent=Ae}get(Ne,ee){return Ne===J.gz?this.route:Ne===J.y6?this.childContexts:this.parent.get(Ne,ee)}}const Hr=new $.OlP("");let Hi=(()=>{class De{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(ee){this.unsubscribeFromRouteData(ee),this.subscribeToRouteData(ee)}unsubscribeFromRouteData(ee){var Ae;null===(Ae=this.outletDataSubscriptions.get(ee))||void 0===Ae||Ae.unsubscribe(),this.outletDataSubscriptions.delete(ee)}subscribeToRouteData(ee){const{activatedRoute:Ae}=ee,gt=(0,Pt.a)([Ae.queryParams,Ae.params,Ae.data]).pipe((0,Kt.w)(([Bt,jt,tn],Nn)=>(tn={...Bt,...jt,...tn},0===Nn?(0,Mt.of)(tn):Promise.resolve(tn)))).subscribe(Bt=>{if(!ee.isActivated||!ee.activatedComponentRef||ee.activatedRoute!==Ae||null===Ae.component)return void this.unsubscribeFromRouteData(ee);const jt=(0,$.qFp)(Ae.component);if(jt)for(const{templateName:tn}of jt.inputs)ee.activatedComponentRef.setInput(tn,Bt[tn]);else this.unsubscribeFromRouteData(ee)});this.outletDataSubscriptions.set(ee,gt)}}return De.\u0275fac=function(ee){return new(ee||De)},De.\u0275prov=$.Yz7({token:De,factory:De.\u0275fac}),De})();const St=()=>({provide:Hr,useFactory:ut,deps:[J.F0]});function ut(De){return null!=De&&De.componentInputBindingEnabled?new Hi:null}const Qt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let bn=(()=>{let De=class{constructor(ee,Ae,gt,Bt,jt,tn){this.routerOutlet=ee,this.navCtrl=Ae,this.config=gt,this.r=Bt,this.z=jt,tn.detach(),this.el=this.r.nativeElement}onClick(ee){var Ae;const gt=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Ae=this.routerOutlet)&&void 0!==Ae&&Ae.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ee.preventDefault()):null!=gt&&(this.navCtrl.navigateBack(gt,{animation:this.routerAnimation}),ee.preventDefault())}};return De.\u0275fac=function(ee){return new(ee||De)($.Y36(or,8),$.Y36(_n),$.Y36(Bn),$.Y36($.SBq),$.Y36($.R0b),$.Y36($.sBO))},De.\u0275dir=$.lG2({type:De,hostBindings:function(ee,Ae){1&ee&&$.NdJ("click",function(Bt){return Ae.onClick(Bt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),De=(0,At.gn)([jr({inputs:Qt})],De),De})(),Xn=(()=>{class De{constructor(ee,Ae,gt,Bt,jt){this.locationStrategy=ee,this.navCtrl=Ae,this.elementRef=gt,this.router=Bt,this.routerLink=jt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Ae=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ae}}onClick(ee){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ee.preventDefault()}}return De.\u0275fac=function(ee){return new(ee||De)($.Y36(de.S$),$.Y36(_n),$.Y36($.SBq),$.Y36(J.F0),$.Y36(J.rH,8))},De.\u0275dir=$.lG2({type:De,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ee,Ae){1&ee&&$.NdJ("click",function(Bt){return Ae.onClick(Bt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.TTD]}),De})(),Yn=(()=>{class De{constructor(ee,Ae,gt,Bt,jt){this.locationStrategy=ee,this.navCtrl=Ae,this.elementRef=gt,this.router=Bt,this.routerLink=jt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ee;if(null!==(ee=this.routerLink)&&void 0!==ee&&ee.urlTree){const Ae=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ae}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return De.\u0275fac=function(ee){return new(ee||De)($.Y36(de.S$),$.Y36(_n),$.Y36($.SBq),$.Y36(J.F0),$.Y36(J.rH,8))},De.\u0275dir=$.lG2({type:De,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ee,Ae){1&ee&&$.NdJ("click",function(){return Ae.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.TTD]}),De})();const kn=["animated","animation","root","rootParams","swipeGesture"],Xr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let dt=(()=>{let De=class{constructor(ee,Ae,gt,Bt,jt,tn){this.z=jt,tn.detach(),this.el=ee.nativeElement,ee.nativeElement.delegate=Bt.create(Ae,gt),Nr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return De.\u0275fac=function(ee){return new(ee||De)($.Y36($.SBq),$.Y36($.lqb),$.Y36($.zs3),$.Y36(Lr),$.Y36($.R0b),$.Y36($.sBO))},De.\u0275dir=$.lG2({type:De,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),De=(0,At.gn)([jr({inputs:kn,methods:Xr})],De),De})(),He=(()=>{class De{constructor(ee){this.navCtrl=ee,this.ionTabsWillChange=new $.vpe,this.ionTabsDidChange=new $.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ee,tabSwitch:Ae}){const gt=ee.stackId;Ae&&void 0!==gt&&this.ionTabsWillChange.emit({tab:gt})}onStackDidChange({enteringView:ee,tabSwitch:Ae}){const gt=ee.stackId;Ae&&void 0!==gt&&(this.tabBar&&(this.tabBar.selectedTab=gt),this.ionTabsDidChange.emit({tab:gt}))}select(ee){const Ae="string"==typeof ee,gt=Ae?ee:ee.detail.tab,Bt=this.outlet.getActiveStackId()===gt,jt=`${this.outlet.tabsPrefix}/${gt}`;if(Ae||ee.stopPropagation(),Bt){const tn=this.outlet.getActiveStackId(),Nn=this.outlet.getLastRouteView(tn);if((null==Nn?void 0:Nn.url)===jt)return;const nn=this.outlet.getRootView(gt);return this.navCtrl.navigateRoot(jt,{...nn&&jt===nn.url&&nn.savedExtras,animated:!0,animationDirection:"back"})}{const tn=this.outlet.getLastRouteView(gt);return this.navCtrl.navigateRoot((null==tn?void 0:tn.url)||jt,{...null==tn?void 0:tn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ee=>{const Ae=ee.el.getAttribute("slot");Ae!==this.tabBarSlot&&(this.tabBarSlot=Ae,this.relocateTabBar())})}relocateTabBar(){const ee=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ee):this.tabsInner.nativeElement.after(ee)}}return De.\u0275fac=function(ee){return new(ee||De)($.Y36(_n))},De.\u0275dir=$.lG2({type:De,selectors:[["ion-tabs"]],viewQuery:function(ee,Ae){if(1&ee&&$.Gf(Ht,7,$.SBq),2&ee){let gt;$.iGM(gt=$.CRH())&&(Ae.tabsInner=gt.first)}},hostBindings:function(ee,Ae){1&ee&&$.NdJ("ionTabButtonClick",function(Bt){return Ae.select(Bt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),De})();const Tt=De=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(De):"function"==typeof requestAnimationFrame?requestAnimationFrame(De):setTimeout(De);let vt=(()=>{class De{constructor(ee,Ae){this.injector=ee,this.elementRef=Ae,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(ee){this.elementRef.nativeElement.value=this.lastValue=ee,Ut(this.elementRef)}handleValueChange(ee,Ae){ee===this.elementRef.nativeElement&&(Ae!==this.lastValue&&(this.lastValue=Ae,this.onChange(Ae)),Ut(this.elementRef))}_handleBlurEvent(ee){ee===this.elementRef.nativeElement&&(this.onTouched(),Ut(this.elementRef))}registerOnChange(ee){this.onChange=ee}registerOnTouched(ee){this.onTouched=ee}setDisabledState(ee){this.elementRef.nativeElement.disabled=ee}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ee;try{ee=this.injector.get(Nt.a5)}catch{}if(!ee)return;ee.statusChanges&&(this.statusChanges=ee.statusChanges.subscribe(()=>Ut(this.elementRef)));const Ae=ee.control;Ae&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Bt=>{if(typeof Ae[Bt]<"u"){const jt=Ae[Bt].bind(Ae);Ae[Bt]=(...tn)=>{jt(...tn),Ut(this.elementRef)}}})}}return De.\u0275fac=function(ee){return new(ee||De)($.Y36($.zs3),$.Y36($.SBq))},De.\u0275dir=$.lG2({type:De,hostBindings:function(ee,Ae){1&ee&&$.NdJ("ionBlur",function(Bt){return Ae._handleBlurEvent(Bt.target)})}}),De})();const Ut=De=>{Tt(()=>{const Ne=De.nativeElement,ee=null!=Ne.value&&Ne.value.toString().length>0,Ae=Yt(Ne);Cn(Ne,Ae);const gt=Ne.closest("ion-item");gt&&Cn(gt,ee?[...Ae,"item-has-value"]:Ae)})},Yt=De=>{const Ne=De.classList,ee=[];for(let Ae=0;Ae<Ne.length;Ae++){const gt=Ne.item(Ae);null!==gt&&fn(gt,"ng-")&&ee.push(`ion-${gt.substring(3)}`)}return ee},Cn=(De,Ne)=>{const ee=De.classList;ee.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),ee.add(...Ne)},fn=(De,Ne)=>De.substring(0,Ne.length)===Ne;class Rn{shouldDetach(Ne){return!1}shouldAttach(Ne){return!1}store(Ne,ee){}retrieve(Ne){return null}shouldReuseRoute(Ne,ee){if(Ne.routeConfig!==ee.routeConfig)return!1;const Ae=Ne.params,gt=ee.params,Bt=Object.keys(Ae),jt=Object.keys(gt);if(Bt.length!==jt.length)return!1;for(const tn of Bt)if(gt[tn]!==Ae[tn])return!1;return!0}}class mn{constructor(Ne){this.ctrl=Ne}create(Ne){return this.ctrl.create(Ne||{})}dismiss(Ne,ee,Ae){return this.ctrl.dismiss(Ne,ee,Ae)}getTop(){return this.ctrl.getTop()}}},8602:(un,ft,N)=>{"use strict";N.d(ft,{dr:()=>Qe,BJ:()=>se,oU:()=>Tt,yp:()=>Z,YG:()=>$e,Sm:()=>We,PM:()=>It,FN:()=>Pt,Zi:()=>Mt,tO:()=>At,Dq:()=>ln,wI:()=>Nt,W2:()=>Ht,jY:()=>_n,Gu:()=>ti,gu:()=>Jn,Xz:()=>lr,pK:()=>$r,Ie:()=>vn,Q$:()=>tr,q_:()=>Ar,z0:()=>Ti,fG:()=>Nr,zc:()=>jr,jP:()=>dt,Nd:()=>Ot,VI:()=>Wt,CK:()=>or,jI:()=>Hr,yq:()=>Hi,ZU:()=>St,UN:()=>He,wd:()=>Xn,sr:()=>Xr,Pc:()=>xt,YI:()=>Ut,j9:()=>pt});var d=N(9212),$=N(95),J=N(5472),de=N(7582),Oe=N(2438),re=N(6814),me=N(2692),qe=N(1450),be=N(5349);const Je=N(3882).i,Ee=["*"],Ke=["outlet"],_t=[[["","slot","top"]],"*"],et=["[slot=top]","*"];let pt=(()=>{class T extends J.bk{constructor(k,te){super(k,te)}_handleInputEvent(k){this.handleValueChange(k,k.value)}}return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.zs3),d.Y36(d.SBq))},T.\u0275dir=d.lG2({type:T,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(k,te){1&k&&d.NdJ("ionInput",function($t){return te._handleInputEvent($t.target)})},features:[d._Bn([{provide:$.JU,useExisting:T,multi:!0}]),d.qOj]}),T})();const _e=(T,Q)=>{const k=T.prototype;Q.forEach(te=>{Object.defineProperty(k,te,{get(){return this.el[te]},set(xe){this.z.runOutsideAngular(()=>this.el[te]=xe)},configurable:!0})})},Se=(T,Q)=>{const k=T.prototype;Q.forEach(te=>{k[te]=function(){const xe=arguments;return this.z.runOutsideAngular(()=>this.el[te].apply(this.el,xe))}})},he=(T,Q,k)=>{k.forEach(te=>T[te]=(0,Oe.R)(Q,te))};function Ue(T){return function(k){const{defineCustomElementFn:te,inputs:xe,methods:$t}=T;return void 0!==te&&te(),xe&&_e(k,xe),$t&&Se(k,$t),k}}let Qe=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-app"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({})],T),T})(),se=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-avatar"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({})],T),T})(),Z=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode"]})],T),T})(),$e=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionFocus","ionBlur"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],T),T})(),We=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["collapse"]})],T),T})(),It=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],T),T})(),Pt=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["mode"]})],T),T})(),Mt=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode","translucent"]})],T),T})(),At=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode"]})],T),T})(),ln=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode"]})],T),T})(),Nt=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],T),T})(),Ht=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],T),T})(),_n=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["fixed"]})],T),T})(),ti=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["collapse","mode","translucent"]})],T),T})(),Jn=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],T),T})(),lr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["alt","src"]})],T),T})(),$r=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),vn=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],T),T})(),tr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode","position"]})],T),T})(),Ar=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],T),T})(),Ti=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],T),T})(),Nr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["autoHide","color","disabled","menu","mode","type"]})],T),T})(),jr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["autoHide","menu"]})],T),T})(),Ot=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-row"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({})],T),T})(),Wt=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],T),T})(),or=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["animated"]})],T),T})(),Hr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement,he(this,this.el,["ionSplitPaneVisible"])}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["contentId","disabled","when"]})],T),T})(),Hi=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode","selectedTab","translucent"]})],T),T})(),St=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],T),T})(),Xn=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","size"]})],T),T})(),Xr=(()=>{let T=class{constructor(k,te,xe){this.z=xe,k.detach(),this.el=te.nativeElement}};return T.\u0275fac=function(k){return new(k||T)(d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(d.R0b))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T=(0,de.gn)([Ue({inputs:["color","mode"]})],T),T})(),dt=(()=>{class T extends J.jP{constructor(k,te,xe,$t,Vn,nr,_r,li){super(k,te,xe,$t,Vn,nr,_r,li),this.parentOutlet=li}}return T.\u0275fac=function(k){return new(k||T)(d.$8M("name"),d.$8M("tabs"),d.Y36(re.Ye),d.Y36(d.SBq),d.Y36(me.F0),d.Y36(d.R0b),d.Y36(me.gz),d.Y36(T,12))},T.\u0275dir=d.lG2({type:T,selectors:[["ion-router-outlet"]],features:[d.qOj]}),T})(),He=(()=>{class T extends J.UN{}return T.\u0275fac=(()=>{let Q;return function(te){return(Q||(Q=d.n5z(T)))(te||T)}})(),T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-tabs"]],contentQueries:function(k,te,xe){if(1&k&&(d.Suo(xe,Hi,5),d.Suo(xe,Hi,4)),2&k){let $t;d.iGM($t=d.CRH())&&(te.tabBar=$t.first),d.iGM($t=d.CRH())&&(te.tabBars=$t)}},viewQuery:function(k,te){if(1&k&&d.Gf(Ke,5,dt),2&k){let xe;d.iGM(xe=d.CRH())&&(te.outlet=xe.first)}},features:[d.qOj],ngContentSelectors:et,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(k,te){1&k&&(d.F$t(_t),d.Hsn(0),d.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),d.NdJ("stackWillChange",function($t){return te.onStackWillChange($t)})("stackDidChange",function($t){return te.onStackDidChange($t)}),d.qZA()(),d.Hsn(5,1))},dependencies:[dt],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),T})(),Tt=(()=>{class T extends J.oU{constructor(k,te,xe,$t,Vn,nr){super(k,te,xe,$t,Vn,nr)}}return T.\u0275fac=function(k){return new(k||T)(d.Y36(dt,8),d.Y36(J.SH),d.Y36(J.De),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO))},T.\u0275cmp=d.Xpm({type:T,selectors:[["ion-back-button"]],features:[d.qOj],ngContentSelectors:Ee,decls:1,vars:0,template:function(k,te){1&k&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),T})(),Ut=(()=>{class T extends J.j{}return T.\u0275fac=(()=>{let Q;return function(te){return(Q||(Q=d.n5z(T)))(te||T)}})(),T.\u0275dir=d.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],features:[d.qOj]}),T})();const Rn={provide:$.Cf,useExisting:(0,d.Gpc)(()=>mn),multi:!0};let mn=(()=>{class T extends $.Fd{}return T.\u0275fac=(()=>{let Q;return function(te){return(Q||(Q=d.n5z(T)))(te||T)}})(),T.\u0275dir=d.lG2({type:T,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(k,te){2&k&&d.uIk("max",te._enabled?te.max:null)},features:[d._Bn([Rn]),d.qOj]}),T})();const De={provide:$.Cf,useExisting:(0,d.Gpc)(()=>Ne),multi:!0};let Ne=(()=>{class T extends $.qQ{}return T.\u0275fac=(()=>{let Q;return function(te){return(Q||(Q=d.n5z(T)))(te||T)}})(),T.\u0275dir=d.lG2({type:T,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(k,te){2&k&&d.uIk("min",te._enabled?te.min:null)},features:[d._Bn([De]),d.qOj]}),T})(),Nn=(()=>{class T extends J.xs{constructor(){super(qe.Fy),this.angularDelegate=(0,d.f3M)(J.y4),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(k){return super.create({...k,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return T.\u0275fac=function(k){return new(k||T)},T.\u0275prov=d.Yz7({token:T,factory:T.\u0275fac}),T})();class dr extends J.xs{constructor(){super(qe.oq),this.angularDelegate=(0,d.f3M)(J.y4),this.injector=(0,d.f3M)(d.zs3),this.environmentInjector=(0,d.f3M)(d.lqb)}create(Q){return super.create({...Q,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ie=(T,Q,k)=>()=>{if(Q.defaultView&&typeof window<"u"){(0,qe.qc)({...T,_zoneGate:$t=>k.run($t)});const xe="__zone_symbol__addEventListener"in Q.body?"__zone_symbol__addEventListener":"addEventListener";return function Ze(){var T=[];if(typeof window<"u"){var Q=window;(!Q.customElements||Q.Element&&(!Q.Element.prototype.closest||!Q.Element.prototype.matches||!Q.Element.prototype.remove||!Q.Element.prototype.getRootNode))&&T.push(N.e(6748).then(N.t.bind(N,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Q.NodeList&&!Q.NodeList.prototype.forEach||!Q.fetch||!function(){try{var te=new URL("b","http://a");return te.pathname="c%20d","http://a/c%20d"===te.href&&te.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&T.push(N.e(2214).then(N.t.bind(N,2668,23)))}return Promise.all(T)}().then(()=>((T,Q)=>{if(!(typeof window>"u"))return Je(),(0,be.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),Q)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:J.Wn,jmp:$t=>k.runOutsideAngular($t),ael($t,Vn,nr,_r){$t[xe](Vn,nr,_r)},rel($t,Vn,nr,_r){$t.removeEventListener(Vn,nr,_r)}}))}};let xt=(()=>{class T{static forRoot(k){return{ngModule:T,providers:[{provide:J.dy,useValue:k},{provide:d.ip1,useFactory:ie,multi:!0,deps:[J.dy,re.K0,d.R0b]},(0,J.DN)()]}}}return T.\u0275fac=function(k){return new(k||T)},T.\u0275mod=d.oAB({type:T}),T.\u0275inj=d.cJS({providers:[J.y4,Nn,dr],imports:[re.ez]}),T})()},5861:(un,ft,N)=>{"use strict";function d(J,de,Oe,re,me,qe,Ze){try{var be=J[qe](Ze),Te=be.value}catch(Je){return void Oe(Je)}be.done?de(Te):Promise.resolve(Te).then(re,me)}function $(J){return function(){var de=this,Oe=arguments;return new Promise(function(re,me){var qe=J.apply(de,Oe);function Ze(Te){d(qe,re,me,Ze,be,"next",Te)}function be(Te){d(qe,re,me,Ze,be,"throw",Te)}Ze(void 0)})}}N.d(ft,{Z:()=>$})},1180:(un,ft,N)=>{"use strict";function d(Oe){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})(Oe)}function de(Oe,re,me){return(re=function J(Oe){var re=function $(Oe,re){if("object"!==d(Oe)||null===Oe)return Oe;var me=Oe[Symbol.toPrimitive];if(void 0!==me){var qe=me.call(Oe,re||"default");if("object"!==d(qe))return qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===re?String:Number)(Oe)}(Oe,"string");return"symbol"===d(re)?re:String(re)}(re))in Oe?Object.defineProperty(Oe,re,{value:me,enumerable:!0,configurable:!0,writable:!0}):Oe[re]=me,Oe}N.d(ft,{Z:()=>de})},7582:(un,ft,N)=>{"use strict";N.d(ft,{FC:()=>Be,KL:()=>pt,ZT:()=>$,_T:()=>de,gn:()=>Oe,mG:()=>Je,qq:()=>Ce});var d=function(x,Z){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,je){ce.__proto__=je}||function(ce,je){for(var $e in je)Object.prototype.hasOwnProperty.call(je,$e)&&(ce[$e]=je[$e])})(x,Z)};function $(x,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function ce(){this.constructor=x}d(x,Z),x.prototype=null===Z?Object.create(Z):(ce.prototype=Z.prototype,new ce)}function de(x,Z){var ce={};for(var je in x)Object.prototype.hasOwnProperty.call(x,je)&&Z.indexOf(je)<0&&(ce[je]=x[je]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(je=Object.getOwnPropertySymbols(x);$e<je.length;$e++)Z.indexOf(je[$e])<0&&Object.prototype.propertyIsEnumerable.call(x,je[$e])&&(ce[je[$e]]=x[je[$e]])}return ce}function Oe(x,Z,ce,je){var It,$e=arguments.length,We=$e<3?Z:null===je?je=Object.getOwnPropertyDescriptor(Z,ce):je;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)We=Reflect.decorate(x,Z,ce,je);else for(var Pt=x.length-1;Pt>=0;Pt--)(It=x[Pt])&&(We=($e<3?It(We):$e>3?It(Z,ce,We):It(Z,ce))||We);return $e>3&&We&&Object.defineProperty(Z,ce,We),We}function Je(x,Z,ce,je){return new(ce||(ce=Promise))(function(We,It){function Pt(ln){try{At(je.next(ln))}catch(Kt){It(Kt)}}function Mt(ln){try{At(je.throw(ln))}catch(Kt){It(Kt)}}function At(ln){ln.done?We(ln.value):function $e(We){return We instanceof ce?We:new ce(function(It){It(We)})}(ln.value).then(Pt,Mt)}At((je=je.apply(x,Z||[])).next())})}function Ce(x){return this instanceof Ce?(this.v=x,this):new Ce(x)}function Be(x,Z,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,je=ce.apply(x,Z||[]),We=[];return $e={},It("next"),It("throw"),It("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function It(Rt){je[Rt]&&($e[Rt]=function(Nt){return new Promise(function(Ht,Jt){We.push([Rt,Nt,Ht,Jt])>1||Pt(Rt,Nt)})})}function Pt(Rt,Nt){try{!function Mt(Rt){Rt.value instanceof Ce?Promise.resolve(Rt.value.v).then(At,ln):Kt(We[0][2],Rt)}(je[Rt](Nt))}catch(Ht){Kt(We[0][3],Ht)}}function At(Rt){Pt("next",Rt)}function ln(Rt){Pt("throw",Rt)}function Kt(Rt,Nt){Rt(Nt),We.shift(),We.length&&Pt(We[0][0],We[0][1])}}function pt(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,Z=x[Symbol.asyncIterator];return Z?Z.call(x):(x=function _t(x){var Z="function"==typeof Symbol&&Symbol.iterator,ce=Z&&x[Z],je=0;if(ce)return ce.call(x);if(x&&"number"==typeof x.length)return{next:function(){return x&&je>=x.length&&(x=void 0),{value:x&&x[je++],done:!x}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}(x),ce={},je("next"),je("throw"),je("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function je(We){ce[We]=x[We]&&function(It){return new Promise(function(Pt,Mt){!function $e(We,It,Pt,Mt){Promise.resolve(Mt).then(function(At){We({value:At,done:Pt})},It)}(Pt,Mt,(It=x[We](It)).done,It.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},un=>{un(un.s=7834)}]);